(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1011:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),i=a.n(l),o=(a(591),a(107)),s=a(84),c=a(507),m=a(56),d={packs:[],pack:[],updatedPack:null},u=Object(s.c)({packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET PACK LOADED":return Object(m.a)({},e,{packs:t.payload});case"EDIT PACK INFO":return Object(m.a)({},e,{updatedPack:t.payload});case"GET_PACK_INFO_BY_ID":return Object(m.a)({},e,{pack:t.payload});default:return e}}}),p=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,g=Object(s.e)(u,p(Object(s.a)(c.a))),h=(a(597),a(179)),y=a(148),f=a(4),E=a(13),b=a(12),v=a(18),D=a(17),S=a(8),x=a(19),O=a(86),k=a(283),C=a(349),j=a(11),w=a.n(j),I=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"getLoggedInUserInfo",value:function(){localStorage.getItem("UserInfo")}},{key:"getHeader",value:function(){return{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}}}]),e}()),T="http://125.17.6.6/ams/api/v1/",R=T+"store/portal/products",P=T+"store/portal/stores",N=T+"store",B="https://retailer.airtel.lk/SLRetailer/";"retailer.airtel.lk"==window.location.hostname&&(B="https://retailer.airtel.lk/SLRetailer/"),"retailer.srilanka.airtel.itm"==window.location.hostname&&(B="http://retailer.srilanka.airtel.itm:5443/SLRetailer/"),"125.16.74.160"!=window.location.hostname&&"localhost"!=window.location.hostname||(B="http://125.16.74.160:30611/SLRetailerIPACS/");var A=B+"reports/",F=B+"auth/portaLogin",M=B+"user/logout",L=B+"recharges/getPrepaidPacks",_=B+"createCAF/prepaidAcqTxns",U=B+"recharges/uploadPrepaidPack",z=B+"recharges/uploadRechargeImage",W=B+"recharges",H=B+"banner/getBanner/portal",q=B+"banner/uploadBanner",Z=B+"banner/updateBanner",V=B+"recharges/uploadRechargeImage",G=B+"banner/getBannerById/portal",J=B+"createCAF/prepaidAcqTxnData",K=B+"cms/data",Y=B+"createCAF/saveVerificationDetails",X=B+"createCAF/prepaidAcqTxnData?role=BOA",$=B+"createCAF/prepaidAcqTxnData?role=DE",Q=B+"createCAF/saveDataEntryDetails",ee=B+"createCAF/submitPreActivation",te=B+"createCAF/imageUpload",ae=B+"cms/unlockSelection",ne=B+"agent/add",re=B+"agent/delete",le=B+"agent/retrieve",ie=B+"commomService/getSMSParameters",oe=B+"bestoffers/upload",se=B+"bestoffers/download",ce=B+"roles/all",me=B+"roles/",de=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"login",value:function(e,t){return w.a.post(F,e,"")}},{key:"logout",value:function(){return w.a.get(M,I.getHeader())}},{key:"fetchStoreById",value:function(e){return w.a.get(P+"/"+e,I.getHeader())}},{key:"listStore",value:function(){return w.a.get(P+"?onlyActive=false",I.getHeader())}},{key:"updateStore",value:function(e){return w.a.post(""+P,e,I.getHeader())}},{key:"markAttendance",value:function(e){return w.a.post(N+"/cro/attendance",e,I.getHeader())}},{key:"save",value:function(e){return w.a.post(""+P,e,I.getHeader())}},{key:"listCircles",value:function(){return w.a.get("http://125.17.6.6/ams/api/v1/store/circles/portal?onlyActive=true",I.getHeader())}}]),e}()),ue=a(1047),pe=a(348),ge=a(180),he=a.n(ge),ye={flexGrow:1},fe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{position:"static"},r.a.createElement(pe.a,null,r.a.createElement("img",{style:{width:"100px"},src:he.a}),r.a.createElement("div",{style:{width:"300px"}},r.a.createElement(O.a,{variant:"h6",style:ye},"\xa0\xa0  SL MITRA Retailer Portal")))))},Ee=a(1048),be=a(191),ve=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"showError",value:function(e){be.b.error(e,this.options())}},{key:"showSuccess",value:function(e){be.b.success(e,this.options())}},{key:"showWarning",value:function(e){be.b.warn(e,this.options())}},{key:"options",value:function(){return{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}}}]),e}());function De(e,t){var a={};return 200===e.status&&(console.log(e,"RESPONSE@@@@@@@@@@@"),200!==(a=e.data).status&&201!==a.status)?400===a.status||401===a.status||403===a.status?(localStorage.clear(),Promise.reject(window.location.replace("/#/login"))):(console.log(a.message,"XXXX"),ve.showError(a.message),Promise.reject(a.message)):a}var Se=a(1053),xe=a(501),Oe=(a(616),a(510)),ke=a.n(Oe),Ce=(a(721),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value.trim()))},a.login=function(e){if(e.preventDefault(),a.state.userName&&a.state.password){a.setState({isDasable:!0});var t=Math.floor(1e16*Math.random()),n=(69*t-99).toString();n=n.substring(0,15);var r=ke.a.AES.encrypt(a.state.password,n).toString(),l={userName:a.state.userName,password:r+t};de.login(l).then(function(e){a.setState({isError:e.data.message}),console.log("resolveResponse",t);var t=e.data;a.setState({isDasable:!1}),t.result&&(window.localStorage.setItem("userDetails",JSON.stringify(t.result)),window.localStorage.setItem("token",t.result.token)),t.result&&"BOA"==t.result.roleCode&&a.props.history.push("/verify"),t.result&&"DE"==t.result.roleCode&&a.props.history.push("/dataentry"),t.result&&"ADMIN"==t.result.roleCode&&a.props.history.push("/welcome"),(t.result&&"DIST"==t.result.roleCode||t.result&&"FSE"==t.result.roleCode)&&a.props.history.push("/distributor")})}else a.setState({isError:"Olms Id and password is required."})},a.state={userName:"",password:"",isDasable:!1,isError:!1},a.login=a.login.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ee.a,{maxWidth:"sm"},r.a.createElement(O.a,{variant:"h4",style:je.label},"Login"),r.a.createElement("form",{style:je.formStyle},r.a.createElement(k.a,{type:"text",required:!0,label:"Olms Id",fullWidth:!0,margin:"normal",name:"userName",value:this.state.userName,onChange:this.onChange}),r.a.createElement(k.a,{type:"password",required:!0,label:"Password",fullWidth:!0,margin:"normal",name:"password",value:this.state.password,onChange:this.onChange}),r.a.createElement(Se.a,{item:!0,xs:12,sm:2},r.a.createElement(C.a,{disabled:this.state.isDasable,variant:"contained",color:"primary",onClick:this.login},"Login")),r.a.createElement(Se.a,{item:!0,xs:12,sm:10},this.state.isDasable?r.a.createElement(xe.a,{variant:"subtitle1",style:je.waitMessage}," Please wait..."):"",this.state.isError?r.a.createElement(xe.a,{variant:"subtitle1",style:je.errorMessage}," ",this.state.isError," "):""))))}},{key:"componentDidMount",value:function(){if(window.localStorage.getItem("token")){var e=localStorage.getItem("lastUrl");this.props.history.push("/"+e)}}}]),t}(r.a.Component)),je={formStyle:{display:"flex",flexFlow:"row wrap"},label:{display:"flex",justifyContent:"center"},errorMessage:{color:"red",marginTop:"11px"},waitMessage:{color:"gray",marginTop:"11px"}},we=Ce,Ie=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"getStaticData",value:function(e){return w.a.get(K+"?role="+e,I.getHeader())}},{key:"getListOfRoles",value:function(){return w.a.get(ce,I.getHeader())}},{key:"getRoleDetails",value:function(e){return w.a.get(me+e,I.getHeader())}},{key:"downlaodAllOfferData",value:function(){return w.a.get(se,I.getHeader())}},{key:"uploadRetailer",value:function(e){return w.a.post(ne,e,I.getHeader())}},{key:"uploadOffer",value:function(e){return w.a.post(oe,e,I.getHeader())}},{key:"deleteRetailer",value:function(e){return w.a.post(re,e,I.getHeader())}},{key:"searchRetailer",value:function(e){return w.a.get(le+"?laId="+e,I.getHeader())}},{key:"sentReportToEmail",value:function(e,t){return w.a.post(A+t,e,I.getHeader())}}]),e}()),Te=a(430),Re=a(423),Pe=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"listDocs",value:function(e){return w.a.post(_,e,I.getHeader())}},{key:"getListOfRoles",value:function(){return w.a.get(ce,I.getHeader())}},{key:"listActiveProduct",value:function(){return w.a.get(R,I.getHeader())}},{key:"getOneVerify",value:function(e){return w.a.get(X+"&txnId="+e,I.getHeader())}},{key:"getOneDataEntry",value:function(e){return w.a.get($+"&txnId="+e,I.getHeader())}},{key:"saveDataEntry",value:function(e){return w.a.post(Q,e,I.getHeader())}},{key:"unlockTransectionsSkip",value:function(e){return w.a.post(ae,e,I.getHeader())}},{key:"getStaticData",value:function(e){return w.a.get(K+"?role="+e,I.getHeader())}},{key:"approveDocs",value:function(e){return w.a.post(Y,e,I.getHeader())}},{key:"searchMobileNo",value:function(e){return w.a.get(J+"?role=DE&mobileNumber="+e,I.getHeader())}},{key:"deleteProduct",value:function(e){return w.a.delete(R+"/"+e,I.getHeader())}},{key:"searchDistributer",value:function(e){return w.a.post(ee+"?mobileNumber="+e.mobileNumber+"&simNumber="+e.simNumber,e,I.getHeader())}},{key:"uploadDistrubuter",value:function(e){return w.a.post(te,e,I.getHeader())}},{key:"upload",value:function(e){return w.a.post(N+"/resource/upload",e,I.getHeader())}},{key:"testApi",value:function(e){return w.a.post(ie,e,I.getHeader())}}]),e}());function Ne(e){return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var Be=a(28),Ae=a(3),Fe=a(94),Me=a(37),Le=a(1073),_e=a(1055),Ue=a(1052),ze=a(1057),We=a(192),He=a(266),qe=a.n(He),Ze=a(267),Ve=a.n(Ze),Ge=a(518),Je=a.n(Ge),Ke=a(1017),Ye=a(1054),Xe=a(425),$e=a(362),Qe=a.n($e),et=a(514),tt=a.n(et),at=a(361),nt=a.n(at),rt=a(513),lt=a.n(rt),it=a(517),ot=a.n(it),st=a(183),ct=a.n(st),mt=a(515),dt=a.n(mt),ut=a(512),pt=a.n(ut),gt=r.a.createElement("div",null,r.a.createElement(Ke.a,{component:"a",href:"/#/verify",button:!0},r.a.createElement(Ye.a,null,r.a.createElement(pt.a,null)),r.a.createElement(Xe.a,{primary:"Verify Docs"}))),ht=r.a.createElement("div",null,r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/welcome"},r.a.createElement(Ye.a,null,r.a.createElement(nt.a,null)),r.a.createElement(Xe.a,{primary:"Welcome"})),r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/packs"},r.a.createElement(Ye.a,null,r.a.createElement(nt.a,null)),r.a.createElement(Xe.a,{primary:"Pack Activation"})),r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/offerupload"},r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(Xe.a,{primary:"Offer Upload"})),r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/banners"},r.a.createElement(Ye.a,null,r.a.createElement(lt.a,null)),r.a.createElement(Xe.a,{primary:"Upload Banner"})),r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/backoffice"},r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(Xe.a,{primary:"BO Agent"})),r.a.createElement(Ke.a,{button:!0,component:"a",href:"/#/report"},r.a.createElement(Ye.a,null,r.a.createElement(tt.a,null)),r.a.createElement(Xe.a,{primary:"Reports"}))),yt=r.a.createElement("div",null,r.a.createElement(Ke.a,{component:"a",href:"/#/distributor",button:!0},r.a.createElement(Ye.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Xe.a,{primary:"Upload Document"}))),ft=r.a.createElement("div",null,r.a.createElement(Ke.a,{component:"a",href:"/#/dataentry",button:!0},r.a.createElement(Ye.a,null,r.a.createElement(dt.a,null)),r.a.createElement(Xe.a,{primary:"Data Entry"})));var Et=r.a.createElement("div",null,r.a.createElement(h.b,{style:{textDecoration:"none"},onClick:function(){de.logout().then(function(e){localStorage.clear(),window.location.replace("/#/login")})}},r.a.createElement(Ke.a,{button:!0},r.a.createElement(Ye.a,null,r.a.createElement(ot.a,null)),r.a.createElement(Xe.a,{primary:"Logout"})))),bt=Object(Fe.a)(function(e){return{root:{display:"flex"},endMenu:{display:"flex",flexDirection:"row reverse"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(m.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}});function vt(){var e=bt(),t=Object(Me.a)(),a=r.a.useState(!1),n=Object(Be.a)(a,2),l=n[0],i=n[1];var o=localStorage.getItem("userDetails");return o=o&&JSON.parse(o),r.a.createElement("div",{className:e.root},r.a.createElement(_e.a,null),r.a.createElement(ue.a,{position:"fixed",className:Object(Ae.a)(e.appBar,Object(f.a)({},e.appBarShift,l))},r.a.createElement(pe.a,null,r.a.createElement(We.a,{"aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(Ae.a)(e.menuButton,l&&e.hide)},r.a.createElement(qe.a,null)),r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(O.a,{variant:"h6",noWrap:!0},"SL MITRA Retailer Portal")),r.a.createElement(Se.a,{direction:"row",container:!0,alignItems:"flex-end",style:{paddingLeft:"10px",paddingRight:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:10,alignContent:"flex-end",justify:"flex-end"}),r.a.createElement(Se.a,{item:!0,xs:12,sm:2,style:{textAlign:"right"}},r.a.createElement(O.a,{variant:"p",style:{color:"white"},noWrap:!0},o&&o.loginName?o.loginName.toUpperCase():null))))),r.a.createElement(Le.a,{className:e.drawer,variant:"persistent",anchor:"left",open:l,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement("img",{style:{marginRight:"73px",width:"100px"},src:he.a}),r.a.createElement(We.a,{onClick:function(){i(!1)}},"ltr"===t.direction?r.a.createElement(Ve.a,{style:{color:"gray"}}):r.a.createElement(Je.a,{style:{color:"gray"}}))),r.a.createElement(ze.a,null),o&&"ADMIN"==o.roleCode?r.a.createElement(Ue.a,null,ht):null,o&&"BOA"==o.roleCode?r.a.createElement(Ue.a,null,gt):null,o&&"DE"==o.roleCode?r.a.createElement(Ue.a,null,ft):null,o&&"DIST"==o.roleCode?r.a.createElement(Ue.a,null,yt):null,r.a.createElement(ze.a,null),r.a.createElement(Ue.a,null,Et)),r.a.createElement("main",{className:Object(Ae.a)(e.content,Object(f.a)({},e.contentShift,l))},r.a.createElement("div",{className:e.drawerHeader})))}var Dt=a(424),St=a(499),xt=a(213),Ot=a(429),kt=a(98),Ct=a(47),jt=a.n(Ct),wt=a(39),It=a(308);function Tt(e){console.log("startDatestartDate,",e);var t=new Date;t.setHours(0,0,0,0);var a=new Date;a.setHours(23,59,59,59);var n=r.a.useState(t),l=Object(Be.a)(n,2),i=l[0],o=l[1],s=r.a.useState(a),c=Object(Be.a)(s,2),m=c[0],d=c[1];console.log(e);var u=new Date(i),p=u.setMonth(u.getMonth()+6),g=new Date,h=g.setMonth(g.getMonth()-18);return console.log(new Date(h),"back18Month"),i<h&&(i=h),m<i&&(m=p),jt()(".MuiInputBase-inputAdornedEnd").prop("readonly",!0),r.a.createElement(wt.a,{utils:kt.default},r.a.createElement(Se.a,{container:!0,justify:"space-around"},r.a.createElement(It.b,{margin:"normal",disableFuture:"true",allowKeyboardControl:"true",minDate:h,minDateMessage:"Only 18 months back report can be fatch.",id:"date-picker-dialog",label:"Start Date",format:"dd/MM/yyyy",value:i,onChange:function(t){o(t),e.callbackFromParent.myCallback(t,"START_DATE")},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(It.b,{disableFuture:"true",maxDateMessage:"Max allowed date range is 6 months.",minDateMessage:"End date can't be less than start date.",minDate:i,maxDate:p,margin:"normal",id:"date-picker-dialog",label:"End Date",format:"dd/MM/yyyy",value:m,onChange:function(t){console.log(t,"SELECTED_DATE"),d(t),e.callbackFromParent.myCallback(t,"END_DATE")},KeyboardButtonProps:{"aria-label":"change date"}})))}a(725),a(728);var Rt=a(215),Pt={PaperProps:{style:{maxHeight:224,width:250}}},Nt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),e.target.value.includes("Select All")&&(a.setState({selectedZone:a.state.listofzones}),a.setState({selectAllzone:"Remove All"})),e.target.value.includes("Remove All")&&(a.setState({selectedZone:[]}),a.setState({selectAllzone:"Select All"}))},a.onChange=function(e){var t;"zoneWiseDetailedReport"==e.target.value?a.setState({showZoneSelection:!0}):a.setState({showZoneSelection:!1}),a.setState((t={},Object(f.a)(t,e.target.name,e.target.value),Object(f.a)(t,"responseFlag",!1),Object(f.a)(t,"dataEntryData",!1),Object(f.a)(t,"generateReportLoader",!1),t)),a.setState({responseFlagMsg:""})},a.myCallback=function(e,t){"START_DATE"===t?(console.log("date",e),a.setState({startDate:new Date(e).getTime()})):"END_DATE"===t&&a.setState({endDate:new Date(e).getTime()})},a.state={products:"",reporttype:"",startDate:"",endDate:"",emails:"",responseFlag:!1,responseFlagMsg:"",listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All",reportName:"Download Report",generateReportLoader:!1,generateReportMsg:""},a.loadProductList=a.loadProductList.bind(Object(S.a)(a)),a.getReportDetails=a.getReportDetails.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;Pe.getStaticData("ADMIN").then(function(t){var a=De(t);e.setState({listofzones:a.result&&a.result.zones})})}},{key:"loadProductList",value:function(){}},{key:"getReportDetails",value:function(){var e=this,t=new Date;t.setHours(0,0,0,0);var a=new Date;if(a.setHours(23,59,59,59),this.state.startDate||(this.state.startDate=t.getTime()),this.state.endDate||(this.state.endDate=a.getTime()),this.state.reporttype){var n={retrieveType:"BY_SUBMIT_DATE",startDate:this.state.startDate,endDate:this.state.endDate,zones:this.state.selectedZone.length?this.state.selectedZone:null},r=this.state.reporttype;this.setState({responseFlag:!1,responseFlagMsg:"",dataEntryData:!1,reportName:"Download Report",generateReportLoader:!0,generateReportMsg:"Genrating report please wait..."}),Ie.sentReportToEmail(n,r).then(function(t){var a=De(t);"agentStatusReport"==r&&a.result?(a.result&&a.result.verifications&&e.setState({products:a.result.verifications,responseFlag:!0,reportName:"Verification Report"}),a.result&&a.result.dataEntry&&e.setState({dataEntryData:a.result.dataEntry}),e.setState({generateReportMsg:"Ready to Download"})):a.result&&a.result.data&&a.result.data.length?(e.setState({generateReportMsg:"Ready to Download"}),e.setState({products:a.result.data,responseFlag:!0})):(e.setState({generateReportMsg:"",generateReportLoader:!1}),e.setState({responseFlagMsg:"No Records Found"}))})}else ve.showError("First select report type")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"render",value:function(){var e,t,a,n,l,i,o,s={myCallback:this.myCallback,startDate:"",endDate:""};return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"40px"}},r.a.createElement(Ne,null,"Report Download"),r.a.createElement(Se.a,(a={syt:!0,container:!0,spacing:2},Object(f.a)(a,"container",!0),Object(f.a)(a,"direction","row"),Object(f.a)(a,"justify","right"),Object(f.a)(a,"alignItems","center"),a),r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement(Dt.a,{style:Bt.multiselect},r.a.createElement(xe.a,{htmlFor:"Active",required:!0},"Select type of report"),r.a.createElement(St.a,{name:"reporttype",value:this.state.reporttype,onChange:this.onChange},r.a.createElement(Ot.a,{value:"distributorLastUploadedData"},"Distributor Uploaded Data Status"),r.a.createElement(Ot.a,{value:"detailedPendingReport"},"Distributor Detailed Pending Report"),r.a.createElement(Ot.a,{value:"rejectReport"}," Distributor Reject Data report"),r.a.createElement(Ot.a,{value:"summaryReportForDistributor"},"Distributor Summary report"),r.a.createElement(Ot.a,{value:"agentStatusReport"},"Agent Status Report"),r.a.createElement(Ot.a,{value:"backOfficeReceptionReport"},"Back Office Reception Report"),r.a.createElement(Ot.a,{value:"agentWisePerformanceLog"},"Agent Wise Performance Report"),r.a.createElement(Ot.a,{value:"agentAuditReport"},"Agent Audit Report"),r.a.createElement(Ot.a,{value:"ipacsReadyReport"},"IPACS Ready Report"),r.a.createElement(Ot.a,{value:"noneComplainceReport"},"None Complaince Report"),r.a.createElement(Ot.a,{value:"omniTransferReport"},"OMNI Transfer Report"),r.a.createElement(Ot.a,{value:"zoneWiseDetailedReport"},"Zone Wise Detailed Report "),r.a.createElement(Ot.a,{value:"simSwapReport"},"SIM Swap Report")))),this.state.showZoneSelection?r.a.createElement(Se.a,(e={item:!0,xs:12,sm:3},Object(f.a)(e,"item",!0),Object(f.a)(e,"alignItems","flex-end"),e),r.a.createElement(Dt.a,{style:Bt.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:Pt},r.a.createElement(Ot.a,{key:this.state.selectAllzone,value:this.state.selectAllzone},r.a.createElement("b",null," ",this.state.selectAllzone,"   ")),this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))):"",r.a.createElement(Se.a,(t={item:!0,xs:12,sm:5},Object(f.a)(t,"item",!0),Object(f.a)(t,"alignItems","flex-end"),t),r.a.createElement(Tt,{callbackFromParent:s}))),r.a.createElement(Se.a,(i={syt:!0,container:!0,spacing:2},Object(f.a)(i,"container",!0),Object(f.a)(i,"direction","row"),Object(f.a)(i,"justify","right"),Object(f.a)(i,"alignItems","center"),i),r.a.createElement(Se.a,(n={item:!0,xs:12,sm:3},Object(f.a)(n,"item",!0),Object(f.a)(n,"alignItems","flex-end"),n),this.state.generateReportLoader?"":r.a.createElement(C.a,{variant:"contained",color:"Primary",style:{marginLeft:"20px"},onClick:this.getReportDetails},"Generate Report"),this.state.generateReportLoader?r.a.createElement(O.a,{component:"h5",color:"primary",gutterBottom:!0},this.state.generateReportMsg):""),r.a.createElement(Se.a,(l={item:!0,xs:12,sm:9},Object(f.a)(l,"item",!0),Object(f.a)(l,"alignItems","flex-end"),l),this.state.responseFlag?r.a.createElement(Rt.CSVLink,{data:this.state.products,filename:this.state.reporttype+".csv",className:"btn btn-primary",target:"_blank"},r.a.createElement(O.a,{component:"h2",variant:"h6",style:{color:"green"},gutterBottom:!0},this.state.reportName)):"",this.state.dataEntryData?r.a.createElement(Rt.CSVLink,{data:this.state.dataEntryData,filename:"dataEntry.csv",className:"btn btn-primary",target:"_blank"},r.a.createElement(O.a,{component:"h2",variant:"h6",style:{color:"green"},gutterBottom:!0},"Data Entry Report")):"",r.a.createElement(O.a,{component:"h5",color:"error",gutterBottom:!0},this.state.responseFlagMsg))),r.a.createElement(Se.a,(o={syt:!0,container:!0,spacing:2},Object(f.a)(o,"container",!0),Object(f.a)(o,"direction","row"),Object(f.a)(o,"justify","right"),Object(f.a)(o,"alignItems","center"),o),r.a.createElement(Se.a,Object(f.a)({item:!0,xs:12,sm:4},"item",!0)),r.a.createElement(Se.a,Object(f.a)({item:!0,xs:12,sm:4},"item",!0),r.a.createElement("br",null)),r.a.createElement(Se.a,Object(f.a)({item:!0,xs:12,sm:4},"item",!0),this.state.responseFlag?r.a.createElement(Te.a,{data:this.state.products}):"")))))}}]),t}(r.a.Component),Bt={tableStyle:{display:"flex",justifyContent:"left"},multiselect:{minWidth:"100%",marginBottom:"12px"},selectStyle:{marginBottom:"0px",minWidth:300,maxWidth:300}},At=Nt;a(1059),a(355),a(163);function Ft(e,t){return{time:e,amount:t}}Ft("00:00",0),Ft("03:00",300),Ft("06:00",600),Ft("09:00",800),Ft("12:00",1500),Ft("15:00",2e3),Ft("18:00",2400),Ft("21:00",2400),Ft("24:00",void 0);var Mt=a(1058);Object(Fe.a)({depositContext:{flex:1}});var Lt=a(479),_t=a(478),Ut=a(476),zt=a(477);function Wt(e,t,a,n,r,l){return{id:e,date:t,name:a,shipTo:n,paymentMethod:r,amount:l}}Wt(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),Wt(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),Wt(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),Wt(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),Wt(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79),Object(Fe.a)(function(e){return{seeMore:{marginTop:e.spacing(3)}}});a(502);function Ht(e,t,a,n,r,l,i,o,s,c,m,d,u){return{Mobile:e,NIC:t,Sim:a,PEF_Count:n,NIC_Count:r,Distributor:l,Zone:i,FTA_Date:o,Status:s,Resubmit:c,Verify_Date:m,Submit_Date:d,Resubmit_Date:u}}Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Ht("7204563432","#908004","8982982389DSF092834",1,2,"UGC_DIS001","West","14-10-2019","Summited","No","14-10-2019 10:30:50","14-10-2019 10:30:50","14-10-2019 10:30:50"),Object(Fe.a)({root:{width:"100%"},tableWrapper:{maxHeight:440,overflow:"auto"}});var qt=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"listProduct",value:function(){return w.a.post(R,{isFtr:!1},I.getHeader())}},{key:"listActiveProduct",value:function(){return w.a.get(R,I.getHeader())}},{key:"getOne",value:function(e){return w.a.get(R+"/"+e,I.getHeader())}},{key:"updateProduct",value:function(e){return w.a.post(R,e,I.getHeader())}},{key:"addProduct",value:function(e){return w.a.post(R,e,I.getHeader())}},{key:"deleteProduct",value:function(e){return w.a.delete(R+"/"+e,I.getHeader())}},{key:"upload",value:function(e){return w.a.post(N+"/resource/upload",e,I.getHeader())}}]),e}()),Zt=a(257),Vt=a.n(Zt),Gt=(r.a.Component,a(527)),Jt=a.n(Gt);r.a.Component,Object(Fe.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(f.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}});var Kt,Yt=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"listPack",value:function(e){return w.a.post(L,e,I.getHeader())}},{key:"getAllBanner",value:function(e){return w.a.post(H,e,I.getHeader())}},{key:"getOne",value:function(e){return w.a.get(R+"/"+e,I.getHeader())}},{key:"updateProduct",value:function(e){return w.a.post(R,e,I.getHeader())}},{key:"addProduct",value:function(e){return w.a.post(R,e,I.getHeader())}},{key:"deleteProduct",value:function(e){return w.a.delete(R+"/"+e,I.getHeader())}},{key:"upload",value:function(e){return w.a.post(N+"/resource/upload",e,I.getHeader())}}]),e}()),Xt=a(80),$t=a.n(Xt),Qt=a(139),ea=w.a.create({baseURL:W}),ta=a(277),aa=a.n(ta),na=a(532),ra=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).addProduct=function(e){console.log(a.props),a.props.history.push("/packadd")},a.addProduct=a.addProduct.bind(Object(S.a)(a)),a.editProduct=a.editProduct.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.state={products:[]},a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.loadPackList(),localStorage.setItem("lastUrl","packs")}},{key:"loadPackList",value:function(){var e=this;Yt.listPack({allPacks:!0,portal:!0}).then(function(t){var a=De(t);console.log(a),a&&a.result&&e.setState({products:a.result})})}},{key:"editProduct",value:function(e){window.localStorage.removeItem("selectedProductId"),window.localStorage.setItem("selectedProductId",e),this.props.history.push("/editpacks")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"dateFormat",value:function(e){return na.utc(e).format("DD-MM-YYYY HH:mm:ss A")}},{key:"render",value:function(){var e,t=this;return console.log(this.props,"PROPS"),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(O.a,{variant:"h5",style:{flex:0}},"Recharge Pack"),r.a.createElement(Se.a,(e={container:!0,spacing:24},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","flex-end"),e),r.a.createElement(C.a,{variant:"contained",color:"secondry",onClick:function(){return t.addProduct()}},"Add Pack")),r.a.createElement(Te.a,{size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},r.a.createElement(zt.a,{variant:"head"},r.a.createElement(_t.a,{align:"center"},"Icon"),r.a.createElement(_t.a,{align:"center"},"Connection Type"),r.a.createElement(_t.a,{align:"center"},"Pack"),r.a.createElement(_t.a,{align:"center"},"Amount"),r.a.createElement(_t.a,{align:"center"},"Status"),r.a.createElement(_t.a,{align:"center"},"Validity Days"),r.a.createElement(_t.a,{align:"center"},"Validity Type"),r.a.createElement(_t.a,{align:"center"},"Description"),r.a.createElement(_t.a,{align:"center"},"Comment"),r.a.createElement(_t.a,{align:"center"},"Start Date/Time"),r.a.createElement(_t.a,{align:"center"},"End Date/Time"),r.a.createElement(_t.a,{align:"center"},"Display Type"))),r.a.createElement(Lt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.products?this.state.products.map(function(e){return r.a.createElement(zt.a,{key:e.productId,onClick:function(){return t.editProduct(e.productId)}},r.a.createElement(_t.a,{align:"center"}," ",r.a.createElement("img",{style:{width:"80px",height:"40px"},src:e.imageURL})," "),r.a.createElement(_t.a,{component:"th",scope:"row",className:"hidden"},e.connectionType),r.a.createElement(_t.a,{align:"center"},e.pack),r.a.createElement(_t.a,{align:"center"},e.amount),r.a.createElement(_t.a,{align:"center"},e.active?"Active":"Inactive"),r.a.createElement(_t.a,{align:"center"},e.validityDays),r.a.createElement(_t.a,{align:"center"},e.validityType),r.a.createElement(_t.a,{align:"center"},e.description),r.a.createElement(_t.a,{align:"center"},e.comment),r.a.createElement(_t.a,{align:"center"},t.dateFormat(e.startDate)),r.a.createElement(_t.a,{align:"center"},t.dateFormat(e.endDate)),r.a.createElement(_t.a,{align:"center"},e.displayType))}):r.a.createElement(aa.a,null)))))}}]),t}(r.a.Component),la=Object(o.b)(function(e){return{packs:e.packs.packs.data}},{setPackLoaded:function(){return function(){var e=Object(Qt.a)($t.a.mark(function e(t){var a,n;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={allPacks:!0,portal:!0},e.next=3,ea.post("getPrepaidPacks",a);case 3:n=e.sent,t({type:"SET PACK LOADED",payload:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(ra),ia=new(function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"listProduct",value:function(){return w.a.get(R+"?onlyActive=false",I.getHeader())}},{key:"listActiveProduct",value:function(){return w.a.get(R,I.getHeader())}},{key:"getOne",value:function(e){return w.a.get(R+"/"+e,I.getHeader())}},{key:"updateProduct",value:function(e){return w.a.post(R,e,I.getHeader())}},{key:"uploadPackImage",value:function(e){return w.a.post(z,e,I.getHeader())}},{key:"addPack",value:function(e){return w.a.post(U,e,I.getHeader())}},{key:"addBanner",value:function(e){return w.a.post(q,e,I.getHeader())}},{key:"updateBanner",value:function(e){return w.a.post(Z,e,I.getHeader())}},{key:"getOneBanner",value:function(e){return w.a.get(G+"?bannerId="+e,I.getHeader())}},{key:"deleteProduct",value:function(e){return w.a.delete(R+"/"+e,I.getHeader())}},{key:"upload",value:function(e){return w.a.post(N+"/resource/upload",e,I.getHeader())}}]),e}()),oa=a(334);function sa(e){console.log("startDatestartDate,",e);var t=new Date;t.setHours(0,0,0,0);var a=r.a.useState(t),n=Object(Be.a)(a,2),l=n[0],i=n[1],o=r.a.useState(t),s=Object(Be.a)(o,2),c=s[0],m=s[1],d=function(t){i(t),e.callbackFromParent.myCallback(t,"START_DATE");var a=new Date(t).getTime();document.getElementById("startDateMili").value=a,a>document.getElementById("endDateMili").value&&ve.showError("Start date time can't be grater than end date.")},u=function(t){m(t),e.callbackFromParent.myCallback(t,"END_DATE");var a=new Date(t).getTime();document.getElementById("endDateMili").value=a,a<document.getElementById("startDateMili").value&&ve.showError("End Date time can't be less than start date.")};document.getElementById("startDateMili")&&document.getElementById("startDateMili").value;e.callbackFromParent&&e.callbackFromParent.startDate&&(l=new Date(e.callbackFromParent.startDate).getTime());document.getElementById("endDateMili")&&document.getElementById("endDateMili").value;return e.callbackFromParent&&e.callbackFromParent.endDate&&(c=new Date(e.callbackFromParent.endDate).getTime()),console.log("propes",e),r.a.createElement(wt.a,{utils:kt.default},r.a.createElement(Se.a,{container:!0,justify:"space-around"},r.a.createElement(It.b,{disablePast:"true",margin:"normal",required:!0,id:"date-picker-dialog",label:e.callbackFromParent.firstLavel,format:"dd-MM-yyyy",value:l,onChange:d,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(oa.a,{margin:"normal",id:"time-picker",label:"Start Time",value:l,onChange:d,KeyboardButtonProps:{"aria-label":"change time"}}),r.a.createElement(It.b,{disablePast:"true",margin:"normal",required:!0,id:"date-picker-dialog",label:e.callbackFromParent.secondLavel,format:"dd-MM-yyyy",value:c,onChange:u,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(oa.a,{margin:"normal",id:"time-picker",label:"End Time",value:c,onChange:u,KeyboardButtonProps:{"aria-label":"change time"}})))}var ca,ma,da,ua=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).myCallback=function(e,t){"START_DATE"===t?a.setState({startDate:new Date(e).getTime()}):"END_DATE"===t&&a.setState({endDate:new Date(e).getTime()})},a.savePack=function(e){if(e.preventDefault(),a.state.amount&&a.state.displayOrder&&a.state.startDate&&a.state.endDate&&a.state.packType)if("detailsWithImage"!=a.state.displayType||a.state.file){a.state.startDate||(a.state.startDate=(new Date).getTime()),a.state.endDate||(a.state.endDate=(new Date).getTime());var t=new Date(a.state.startDate).getTime(),n=new Date(a.state.endDate).getTime();if(t!=n){var r=new FormData;"detailsWithImage"===a.state.displayType&&a.state.file&&r.append("file",a.state.file),new Date(a.state.startDate).getTime(),r.append("amount",a.state.amount),r.append("displayOrder",a.state.displayOrder),r.append("startDate",t),r.append("endDate",n),r.append("pack",a.state.packType),r.append("packType",a.state.packTypeitem),r.append("dataDay",a.state.dataDay),r.append("dataDayType",a.state.dataDayType),r.append("nightDay",a.state.nightDay),r.append("nightDayType",a.state.nightDayType),r.append("validityDays",a.state.validityDays),r.append("validityType",a.state.validityType),r.append("connectionType",a.state.connectionType),r.append("displayType",a.state.displayType),r.append("description",a.state.description),r.append("activationStatus",a.state.activationStatus),r.append("comment",a.state.comment),r.append("isFtr",a.state.isFtr),ia.addPack(r).then(function(e){De(e),a.props.history.push("/packs")})}else ve.showError("Start and end date time should not be same")}else ve.showError("Details With Image required to upload images");else ve.showError("Missing required fields")},a.cancel=function(e){a.props.history.push("/packs")},a.onChangeFileUpload=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onChangeHandler=function(e){(new FormData).append("file",e.target.files[0])},a.onChange=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a.onChangePack=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value));"Data"==e.target.value?a.setState({packtypevalue:["Anytime MB","Anytime GB","Nighttime MB","Nighttime GB"],showDescription:!1}):a.setState({showDescription:!0,packTypeitem:""})},a.state={activationStatus:"",amount:"",comment:"",connectionType:"",dataDay:"",dataDayType:"",description:"",displayOrder:"",displayType:"",endDate:new Date,imageURL:"",isFtr:"",nightDay:"",nightDayType:"",packType:"",startDate:new Date,userCategory:"",validityDays:"",validityType:"",file:null,packtypevalue:[],packTypeitem:"",showDescription:!1},a.savePack=a.savePack.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.onChangePack=a.onChangePack.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("lastUrl","packadd")}},{key:"render",value:function(){var e,t,a={myCallback:this.myCallback,startDate:"",endDate:"",firstLavel:"Start Date",secondLavel:"End Date"};return jt()(".MuiInputBase-input").prop("readonly",!0),console.log(this.state,"STATE_MATTERS"),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(Ee.a,{maxWidth:"sm"},r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(O.a,{variant:"h5",style:pa.textStyle},"Add Recharge Pack"),r.a.createElement("form",{style:pa.formContainer},r.a.createElement(Se.a,{container:!0,spacing:2,direction:"row",justify:"flex-end"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Amount",required:!0,type:"number",min:"1",max:"99999",fullWidth:!0,name:"amount",value:this.state.amount,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Pack Name",type:"",rows:2,fullWidth:!0,margin:"none",min:"1",max:"15",name:"comment",value:this.state.comment,onChange:this.onChange}))),r.a.createElement(Se.a,{container:!0,direction:"row",justify:"flex-end"},r.a.createElement(k.a,{label:"Description",fullWidth:!0,multiline:!0,variyant:!0,rows:2,margin:"normal",name:"description",value:this.state.description,onChange:this.onChange})),r.a.createElement(Se.a,{container:!0,spacing:2,direction:"row",justify:"flex-end"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Connection Type"),r.a.createElement(St.a,{name:"connectionType",value:this.state.connectionType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"prepaid"},"Prepaid"),r.a.createElement(Ot.a,{value:"postpaid"},"Postpaid")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Display Order",required:!0,fullWidth:!0,type:"number",margin:"none",name:"displayOrder",value:this.state.displayOrder,onChange:this.onChange}))),r.a.createElement(sa,{callbackFromParent:a}),r.a.createElement("input",{type:"hidden",id:"startDateMili"}),r.a.createElement("input",{type:"hidden",id:"endDateMili"}),r.a.createElement(Se.a,{container:!0,spacing:2,direction:"row",justify:"flex-end"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement(xe.a,{htmlFor:"Pack Type"},"Pack"),r.a.createElement(St.a,{required:!0,name:"packType",value:this.state.packType,onChange:this.onChangePack},r.a.createElement(Ot.a,{value:"Data"},"Data"),r.a.createElement(Ot.a,{value:"Voice"},"Voice"),r.a.createElement(Ot.a,{value:"Combo"},"Combo"),r.a.createElement(Ot.a,{value:"IDD"},"IDD"),r.a.createElement(Ot.a,{value:"SMS"},"SMS")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"packTypeitem",value:this.state.packTypeitem,onChange:this.onChange}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"dataDay",value:this.state.dataDay,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"dataDayType",value:this.state.dataDayType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"nightDay",value:this.state.nightDay,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"nightDayType",value:this.state.nightDayType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Validity Days",type:"number",min:"1",max:"99999",fullWidth:!0,name:"validityDays",value:this.state.validityDays,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Validity Type",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"validityType",value:this.state.validityType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement(xe.a,{htmlFor:"Activation status",required:!0},"Status"),r.a.createElement(St.a,{name:"activationStatus",value:this.state.activationStatus,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"Active"),r.a.createElement(Ot.a,{value:"false"},"In Active")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement(xe.a,{htmlFor:"Activation status",required:!0},"FTR or Normal"),r.a.createElement(St.a,{name:"isFtr",value:this.state.isFtr,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"FTR(First Time Recharge)"),r.a.createElement(Ot.a,{value:"false"},"Normal")))),r.a.createElement(Se.a,(e={container:!0,spacing:24},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","flex-end"),e),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement(xe.a,{htmlFor:"display-type",required:!0},"Display Type"),r.a.createElement(St.a,{name:"displayType",value:this.state.displayType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"details"},"Details"),r.a.createElement(Ot.a,{value:"detailsWithImage"},"Details with Image")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:pa.multiselect},r.a.createElement("input",{style:{marginTop:"31px",marginLeft:"18px"},type:"file",name:"file",onChange:this.onChangeFileUpload})))),r.a.createElement(Se.a,(t={container:!0,spacing:2},Object(f.a)(t,"container",!0),Object(f.a)(t,"direction","row"),Object(f.a)(t,"justify","center"),Object(f.a)(t,"alignItems","center"),t),r.a.createElement("br",null),"  ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.savePack},"Save"),r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"150px"},onClick:this.cancel},"Cancel"))))))}}]),t}(r.a.Component),pa=(Kt={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},input:{display:"none"}},Object(f.a)(Kt,"textStyle",{display:"flex",justifyContent:"center"}),Object(f.a)(Kt,"multiselect",{minWidth:"100%",marginBottom:"10px"}),Object(f.a)(Kt,"chips",{display:"flex",flexWrap:"wrap"}),Object(f.a)(Kt,"chip",{margin:3}),Kt),ga=ua,ha={PaperProps:{style:{maxHeight:224,width:250}}},ya=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).myCallback=function(e,t){"START_DATE"===t?a.setState({publishDay:new Date(e).getTime()}):"END_DATE"===t&&a.setState({expireDay:new Date(e).getTime()})},a.zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),e.target.value.includes("Select All")&&(a.setState({selectedZone:a.state.listofzones}),a.setState({selectAllzone:"Remove All"})),e.target.value.includes("Remove All")&&(a.setState({selectedZone:[]}),a.setState({selectAllzone:"Select All"}))},a.savePack=function(e){if(e.preventDefault(),a.state.title&&a.state.bannerType&&a.state.order){var t=document.getElementById("startDateMili").value,n=document.getElementById("endDateMili").value;if(t>n)ve.showError("Start date time can't be grater than end date.");else if(n<t)ve.showError("End Date time can't be less than start date.");else if(a.state.file){var r=localStorage.getItem("userDetails");r=r&&JSON.parse(r);var l=new FormData;l.append("file",a.state.file),l.append("title",a.state.title),l.append("order",a.state.order),l.append("active",a.state.active),l.append("bannerType",a.state.bannerType),l.append("link",a.state.link),l.append("zones",a.state.selectedZone.length?a.state.selectedZone:null),a.state.publishDay||(a.state.publishDay=(new Date).getTime()),a.state.expireDay||(a.state.expireDay=(new Date).getTime()),l.append("publishDay",a.state.publishDay),l.append("expireDay",a.state.expireDay),l.append("categoryType",a.state.categoryType),l.append("updateBy",r&&r.loginId),ia.addBanner(l).then(function(e){var t=De(e);console.log("Banner Response:",t),a.props.history.push("/banners")})}else ve.showError("Missing required image upload")}else ve.showError("Missing required fields")},a.cancel=function(e){a.props.history.push("/banners")},a.handleChange=function(e){return function(t){a.setState(Object(m.a)({},a.state,Object(f.a)({},e,t.target.checked)))}},a.onChangeFileUpload=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onChangeHandler=function(e){var t=new FormData;t.append("file",e.target.files[0]);w.a.post(V,t,{headers:{"content-type":"multipart/form-data"}}).then(function(e){a.setState({imageURL:e.data.result})}).catch(function(e){console.log(e,"ERROR")})},a.onChange=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={title:"",order:"",active:"",bannerType:"",section:"",categoryType:"",category:"",forAndroid:"",forIos:"",forWindows:"",validityDays:"",updateTime:"",publishDay:"",expireDay:"",updateBy:"",imageURL:"",file:null,link:"",listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All"},a.savePack=a.savePack.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a.zoneChange=a.zoneChange.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.setItem("lastUrl","add-banner"),Pe.getStaticData("ADMIN").then(function(t){var a=De(t);e.setState({listofzones:a.result&&a.result.zones})})}},{key:"render",value:function(){var e,t,a={myCallback:this.myCallback,startDate:"",endDate:"",firstLavel:"Publish Date",secondLavel:"End Date"};return console.log(this.state,"STATE_MATTERS"),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(Ee.a,{maxWidth:"sm"},r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"10px"}},r.a.createElement(O.a,{variant:"h5",style:fa.textStyle}," Banner Details"),r.a.createElement("form",{style:fa.formContainer},r.a.createElement(k.a,{label:"Banner Title",required:!0,value:this.state.title,fullWidth:!0,name:"title",onChange:this.onChange}),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Type of Banner"),r.a.createElement(St.a,{name:"bannerType",value:this.state.bannerType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"prepaid"},"Prepaid"),r.a.createElement(Ot.a,{value:"postpaid"},"Postpaid")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement(xe.a,{required:!0},"Order"),r.a.createElement(St.a,{name:"order",value:this.state.order,onChange:this.onChange},r.a.createElement(Ot.a,{value:"1"},"1"),r.a.createElement(Ot.a,{value:"2"},"2"),r.a.createElement(Ot.a,{value:"3"},"3"),r.a.createElement(Ot.a,{value:"4"},"4"),r.a.createElement(Ot.a,{value:"5"},"5")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Category Type"),r.a.createElement(St.a,{name:"categoryType",value:this.state.categoryType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"Recharge"},"Recharge"),r.a.createElement(Ot.a,{value:"Other"}," Other ")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement(xe.a,{htmlFor:"Active",required:!0},"Status"),r.a.createElement(St.a,{name:"active",value:this.state.active,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"Active"),r.a.createElement(Ot.a,{value:"false"},"In Active")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Banner Link",name:"link",value:this.state.link,fullWidth:!0,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:10,sm:6},r.a.createElement(Dt.a,{style:fa.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:ha},r.a.createElement(Ot.a,{key:this.state.selectAllzone,value:this.state.selectAllzone},r.a.createElement("b",null," ",this.state.selectAllzone,"   ")),this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))),r.a.createElement(sa,{callbackFromParent:a}),r.a.createElement("input",{type:"hidden",id:"startDateMili"}),r.a.createElement("input",{type:"hidden",id:"endDateMili"}),r.a.createElement(Se.a,(e={container:!0,spacing:1},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","flex-end"),e),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement(xe.a,{htmlFor:"display-type",required:!0},"Upload Banner"))),r.a.createElement(Se.a,{item:!0,xs:12,sm:9},r.a.createElement(Dt.a,{style:fa.multiselect},r.a.createElement("input",{style:{marginTop:"31px",marginLeft:"18px"},type:"file",name:"file",onChange:this.onChangeFileUpload})))),r.a.createElement(Se.a,(t={container:!0,spacing:24},Object(f.a)(t,"container",!0),Object(f.a)(t,"direction","row"),Object(f.a)(t,"justify","center"),t),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.savePack},"Save"),r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"150px"},onClick:this.cancel},"Cancel"))))))}}]),t}(r.a.Component),fa=(ca={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},input:{display:"none"}},Object(f.a)(ca,"textStyle",{display:"flex",justifyContent:"center"}),Object(f.a)(ca,"multiselect",{minWidth:"100%",marginBottom:"10px"}),Object(f.a)(ca,"chips",{display:"flex",flexWrap:"wrap"}),Object(f.a)(ca,"chip",{margin:3}),Object(f.a)(ca,"selectStyle",{marginBottom:"0px",minWidth:255,maxWidth:255}),ca),Ea=ya,ba={PaperProps:{style:{maxHeight:224,width:250}}},va=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.myCallback=function(e,t){"START_DATE"===t?a.setState({publishDay:new Date(e).getTime()}):"END_DATE"===t&&a.setState({expireDay:new Date(e).getTime()})},a.getInitialData=Object(Qt.a)($t.a.mark(function e(){var t;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("selectedBannerId"),a.setState({loading:!0}),ia.getOneBanner(t).then(function(e){De(e);var t=De(e);if(200==t.status&&"ok"==t.message){var n=t.result;a.setState({title:n.title,order:n.order,active:n.active,bannerType:n.bannerType,section:n.section,categoryType:n.categoryType,category:n.category,forAndroid:n.forAndroid,forIos:n.forIos,forWindows:n.forWindows,publishDay:n.publishDay,expireDay:n.expireDay,updateTime:n.updateTime,imageURL:n.imageURL,bannerId:n.bannerId,link:n.link,selectedZone:n.zones.split(",")})}}),Pe.getStaticData("ADMIN").then(function(e){var t=De(e);a.setState({listofzones:t.result&&t.result.zones})});case 4:case"end":return e.stop()}},e)})),a.savePack=function(e){e.preventDefault();var t=localStorage.getItem("userDetails");t=t&&JSON.parse(t);var n=new FormData;n.append("file",a.state.file),n.append("title",a.state.title),n.append("order",a.state.order),n.append("active",a.state.active),n.append("bannerType",a.state.bannerType),n.append("publishDay",a.state.publishDay),n.append("expireDay",a.state.expireDay),n.append("link",a.state.link),n.append("zones",a.state.selectedZone.length?a.state.selectedZone:null),n.append("updateBy",t&&t.loginName),n.append("categoryType",a.state.categoryType),n.append("category",a.state.category),n.append("bannerId",a.state.bannerId),ia.updateBanner(n).then(function(e){var t=De(e);200==t.status&&"Success"==t.message?ve.showSuccess("Banner saved successfully."):ve.showError(t),a.props.history.push("/banners")})},a.cancel=function(e){a.props.history.push("/banners")},a.handleChange=function(e){return function(t){a.setState(Object(m.a)({},a.state,Object(f.a)({},e,t.target.checked)))}},a.onChangeFileUpload=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onChangeHandler=function(e){var t=new FormData;t.append("file",e.target.files[0]);w.a.post(V,t,{headers:{"content-type":"multipart/form-data"}}).then(function(e){a.setState({imageURL:e.data.result})}).catch(function(e){console.log(e,"ERROR")})},a.onChange=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={title:"",order:"",active:"",bannerType:"",section:"",categoryType:"",category:"",forAndroid:"",forIos:"",forWindows:"",validityDays:"",updateTime:"",updateBy:"",imageURL:"",file:null,link:"",listofzones:[],selectedZone:[],zone:""},a.savePack=a.savePack.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a.zoneChange=a.zoneChange.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(),localStorage.setItem("lastUrl","banner-edit")}},{key:"render",value:function(){var e,t,a={myCallback:this.myCallback,startDate:this.state.publishDay,endDate:this.state.expireDay,firstLavel:"Publish Date",secondLavel:"End Date"};return console.log(this.state,"STATE_MATTERS"),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(Ee.a,{maxWidth:"sm",style:{padding:"10px"}},r.a.createElement(xt.a,{style:{padding:"10px"}},r.a.createElement(O.a,{variant:"h5",style:Da.textStyle}," Update Banner Details"),r.a.createElement("form",{style:Da.formContainer},r.a.createElement(k.a,{label:"Banner Title",required:!0,value:this.state.title,fullWidth:!0,name:"title",onChange:this.onChange}),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Type of Baneer"),r.a.createElement(St.a,{name:"bannerType",value:this.state.bannerType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"prepaid"},"Prepaid"),r.a.createElement(Ot.a,{value:"postpaid"},"Postpaid")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement(xe.a,{required:!0},"Order"),r.a.createElement(St.a,{name:"order",value:this.state.order,onChange:this.onChange},r.a.createElement(Ot.a,{value:"1"},"1"),r.a.createElement(Ot.a,{value:"2"},"2"),r.a.createElement(Ot.a,{value:"3"},"3"),r.a.createElement(Ot.a,{value:"4"},"4"),r.a.createElement(Ot.a,{value:"5"},"5")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Category Type"),r.a.createElement(St.a,{name:"categoryType",value:this.state.categoryType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"Recharge"},"Recharge"),r.a.createElement(Ot.a,{value:"Other"}," Other ")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement(xe.a,{htmlFor:"Active",required:!0},"Status"),r.a.createElement(St.a,{name:"active",value:this.state.active,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"Active"),r.a.createElement(Ot.a,{value:"false"},"In Active")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Banner Link",name:"link",value:this.state.link,fullWidth:!0,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:10,sm:6},r.a.createElement(Dt.a,{style:Da.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:ba},this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))),r.a.createElement(sa,{callbackFromParent:a}),r.a.createElement(k.a,{id:"startDateMili",label:"",type:"hidden",value:a.startDate}),r.a.createElement(k.a,{id:"endDateMili",label:"",type:"hidden",value:a.endDate}),r.a.createElement(Se.a,(e={container:!0,spacing:24},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","flex-end"),e),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement(xe.a,{htmlFor:"display-type",required:!0},"Upload Banner"))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Da.multiselect},r.a.createElement("input",{style:{marginTop:"31px",marginLeft:"18px"},type:"file",name:"file",onChange:this.onChangeFileUpload}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement("img",{style:{width:"200px",height:"100px"},src:this.state.imageURL}))),r.a.createElement(Se.a,(t={container:!0,spacing:24},Object(f.a)(t,"container",!0),Object(f.a)(t,"direction","row"),Object(f.a)(t,"justify","center"),t),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.savePack},"Update"),r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"150px"},onClick:this.cancel},"Cancel"))))))}}]),t}(r.a.Component),Da=(ma={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},input:{display:"none"}},Object(f.a)(ma,"textStyle",{display:"flex",justifyContent:"center"}),Object(f.a)(ma,"multiselect",{minWidth:"100%",marginBottom:"10px"}),Object(f.a)(ma,"chips",{display:"flex",flexWrap:"wrap"}),Object(f.a)(ma,"chip",{margin:3}),Object(f.a)(ma,"selectStyle",{marginBottom:"0px",minWidth:270,maxWidth:270}),ma),Sa=va,xa=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChangeFileUpload=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.getInitialData=Object(Qt.a)($t.a.mark(function e(){var t,n;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("selectedProductId"),a.setState({loading:!0}),e.next=4,a.props.getPackById(t);case 4:n=e.sent,console.log("packRes:",n),n.payload&&n.payload.data&&n.payload.data.result&&a.setState(n.payload.data.result),a.setState({loading:!1}),a.setState({activationStatus:a.state.active}),a.addPackTpe(a.state.pack);case 10:case"end":return e.stop()}},e)})),a.myCallback=function(e,t){"START_DATE"===t?a.setState({startDate:new Date(e).getTime()}):"END_DATE"===t&&a.setState({endDate:new Date(e).getTime()})},a.savePack=function(e){e.preventDefault(),a.state.startDate||(a.state.startDate=(new Date).getTime()),a.state.endDate||(a.state.endDate=(new Date).getTime());var t=new Date(a.state.startDate).getTime(),n=new Date(a.state.endDate).getTime();if(t!=n){var r=new FormData;"detailsWithImage"===a.state.displayType&&a.state.file&&r.append("file",a.state.file);var l=localStorage.getItem("selectedProductId");r.append("ProductId",l),r.append("amount",a.state.amount),r.append("displayOrder",a.state.displayOrder),r.append("startDate",t),r.append("endDate",n),r.append("pack",a.state.pack),r.append("packType",a.state.packType),r.append("dataDay",a.state.dataDay),r.append("dataDayType",a.state.dataDayType),r.append("nightDay",a.state.nightDay),r.append("nightDayType",a.state.nightDayType),r.append("validityDays",a.state.validityDays),r.append("validityType",a.state.validityType),r.append("connectionType",a.state.connectionType),r.append("displayType",a.state.displayType),r.append("description",a.state.description),r.append("activationStatus",a.state.activationStatus),r.append("comment",a.state.comment),r.append("isFtr",a.state.ftr),ia.addPack(r).then(function(e){De(e),a.props.history.push("/packs")})}else ve.showError("Start and end date time should not be same")},a.cancel=function(e){a.props.history.push("/packs")},a.onChangeHandler=function(e){var t=new FormData;t.append("file",e.target.files[0]);w.a.post("/SLRetailer/recharges/uploadRechargeImage",t,{headers:{"content-type":"multipart/form-data"}}).then(function(e){a.setState({imageURL:e.data.result})}).catch(function(e){console.log(e,"ERROR")})},a.addPackTpe=function(e){"Data"==e?a.setState({packtypevalue:["Anytime MB","Anytime GB","Nighttime MB","Nighttime GB"],showDescription:!1}):a.setState({showDescription:!0})},a.onChangePack=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),a.addPackTpe(e.target.value)},a.onChange=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={activationStatus:"",amount:"",comment:"",connectionType:"",dataDay:"",dataDayType:"",description:"",displayOrder:"",displayType:"",endDate:"",imageURL:"",ftr:"",nightDay:"",nightDayType:"",pack:"",packType:"",startDate:"",validityDays:"",validityType:"",packvalue:[],showDescription:!1},a.savePack=a.savePack.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a.onChangePack=a.onChangePack.bind(Object(S.a)(a)),a.addPackTpe=a.addPackTpe.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(),localStorage.setItem("lastUrl","editpacks")}},{key:"render",value:function(){var e,t,a={myCallback:this.myCallback,startDate:this.state.startDate,endDate:this.state.endDate,firstLavel:"Start Date",secondLavel:"End Date"};return console.log("dateparam",a),this.state.loading?r.a.createElement("div",null,"Laoding"):r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(Ee.a,{maxWidth:"sm"},r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(O.a,{variant:"h5",style:Oa.textStyle},"Edit Recharge Pack"),r.a.createElement("form",{style:Oa.formContainer},r.a.createElement(Se.a,{container:!0,spacing:2,direction:"row",justify:"flex-end"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Amount",required:!0,type:"number",min:"1",max:"99999",fullWidth:!0,name:"amount",value:this.state.amount,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Pack Name",type:"",rows:2,fullWidth:!0,margin:"none",min:"1",max:"15",name:"comment",value:this.state.comment,onChange:this.onChange}))),r.a.createElement(Se.a,{container:!0,direction:"row",justify:"flex-end"},r.a.createElement(k.a,{label:"Description",fullWidth:!0,multiline:!0,variyant:!0,rows:2,margin:"normal",name:"description",value:this.state.description,onChange:this.onChange})),r.a.createElement(Se.a,{container:!0,spacing:2,direction:"row",justify:"flex-end"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement(xe.a,{htmlFor:"Connection Type",required:!0},"Connection Type"),r.a.createElement(St.a,{name:"connectionType",value:this.state.connectionType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"prepaid"},"Prepaid"),r.a.createElement(Ot.a,{value:"postpaid"},"Postpaid")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Display Order",required:!0,fullWidth:!0,margin:"none",name:"displayOrder",value:this.state.displayOrder,onChange:this.onChange}))),r.a.createElement(sa,{callbackFromParent:a}),r.a.createElement("input",{type:"hidden",id:"startDateMili",value:a.startDate}),r.a.createElement("input",{type:"hidden",id:"endDateMili",value:a.endDate}),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement(xe.a,{htmlFor:"Pack Type"},"Pack"),r.a.createElement(St.a,{name:"pack",value:this.state.pack,onChange:this.onChangePack},r.a.createElement(Ot.a,{value:"Data"},"Data"),r.a.createElement(Ot.a,{value:"Voice"},"Voice"),r.a.createElement(Ot.a,{value:"Combo"},"Combo"),r.a.createElement(Ot.a,{value:"IDD"},"IDD"),r.a.createElement(Ot.a,{value:"SMS"},"SMS")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"packType",value:this.state.packType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"dataDay",value:this.state.dataDay,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"dataDayType",value:this.state.dataDayType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",min:"1",max:"99999",fullWidth:!0,name:"nightDay",value:this.state.nightDay,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Description",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"nightDayType",value:this.state.nightDayType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Validity Days",type:"number",min:"1",max:"99999",fullWidth:!0,name:"validityDays",value:this.state.validityDays,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Validity Type",style:{marginLeft:"18px"},fullWidth:!0,margin:"none",name:"validityType",value:this.state.validityType,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement(xe.a,{htmlFor:"Activation status",required:!0},"Status"),r.a.createElement(St.a,{name:"activationStatus",value:this.state.activationStatus,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"Active"),r.a.createElement(Ot.a,{value:"false"},"In Active")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement(xe.a,{htmlFor:"Activation status",required:!0},"FTR or Normal"),r.a.createElement(St.a,{name:"ftr",value:this.state.ftr,onChange:this.onChange},r.a.createElement(Ot.a,{value:"true"},"FTR(First Time Recharge)"),r.a.createElement(Ot.a,{value:"false"},"Normal")))),r.a.createElement(Se.a,(e={container:!0,spacing:24},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","flex-end"),e),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement(xe.a,{htmlFor:"display-type",required:!0},"Display Type"),r.a.createElement(St.a,{name:"displayType",value:this.state.displayType,onChange:this.onChange},r.a.createElement(Ot.a,{value:"details"},"Details"),r.a.createElement(Ot.a,{value:"detailsWithImage"},"Details with Image")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:Oa.multiselect},r.a.createElement("input",{style:{marginTop:"31px",marginLeft:"18px"},type:"file",name:"file",onChange:this.onChangeFileUpload}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:5},r.a.createElement("img",{style:{width:"100px",height:"50px"},src:this.state.imageURL}))),r.a.createElement(Se.a,(t={container:!0,spacing:2},Object(f.a)(t,"container",!0),Object(f.a)(t,"direction","row"),Object(f.a)(t,"justify","center"),Object(f.a)(t,"alignItems","center"),t),r.a.createElement("br",null),"  ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.savePack},"Save"),r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"150px"},onClick:this.cancel},"Cancel"))))))}}]),t}(r.a.Component),Oa=(da={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},input:{display:"none"}},Object(f.a)(da,"textStyle",{display:"flex",justifyContent:"center"}),Object(f.a)(da,"multiselect",{minWidth:"100%",marginBottom:"10px"}),Object(f.a)(da,"chips",{display:"flex",flexWrap:"wrap"}),Object(f.a)(da,"chip",{margin:3}),da),ka=Object(o.b)(function(e){return{pack:e.packs.pack.data}},{editPackInfo:function(e){return function(){var t=Object(Qt.a)($t.a.mark(function t(a){var n;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("ERROR",e),e.activationStatus=String(e.activationStatus),e.displayOrder=String(e.displayOrder),e.productId=String(e.productId),e.validityDays=String(e.validityDays),e.active=String(e.active),e.isFtr=String(e.ftr),t.next=10,ea.post("updatePrepaidPack",e,I.getHeader());case 10:n=t.sent,a({type:"EDIT PACK INFO",payload:n}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()},getPackById:function(e){return function(){var t=Object(Qt.a)($t.a.mark(function t(a){var n;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ea.post("/getPrepaidPacksById",{productId:e},I.getHeader());case 3:return n=t.sent,t.abrupt("return",a({type:"GET_PACK_INFO_BY_ID",payload:n}));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"ERRRR");case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(xa),Ca=a(134),ja=a.n(Ca);a(493),Object(Fe.a)({root:{width:"100%"},tableWrapper:{maxHeight:440,overflow:"auto"}});var wa=a(20),Ia=(a(504),a(500)),Ta=(a(503),a(492)),Ra=(a(1060),a(158)),Pa=a.n(Ra);a(278);function Na(e,t,a,n,r){return{name:e,calories:t,fat:a,carbs:n,protein:r}}Na("Cupcake",305,3.7,67,4.3),Na("Donut",452,25,51,4.9),Na("Eclair",262,16,24,6),Na("Frozen yoghurt",159,6,24,4),Na("Gingerbread",356,16,49,3.9),Na("Honeycomb",408,3.2,87,6.5),Na("Ice cream sandwich",237,9,37,4.3),Na("Jelly Bean",375,0,94,0),Na("KitKat",518,26,65,7),Na("Lollipop",392,.2,98,0),Na("Marshmallow",318,0,81,2),Na("Nougat",360,19,9,37),Na("Oreo",437,18,63,4);Object(Fe.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(wa.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}),Object(Fe.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}});var Ba={PaperProps:{style:{maxHeight:224,width:250}}},Aa=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onlockTransectionOnSkip=function(e){var t={transactionsIds:e};Pe.unlockTransectionsSkip(t).then(function(e){var t=De(e);"ok"!=t.message&&ve.showError("Server Error"+t.message)})},a.onChange=function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value)&&e.target.value.length<=10)&&a.setState({searchby:e.target.value})},a.zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={products:[],searchedproducts:"",searchby:"",listofzones:[],selectedZone:[],zone:""},a.loadProductList=a.loadProductList.bind(Object(S.a)(a)),a.addProduct=a.addProduct.bind(Object(S.a)(a)),a.editProduct=a.editProduct.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.zoneChange=a.zoneChange.bind(Object(S.a)(a)),a.onlockTransectionOnSkip=a.onlockTransectionOnSkip.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.loadProductList(""),localStorage.setItem("lastUrl","verify")}},{key:"searchOnDB",value:function(e){var t=localStorage.getItem("verifyListingTxn");(t=t&&t.split(",")).length>=1&&this.onlockTransectionOnSkip(t),this.loadProductList(e)}},{key:"loadProductList",value:function(e){var t=this,a=(new Date).getTime(),n={endDate:a,mobileNumber:e||null,noOfRecords:20,role:"BOA",startDate:0,txnId:0,type:"next",zones:this.state.selectedZone.length?this.state.selectedZone:null};document.getElementById("showMessage").innerHTML="Please Wait Loading...",Pe.listDocs(n).then(function(e){var a=De(e),n=a&&a.result&&a.result.activationList;t.setState({products:n}),t.setState({searchedproducts:n});var r=n&&n.map(function(e,t){return e.txnId});document.getElementById("showMessage")&&(document.getElementById("showMessage").innerHTML=null==n?"No new documents for verification":""),r?localStorage.setItem("verifyListingTxn",r):localStorage.setItem("verifyListingTxn","")}),setTimeout(function(){t.state.searchedproducts&&0==t.state.searchedproducts.length&&(document.getElementById("showMessage").innerHTML="Server taking time to response please reload again and check")},7e3),Pe.getStaticData("BOA").then(function(e){var a=De(e);t.setState({listofzones:a&&a.result&&a.result.zones})})}},{key:"addProduct",value:function(){this.props.history.push("/add-product")}},{key:"someAction",value:function(){alert("action happed in other commpornt")}},{key:"editProduct",value:function(e,t){console.log("productid, row.sim",e,t),window.localStorage.setItem("selectedProductId",e),window.localStorage.setItem("selectedSim",t),this.props.history.push("/verify-edit")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"render",value:function(){var e,t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(Se.a,Object(f.a)({syt:!0,container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Document Verification")),r.a.createElement(Se.a,{item:!0,xs:10,sm:3},r.a.createElement(Dt.a,{style:Fa.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:Ba},this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))),r.a.createElement(Se.a,{item:!0,xs:2,sm:2},r.a.createElement(k.a,(e={value:this.state.searchby,label:"Search by Mobile No.",style:{width:"100%"},name:"Search by Mobile No."},Object(f.a)(e,"name","searchby"),Object(f.a)(e,"onChange",this.onChange),e))),r.a.createElement(Se.a,{item:!0,xs:2,sm:1,alignItems:"left"},r.a.createElement(C.a,{type:"submit",onClick:function(){return t.searchOnDB(t.state.searchby)},variant:"contained",style:{marginLeft:"20px"}},"Search"))),r.a.createElement("div",{style:{padding:"10px",overflow:"auto",height:"550px"}},r.a.createElement(Te.a,{size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,null,r.a.createElement(zt.a,{style:{width:"170px",whiteSpace:"nowrap"}},r.a.createElement(_t.a,{align:""},"View"),r.a.createElement(_t.a,{align:""},"Mobile Number"),r.a.createElement(_t.a,{align:""},"NIC"),r.a.createElement(_t.a,{align:""},"SIM"),r.a.createElement(_t.a,{align:""},"PEF Count"),r.a.createElement(_t.a,{align:""},"NIC Count"),r.a.createElement(_t.a,{align:""},"Distributor"),r.a.createElement(_t.a,{align:""},"Zone"),r.a.createElement(_t.a,{align:""},"FTA Date"),r.a.createElement(_t.a,{align:""},"Resubmit"),r.a.createElement(_t.a,{align:""},"Verified Date"),r.a.createElement(_t.a,{align:""},"Submit Date"),r.a.createElement(_t.a,{align:""},"Resubmit Date"))),r.a.createElement(Lt.a,{style:{whiteSpace:"nowrap"}},this.state.searchedproducts?this.state.searchedproducts.map(function(e){return r.a.createElement(zt.a,{hover:!0,key:e.txnId},r.a.createElement(_t.a,{align:"center",onClick:function(){return t.editProduct(e.txnId,e.sim)}},r.a.createElement(ja.a,{style:{cursor:"hand"}})),r.a.createElement(_t.a,{component:"th",scope:"row",className:"hidden"},e.mobileNumber),r.a.createElement(_t.a,{align:"center"},e.nic),r.a.createElement(_t.a,{align:"center"},e.sim),r.a.createElement(_t.a,{align:"center"},e.pefCount),r.a.createElement(_t.a,{align:"center"},e.nicCount),r.a.createElement(_t.a,{align:"center"},e.distributer),r.a.createElement(_t.a,{align:"center"},e.zone),r.a.createElement(_t.a,{align:"center"},e.ftaDate.substring(0,10)),r.a.createElement(_t.a,{align:"center"},e.resubmit),r.a.createElement(_t.a,{align:"center"},e.verifiedDate?e.verifiedDate.substring(0,10):"none"),r.a.createElement(_t.a,{align:"center"},e.submitDate?e.submitDate.substring(0,10):"none"),r.a.createElement(_t.a,{align:"center"},e.resubmitDate?e.resubmitDate.substring(0,10):"none"))}):"")),r.a.createElement("div",{style:{color:"gray",fontSize:"15px",textAlign:"center"}}," ",r.a.createElement("br",null)," ",r.a.createElement("span",{id:"showMessage"}," ")))))}}]),t}(r.a.Component),Fa={tableStyle:{display:"flex",justifyContent:"left"},tableRow:{hover:{"&:hover":{background:"green !important"}}},selectStyle:{marginBottom:"0px",minWidth:340,maxWidth:340}},Ma=Aa,La=a(135),_a=a.n(La),Ua=a(1061),za=a(1062),Wa=a(1064),Ha=a(1063),qa=Object(Fe.a)({card:{maxWidth:545},media:{height:170,width:240}});function Za(e){var t=qa(),a=e.imageDetails;return console.log("details",a),r.a.createElement(Ua.a,{className:t.card},r.a.createElement(za.a,null,r.a.createElement(Ha.a,{className:t.media,image:a.img,title:a.title}),r.a.createElement(Wa.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"body2",component:"span"},a.title))))}n.Component,a(496),n.Component;var Va=a(279),Ga=a(159),Ja=a.n(Ga),Ka={defaultIndex:0,duration:1e3,transitionDuration:100,infinite:!1,indicators:!0,arrows:!0,scale:.5,autoplay:!1,onChange:function(e,t){console.log("fade transition from ".concat(e," to ").concat(t))}};var Ya=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).openImageGalary=function(e){console.log("index",e),a.setState({isOpen:!0,photoIndex:e}),jt()(".MuiToolbar-root").hide()},a.state={photoIndex:0,isOpen:!1,scale:0},a.openImageGalary=a.openImageGalary.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=(e.photoIndex,e.isOpen,this.props.imageDetails.imageDetails);console.log(this.props.imageDetails,"vk");var a=[],n=[];return t&&t.map(function(e,l){a.push(t[l].img),n.push(r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:"each-fade",style:{verticalAlign:"middle !important"}},r.a.createElement("div",{className:"image-container",style:{height:"70vh"}},r.a.createElement("div",{style:{textAlign:"center"}}," ",e.title," "),r.a.createElement(Ja.a,{image:e.img,alt:e.title})))))}),r.a.createElement("div",{style:{justifyContent:"center"}},r.a.createElement("div",{className:"slide-container"},r.a.createElement(Va.Slide,Object.assign({ref:this.props.imageDetails.slideRef},Ka),n)))}}]),t}(n.Component),Xa=a(426),$a=a(189),Qa=a.n($a),en=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(m.a)({},a.state,{selectedReasons:Object(m.a)({},a.state.selectedReasons,Object(f.a)({},e,t.target.checked))}))}},a.updateLocalActList=function(e){for(var t=localStorage.getItem("activationList")&&JSON.parse(localStorage.getItem("activationList")),a=-1,n=0;n<t.length;n++)if(t[n].txnId==e){a=n;break}a>-1&&t.splice(a,1),localStorage.setItem("activationList",JSON.stringify(t))},a.onlockTransectionOnSkip=function(e){var t={transactionsIds:[e]};Pe.unlockTransectionsSkip(t).then(function(e){var t=De(e);"ok"!=t.message&&ve.showError("Server Error"+t.message)})},a.skipThisVerify=function(e){a.setState({comments:""}),console.log("here");var t=localStorage.getItem("selectedProductId"),n=localStorage.getItem("verifyListingTxn");n=n&&n.split(",");for(var r="",l=0;l<n.length;l++)if(t==parseInt(n[l])){r=parseInt(n[l+1]);break}a.onlockTransectionOnSkip(t),console.log("next id",r),r?(localStorage.setItem("selectedProductId",r),a.loadOneTransection(),a.setState({approveLoader:!1}),a.setState({approveDone:!1}),a.setState({approveButton:!0}),a.setState({rejectDone:!1}),a.setState({rejectButton:!0,comments:""}),a.slideRef.current.goTo(0)):a.props.history.push("/verify")},a.approveEV=function(e){if(e.preventDefault(),console.log("approve data",a.state),Object.values(a.state.selectedReasons).find(function(e){return 1==e}))ve.showError("Remove reason selections to approve");else{a.setState({approveLoader:!0}),a.setState({approveButton:!1});var t={rejectedReasons:null,comments:a.state.comments,isPOIRejected:a.state.isPOIRejected,isCumtomerPhotoRejected:0,verificationDateTime:new Date,verificationUser:a.state.loginId,isRejected:0,transactionId:a.state.transactionId};Pe.approveDocs(t).then(function(e){var t=De(e);a.setState({approveLoader:!1}),a.setState({approveDone:!0}),console.log(t),setTimeout(function(){a.skipThisVerify()},2e3)})}},a.rejectEV=function(e){if(console.log("Reject Data",a.state),Object.values(a.state.selectedReasons).find(function(e){return 1==e})){a.setState({rejectLoader:!0}),a.setState({rejectButton:!1});for(var t=Object.keys(a.state.selectedReasons),n=[],r=0;r<t.length;r++){var l=t[r]&&t[r].split("-")[0].trim();n.push(l)}console.log("selectd onlyCode",n);var i=Object.keys(a.state.selectedReasons),o=0;for(r=0;r<i.length;r++)if(i[r].includes("POI")){o=1;break}var s={rejectedReasons:n.join(","),comments:a.state.comments,isPOIRejected:o,isCumtomerPhotoRejected:0,verificationDateTime:new Date,verificationUser:a.state.loginId,isRejected:1,transactionId:a.state.transactionId};Pe.approveDocs(s).then(function(e){De(e);a.setState({rejectLoader:!1}),a.setState({rejectDone:!0}),setTimeout(function(){a.skipThisVerify()},2e3)})}else ve.showError("Select reason(s) to reject!")},a.cancel=function(e){a.props.history.push("/verify")},a.onChange=function(e){var t=e.target.value.trim();!t.includes("@")&&!t.includes("$")&&!t.includes("&")&&a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={address1:"",address2:null,address3:null,altContactNumber:"",customerImageUrl:null,customerSignatureUrl:null,deDateTime:null,deUser:null,dob:"",firstName:"",gender:"",lastName:null,middleName:null,mobileNumber:"",pefImageUrl:null,poiBackImageUrl:null,poiFrontImageUrl:null,poiNumber:"",poiType:null,status:"",submittedBy:"",title:"",rejectedReasons:"",transactionId:"",selectedReasons:{},sim:"",loader:!1,approveLoader:!1,approveDone:!1,approveButton:!0,rejectLoader:!1,rejectDone:!1,rejectButton:!0,loginId:"",emailid:"",presentAddress:"",comments:""},a.onChange=a.onChange.bind(Object(S.a)(a)),a.approveEV=a.approveEV.bind(Object(S.a)(a)),a.rejectEV=a.rejectEV.bind(Object(S.a)(a)),a.loadOneTransection=a.loadOneTransection.bind(Object(S.a)(a)),a.onlockTransectionOnSkip=a.onlockTransectionOnSkip.bind(Object(S.a)(a)),a.slideRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"loadOneTransection",value:function(){var e=this,t=localStorage.getItem("selectedProductId");null==t?this.props.history.push("/verify"):Pe.getOneVerify(t).then(function(t){var a=De(t),n=a.result,r="";n&&n.rejectedReasons&&(r=(n.rejectedReasons&&n.rejectedReasons.split("|")).reduce(function(e,t,a,n){return e[t]=!0,e},{}));if(n){e.setState({address1:n.address1,address2:n.address2,address3:n.address3,presentAddress:n.presentAddress,altContactNumber:n.altContactNumber,comments:n.comments,customerImageUrl:n.customerImageUrl,customerSignatureUrl:n.customerSignatureUrl,deDateTime:n.deDateTime,deUser:n.deUser,emailid:n.emailid,alternateNumber:n.alternateNumber,firstName:n.firstName,gender:n.gender,lastName:n.lastName,middleName:n.middleName,mobileNumber:n.mobileNumber,pefImageUrl:n.pefImageUrl,poiBackImageUrl:n.poiBackImageUrl,poiFrontImageUrl:n.poiFrontImageUrl,retailerSignatureUrl:n.retailerSignatureUrl,poiNumber:n.poiNumber,poiType:n.poiType,status:n.status,submittedBy:n.submittedBy,title:n.title,transactionId:n.transactionId,selectedReasons:r,sim:n.simNumber,submittedDate:n.submittedDate,submittedDateStr:n.submittedDateStr,resubmittedDate:n.resubmittedDate,resubmittedDateStr:n.resubmittedDateStr,ftaDate:n.ftaDate,prevRejectedImgs:n.prevData});var l=JSON.parse(localStorage.getItem("userDetails"));console.log("Role",l.roleCode),l&&l.roleCode&&Pe.getStaticData(l.roleCode).then(function(t){console.log("reason:",t);var a=De(t),n="";n="RETAILER"!=e.state.submittedBy?a.result&&a.result.preActivatedRejectionReasons:a.result&&a.result.eActivatedRejectionReasons,e.setState({rejectedReasons:n})}),e.setState({loader:!0,loginId:l.loginId})}else ve.showError(JSON.stringify(a))})}},{key:"componentDidMount",value:function(){this.loadOneTransection(),localStorage.setItem("lastUrl","verify-edit")}},{key:"render",value:function(){var e,t=this.state.rejectedReasons,a=[];if(t)for(var n=0;n<t.length;n++)1==t[n].isMandatory?a.push(r.a.createElement("div",null," ",r.a.createElement("label",{style:{color:"red"}},r.a.createElement("input",{type:"checkbox",onChange:this.handleChange(t[n].exemptReason),checked:!!this.state.selectedReasons[t[n].exemptReason]})," ",t[n].exemptReason," "))):a.push(r.a.createElement("div",null," ",r.a.createElement("label",null," ",r.a.createElement("input",{type:"checkbox",onChange:this.handleChange(t[n].exemptReason),checked:!!this.state.selectedReasons[t[n].exemptReason]})," ",t[n].exemptReason," ")));var l=[];this.state.poiFrontImageUrl&&l.push({img:""+this.state.poiFrontImageUrl,title:"POI Front Image",author:"Front Image",featured:!0}),this.state.customerImageUrl&&l.push({img:""+this.state.customerImageUrl,title:"Customer Image",author:"Customer Image",featured:!0}),this.state.poiBackImageUrl&&l.push({img:""+this.state.poiBackImageUrl,title:"POI Back Image",author:"Back Image",featured:!0}),this.state.customerSignatureUrl&&l.push({img:""+this.state.customerSignatureUrl,title:"Customer Signature",author:"Customer Signature",featured:!0}),this.state.retailerSignatureUrl&&l.push({img:""+this.state.retailerSignatureUrl,title:"Retailer Signature",author:"Retailer Signature",featured:!0});var i=[];this.state.prevRejectedImgs&&this.state.prevRejectedImgs.poiFrontImageUrl&&i.push({img:""+this.state.prevRejectedImgs.poiFrontImageUrl,title:"POI Front Image",author:"Front Image",featured:!0}),this.state.prevRejectedImgs&&this.state.prevRejectedImgs.customerImageUrl&&i.push({img:""+this.state.prevRejectedImgs.customerImageUrl,title:"Customer Image",author:"Customer Image",featured:!0}),this.state.prevRejectedImgs&&this.state.prevRejectedImgs.poiBackImageUrl&&i.push({img:""+this.state.prevRejectedImgs.poiBackImageUrl,title:"POI Back Image",author:"Back Image",featured:!0}),this.state.prevRejectedImgs&&this.state.prevRejectedImgs.customerSignatureUrl&&i.push({img:""+this.state.prevRejectedImgs.customerSignatureUrl,title:"Customer Signature",author:"Customer Signature",featured:!0}),this.state.prevRejectedImgs&&this.state.prevRejectedImgs.retailerSignatureUrl&&i.push({img:""+this.state.prevRejectedImgs.retailerSignatureUrl,title:"Retailer Signature Image",author:"Retailer Signature Image",featured:!0}),this.state.prevRejectedImgs&&this.state.prevRejectedImgs.pefImageUrl&&i.push({img:""+this.state.prevRejectedImgs.pefImageUrl,title:"Pef Image",author:"Pef Image",featured:!0}),console.log("prevRejectedImgs",i);var o=2,s=7,c=3;return"RETAILER"!=this.state.submittedBy&&(o=5,s=5,c=2),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(O.a,{variant:"h6",style:tn.textStyleHeading},"View and Verify Document"),r.a.createElement(Se.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"10px",paddingRight:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:o},r.a.createElement(xt.a,{style:{overflow:"scroll",height:"78vh"}},this.state.loader?"RETAILER"==this.state.submittedBy?r.a.createElement(an,{cafdetails:this.state}):r.a.createElement(nn,{pefImageUrl:this.state.pefImageUrl}):"")),r.a.createElement(Se.a,{item:!0,xs:12,sm:s},r.a.createElement(xt.a,{style:{overflow:"scroll",height:"78vh"}},"image_uploading"==this.state.status?r.a.createElement(O.a,{variant:"h6",style:{color:"gray",textAlign:"center"}},r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),"No documents are uploaded yet"):null,"av_pending"==this.state.status?r.a.createElement(Ya,{imageDetails:{imageDetails:l,slideRef:this.slideRef}}):null,r.a.createElement("br",null),i.length?r.a.createElement(O.a,{variant:"h6"},"Previous Rejected Documents"):null,i.length?r.a.createElement(Ya,{imageDetails:{imageDetails:i,slideRef:this.slideRef}}):null)),r.a.createElement(Se.a,{item:!0,xs:12,sm:c},r.a.createElement(xt.a,{style:{padding:"10px"}},r.a.createElement(O.a,{variant:"h6",style:tn.textStyle},"Verify or Reject"),r.a.createElement("form",{style:tn.formContainer},r.a.createElement(k.a,{label:"Mobile No",required:!0,fullWidth:!0,name:"productName",value:this.state.mobileNumber}),r.a.createElement(k.a,{label:"NIC",required:!0,fullWidth:!0,name:"displayName",value:this.state.poiNumber}),r.a.createElement(k.a,{label:"SIM",required:!0,fullWidth:!0,name:"displayName",value:this.state.sim}),r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement(O.a,{variant:"p"},"Select Reasons")),r.a.createElement("div",null,a),r.a.createElement(k.a,{multiline:!0,rows:2,label:"Comments",fullWidth:!0,margin:"none",name:"comments",value:this.state.comments,onChange:this.onChange}))))),r.a.createElement("br",null),this.state.loader?r.a.createElement("div",{style:tn.footerButton},r.a.createElement(Se.a,(e={container:!0,spacing:2},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","center"),Object(f.a)(e,"alignItems","center"),e),this.state.approveLoader?r.a.createElement(Xa.a,null):"",this.state.approveDone?r.a.createElement(C.a,{variant:"outlined",color:"primary",style:{marginLeft:"20px"}}," ",r.a.createElement(Qa.a,{color:"primary"})," Approved and Loading Next"):"",this.state.approveButton?"image_uploading"==this.state.status?r.a.createElement(C.a,{disabled:!0,variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.approveEV},"Approve"):r.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.approveEV},"Approve"):"",this.state.rejectLoader?r.a.createElement(Xa.a,null):"",this.state.rejectDone?r.a.createElement(C.a,{variant:"outlined",color:"primary",style:{marginLeft:"20px"}}," ",r.a.createElement(Qa.a,{color:"primary"})," Rejected and Loading Next"):"",this.state.rejectButton?r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"20px"},onClick:this.rejectEV},"Reject"):"",r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"20px",backgroundColor:"#33691e"},onClick:this.skipThisVerify}," SKIP "),r.a.createElement(C.a,{variant:"contained",color:"default",style:{marginLeft:"20px"},onClick:this.cancel},"Back to Listing"))):"",r.a.createElement("div",null))}}]),t}(r.a.Component),tn={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},textStyleHeading:{display:"flex",justifyContent:"center"},mainDivAdjustment:{padding:0,backgroundColor:"red"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"center"}},an=function(e){function t(){return Object(E.a)(this,t),Object(v.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainDivAdjustment"},r.a.createElement(Ue.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(O.a,{variant:"h6",style:tn.textStyle}," Acquisition Details"),r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("b",null," Title : ")," ",this.props.cafdetails.title," ",this.props.cafdetails.firstName," ",this.props.cafdetails.middleName," ",this.props.cafdetails.lastName,r.a.createElement("br",null),r.a.createElement("b",null," Gender : "),"  ",this.props.cafdetails.gender,r.a.createElement("br",null),r.a.createElement("b",null," Address : "),"   ",this.props.cafdetails.presentAddress,r.a.createElement("br",null),r.a.createElement("b",null," Alternate  No. :"),"   ",this.props.cafdetails.alternateNumber,r.a.createElement("br",null),r.a.createElement("b",null,"  Email : ")," ",this.props.cafdetails.emailid,r.a.createElement("br",null),r.a.createElement("b",null," FTA Date :"),"  ",this.props.cafdetails.ftaDate?this.props.cafdetails.ftaDate.substring(0,10):"none",r.a.createElement("br",null),r.a.createElement("b",null,"Submit Date :  ")," ",this.props.cafdetails.submittedDateStr?this.props.cafdetails.submittedDateStr.substring(0,10):"none",r.a.createElement("br",null),r.a.createElement("b",null,"Resubmit Date :  ")," ",this.props.cafdetails.resubmittedDateStr?this.props.cafdetails.resubmittedDateStr.substring(0,10):"Not yet resubmitted")))}}]),t}(r.a.Component),nn=function(e){function t(){return Object(E.a)(this,t),Object(v.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e={img:this.props.pefImageUrl,title:"Customer Application Form",author:"Customer Application Form",featured:!0};return this.props.pefImageUrl&&[].push({img:this.props.pefImageUrl,title:"Customer Application Form",author:"Customer Application Form",featured:!0}),r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:tn.textStyle,variant:"body2"}," Customer Application Form "),r.a.createElement(Ja.a,{image:e.img,alt:e.title}))}}]),t}(r.a.Component),rn=en;a(497);function ln(){var e=r.a.useState(0),t=Object(Be.a)(e,2),a=t[0],n=t[1],l=r.a.useState(5),i=Object(Be.a)(l,2);return{page:a,setPage:n,rowsPerPage:i[0],setRowsPerPage:i[1]}}function on(e,t,a,n,r){return{name:e,calories:t,fat:a,carbs:n,protein:r}}on("Cupcake",305,3.7,67,4.3),on("Donut",452,25,51,4.9),on("Eclair",262,16,24,6),on("Frozen yoghurt",159,6,24,4),on("Gingerbread",356,16,49,3.9),on("Honeycomb",408,3.2,87,6.5),on("Ice cream sandwich",237,9,37,4.3),on("Jelly Bean",375,0,94,0),on("KitKat",518,26,65,7),on("Lollipop",392,.2,98,0),on("Marshmallow",318,0,81,2),on("Nougat",360,19,9,37),on("Oreo",437,18,63,4);Object(Fe.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(wa.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}),Object(Fe.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}});var sn={PaperProps:{style:{maxHeight:224,width:250}}},cn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.onlockTransectionOnSkip=function(e){var t={transactionsIds:e};Pe.unlockTransectionsSkip(t).then(function(e){var t=De(e);"ok"!=t.message&&ve.showError("Server Error"+t.message)})},a.onChange=function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value)&&e.target.value.length<=10)&&a.setState({searchby:e.target.value})},a.state={products:[],searchedproducts:null,searchby:"",listingTakingTime:null,listofzones:[],selectedZone:[],zone:""},a.loadProductList=a.loadProductList.bind(Object(S.a)(a)),a.addProduct=a.addProduct.bind(Object(S.a)(a)),a.editProduct=a.editProduct.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.onlockTransectionOnSkip=a.onlockTransectionOnSkip.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.page=ln.page,a.rowsPerPage=ln.rowsPerPage,console.log("Hooks.page: ",ln.page),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.loadProductList(),localStorage.setItem("lastUrl","dataentry")}},{key:"loadProductList",value:function(e){var t=this,a=(new Date).getTime(),n={endDate:a,mobileNumber:e||null,noOfRecords:20,role:"DE",startDate:0,txnId:0,type:"next",zones:this.state.selectedZone.length?this.state.selectedZone:null};document.getElementById("showMessage").innerHTML="Please Wait Loading...",Pe.listDocs(n).then(function(e){var a=De(e);if(a&&a.result&&a.result.activationList){t.setState({products:a&&a.result.activationList}),t.setState({searchedproducts:a&&a.result.activationList});var n=a.result.activationList.map(function(e,t){return e.txnId});n?localStorage.setItem("dataentryListingTxn",n):localStorage.setItem("dataentryListingTxn",""),document.getElementById("showMessage").innerHTML=""}else document.getElementById("showMessage")&&(document.getElementById("showMessage").innerHTML="No new documents for data entry.")}),setTimeout(function(){t.state.searchedproducts&&0==t.state.searchedproducts.length&&(document.getElementById("showMessage").innerHTML="Server taking time to response please reload again and check")},7e3),Pe.getStaticData("DE").then(function(e){var a=De(e);t.setState({listofzones:a&&a.result&&a.result.zones})})}},{key:"addProduct",value:function(){this.props.history.push("/add-product")}},{key:"searchOnDB",value:function(e){var t=localStorage.getItem("dataentryListingTxn");(t=t&&t.split(",")).length>=1&&this.onlockTransectionOnSkip(t),this.loadProductList(e)}},{key:"editProduct",value:function(e){console.log("productid",e),window.localStorage.setItem("dataEntryId",e),this.props.history.push("/data-edit")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"render",value:function(){var e,t,a=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"10px"}},r.a.createElement(Se.a,(t={syt:!0,container:!0,spacing:3},Object(f.a)(t,"container",!0),Object(f.a)(t,"direction","row"),Object(f.a)(t,"justify","right"),Object(f.a)(t,"alignItems","center"),t),r.a.createElement(Se.a,Object(f.a)({item:!0,xs:12},"xs",6),r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Data Entry")),r.a.createElement(Se.a,{item:!0,xs:10,sm:3},r.a.createElement(Dt.a,{style:mn.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:sn},this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))),r.a.createElement(Se.a,{item:!0,xs:10,sm:2,alignItems:"flex-end",alignContent:"flex-end",justify:"flex-end"},r.a.createElement(k.a,(e={value:this.state.searchby,label:"Search by Mobile No.",style:{width:"100%"},name:"Search by Mobile No."},Object(f.a)(e,"name","searchby"),Object(f.a)(e,"onChange",this.onChange),e))),r.a.createElement(Se.a,{item:!0,xs:2,sm:1,alignItems:"flex-end",alignContent:"flex-end",justify:"flex-end"},r.a.createElement(C.a,{type:"submit",onClick:function(){return a.searchOnDB(a.state.searchby)},variant:"contained",style:{marginLeft:"20px"}},"Search"))),r.a.createElement("div",{style:{padding:"10px",overflow:"auto",height:"550px"}},r.a.createElement(Te.a,{size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,{style:{width:"170px",whiteSpace:"nowrap"}},r.a.createElement(zt.a,null,r.a.createElement(_t.a,{align:""},"View"),r.a.createElement(_t.a,{align:""},"Mobile Number"),r.a.createElement(_t.a,{align:""},"NIC"),r.a.createElement(_t.a,{align:""},"SIM"),r.a.createElement(_t.a,{align:""},"PEF Count"),r.a.createElement(_t.a,{align:""},"NIC Count"),r.a.createElement(_t.a,{align:""},"Distributor"),r.a.createElement(_t.a,{align:""},"Zone"),r.a.createElement(_t.a,{align:""},"FTA Date"),r.a.createElement(_t.a,{align:""},"Resubmit"),r.a.createElement(_t.a,{align:""},"Verified Date"),r.a.createElement(_t.a,{align:""},"Submit Date"),r.a.createElement(_t.a,{align:""},"Resubmit Date"))),r.a.createElement(Lt.a,{style:{width:"170px",whiteSpace:"nowrap"}},this.state.searchedproducts?this.state.searchedproducts.map(function(e){return r.a.createElement(zt.a,null,r.a.createElement(_t.a,{align:"center",onClick:function(){return a.editProduct(e.txnId)},hover:!0,key:e.txnId},r.a.createElement(ja.a,{style:{cursor:"hand"}})),r.a.createElement(_t.a,{component:"th",scope:"row",className:"hidden"},e.mobileNumber),r.a.createElement(_t.a,{align:"center"},e.nic),r.a.createElement(_t.a,{align:"center"},e.sim),r.a.createElement(_t.a,{align:"center"},e.pefCount),r.a.createElement(_t.a,{align:"center"},e.nicCount),r.a.createElement(_t.a,{align:"center"},e.distributer),r.a.createElement(_t.a,{align:"center"},e.zone),r.a.createElement(_t.a,{align:"center"},e.ftaDate.substring(0,10)),r.a.createElement(_t.a,{align:"center"},e.resubmit),r.a.createElement(_t.a,{align:"center"},e.verifiedDate?e.verifiedDate.substring(0,10):"none"),r.a.createElement(_t.a,{align:"center"},e.submitDate?e.submitDate.substring(0,10):"none"),r.a.createElement(_t.a,{align:"center"},e.resubmitDate?e.resubmitDate.substring(0,10):"none"))}):"")),r.a.createElement("div",{style:{color:"gray",fontSize:"15px",textAlign:"center"}}," ",r.a.createElement("br",null)," ",r.a.createElement("span",{id:"showMessage"}," ")))))}}]),t}(r.a.Component),mn={tableStyle:{display:"flex",justifyContent:"left"},selectStyle:{marginBottom:"0px",minWidth:340,maxWidth:340}},dn=cn;Object(Fe.a)(function(e){return{root:{padding:e.spacing(3,2)}}});n.Component,a(536),Object(Fe.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}});function un(e){var t=r.a.useState(new Date),a=Object(Be.a)(t,2),n=a[0],l=a[1],i=r.a.useState(new Date),o=Object(Be.a)(i,2),s=(o[0],o[1],new Date);s.setFullYear(s.getFullYear()-15);var c=new Date;return n&&n.getDate()==c.getDate()&&n.getFullYear()==c.getFullYear()&&n.getMonth()==c.getMonth()&&l(null),e.callbackFromParent.startDate||(n=null),r.a.createElement(wt.a,{utils:kt.default},r.a.createElement(Se.a,{container:!0,justify:"space-around"},r.a.createElement(It.b,{margin:"normal",disableFuture:"true",allowKeyboardControl:"true",maxDate:s,id:"date-picker-dialog",label:"Date of Birth",format:"dd/MM/yyyy",value:n,onChange:function(t){l(t),e.callbackFromParent.myCallback(t,"START_DATE")},KeyboardButtonProps:{"aria-label":"change date"}})))}Object(Fe.a)({card:{maxWidth:545},media:{height:170,width:240}});n.Component,a(1065),a(1066),a(1068),a(1067),a(533),Object(Fe.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}});a(1005);var pn,gn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).myCallback=function(e,t){if("START_DATE"===t){var n=e.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).replace(/ /g,"/");a.setState({dob:n})}},a.updateLocalActList=function(e){for(var t=localStorage.getItem("dataEntryActivationList")&&JSON.parse(localStorage.getItem("dataEntryActivationList")),a=-1,n=0;n<t.length;n++)if(t[n].txnId==e){a=n;break}a>-1&&t.splice(a,1),localStorage.setItem("dataEntryActivationList",JSON.stringify(t))},a.onlockTransectionOnSkip=function(e){var t={transactionsIds:[e]};Pe.unlockTransectionsSkip(t).then(function(e){"ok"!=De(e).message&&ve.showError("Didn't unlocked")})},a.skipThisVerify=function(e){a.setState({txnId:"",mobileNumber:"",poiNumber:"",poiType:"",title:"",gender:"",dob:"",rejectedReasons:"",approveLoader:!1,approveDone:!1,approveButton:!0,loginId:"",firstName:"",middleName:"",lastName:"",altContactNumber:"",propMobile:"",emailid:"",address1:"",address2:"",address3:"",customerImageUrl:"",presentAddress:"",pefImageUrl:"",comment:""});var t=localStorage.getItem("dataEntryId"),n=localStorage.getItem("dataentryListingTxn");n=n&&n.split(",");for(var r="",l=0;l<n.length;l++)if(t==parseInt(n[l])){r=parseInt(n[l+1]);break}a.onlockTransectionOnSkip(t),r?(localStorage.setItem("dataEntryId",r),a.loadOneTransection(),a.slideRef.current.goTo(0),a.setState({approveLoader:!1}),a.setState({approveDone:!1}),a.setState({approveButton:!0})):a.props.history.push("/dataentry")},a.handleChange=function(e){return function(t){a.setState(Object(m.a)({},a.state,Object(f.a)({},e,t.target.checked)))}},a.submitDataEntry=function(e){if(e.preventDefault(),a.state.firstName)if(a.state.comment&&a.state.comment.length>200)ve.showError("Comments allow upto 200 characters only");else{a.setState({approveLoader:!0}),a.setState({approveButton:!1});var t={transactionId:localStorage.getItem("dataEntryId"),poiNumber:a.state.poiNumber,poiType:a.state.poiType,title:a.state.title,gender:a.state.gender,dob:a.state.dob,firstName:a.state.firstName,middleName:a.state.middleName,lastName:a.state.lastName,address1:a.state.address1,address2:a.state.address2,address3:a.state.address3,altContactNumber:a.state.altContactNumber,comments:a.state.comment,deDateTime:new Date,deUser:a.state.loginId,emailid:a.state.emailid};Pe.saveDataEntry(t).then(function(e){De(e),a.setState({approveLoader:!1}),a.setState({approveDone:!0}),setTimeout(function(){a.skipThisVerify()},2e3)})}else ve.showError("Missing First Name")},a.reject=function(e){if(e.preventDefault(),ve.showSuccess("Rejected"),a.state.productName&&a.state.displayName&&a.state.servingTimeInMins&&a.state.priority&&a.state.iconUrl){var t={id:a.state.id,active:a.state.active,onlineBooking:a.state.onlineBooking,showRecent:a.state.showRecent,productName:a.state.productName,displayName:a.state.displayName,servingTimeInMins:a.state.servingTimeInMins,priority:a.state.priority,iconUrl:a.state.iconUrl,tagUrl:a.state.tagUrl,helpTextImage:a.state.helpTextImage,helpText:a.state.helpText};Pe.updateProduct(t).then(function(e){De(e),a.props.history.push("/dataentry")})}else ve.showError("Missing required fields")},a.cancel=function(e){a.props.history.push("/dataentry")},a.onChange=function(e){var t=e.target.value.trim();!t.includes("@")&&!t.includes("$")&&!t.includes("&")&&a.setState(Object(f.a)({},e.target.name,e.target.value)),"altContactNumber"==e.target.name&&e.target.value.length>10&&a.setState({altContactNumber:e.target.value.substring(0,10)}),("title"==e.target.name&&"Ms"==e.target.value||"Mrs"==e.target.value)&&a.setState({gender:"F"}),"title"==e.target.name&&"Mr"==e.target.value&&a.setState({gender:"M"})},a.onChangeDob=function(e){(e.target.value&&e.target.value.split("-")[0]).length>4||a.setState(Object(f.a)({},e.target.name,e.target.value))},a.state={txnId:"",mobileNumber:"",poiNumber:"",poiType:"",title:"",gender:"",dob:"",rejectedReasons:"",approveLoader:!1,approveDone:!1,approveButton:!0,loginId:"",firstName:"",middleName:"",lastName:"",altContactNumber:"",propMobile:"",emailid:"",address1:"",address2:"",address3:"",customerImageUrl:"",presentAddress:"",pefImageUrl:"",comment:""},a.updateLocalActList=a.updateLocalActList.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.skipThisVerify=a.skipThisVerify.bind(Object(S.a)(a)),a.loadOneTransection=a.loadOneTransection.bind(Object(S.a)(a)),a.myCallback=a.myCallback.bind(Object(S.a)(a)),a.slideRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"loadOneTransection",value:function(){var e=this,t=localStorage.getItem("dataEntryId");if(null==t)this.props.history.push("/dataentry");else{Pe.getOneDataEntry(t).then(function(t){var a=De(t).result,n="";(a&&"Ms"==a.title||"Mrs"==a.title)&&(n="F"),a&&"Mr"==a.title&&(n="M");var r="";a&&a.rejectedReasons&&(r=a.rejectedReasons),a&&e.setState({mobileNumber:a.mobileNumber,poiNumber:a.poiNumber,poiType:a.poiType,customerImageUrl:a.customerImageUrl,customerSignatureUrl:a.customerSignatureUrl,poiBackImageUrl:a.poiBackImageUrl,poiFrontImageUrl:a.poiFrontImageUrl,retailerSignatureUrl:a.retailerSignatureUrl,pefImageUrl:a.pefImageUrl,rejectedReasons:r,title:a.title,gender:n,firstName:a.firstName,altContactNumber:a.altContactNumber,emailid:a.emailid,presentAddress:a.presentAddress})});var a=JSON.parse(localStorage.getItem("userDetails"));this.setState({loginId:a.loginId}),Pe.getStaticData("DE").then(function(t){var a=De(t);e.setState({propertiesName:a.result&&a.result.screenFields&&a.result.screenFields[0].fields})})}}},{key:"componentDidMount",value:function(){this.loadOneTransection(),localStorage.setItem("lastUrl","data-edit"),document.getElementById("addressone")&&(document.getElementById("addressone").style.fontSize="12px"),document.getElementById("addresstwo")&&(document.getElementById("addresstwo").style.fontSize="12px"),document.getElementById("addressthree")&&(document.getElementById("addressthree").style.fontSize="12px"),document.getElementById("presentAddress")&&(document.getElementById("presentAddress").style.fontSize="12px"),document.getElementById("rejectedReasons")&&(document.getElementById("rejectedReasons").style.fontSize="12px")}},{key:"render",value:function(){var e,t=[];this.state.poiFrontImageUrl&&t.push({img:""+this.state.poiFrontImageUrl,title:"POI Front Image",author:"Front Image",featured:!0}),this.state.customerImageUrl&&t.push({img:""+this.state.customerImageUrl,title:"Customer Image",author:"Customer Image",featured:!0}),this.state.poiBackImageUrl&&t.push({img:""+this.state.poiBackImageUrl,title:"POI Back Image",author:"Back Image",featured:!0}),this.state.customerSignatureUrl&&t.push({img:""+this.state.customerSignatureUrl,title:"Customer Signature",author:"Customer Signature",featured:!0}),this.state.retailerSignatureUrl&&t.push({img:""+this.state.retailerSignatureUrl,title:"Retailer Signature",author:"Retailer Signature",featured:!0}),this.state.pefImageUrl&&t.push({img:this.state.pefImageUrl,title:"PEF Image",author:"PEF Image",featured:!0});var a={myCallback:this.myCallback,startDate:this.state.dob,endDate:""};return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(O.a,{variant:"h6",style:hn.textStyle},"Data Entry Details"),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:1},r.a.createElement(Se.a,{item:!0,xs:12,sm:8,style:{overflow:"scroll"}},r.a.createElement(xt.a,{style:{paddingLeft:"5px",paddingRight:"5px",height:"80vh",width:"135vh"}},r.a.createElement(Ya,{imageDetails:{imageDetails:t,slideRef:this.slideRef}}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement(xt.a,{style:{paddingLeft:"20px",paddingRight:"20px",paddingBottom:"5px"}},r.a.createElement(O.a,{variant:"body1",style:hn.textStyle},r.a.createElement("b",null,"Update User Details")),r.a.createElement("form",{id:"dataentryform",style:hn.formContainer},r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Mobile No",fullWidth:!0,disabled:!0,name:"mobileNumber",value:this.state.mobileNumber,onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{type:"number",label:"Alternate Contact No",value:this.state.altContactNumber,fullWidth:!0,name:"altContactNumber",onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement(k.a,{label:"Email id",fullWidth:!0,name:"emailid",value:this.state.emailid,onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:hn.selectStyle},r.a.createElement(xe.a,{htmlFor:"gender"},"POI Type"),r.a.createElement(St.a,{value:this.state.poiType,name:"poiType",onChange:this.onChange},r.a.createElement(Ot.a,{value:"NIC"},"NIC"),r.a.createElement(Ot.a,{value:"DL"},"DL"),r.a.createElement(Ot.a,{value:"PASSPORT"},"PASSPORT")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"POI Number",fullWidth:!0,name:"poiNumber",value:this.state.poiNumber,onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:hn.selectStyle},r.a.createElement(xe.a,{htmlFor:"title"},"Title"),r.a.createElement(St.a,{value:this.state.title,name:"title",onChange:this.onChange},r.a.createElement(Ot.a,{value:"Mr"},"Mr"),r.a.createElement(Ot.a,{value:"Ms"},"Ms"),r.a.createElement(Ot.a,{value:"Mrs"},"Mrs")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"First Name",value:this.state.firstName,required:!0,fullWidth:!0,name:"firstName",onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Middle Name",value:this.state.middleName,fullWidth:!0,name:"middleName",onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{label:"Last Name",value:this.state.lastName,fullWidth:!0,name:"lastName",onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(un,{callbackFromParent:a})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt.a,{style:hn.selectStyle},r.a.createElement(xe.a,{htmlFor:"gender"},"Gender"),r.a.createElement(St.a,{value:this.state.gender,name:"gender",onChange:this.onChange},r.a.createElement(Ot.a,{value:"M"},"Male"),r.a.createElement(Ot.a,{value:"F"},"Female"))))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(xe.a,{style:{fontSize:"12px"}},"Present Address"),r.a.createElement("div",{id:"presentAddress",style:hn.MuiTextField},this.state.presentAddress," ")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{id:"addressone",label:"Address 1",value:this.state.address1,fullWidth:!0,name:"address1",onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{id:"addresstwo",label:"Address 2",value:this.state.address2,fullWidth:!0,name:"address2",onChange:this.onChange})),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{id:"addressthree",label:"Address 3",value:this.state.address3,fullWidth:!0,name:"address3",onChange:this.onChange}))),r.a.createElement(Se.a,{spacing:1,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(xe.a,{style:{fontSize:"12px"}},"Rejected Reasons"),r.a.createElement("div",{id:"rejectedReasons",style:hn.MuiTextField},this.state.rejectedReasons," ")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{multiline:!0,variyant:!0,rows:2,value:this.state.comment,label:"Comments",fullWidth:!0,margin:"none",name:"comment",onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Se.a,(e={container:!0,spacing:24,style:{paddingTop:"4px"}},Object(f.a)(e,"container",!0),Object(f.a)(e,"direction","row"),Object(f.a)(e,"justify","center"),Object(f.a)(e,"alignItems","center"),e),this.state.approveLoader?r.a.createElement(Xa.a,null):"",this.state.approveDone?r.a.createElement(C.a,{style:{marginLeft:"20px"},variant:"outlined",color:"primary"}," ",r.a.createElement(Qa.a,{color:"primary"})," Saved & Loading Next"):"",this.state.approveButton?r.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.submitDataEntry},"Submit"):"",r.a.createElement(C.a,{variant:"contained",color:"secondary",style:{marginLeft:"20px",backgroundColor:"#33691e"},onClick:this.skipThisVerify}," SKIP "),r.a.createElement(C.a,{variant:"contained",color:"default",style:{marginLeft:"20px"},onClick:this.cancel},"Back to Listing"))))))),r.a.createElement("div",null))}}]),t}(r.a.Component),hn={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},yn=gn,fn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),"mobile"==e.target.name&&e.target.value.length>10&&a.setState({mobile:e.target.value.substring(0,10)}),"sim"==e.target.name&&e.target.value.length>20&&a.setState({sim:e.target.value.substring(0,20)})},a.onChangeFileUpload=function(e){console.log(e.target.name),a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onUploadFiles=function(e){if(console.log("imageType",a.state[e]),a.state[e]){a.setState(Object(f.a)({},e+"_loader",!0)),a.setState(Object(f.a)({},e+"_upload",!1));var t=new FormData;t.append("file",a.state[e]),t.append("transactionId",a.state.txnId),t.append("isResubmit",0),t.append("ImageType",e),Pe.uploadDistrubuter(t).then(function(t){var n=De(t);200==n.status&&"ok"==n.message?(a.setState(Object(f.a)({},e+"_loader",!1)),document.getElementById(e+"_response").innerHTML=n.result.message,document.getElementById(e+"_file").value="",a.setState(Object(f.a)({},e,null))):(a.setState(Object(f.a)({},e+"_loader",!1)),a.setState(Object(f.a)({},e+"_upload",!0)))})}else ve.showError("Please select a "+e.split("_").join(" ")+".")},a.state={products:[],mobile:"",sim:"",txnId:"",user_image:!1,user_image_upload:!1,user_signature_loader:!1,user_signature_upload:!1,retailer_signature_loader:!1,retailer_signature_upload:!1,poi_front_image_loader:!1,poi_front_image_upload:!1,poi_back_image_loader:!1,poi_back_image_upload:!1,pef_image_loader:!1,pef_image_upload:!1,pef_image_response:!1,poi_front_image_response:!1,poi_back_image_response:!1},a.loadProductList=a.loadProductList.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.searchOnDB=a.searchOnDB.bind(Object(S.a)(a)),a.onUploadFiles=a.onUploadFiles.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){}},{key:"loadProductList",value:function(){var e=this,t=(new Date).getTime(),a={zone:"West 1",startDate:t-2592e5,endDate:t,type:"NEXT",noOfRecords:20};Pe.listDocs(a).then(function(t){var a=De(t);a.result&&a.result.activationList&&e.setState({products:a.result.activationList})})}},{key:"searchOnDB",value:function(){var e=this,t={mobileNumber:this.state.mobile,simNumber:this.state.sim};Pe.searchDistributer(t).then(function(t){var a=De(t);a.result&&a.result.transactionId?(e.setState({txnId:a.result.transactionId}),e.setState({user_image_upload:!0,user_signature_upload:!0,retailer_signature_upload:!0}),e.setState({poi_front_image_upload:a.result.poiFrontPending,poi_back_image_upload:a.result.poiBackPending,pef_image_upload:a.result.pefFPending}),a.result.pefFPending||e.setState({pef_image_response:!0}),a.result.poiFrontPending||e.setState({poi_front_image_response:!0}),a.result.poiBackPending||e.setState({poi_back_image_response:!0})):(e.setState({pef_image_response:!1,poi_front_image_response:!1,poi_back_image_response:!1}),e.setState({txnId:""}),e.setState({user_image_upload:!1}))}),document.getElementById("uploadform").reset(),document.getElementById("poi_front_image_response").innerHTML="",document.getElementById("poi_back_image_response").innerHTML="",document.getElementById("pef_image_response").innerHTML="",this.setState({user_image_upload:!1,user_signature_upload:!1,retailer_signature_upload:!1}),this.setState({poi_front_image_upload:!1,poi_back_image_upload:!1,pef_image_upload:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),e.target.reset()}},{key:"render",value:function(){var e,t,a,n=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"30px"}},r.a.createElement(Ee.a,null,r.a.createElement("form",{onSubmit:function(){return n.searchOnDB(n.state.searchby)}},r.a.createElement(Se.a,(a={spacing:1,container:!0},Object(f.a)(a,"container",!0),Object(f.a)(a,"direction","row"),Object(f.a)(a,"justify","right"),Object(f.a)(a,"alignItems","center"),a),r.a.createElement(Se.a,{item:!0,xs:12,sm:7},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Distributor document upload")),r.a.createElement(Se.a,{item:!0,xs:12,sm:2,alignItems:"flex-end",alignContent:"flex-end",justify:"flex-end"},r.a.createElement(k.a,(e={type:"number",value:this.state.mobile,label:"Mobile No.",style:{width:"100%"},name:"Search by Mobile No."},Object(f.a)(e,"name","mobile"),Object(f.a)(e,"onChange",this.onChange),e))),r.a.createElement(Se.a,{item:!0,xs:12,sm:2,alignItems:"flex-end",alignContent:"flex-end",justify:"flex-end"},r.a.createElement(k.a,(t={type:"text",value:this.state.sim,label:"Sim No.",style:{width:"100%"},name:"Search by Mobile No."},Object(f.a)(t,"name","sim"),Object(f.a)(t,"onChange",this.onChange),t))),r.a.createElement(Se.a,{item:!0,xs:12,sm:1,alignItems:"flex-end",alignContent:"flex-end",justify:"flex-end"},r.a.createElement(C.a,{type:"button",onClick:function(){return n.searchOnDB()},variant:"contained",style:{marginLeft:"20px"}},"Search")))),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(Se.a,{spacing:5,alignItems:"center",style:En.textStyle,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement("span",{style:{fontSize:"18px"}},"  Mobile Number: ",r.a.createElement("b",null," ",this.state.mobile," ")," ")),r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement("span",{style:{fontSize:"18px"}},"  Sim Number:  ",r.a.createElement("b",null,this.state.sim,"  "),"  ")),r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement("span",{style:{fontSize:"18px"}},"  TxnId:",r.a.createElement("b",null,"  ",this.state.txnId),"  ")))),r.a.createElement("br",null),r.a.createElement("form",{id:"uploadform",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(Se.a,{spacing:5,alignItems:"center",style:En.textStyle,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement(xe.a,{htmlFor:"gender"},"POI Front Image"),r.a.createElement("input",{id:"poi_front_image_file",type:"file",name:"poi_front_image",onChange:this.onChangeFileUpload})),r.a.createElement(Se.a,{item:!0,xs:12,sm:2},this.state.poi_front_image_loader?r.a.createElement(Xa.a,null):"",this.state.poi_front_image_upload?r.a.createElement(C.a,{type:"submit",onClick:function(){return n.onUploadFiles("poi_front_image")},variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload"):r.a.createElement(C.a,{type:"submit",disabled:!0,variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement("span",{style:{fontSize:"16px",color:"green"}},r.a.createElement("b",{id:"poi_front_image_response"}," ",this.state.poi_front_image_response," ")," "),this.state.poi_front_image_response?r.a.createElement("span",null,r.a.createElement("b",null," POI front image already uploaded ")," "):""))),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(Se.a,{spacing:5,alignItems:"center",style:En.textStyle,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement(xe.a,{htmlFor:"gender"},"POI Back Image"),r.a.createElement("input",{id:"poi_back_image_file",type:"file",name:"poi_back_image",onChange:this.onChangeFileUpload})),r.a.createElement(Se.a,{item:!0,xs:12,sm:2},this.state.poi_back_image_loader?r.a.createElement(Xa.a,null):"",this.state.poi_back_image_upload?r.a.createElement(C.a,{type:"submit",onClick:function(){return n.onUploadFiles("poi_back_image")},variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload"):r.a.createElement(C.a,{type:"submit",disabled:!0,variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement("span",{style:{fontSize:"16px",color:"green"}},r.a.createElement("b",{id:"poi_back_image_response"}," ",this.state.poi_back_image_response," ")," "),this.state.poi_back_image_response?r.a.createElement("span",null,r.a.createElement("b",null," POI back image already uploaded ")," "):""))),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"20px"}},r.a.createElement(Se.a,{spacing:5,alignItems:"center",style:En.textStyle,container:!0,direction:"row"},r.a.createElement(Se.a,{item:!0,xs:12,sm:4},r.a.createElement(xe.a,{htmlFor:"gender"},"PEF Image"),r.a.createElement("input",{id:"pef_image_file",type:"file",name:"pef_image",onChange:this.onChangeFileUpload}),r.a.createElement(xe.a,{style:{fontSize:"14px"}},"Note: It's sigle image")),r.a.createElement(Se.a,{item:!0,xs:12,sm:2},this.state.pef_image_loader?r.a.createElement(Xa.a,null):"",this.state.pef_image_upload?r.a.createElement(C.a,{type:"submit",onClick:function(){return n.onUploadFiles("pef_image")},variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload"):r.a.createElement(C.a,{type:"submit",disabled:!0,variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Upload")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement("span",{style:{fontSize:"16px",color:"green"}},r.a.createElement("b",{id:"pef_image_response"},"  ")," "),this.state.pef_image_response?r.a.createElement("span",null,r.a.createElement("b",null," PFE image already uploaded ")," "):""))))),r.a.createElement("br",null),"  ",r.a.createElement("br",null),"  ",r.a.createElement("br",null)))}}]),t}(r.a.Component),En={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},show:{display:"block"},hide:{display:"node"}},bn=fn,vn={PaperProps:{style:{maxHeight:224,width:250}}},Dn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),e.target.value.includes("Select All")&&(a.setState({selectedZone:a.state.listofzones}),a.setState({selectAllzone:"Remove All"})),e.target.value.includes("Remove All")&&(a.setState({selectedZone:[]}),a.setState({selectAllzone:"Select All"}))},a.addProduct=function(e){console.log(a.props),a.props.history.push("/add-banner")},a.addProduct=a.addProduct.bind(Object(S.a)(a)),a.editProduct=a.editProduct.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.zoneChange=a.zoneChange.bind(Object(S.a)(a)),a.state={products:[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All"},a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadBannerList(),localStorage.setItem("lastUrl","banners"),Pe.getStaticData("ADMIN").then(function(t){var a=De(t);e.setState({listofzones:a.result&&a.result.zones})})}},{key:"loadBannerList",value:function(){var e=this,t={zones:this.state.selectedZone.length?this.state.selectedZone:null};Yt.getAllBanner(t).then(function(t){var a=De(t);console.log(a),a.result&&e.setState({products:a.result})})}},{key:"editProduct",value:function(e){window.localStorage.removeItem("selectedBannerId"),window.localStorage.setItem("selectedBannerId",e),this.props.history.push("/banner-edit")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"dateFormat",value:function(e){var t=new Date(e);return t.toLocaleDateString()+" "+t.toTimeString().substring(0,t.toTimeString().indexOf("GMT"))}},{key:"render",value:function(){var e=this;return console.log(this.props,"PROPS"),r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(Se.a,Object(f.a)({syt:!0,container:!0,spacing:1,direction:"row",alignItems:"center"},"container",!0),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Banner Details")),r.a.createElement(Se.a,{item:!0,xs:10,sm:3},r.a.createElement(Dt.a,{style:Sn.selectStyle},r.a.createElement(xe.a,{id:"demo-mutiple-name-label"},"Select Zone"),r.a.createElement(St.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,name:"selectedZone",value:this.state.selectedZone,onChange:this.zoneChange,input:r.a.createElement(Re.a,null),MenuProps:vn},r.a.createElement(Ot.a,{key:this.state.selectAllzone,value:this.state.selectAllzone},r.a.createElement("b",null," ",this.state.selectAllzone,"   ")),this.state.listofzones?this.state.listofzones.map(function(e){return r.a.createElement(Ot.a,{key:e,value:e},e)}):""))),r.a.createElement(Se.a,{item:!0,xs:2,sm:1},r.a.createElement(C.a,{type:"submit",onClick:function(){return e.loadBannerList()},variant:"contained",style:{marginLeft:"20px"}},"Search")),r.a.createElement(Se.a,{item:!0,xs:2,sm:2,alignItems:"left"},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){return e.addProduct()}},"Add Banner"))),r.a.createElement(Te.a,{size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},r.a.createElement(zt.a,{variant:"head"},r.a.createElement(_t.a,{align:"center"},"Icon"),r.a.createElement(_t.a,{align:"center"},"Title"),r.a.createElement(_t.a,{align:"center"},"Banner Type"),r.a.createElement(_t.a,{align:"center"},"Active"),r.a.createElement(_t.a,{align:"center"},"Category Type"),r.a.createElement(_t.a,{align:"center"},"Publish Date"),r.a.createElement(_t.a,{align:"center"},"Expire Days"))),r.a.createElement(Lt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.products&&this.state.products?this.state.products.map(function(t){return r.a.createElement(zt.a,{key:t.productId,onClick:function(){return e.editProduct(t.bannerId)}},r.a.createElement(_t.a,{align:"center"}," ",r.a.createElement("img",{style:{width:"100px",height:"50px"},src:t.imageURL})," "),r.a.createElement(_t.a,{align:"center"},t.title),r.a.createElement(_t.a,{align:"center"},t.bannerType),r.a.createElement(_t.a,{align:"center"},t.active?"Active":"Inactive"),r.a.createElement(_t.a,{align:"center"},t.categoryType),r.a.createElement(_t.a,{align:"center"},t.publishDay?new Date(t.publishDay).toString().substring(0,15):""),r.a.createElement(_t.a,{align:"center"},t.expireDay?new Date(t.expireDay).toString().substring(0,15):""))}):r.a.createElement(aa.a,null)))))}}]),t}(r.a.Component),Sn={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{marginBottom:"0px",minWidth:300,maxWidth:300}},xn=Dn;r.a.Component;var On=(pn={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},input:{display:"none"}},Object(f.a)(pn,"textStyle",{display:"flex",justifyContent:"center"}),Object(f.a)(pn,"multiselect",{minWidth:"100%",marginBottom:"10px"}),Object(f.a)(pn,"chips",{display:"flex",flexWrap:"wrap"}),Object(f.a)(pn,"chip",{margin:3}),pn),kn=a(356),Cn=a.n(kn);function jn(e){return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var wn=a(1071),In=a(1069),Tn=a(1070),Rn=a(534),Pn=a.n(Rn),Nn=Object(Fe.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}});function Bn(e){var t=Nn(),a=e.message;return console.log(a),r.a.createElement("div",{className:t.root},r.a.createElement(wn.a,null,r.a.createElement(In.a,{expandIcon:r.a.createElement(Pn.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:t.heading},"Response")),r.a.createElement(Tn.a,null,r.a.createElement("table",{style:{width:"none"}},r.a.createElement(Ut.a,null,r.a.createElement(zt.a,null,r.a.createElement(_t.a,null,"LaId"),r.a.createElement(_t.a,null,"Reason"))),r.a.createElement(Lt.a,null,a&&a.map(function(e){return r.a.createElement(zt.a,{key:e.name},r.a.createElement(_t.a,{align:"right"},e.laId),r.a.createElement(_t.a,{align:"right"},e.reason))}))))))}var An=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChangeFileUpload=function(e){var t=e.target.files[0]&&e.target.files[0].name.split(".").pop();if(console.log("extention",t),"xlsx"!=t)return ve.showError("Only xlsx file allow to upload"),void(document.getElementById(e.target.name).value="");console.log(e.target.name),a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onChange=function(e){a.setState({searchby:e.target.value})},a.state={products:[],retailerOnboardExcelTemplatePath:"",retailerDeleteExcelTemplatePath:"",deletefile:"",searchby:"",retailerDetails:"",uploadResponse:"",deleteResponse:""},a.relailerOnboard=a.relailerOnboard.bind(Object(S.a)(a)),a.relailerDelete=a.relailerDelete.bind(Object(S.a)(a)),a.searchRetailer=a.searchRetailer.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;Pe.getStaticData("ADMIN").then(function(t){var a=De(t);e.setState({listofzones:a.result&&a.result.zones})})}},{key:"relailerOnboard",value:function(){var e=this;if(console.log(this.state.uploadfile),this.state.uploadfile&&""!=document.getElementById("uploadfile").value){var t=localStorage.getItem("userDetails");t=t&&JSON.parse(t);var a=new FormData;a.append("file",this.state.uploadfile),Ie.uploadRetailer(a).then(function(t){var a=De(t);200==a.status&&"ok"==a.message&&ve.showSuccess("Agent On-Boarded successfully."),document.getElementById("uploadfile").value="",a.result&&a.result.rejectedAgents&&e.setState({uploadResponse:a.result.rejectedAgents})})}else ve.showError("Missing required file to upload")}},{key:"relailerDelete",value:function(){var e=this;if(this.state.deletefile&&""!=document.getElementById("deletefile").value){var t=localStorage.getItem("userDetails");t=t&&JSON.parse(t);var a=new FormData;a.append("file",this.state.deletefile),Ie.deleteRetailer(a).then(function(t){var a=De(t);200==a.status&&"ok"==a.message&&ve.showSuccess("Agent info deleted successfully."),document.getElementById("deletefile").value="",a.result&&a.result.rejectedAgents&&e.setState({deleteResponse:a.result.rejectedAgents})})}else ve.showError("Missing required file to upload")}},{key:"searchRetailer",value:function(){var e=this;if(this.state.searchby){var t=localStorage.getItem("userDetails");t=t&&JSON.parse(t),Ie.searchRetailer(this.state.searchby).then(function(t){var a=De(t);a.result&&e.setState({retailerDetails:[a.result[0]]}),console.log("retailerDetails",e.state.retailerDetails)})}else ve.showError("Type by lapu number or Retailer AirtelId Id ")}},{key:"render",value:function(){var e,t,a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement("div",{style:{padding:"40px"}},r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(Se.a,(a={syt:!0,container:!0,spacing:24},Object(f.a)(a,"container",!0),Object(f.a)(a,"direction","row"),Object(f.a)(a,"justify","right"),Object(f.a)(a,"alignItems","center"),a),r.a.createElement(Se.a,{item:!0,xs:12,sm:7},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Back Office User Search")),r.a.createElement(Se.a,(e={item:!0,xs:12,sm:3},Object(f.a)(e,"item",!0),Object(f.a)(e,"alignItems","flex-end"),e),r.a.createElement(k.a,{type:"text",value:this.state.searchby,label:"Search User",style:{width:"100%"},name:"searchby",onChange:this.onChange})),r.a.createElement(Se.a,(t={item:!0,xs:12,sm:2},Object(f.a)(t,"item",!0),Object(f.a)(t,"alignItems","flex-end"),t),r.a.createElement(C.a,{startIcon:r.a.createElement(Cn.a,null),variant:"contained",color:"",style:{marginLeft:"20px"},onClick:this.searchRetailer},"Search"))),r.a.createElement("div",{style:{padding:"10px",overflow:"auto",height:"100px"}},r.a.createElement(Te.a,{size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,null,r.a.createElement(zt.a,{style:{width:"170px",whiteSpace:"nowrap"}},r.a.createElement(_t.a,{align:""},"User Id"),r.a.createElement(_t.a,{align:""},"Name "),r.a.createElement(_t.a,{align:""},"Msisdn"),r.a.createElement(_t.a,{align:""},"Email"),r.a.createElement(_t.a,{align:""},"TL ID"),r.a.createElement(_t.a,{align:""},"TL No."),r.a.createElement(_t.a,{align:""},"Manager Id"),r.a.createElement(_t.a,{align:""},"Manager No."),r.a.createElement(_t.a,{align:""},"Role"),r.a.createElement(_t.a,{align:""},"Department"),r.a.createElement(_t.a,{align:""},"Remarks"),r.a.createElement(_t.a,{align:""},"Is Active"))),r.a.createElement(Lt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.retailerDetails?this.state.retailerDetails.map(function(e){return r.a.createElement(zt.a,{hover:!0,key:e.txnId},r.a.createElement(_t.a,{align:"center"},e.laid),r.a.createElement(_t.a,{align:"center"},e.name),r.a.createElement(_t.a,{align:"center"},e.msisdn),r.a.createElement(_t.a,{align:"center"},e.emailId),r.a.createElement(_t.a,{align:"center"},e.tlId),r.a.createElement(_t.a,{align:"center"},e.tlNum),r.a.createElement(_t.a,{align:"center"},e.managerId),r.a.createElement(_t.a,{align:"center"},e.managerNum),r.a.createElement(_t.a,{align:"center"},e.role),r.a.createElement(_t.a,{align:"center"},e.department),r.a.createElement(_t.a,{align:"center"},e.remarks),r.a.createElement(_t.a,{align:"center"},e.active?"Yes":"No"))}):"")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"15px"}},r.a.createElement(jn,null,"Back Office On-Boarding "),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:3,style:{padding:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(xe.a,{htmlFor:"Connection Type"},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement(Mt.a,{color:"primary",href:"/webdata/AgentOnboardingTemplate.xlsx"},"Download Sample")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"}," Upload or Update User ")),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement("input",{type:"file",name:"uploadfile",id:"uploadfile",onChange:this.onChangeFileUpload}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(C.a,{startIcon:r.a.createElement(ct.a,null),variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.relailerOnboard},"Upload"))),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:3,style:{padding:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement(O.a,{variant:"subtitle1"}," "),this.state.uploadResponse?r.a.createElement(Bn,{message:this.state.uploadResponse}):""))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"15px"}},r.a.createElement(jn,null,"Back Office Delete "),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:3,style:{padding:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(xe.a,{htmlFor:"Connection Type"},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement(Mt.a,{color:"primary",href:"/webdata/AgentDeleteTemplate.xlsx"},"Download Delete Sample ")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"},"Bulk Delete User")),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement("input",{type:"file",name:"deletefile",id:"deletefile",onChange:this.onChangeFileUpload}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(C.a,{startIcon:r.a.createElement(Pa.a,null),variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.relailerDelete},"Delete"))),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:3,style:{padding:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement(O.a,{variant:"subtitle1"}," "),this.state.deleteResponse?r.a.createElement(Bn,{message:this.state.deleteResponse}):"")))))}}]),t}(r.a.Component),Fn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChangeFileUpload=function(e){var t=e.target.files[0]&&e.target.files[0].name.split(".").pop();if(console.log("extention",t),"xlsx"!=t)return ve.showError("Only xlsx file allow to upload"),void(document.getElementById(e.target.name).value="");console.log(e.target.name),a.setState(Object(f.a)({},e.target.name,e.target.files[0]))},a.onChange=function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value)&&e.target.value.length<=10)&&a.setState({searchby:e.target.value})},a.state={products:[],retailerOnboardExcelTemplatePath:"",retailerDeleteExcelTemplatePath:"",deletefile:"",searchby:"",retailerDetails:"",allOfferData:""},a.getAdmminStaticData=a.getAdmminStaticData.bind(Object(S.a)(a)),a.uploadOffer=a.uploadOffer.bind(Object(S.a)(a)),a.relailerDelete=a.relailerDelete.bind(Object(S.a)(a)),a.searchRetailer=a.searchRetailer.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getAdmminStaticData(),Ie.downlaodAllOfferData().then(function(t){var a=De(t);a.result&&e.setState({allOfferData:a.result})})}},{key:"getAdmminStaticData",value:function(){var e=this;Ie.getStaticData("ADMIN").then(function(t){var a=De(t);a.result&&a.result&&e.setState({retailerOnboardExcelTemplatePath:a.result.retailerOnboardExcelTemplatePath,retailerDeleteExcelTemplatePath:a.result.retailerDeleteExcelTemplatePath})})}},{key:"uploadOffer",value:function(){if(console.log(this.state.uploadfile),this.state.uploadfile&&""!=document.getElementById("uploadfile").value){var e=new FormData;e.append("file",this.state.uploadfile),Ie.uploadOffer(e).then(function(e){console.log("datavijay",e),200==(e=e&&e.data).status?ve.showSuccess("Offer Uploaded Successfully."):ve.showError(e.message),document.getElementById("uploadfile").value=""})}else ve.showError("Missing required file to upload")}},{key:"relailerDelete",value:function(){if(this.state.deletefile&&""!=document.getElementById("deletefile").value){var e=localStorage.getItem("userDetails");e=e&&JSON.parse(e);var t=new FormData;t.append("file",this.state.deletefile),t.append("submittedBy",e&&e.loginId),t.append("email",""),Ie.deleteRetailer(t).then(function(e){De(e),ve.showSuccess("Attached retailer info deleted successfully."),document.getElementById("deletefile").value=""})}else ve.showError("Missing required file to upload")}},{key:"searchRetailer",value:function(){var e=this;if(this.state.searchby){var t=localStorage.getItem("userDetails");t=t&&JSON.parse(t);var a={lapuNumber:this.state.searchby,retailerAirtelId:this.state.searchby};Ie.searchRetailer(a).then(function(t){var a=De(t);a.result&&e.setState({retailerDetails:[a.result]})})}else ve.showError("Type by lapu number or Retailer AirtelId Id ")}},{key:"addProduct",value:function(){this.props.history.push("/add-product")}},{key:"someAction",value:function(){alert("action happed in other commpornt")}},{key:"editProduct",value:function(e){console.log("productid",e),window.localStorage.setItem("selectedProductId",e),this.props.history.push("/edit-doc")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement("div",{style:{padding:"40px"}},r.a.createElement(xt.a,{style:{padding:"15px"}},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Customer Offer Upload"),r.a.createElement(Se.a,{container:!0,className:"flexGrow",spacing:3,style:{padding:"10px"}},r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(xe.a,{htmlFor:"Connection Type"},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement(Mt.a,{color:"primary",href:"/webdata/Offers.xlsx"},"Download Sample")))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"},"Upload Offer")),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(O.a,{variant:"subtitle1"},r.a.createElement("input",{type:"file",name:"uploadfile",id:"uploadfile",onChange:this.onChangeFileUpload}))),r.a.createElement(Se.a,{item:!0,xs:12,sm:3},r.a.createElement(C.a,{startIcon:r.a.createElement(ct.a,null),variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.uploadOffer},"Upload")))),r.a.createElement("br",null),r.a.createElement(xt.a,{style:{padding:"15px"}},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Download Offers Details"),r.a.createElement(O.a,{variant:"subtitle1",gutterBottom:!0},"Total Offers:",this.state.allOfferData.length),this.state.allOfferData?r.a.createElement(Rt.CSVLink,{data:this.state.allOfferData,filename:"offers-details.csv",className:"btn btn-primary",target:"_blank"},r.a.createElement(O.a,{variant:"subtitle1",gutterBottom:!0},"Download Offers")):"")))}}]),t}(r.a.Component),Mn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value.trim()))},a.login=function(e){if(e.preventDefault(),a.state.userName&&a.state.password){a.setState({isDasable:!0});var t={userName:a.state.userName,password:a.state.password};de.login(t).then(function(e){a.setState({isError:e.data.message}),console.log("resolveResponse",t);var t=e.data;a.setState({isDasable:!1}),t.result&&(window.localStorage.setItem("userDetails",JSON.stringify(t.result)),window.localStorage.setItem("token",t.result.token)),t.result&&"BOA"==t.result.roleCode&&a.props.history.push("/verify"),t.result&&"DE"==t.result.roleCode&&a.props.history.push("/dataentry"),t.result&&"ADMIN"==t.result.roleCode&&a.props.history.push("/packs"),(t.result&&"DIST"==t.result.roleCode||t.result&&"FSE"==t.result.roleCode)&&a.props.history.push("/distributor")})}else a.setState({isError:"Olms Id and password is required."})},a.state={userName:"",password:"",isDasable:!1,isError:!1},a.login=a.login.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement("img",{style:Ln.imagestyle,src:"/webdata/adminwelcome.png"}))}},{key:"componentDidMount",value:function(){var e=this;window.localStorage.getItem("token");Pe.getStaticData("ADMIN").then(function(t){var a=De(t);e.setState({listofzones:a.result&&a.result.zones})})}}]),t}(r.a.Component),Ln={formStyle:{display:"flex",flexFlow:"row wrap"},label:{display:"flex",justifyContent:"center"},errorMessage:{color:"red",marginTop:"11px"},waitMessage:{color:"gray",marginTop:"11px"},imagestyle:{width:"100%",height:"100vh"}},_n=Mn,Un=a(535),zn=a.n(Un),Wn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.zoneChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleChange=function(e){return function(t){console.log("objid1",t.target.checked);for(var n=a.state.roleDetails,r=0;r<n.length;r++)n[r].id==e.id&&(n[r].alreadyAssigned=t.target.checked);a.setState({roleDetails:n}),console.log(a.state.roleDetails)}},a.state={products:[],searchedproducts:"",searchby:"",listofzones:[],selectedReasons:{},selectedZone:[],zone:"",addNewEnable:!1,roleName:"",roleDetails:"",selectedRole:!1},a.loadProductList=a.loadProductList.bind(Object(S.a)(a)),a.editProduct=a.editProduct.bind(Object(S.a)(a)),a.convertBool=a.convertBool.bind(Object(S.a)(a)),a.onChange=a.onChange.bind(Object(S.a)(a)),a.zoneChange=a.zoneChange.bind(Object(S.a)(a)),a.handleChange=a.handleChange.bind(Object(S.a)(a)),a.addRole=a.addRole.bind(Object(S.a)(a)),a.showRoleDetails=a.showRoleDetails.bind(Object(S.a)(a)),a.deleteNewRole=a.deleteNewRole.bind(Object(S.a)(a)),a.deleteRole=a.deleteRole.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.setItem("lastUrl","role"),Ie.getListOfRoles().then(function(t){var a=De(t);e.setState({searchedproducts:a&&a.result})})}},{key:"showRoleDetails",value:function(e){var t=this;jt()("#tableId .rolesRow").css("background-color",""),document.getElementById("roleId"+e).style.backgroundColor="lightgray",Ie.getRoleDetails(e).then(function(e){var a=De(e);t.setState({roleDetails:a&&a.result&&a.result.authorites})})}},{key:"searchOnDB",value:function(e){}},{key:"loadProductList",value:function(e){var t=this,a=(new Date).getTime(),n={endDate:a,mobileNumber:e||null,noOfRecords:20,role:"BOA",startDate:0,txnId:0,type:"next",zones:this.state.selectedZone.length?this.state.selectedZone:null};document.getElementById("showMessage").innerHTML="Please Wait Loading...",Ie.listDocs(n).then(function(e){var a=De(e),n=a&&a.result&&a.result.activationList;t.setState({products:n});t.setState({searchedproducts:["Data Entry","BO Agent","Distributor","FSE"]});var r=n&&n.map(function(e,t){return e.txnId});document.getElementById("showMessage")&&(document.getElementById("showMessage").innerHTML=null==n?"No new documents for verification":""),localStorage.setItem("verifyListingTxn",r)})}},{key:"addRole",value:function(){this.setState({addNewEnable:!0})}},{key:"deleteNewRole",value:function(){this.setState({addNewEnable:!1}),this.setState({roleName:""})}},{key:"deleteRole",value:function(){window.confirm("Please confirm if you want to delete the role?")}},{key:"someAction",value:function(){alert("action happed in other commpornt")}},{key:"editProduct",value:function(e,t){console.log("productid, row.sim",e,t),window.localStorage.setItem("selectedProductId",e),window.localStorage.setItem("selectedSim",t),this.props.history.push("/verify-edit")}},{key:"convertBool",value:function(e){return e?"Yes":"No"}},{key:"render",value:function(){for(var e=this,t=this.state.roleDetails,a=[],n=0;n<t.length;n++)a.push(r.a.createElement("label",null,r.a.createElement(Ke.a,{onChange:this.handleChange(t[n]),button:!0}," ",r.a.createElement("input",{type:"checkbox",checked:t[n].alreadyAssigned})," ",t[n].authority," ")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(Se.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),r.a.createElement(Se.a,{item:!0,xs:12,sm:9},r.a.createElement(O.a,{variant:"h6",color:"primary",gutterBottom:!0},"Role Management"))),r.a.createElement(xt.a,{style:{padding:"10px",overflow:"auto"}},r.a.createElement(Se.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{padding:"10px",overflow:"auto",height:"400px"}},r.a.createElement(Te.a,{id:"tableId",size:"small","aria-label":"sticky table"},r.a.createElement(Ut.a,null,r.a.createElement(zt.a,{style:{width:"170px",whiteSpace:"nowrap"}},r.a.createElement(_t.a,null,r.a.createElement(O.a,{color:"primary",gutterBottom:!0},"Role Name")),r.a.createElement(_t.a,null,r.a.createElement(O.a,{color:"primary",gutterBottom:!0},"Delete")))),r.a.createElement(Lt.a,{style:{whiteSpace:"nowrap"}},this.state.searchedproducts?this.state.searchedproducts.map(function(t){return r.a.createElement(zt.a,{id:"roleId"+t.id,className:"rolesRow",key:t.txnId},r.a.createElement(_t.a,{onClick:function(){return e.showRoleDetails(t.id)},component:"th",scope:"row",className:"hidden"},r.a.createElement(Ke.a,{button:!0},t.role," ")),r.a.createElement(_t.a,{component:"th",scope:"row",className:"hidden"},r.a.createElement(C.a,{onClick:function(){return e.deleteRole()},variant:"contained",style:{marginTop:"12px",marginLeft:"5px"},size:"small",color:"secondary"}," ",r.a.createElement(zn.a,null))))}):""))),this.state.addNewEnable?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{label:"Add New Role",style:{width:"525px"},name:"roleName",value:this.state.roleName,onChange:this.onChange}),r.a.createElement(C.a,{onClick:function(){return e.deleteNewRole()},variant:"contained",style:{marginTop:"12px",marginLeft:"5px"},size:"small",color:"secondary"},"Delete")," "):""),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{color:"primary",gutterBottom:!0},"Privileges"),a)),r.a.createElement(Se.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(C.a,{onClick:function(){return e.addRole()},variant:"contained",color:"default",style:{marginLeft:"20px"}},"Add New Role")),r.a.createElement(Se.a,{item:!0,xs:12,sm:6},r.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"}},"Update")))),r.a.createElement("div",{style:{color:"gray",fontSize:"15px",textAlign:"center"}}," ",r.a.createElement("br",null)," ",r.a.createElement("span",{id:"showMessage"}," "))))}}]),t}(r.a.Component),Hn={duration:1e4,transitionDuration:500,infinite:!0,indicators:!0,arrows:!0,scale:.4,onChange:function(e,t){console.log("fade transition from ".concat(e," to ").concat(t))}},qn=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(D.a)(t).call(this,e))).openImageGalary=function(e){console.log("index",e),a.setState({isOpen:!0,photoIndex:e}),jt()(".MuiToolbar-root").hide()},a.state={photoIndex:0,isOpen:!1},a.openImageGalary=a.openImageGalary.bind(Object(S.a)(a)),a}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t={imgTextStyle:{textAlign:"center",position:"relative",marginBottom:"-24px",fontSize:"inherit",color:"white",fontWeight:"bold"},topImgStyle:{width:"100%",height:"495px",cursor:"zoom-in",borderRadius:"3px"},buttomImgSyle:{width:"100%",height:"240px",cursor:"zoom-in",borderRadius:"3px"},displayBlock:{display:"block"},displayNone:{display:"none"}},a=this.state,n=a.photoIndex,l=a.isOpen,i=this.props.imageDetails,o=[],s=[];return i.map(function(a,n){o.push(i[n].img),s.push(r.a.createElement(Se.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:"each-fade"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{onClick:function(){return e.openImageGalary(n)},src:a.img,style:t.topImgStyle})),r.a.createElement("div",{style:t.imgTextStyle}," ",a.title," "))))}),r.a.createElement("div",{style:{justifyContent:"center"}},r.a.createElement("div",{className:"slide-container"},r.a.createElement(Va.Slide,Hn,s)),l&&r.a.createElement(_a.a,{mainSrc:o[n],nextSrc:o[(n+1)%o.length],prevSrc:o[(n+o.length-1)%o.length],onCloseRequest:function(){e.setState({isOpen:!1}),jt()(".MuiToolbar-root").show()},onMovePrevRequest:function(){e.setState({photoIndex:(n+o.length-1)%o.length})},onMoveNextRequest:function(){return e.setState({photoIndex:(n+1)%o.length})}}))}}]),t}(n.Component),Zn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/",exact:!0,component:we}),r.a.createElement(y.a,{path:"/login",component:we}),r.a.createElement(y.a,{path:"/verify",component:Ma}),r.a.createElement(y.a,{path:"/verify-edit",component:rn}),r.a.createElement(y.a,{path:"/dataentry",component:dn}),r.a.createElement(y.a,{path:"/data-edit",replace:!0,component:yn}),r.a.createElement(y.a,{path:"/distributor",component:bn}),r.a.createElement(y.a,{path:"/banners",component:xn}),r.a.createElement(y.a,{path:"/add-banner",component:Ea}),r.a.createElement(y.a,{path:"/banner-edit",component:Sa}),r.a.createElement(y.a,{path:"/packs",component:la}),r.a.createElement(y.a,{path:"/packadd",component:ga}),r.a.createElement(y.a,{path:"/editpacks",component:ka}),r.a.createElement(y.a,{path:"/backoffice",component:An}),r.a.createElement(y.a,{path:"/offerupload",component:Fn}),r.a.createElement(y.a,{path:"/report",component:At}),r.a.createElement(y.a,{path:"/welcome",component:_n}),r.a.createElement(y.a,{path:"/role",component:Wn}),r.a.createElement(y.a,{path:"/test",component:qn}),r.a.createElement(y.a,{path:"*",component:we}))))};a(1010);var Vn=function(){return window.localStorage.getItem("token")||window.location.replace("/#/login"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Zn,null),r.a.createElement(be.a,null))};i.a.render(r.a.createElement(o.a,{store:g},r.a.createElement(Vn,null)),document.querySelector("#root"))},180:function(e,t,a){e.exports=a.p+"static/media/airtellogo.09dde59b.png"},493:function(e,t,a){},497:function(e,t,a){},586:function(e,t,a){e.exports=a(1011)},591:function(e,t,a){},597:function(e,t,a){},619:function(e,t){},621:function(e,t){},655:function(e,t){},656:function(e,t){}},[[586,1,2]]]);
//# sourceMappingURL=main.5a1cf542.chunk.js.map