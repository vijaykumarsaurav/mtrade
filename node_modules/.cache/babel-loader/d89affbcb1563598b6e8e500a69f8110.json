{"ast":null,"code":"var _jsxFileName = \"/Users/B0208058/Documents/slretailer-web-portal/src/components/login/AdminWelcome.js\";\nimport React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport UserService from \"../service/UserService\";\nimport LoginNavBar from \"../LoginNavbar\";\nimport { Container } from \"@material-ui/core\";\nimport Notify from \"../../utils/Notify\";\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel'; //import AdminWelcome from '../adminwelcome.png';\n\nimport PostLoginNavBar from \"../PostLoginNavbar\";\nimport ActivationService from \"../service/ActivationService\";\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\nimport { DEV_PROTJECT_PATH } from \"../../utils/config\";\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value.trim()\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n\n      if (!this.state.userName || !this.state.password) {\n        this.setState({\n          isError: \"Olms Id and password is required.\"\n        }); // setTimeout(() => {\n        //     this.setState({ isError: \"\" });\n        // }, 3000);\n        //  Notify.showError(\"Olms Id and password is required.\");\n\n        return;\n      }\n\n      this.setState({\n        isDasable: true\n      });\n      const loginPayload = {\n        userName: this.state.userName,\n        password: this.state.password\n      };\n      UserService.login(loginPayload).then(res => {\n        //  Notify.showError(\"Olms Id and password is required.\");\n        //  alert(JSON.stringify(res));\n        this.setState({\n          isError: res.data.message\n        }); //  let data = resolveResponse(res);\n\n        console.log(\"resolveResponse\", data); // if(!data.result)\n        //     Notify.showError(\"Something Went worng...\");\n\n        var data = res.data;\n        this.setState({\n          isDasable: false\n        }); // else\n        //     resolveResponse(res, \"Login success.\");\n\n        if (data.result) {\n          window.localStorage.setItem(\"userDetails\", JSON.stringify(data.result));\n          window.localStorage.setItem(\"token\", data.result.token);\n        } // BO agent : BOA\n        // Data Entry : DE\n        // Admin : ADMIN\n        // Distributor : DIST\n\n\n        if (data.result && data.result.roleCode == \"BOA\") this.props.history.push('/verify');\n        if (data.result && data.result.roleCode == \"DE\") this.props.history.push('/dataentry');\n        if (data.result && data.result.roleCode == \"ADMIN\") this.props.history.push('/packs');\n        if (data.result && data.result.roleCode == \"DIST\" || data.result && data.result.roleCode == \"FSE\") this.props.history.push('/distributor');\n      }); // setTimeout(() => {\n      //     this.setState({ isError: \"\" });\n      // }, 3000);\n    };\n\n    this.state = {\n      userName: \"\",\n      password: \"\",\n      isDasable: false,\n      isError: false\n    };\n    this.login = this.login.bind(this);\n  }\n\n  render() {\n    var password = \"U*0elFh:\";\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(PostLoginNavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      style: styles.imagestyle,\n      src: DEV_PROTJECT_PATH + \"/webdata/adminwelcome.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  }\n\n  componentDidMount() {\n    const token = window.localStorage.getItem(\"token\"); //   if(token){\n    //     const lastUrl = localStorage.getItem(\"lastUrl\"); \n    //     this.props.history.push('/'+lastUrl);\n    //   }\n\n    ActivationService.getStaticData('ADMIN').then(res => {\n      let data = resolveResponse(res);\n      this.setState({\n        listofzones: data.result && data.result.zones\n      });\n    });\n  }\n\n}\n\nconst styles = {\n  formStyle: {\n    display: 'flex',\n    flexFlow: 'row wrap'\n  },\n  label: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  errorMessage: {\n    color: \"red\",\n    marginTop: '11px'\n  },\n  waitMessage: {\n    color: \"gray\",\n    marginTop: '11px'\n  },\n  imagestyle: {\n    width: \"100%\",\n    height: '100vh'\n  }\n};\nexport default LoginComponent;","map":{"version":3,"sources":["/Users/B0208058/Documents/slretailer-web-portal/src/components/login/AdminWelcome.js"],"names":["React","Typography","TextField","Button","UserService","LoginNavBar","Container","Notify","Grid","InputLabel","PostLoginNavBar","ActivationService","resolveResponse","DEV_PROTJECT_PATH","LoginComponent","Component","constructor","props","onChange","e","setState","target","name","value","trim","login","preventDefault","state","userName","password","isError","isDasable","loginPayload","then","res","data","message","console","log","result","window","localStorage","setItem","JSON","stringify","token","roleCode","history","push","bind","render","styles","imagestyle","componentDidMount","getItem","getStaticData","listofzones","zones","formStyle","display","flexFlow","label","justifyContent","errorMessage","color","marginTop","waitMessage","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport UserService from \"../service/UserService\";\nimport LoginNavBar from \"../LoginNavbar\";\nimport {Container} from \"@material-ui/core\";\nimport Notify from \"../../utils/Notify\";\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\n//import AdminWelcome from '../adminwelcome.png';\nimport PostLoginNavBar from \"../PostLoginNavbar\";\nimport ActivationService from \"../service/ActivationService\";\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\n\nimport  {DEV_PROTJECT_PATH} from \"../../utils/config\";\n\n\nclass LoginComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            userName: \"\",\n            password: \"\", \n            isDasable:false,\n            isError:false,\n            \n        };\n        this.login = this.login.bind(this);\n    }\n\n\n    render() {\n        var password = \"U*0elFh:\"; \n\n        return(\n            <React.Fragment>\n                 <PostLoginNavBar/>\n                 <img style={styles.imagestyle} src={DEV_PROTJECT_PATH+\"/webdata/adminwelcome.png\"} />\n            </React.Fragment>\n        )\n\n    }\n\n    componentDidMount() {\n      const token =   window.localStorage.getItem(\"token\"); \n\n    //   if(token){\n    //     const lastUrl = localStorage.getItem(\"lastUrl\"); \n    //     this.props.history.push('/'+lastUrl);\n    //   }\n    ActivationService.getStaticData('ADMIN').then(res => {\n        let data = resolveResponse(res);\n        this.setState({listofzones: data.result && data.result.zones}) \n    })\n\n        \n    }\n\n    onChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value.trim() });\n    }\n\n    login = (e) => {\n        e.preventDefault();\n        if(!this.state.userName || !this.state.password){\n            this.setState({ isError: \"Olms Id and password is required.\" });\n\n            // setTimeout(() => {\n            //     this.setState({ isError: \"\" });\n            // }, 3000);\n\n          //  Notify.showError(\"Olms Id and password is required.\");\n            return;\n        }\n         \n        this.setState({ isDasable: true });\n        \n        const loginPayload = {\n            userName:  this.state.userName,\n            password: this.state.password\n        };\n        UserService.login(loginPayload)\n            .then(res => {\n              //  Notify.showError(\"Olms Id and password is required.\");\n            //  alert(JSON.stringify(res));\n\n              \n              this.setState({ isError: res.data.message });\n\n              //  let data = resolveResponse(res);\n                console.log(\"resolveResponse\",data); \n                // if(!data.result)\n                //     Notify.showError(\"Something Went worng...\");\n\n                var data = res.data; \n                this.setState({ isDasable: false });\n\n                // else\n                //     resolveResponse(res, \"Login success.\");\n\n                if(data.result){\n                    window.localStorage.setItem(\"userDetails\",JSON.stringify(data.result));\n                    window.localStorage.setItem(\"token\",data.result.token)\n                }\n               \n                // BO agent : BOA\n                // Data Entry : DE\n                // Admin : ADMIN\n                // Distributor : DIST\n\n                if(data.result && data.result.roleCode == \"BOA\")\n                this.props.history.push('/verify');\n\n                if(data.result && data.result.roleCode == \"DE\")\n                this.props.history.push('/dataentry');\n\n                if(data.result && data.result.roleCode == \"ADMIN\")\n                this.props.history.push('/packs');\n\n                if((data.result && data.result.roleCode== \"DIST\") || (data.result &&  data.result.roleCode== \"FSE\"))\n                this.props.history.push('/distributor');\n                \n            });\n          \n            // setTimeout(() => {\n            //     this.setState({ isError: \"\" });\n            // }, 3000);\n\n\n\n           \n    }\n\n}\n\nconst styles ={\n    formStyle :{\n        display: 'flex',\n        flexFlow: 'row wrap'\n    },\n    label: {\n        display: 'flex',\n        justifyContent: 'center'\n    },\n    errorMessage:{\n        color:\"red\",\n        marginTop: '11px'\n    },\n    waitMessage:{\n        color:\"gray\",\n        marginTop: '11px'\n    },\n    imagestyle:{\n        width:\"100%\",\n        height: '100vh'\n    }\n\n}\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}