(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(t,e,a){t.exports=a.p+"static/media/buy-order-added.cce6bf02.ogg"},236:function(t,e,a){t.exports=a.p+"static/media/squired-off.26e7d9db.mp3"},255:function(t,e,a){t.exports=a.p+"static/media/mylogo.92bbdbd4.png"},298:function(t,e,a){t.exports=a.p+"static/media/order-placed.356d4bbe.mp3"},324:function(t,e,a){t.exports=a(492)},329:function(t,e,a){},331:function(t,e,a){},36:function(t){t.exports={monthlyTargetPer:5,dailyLossPer:1,totalCapital:1e5,perTradeExposurePer:20,perTradeStopLossPer:1}},492:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(45),l=a.n(r),o=(a(329),a(66)),s=a(156),c=a(285),m=a(43),u={packs:[],pack:[],updatedPack:null},v=Object(s.b)({packs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET PACK LOADED":return Object(m.a)({},t,{packs:e.payload});case"EDIT PACK INFO":return Object(m.a)({},t,{updatedPack:e.payload});case"GET_PACK_INFO_BY_ID":return Object(m.a)({},t,{pack:e.payload});default:return t}}}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,d=Object(s.d)(v,g(Object(s.a)(c.a))),h=(a(331),a(201)),p=a(59),f=a(8),y=a(3),b=a(7),S=a(5),E=a(4),k=a(24),C=a(6),T=a(23),L=a.n(T),w=new(function(){function t(){Object(y.a)(this,t)}return Object(b.a)(t,[{key:"getLoggedInUserInfo",value:function(){localStorage.getItem("UserInfo")}},{key:"getHeader",value:function(){var t=localStorage.getItem("userTokens")&&JSON.parse(localStorage.getItem("userTokens"));return{headers:{Authorization:"Bearer "+(t&&t.jwtToken),"Content-Type":"application/json",Accept:"application/json","X-UserType":"USER","X-SourceID":"WEB","X-ClientLocalIP":"192.168.1.128","X-ClientPublicIP":"91.0.4472.114","X-MACAddress":"f0:18:98:26:c4:cc","X-PrivateKey":"BFuObxTU"}}}},{key:"loginHeader",value:function(){return{headers:{"Content-Type":"application/json",Accept:"application/json","X-UserType":"USER","X-SourceID":"WEB","X-ClientLocalIP":"192.168.1.128","X-ClientPublicIP":"91.0.4472.114","X-MACAddress":"f0:18:98:26:c4:cc","X-PrivateKey":"BFuObxTU"}}}},{key:"getImageHeader",value:function(){return{headers:{token:localStorage.getItem("token")}}}},{key:"getScannerHeader",value:function(){return{headers:{"Content-Type":"application/json",Accept:"application/json"}}}},{key:"getNSESessionHeader",value:function(t){return{headers:{sessionId:t,Accept:"application/json"}}}}]),t}()),x="https://apiconnect.angelbroking.com/rest/secure/angelbroking/historical/v1/getCandleData",O=new(function(){function t(){Object(y.a)(this,t)}return Object(b.a)(t,[{key:"login",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/auth/angelbroking/user/v1/loginByPassword",t,w.loginHeader())}},{key:"shoonyaLogin",value:function(t){return L.a.post("http://localhost:8082/shoonya-login",t,"")}},{key:"logout",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/logout",t,w.getHeader())}},{key:"logoutShoonya",value:function(){return L.a.post("http://localhost:8082/shoonya-logout","","")}},{key:"getUserData",value:function(t){return L.a.get("https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/getProfile",w.getHeader())}},{key:"getFunds",value:function(t){return L.a.get("https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/getRMS",w.getHeader())}},{key:"retrieveOrderBook",value:function(t){return L.a.get("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getOrderBook",w.getHeader())}},{key:"retrieveTradeBook",value:function(t){return L.a.get("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getTradeBook",w.getHeader())}},{key:"retrieveallTradableInstruments",value:function(t){return L.a.get("https://margincalculator.angelbroking.com/OpenAPI_File/files/OpenAPIScripMaster.json","")}},{key:"placeOrder",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/placeOrder",t,w.getHeader())}},{key:"shoonyaPlaceOrder",value:function(t){return L.a.post("http://localhost:8082/shoonyaPlaceOrder",t,"")}},{key:"getOrderListShoonya",value:function(){return L.a.get("http://localhost:8082/getOrderList","")}},{key:"get_time_price_series",value:function(t){return L.a.post("http://localhost:8082/get_time_price_series","")}},{key:"updateCollectSmallFlag",value:function(t){return L.a.post("http://localhost:8082/updateCollectSmallFlag",t)}},{key:"checkEMAValue",value:function(t){return L.a.post("http://localhost:8082/checkEMAValue",t)}},{key:"getCollectSmallFlag",value:function(){return L.a.get("http://localhost:8082/getCollectSmallFlag","")}},{key:"modifyOrder",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/modifyOrder",t,w.getHeader())}},{key:"cancelOrder",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/cancelOrder",t,w.getHeader())}},{key:"get_quotes",value:function(t){return L.a.get("http://localhost:8082/get_quotes?token="+t.token+"&exchange="+t.exchange,"")}},{key:"get_limits",value:function(){return L.a.get("http://localhost:8082/get_limits","")}},{key:"get_banknifty_components",value:function(){return L.a.get("http://localhost:8082/get_banknifty_components","")}},{key:"getLTP",value:function(t){return L.a.post("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getLtpData",t,w.getHeader())}},{key:"getHistoryData",value:function(t){return L.a.post(x,t,w.getHeader())}},{key:"getHistoryData",value:function(t){return L.a.post(x,t,w.getHeader())}},{key:"getHistoryShoonya",value:function(t){return L.a.post("http://localhost:8082/getHistoryShoonya",t,"")}},{key:"scanStocks",value:function(t){return L.a.post("https://chartink.com/screener/process",t,w.getScannerHeader())}},{key:"autoCompleteSearch",value:function(t){return L.a.get("http://localhost:8081/search/"+t,"")}},{key:"stockOptionSearch",value:function(t){return L.a.post("http://localhost:8081/stockOptionSearch/",t,"")}},{key:"getStockOptions",value:function(t){return L.a.post("http://localhost:8081/getStockOptions",t,"")}},{key:"getAllListTokens",value:function(t){return L.a.post("http://localhost:8081/getAllListTokens",t,"")}},{key:"saveWatchList",value:function(t){return L.a.get("http://localhost:8081/saveWatchList/"+t,"")}},{key:"addIntoStaticData",value:function(t){return L.a.post("http://localhost:8081/addIntoStaticData",t,"")}},{key:"saveWatchListJSON",value:function(t){return L.a.post("http://localhost:8081/saveWatchListJSON",t,"")}},{key:"getWatchListJSON",value:function(){return L.a.get("/myJsonWatchList.json","")}},{key:"updateStockList",value:function(){return"vijaykumarsaurav.github.io"==window.location.hostname?L.a.get("/mtrade/stockList.json",""):L.a.get("/stockList.json","")}},{key:"getStaticData",value:function(){return"vijaykumarsaurav.github.io"==window.location.hostname?L.a.get("/mtrade/staticData.json",""):L.a.get("/staticData.json","")}},{key:"saveCandleHistory",value:function(t){return L.a.post("http://localhost:8081/saveCandleHistory",t,"")}},{key:"backupHistoryData",value:function(t){return L.a.post("http://localhost:8081/backupHistoryData",t,"")}},{key:"getAll145Tokens",value:function(t){return L.a.post("http://localhost:8081/getAll145Tokens",t,"")}},{key:"getBankniftyLatestOption",value:function(t){return L.a.post("http://localhost:8081/getBankniftyLatestExpiryTokens",t,"")}},{key:"saveDeliveryData",value:function(t){return L.a.post("http://localhost:8081/store_delivery_data",t,"")}},{key:"saveBidData",value:function(t){return L.a.post("http://localhost:8081/store_bid_data",t,"")}},{key:"getDeliveryDataFromDb",value:function(t){return L.a.get("http://localhost:8081/get_delivery_data?symbol="+t,"")}},{key:"getBidDataFromDb",value:function(t,e,a){return L.a.get("http://localhost:8081/get_bid_data?backDate="+t+"&allSymbol="+e+"&count="+a,"")}},{key:"getBackUpdateList",value:function(){return L.a.get("http://localhost:8081/get_backup_date_list","")}},{key:"getPosition",value:function(t){return L.a.get("https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getPosition",w.getHeader())}},{key:"getPositionShoonya",value:function(t){return L.a.get("http://localhost:8082/getPositionShoonya","")}},{key:"getAutoScanStock",value:function(){return L.a.get("http://localhost:8081/getScannedStocks","")}},{key:"getNSETopStock",value:function(){return L.a.get("http://localhost:8081/getNseTopStocks","")}},{key:"getChartInkStock",value:function(){return L.a.get("http://localhost:8081/get_chartink_stock","")}},{key:"getSelectedStockFromDb",value:function(){return L.a.get("http://localhost:8081/getSelectedStock","")}},{key:"getIndiceStock",value:function(t){return L.a.get("https://www.nseindia.com/api/equity-stockIndices?index="+t,"")}},{key:"checkOtherApi",value:function(t){return L.a.get("https://www1.nseindia.com/live_market/dynaContent/live_watch/stock_watch/liveIndexWatchData.json","")}},{key:"checkSectorApiOther",value:function(t){return L.a.get("http://localhost:8081/nse/get_index_stocks?symbol="+t,"")}},{key:"getAllIndices",value:function(){return L.a.get("https://www.nseindia.com/api/allIndices")}},{key:"allIndicesDirectJSON",value:function(){return L.a.get("http://localhost:8081/nse/get_indices","")}},{key:"getBNcpdata",value:function(t){return"NIFTY"==t||"BANKNIFTY"==t?L.a.get("http://localhost:8081/nse/getOptionChain?symbol="+t,""):L.a.get("http://localhost:8081/nse/getOptionChainEquity?symbol="+t,"")}},{key:"getOptionChainShoonya",value:function(){return L.a.get(" http://localhost:8082/getOptionChain","")}},{key:"getDeliveryData",value:function(t){return L.a.get("http://localhost:8081/nse/get_quote_info?companyName="+t,"")}},{key:"checkLiveBids",value:function(t){return L.a.get("http://localhost:8081/nse/get_quote_info?companyName="+t,"")}}]),t}()),D=a(548),I=a(551),P=(a(255),function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,{position:"static"},i.a.createElement(I.a,null,i.a.createElement(I.a,{component:"h1",variant:"h5"},i.a.createElement("a",{href:"/#login"}," Angle ")),i.a.createElement(I.a,{component:"h1",variant:"h5"},i.a.createElement("a",{href:"/#login-shoonya"},"Shoonya ")))))}),F=a(560),N=a(593),M=a(493),A=a(554),B=a(592),Y=a(185),H=a.n(Y),j=a(595),R=a(157),W=a(552),_=a(553),J=Object(W.a)(function(t){return{"@global":{body:{backgroundColor:t.palette.common.white}},paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:"#df0915"},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}});function U(t){var e=J(),a=function(e){t.loginProps.onChange(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{component:"main",maxWidth:"xs"},i.a.createElement(A.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(j.a,{className:e.avatar},i.a.createElement(H.a,null)),i.a.createElement(R.a,{component:"h1",variant:"h5"},"Angle"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User Id",name:"userName",autoComplete:"email",autoFocus:!0,onChange:a,value:t.loginProps.userName}),i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:a,value:t.loginProps.password}),i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"totp",label:"TOTP",type:"text",id:"totp",onChange:a,value:t.loginProps.totp}),i.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:t.loginProps.login},"Sign In")))))}var V=a(142),q=new(function(){function t(){Object(y.a)(this,t)}return Object(b.a)(t,[{key:"showError",value:function(t){V.b.error(t,this.options())}},{key:"showSuccess",value:function(t){V.b.success(t,this.options())}},{key:"showWarning",value:function(t){V.b.warn(t,this.options())}},{key:"options",value:function(){return{position:V.b.POSITION.BOTTOM_RIGHT,autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}}}]),t}());function z(t,e){var a={};if(200===t.status)return(a=t.data).status?(a.message&&"noPop"!==e&&q.showSuccess(a.message),a):(q.showError(a.message),"Invalid Token"===a.message&&(window.location.replace("#/login"),localStorage.setItem("userTokens",""),localStorage.setItem("userProfile","")),Promise.reject(a.message));t&&!t.status&&q.showError(a.message)}var Q=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.login=function(t){if(a.setState({isError:""}),t.preventDefault(),a.state.userName||a.state.password)if(a.state.userName)if(a.state.password){a.setState({isDasable:!0});var e={clientcode:a.state.userName,password:a.state.password,totp:a.state.totp};O.login(e).then(function(t){z(t);(t=t&&t.data).status&&"SUCCESS"!==t.message&&a.setState({isError:t.message}),a.setState({isDasable:!1}),t.data&&(window.localStorage.setItem("userTokens",JSON.stringify(t.data)),O.getUserData().then(function(t){z(t);(t=t&&t.data).status&"SUCCESS"===t.message&&(window.localStorage.setItem("userProfile",JSON.stringify(t.data)),O.getStaticData().then(function(t){var e=t.data;localStorage.setItem("staticData",JSON.stringify(e));var n=Object.keys(e);a.setState({totalWatchlist:n}),localStorage.setItem("totalWatchlist",JSON.stringify(n)),a.setState({staticData:e});var i=[];n.forEach(function(t){e[t].forEach(function(t){i.filter(function(e){return e.token===t.token}).length||i.push(t)})}),localStorage.setItem("watchList",JSON.stringify(i)),window.location.replace("#/home")}))}))})}else a.setState({isError:"Password is required."});else a.setState({isError:"Olms Id is required."});else a.setState({isError:"Olms Id and Password are required."})},a.state={userName:"V193588",password:"Mtrade*1990M",isDasable:!1,isError:!1,totp:""},a.login=a.login.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,null),i.a.createElement(U,{loginProps:{onChange:this.onChange,login:this.login,userName:this.state.userName,password:this.state.password,totp:this.state.totp}}),i.a.createElement(F.a,{container:!0,justify:"space-around"},i.a.createElement(F.a,{justify:"center",container:!0,xs:12,sm:10},this.state.isDasable?i.a.createElement(N.a,{variant:"subtitle1",style:K.waitMessage}," Please wait..."):"",this.state.isError?i.a.createElement(N.a,{variant:"subtitle1",style:K.errorMessage}," ",this.state.isError," "):"")))}},{key:"componentDidMount",value:function(){window.localStorage.getItem("userTokens")&&this.props.history.push("home"),document.location.href.includes("logout")&&(document.location.href="#/login",window.location.reload(!0))}}]),e}(i.a.Component),K={formStyle:{display:"flex",flexFlow:"row wrap"},label:{display:"flex",justifyContent:"center"},errorMessage:{color:"red",marginTop:"11px"},waitMessage:{color:"gray",marginTop:"11px"}},G=Q,X=a(15),Z=Object(W.a)(function(t){return{"@global":{body:{backgroundColor:t.palette.common.white}},paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:"primary"},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}});function $(t){var e=Z(),a=i.a.useState("none"),n=Object(X.a)(a,2),r=n[0],l=n[1],o=function(e){t.loginProps.onChange(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{component:"main",maxWidth:"xs"},i.a.createElement(A.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(j.a,{className:e.avatar},i.a.createElement(H.a,null)),i.a.createElement(M.a,{onClick:function(){return l("block")}},i.a.createElement(R.a,{color:"primary",component:"h1",variant:"h5"},"Shoonya")),i.a.createElement(M.a,{onClick:function(){return t.loginProps.updateMinuData()}},"Change A/C:  ",t.loginProps.selectedAc," "),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User Id",name:"userName",autoComplete:"email",onChange:o,value:t.loginProps.userName,style:{display:r}}),i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:o,value:t.loginProps.password,style:{display:r}}),i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,name:"api_secret",label:"API Secret",type:"text",id:"api_secret",onChange:o,value:t.loginProps.api_secret,style:{display:r}}),i.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,name:"totp",label:"TOTP",type:"text",id:"totp",onChange:o,value:t.loginProps.totp}),i.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:t.loginProps.login},"Sign In")))))}var tt=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).updateMinuData=function(){"Vijay"==a.state.selectedAc?a.setState({userName:"FA74484",password:"Mkv@2022",api_secret:"a5177adf7148eb2db5c9a20789d5a331",selectedAc:"Minu"}):"Minu"==a.state.selectedAc&&a.setState({userName:"FA35674",password:"Vivan@2023#",api_secret:"ca7d0433f62e27a4bea6853296394528",selectedAc:"Vijay"})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.login=function(t){if(a.setState({isError:""}),t.preventDefault(),a.state.userName||a.state.password)if(a.state.userName)if(a.state.password){a.setState({isDasable:!0});var e={userid:a.state.userName,password:a.state.password,twoFA:a.state.totp,api_secret:a.state.api_secret};O.shoonyaLogin(e).then(function(t){"Not_Ok"===(t=t&&t.data).stat?(a.setState({isError:t.emsg}),q.showError(t.emsg)):(a.setState({isDasable:!1}),window.localStorage.setItem("shoonyaLoggedIn","yes"),localStorage.setItem("uname",t.uname),O.getStaticData().then(function(t){console.log(t);var e=t.data;localStorage.setItem("staticData",JSON.stringify(e));var n=Object.keys(e);a.setState({totalWatchlist:n}),localStorage.setItem("totalWatchlist",JSON.stringify(n)),a.setState({staticData:e});var i=[];n.forEach(function(t){e[t].forEach(function(t){i.filter(function(e){return e.token===t.token}).length||i.push(t)})}),localStorage.setItem("watchList",JSON.stringify(i)),window.location.replace("#/sector-heat-map2")}))})}else a.setState({isError:"Password is required."});else a.setState({isError:"User Id is required."});else a.setState({isError:"User Id and Password are required."})},a.state={userName:"FA35674",password:"Vivan@2023#",isDasable:!1,isError:!1,totp:"",api_secret:"ca7d0433f62e27a4bea6853296394528",selectedAc:"Vijay"},a.login=a.login.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,null),i.a.createElement($,{loginProps:{onChange:this.onChange,login:this.login,userName:this.state.userName,password:this.state.password,totp:this.state.totp,api_secret:this.state.api_secret,updateMinuData:this.updateMinuData,selectedAc:this.state.selectedAc}}),i.a.createElement(F.a,{container:!0,justify:"space-around"},i.a.createElement(F.a,{justify:"center",container:!0,xs:12,sm:10},this.state.isDasable?i.a.createElement(N.a,{variant:"subtitle1",style:et.waitMessage}," Please wait..."):"",this.state.isError?i.a.createElement(N.a,{variant:"subtitle1",style:et.errorMessage}," ",this.state.isError," "):"")))}},{key:"componentDidMount",value:function(){"yes"===window.localStorage.getItem("shoonyaLoggedIn")&&this.props.history.push("position-shoonya"),document.location.href.includes("logout")&&(document.location.href="#/login-shoonya",window.location.reload(!0))}}]),e}(i.a.Component),et={formStyle:{display:"flex",flexFlow:"row wrap"},label:{display:"flex",justifyContent:"center"},errorMessage:{color:"red",marginTop:"11px"},waitMessage:{color:"gray",marginTop:"11px"}},at=tt,nt=a(2),it=a.n(nt),rt=a(13),lt=a(16),ot=a(11),st=a(61),ct=a(598),mt=a(559),ut=a(573),vt=a(495),gt=a(291),dt=a.n(gt),ht=a(293),pt=a.n(ht),ft=a(294),yt=a.n(ft),bt=a(494),St=a(561),Et=a(562),kt=a(288),Ct=a.n(kt),Tt=a(231),Lt=a.n(Tt),wt=a(114),xt=a.n(wt),Ot=a(39),Dt=a.n(Ot),It=a(48),Pt=a.n(It),Ft=i.a.createElement("div",null,i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/home"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Home"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/backtest-bn"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Backtest Banknifty"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/monthly-investment"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Monthly Investment"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/position-new"},i.a.createElement(St.a,null,i.a.createElement(Lt.a,null)),i.a.createElement(Et.a,{primary:"Positions"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/sector-heat-map2"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Heat Map2"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/strong-charts"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Strong Charts"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/delivery"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Delivery"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/slow-motion"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Slow Motion"})),i.a.createElement(bt.a,{button:!0,component:"a",target:"_blank",href:"/mtrade/#/find-fast-movement"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Fast Movement"})),i.a.createElement(bt.a,{button:!0,component:"a",target:"_blank",href:"/mtrade/#/index-charts"},i.a.createElement(St.a,null,i.a.createElement(Pt.a,null)),i.a.createElement(Et.a,{primary:"Index Charts"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/order-watchlist"},i.a.createElement(St.a,null,i.a.createElement(Lt.a,null)),i.a.createElement(Et.a,{primary:"Order Watchlist"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/funds"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Funds"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/order"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Order Book"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/trade"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Trade Book"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/sector-heat-map"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Heat Map"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/market-depth"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Depth Live"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/market-depth-mobile"},i.a.createElement(St.a,null,i.a.createElement(Dt.a,null)),i.a.createElement(Et.a,{primary:"Depth Live Mobile"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/backtest"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Backtest"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/chartink-backtest"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Chartink Backtest"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/custom-backtest"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Custom Backtest"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/track145"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Track 145"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/backup-history"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Backup History"})),i.a.createElement(bt.a,{button:!0,component:"a",href:"/mtrade/#/addtowatchlist"},i.a.createElement(St.a,null,i.a.createElement(xt.a,null)),i.a.createElement(Et.a,{primary:"Watchlist ("+(localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList")).length)+")"})));function Nt(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var a=t[e],n=a.indexOf("="),i=n>-1?a.substr(0,n):a;document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}var Mt=localStorage.getItem("userProfile");Mt=Mt&&JSON.parse(Mt);var At=i.a.createElement("div",null,i.a.createElement(h.b,{to:"",style:{textDecoration:"none"},onClick:function(){O.logoutShoonya().then(function(t){localStorage.setItem("shoonyaLoggedIn",""),Nt(),localStorage.clear(),q.showSuccess("Logout "+t.data.status),window.location.replace("#/login-shoonya")})}},i.a.createElement(bt.a,{button:!0},i.a.createElement(St.a,{title:"Logout"},i.a.createElement(Ct.a,null)),i.a.createElement(Et.a,{primary:i.a.createElement("span",{title:Mt&&Mt.clientcode?Mt.clientcode:""}," ",Mt&&Mt.name?Mt.name.split(" ")[0]:""," ")})))),Bt=a(594),Yt=a(564),Ht=a(563),jt=Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}});function Rt(){var t=jt(),e=i.a.useState(!0),a=Object(X.a)(e,2),n=a[0],r=a[1];return i.a.createElement("div",{className:t.root},i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:n,onChange:function(t){localStorage.setItem("invertColorFlag",t.target.checked),r(t.target.checked)},"aria-label":"login switch"}),label:n?"Black & White":"Colorfull"})))}var Wt=a(32),_t=a(17),Jt=a(568),Ut=a(565),Vt=a(566),qt=a(567),zt=a(71),Qt=a.n(zt),Kt=a(569),Gt=a(570),Xt=a(571),Zt=a(572),$t=a(58),te=a.n($t),ee=(a(159),a(198));function ae(t){var e=t.candleChartData,a=t.vwapDataChart,n=[],r=[];if(e)for(var l=0;l<e.length;l++)e[l]&&(n.push(e[l][4]),r.push(new Date(e[l][0]).getHours()+":"+new Date(e[l][0]).getMinutes()));var o={labels:r,datasets:[{label:"Close",data:n,fill:!0,borderColor:t.percentChange>0?"green":"red"},{label:"Vwap",data:a,fill:!0,borderColor:"blue"}]};return i.a.createElement("div",{className:"App"},i.a.createElement(ee.a,{data:o,options:{maintainAspectRatio:!1,legend:{display:!1}}}))}function ne(t){var e=i.a.useState(!1),a=Object(X.a)(e,2);a[0],a[1];return setTimeout(function(){var e=window.LightweightCharts.createChart(document.getElementById("chart"),{width:600,height:300,rightPriceScale:{scaleMargins:{top:.3,bottom:.25},borderVisible:!1},layout:{backgroundColor:"white",textColor:"#d1d4dc"},grid:{vertLines:{color:"rgba(42, 46, 57, 0)"},horzLines:{color:"rgba(42, 46, 57, 0.6)"}}}),a=e.addCandlestickSeries({upColor:"green",downColor:"red",borderDownColor:"red",borderUpColor:"green",wickDownColor:"red",wickUpColor:"green"}),n=t.chartData&&t.chartData.candleSeries;a.setData(n),e.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}}).setData(t.chartData&&t.chartData.volumeSeries),e.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;console.log(c),"object"==typeof c[1]?(a+=" O: <b>"+c[1].open+"</b>",a+=" H: <b>"+c[1].high+"</b>",a+=" L: <b>"+c[1].low+"</b>",a+=" C: <b>"+c[1].close+"</b>",a+=" CH: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+="&nbsp;"+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time&&(a+=" T: <b>"+new Date(t.time).toLocaleString()+"</b>");var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m});var i=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n}(n,20);e.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}).setData(i)},100),i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{id:"showChartTitle",style:{fontSize:"12px"}}," ")),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{id:"chart"}))))}var ie=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),re=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),le=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function oe(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=i.a.useState({data:[],candledata:{}}),o=Object(X.a)(l,2),s=(o[0],o[1],function(){r(!1)});return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"showCandleChart",color:"primary",style:{display:"none"},onClick:function(){r(!0)}},"Chart"),i.a.createElement(Jt.a,{onClose:s,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(ie,{id:"customized-dialog-title",onClose:s},localStorage.getItem("cadleChartSymbol"),"   ",localStorage.getItem("candlePriceShow"),"  (",localStorage.getItem("candleChangeShow"),"%)",i.a.createElement("br",null),localStorage.getItem("chartInfoDetails")?i.a.createElement("span",{style:{fontSize:"12px"}},i.a.createElement("b",null,"FoundAt:"),"  ",localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).foundAt.substr(0,16)," \xa0\xa0",i.a.createElement("b",null,"Buy: "),localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).buyExitPrice," \xa0\xa0",i.a.createElement("b",null,"Sell: "),localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).sellEntyPrice," \xa0\xa0",i.a.createElement("b",null,"Change %: "),"  ",localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).perChange," \xa0\xa0    ",i.a.createElement("br",null),i.a.createElement("b",null,"Change on High/Low %: "),localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).perChange," \xa0\xa0",i.a.createElement("b",null,"SquareOffAt:"),localStorage.getItem("chartInfoDetails")&&JSON.parse(localStorage.getItem("chartInfoDetails")).squareOffAt):""),i.a.createElement(re,{dividers:!0,id:"chart"},localStorage.getItem("candleChartData")?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:350},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:localStorage.getItem("candleChartData")&&JSON.parse(localStorage.getItem("candleChartData"))}],type:"candlestick",width:500,height:350}):"",localStorage.getItem("candleChartDataInside")?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:350},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:localStorage.getItem("candleChartDataInside")&&JSON.parse(localStorage.getItem("candleChartDataInside"))}],type:"candlestick",width:500,height:350}):""),i.a.createElement(le,null,i.a.createElement(M.a,{autoFocus:!0,onClick:s,color:"primary"},"Close"))))}Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);var se=a(36),ce=a(1),me=a(161),ue=a(222),ve=a(34),ge=a.n(ve),de=(a(459),new function t(){var e=this;Object(y.a)(this,t),this.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},this.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},this.placeSLMOrder=function(t){var a={triggerprice:t.stopLossPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,transactiontype:"BUY"===t.transactiontype?"SELL":"BUY",exchange:"NSE",producttype:t.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",a),O.placeOrder(a).then(function(a){var n=z(a);n.status&&"SUCCESS"===n.message&&(e.speckIt("hey Vijay, "+t.tradingsymbol+" buy order placed"),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},this.getStockTokenDetails=function(t){var e="";if("BANKNIFTY"===t||"NIFTY"===t){var a=(localStorage.getItem("staticData")?JSON.parse(localStorage.getItem("staticData")).NSE_OPTION_INDEX:[]).filter(function(e){return"NSE"===e.exch_seg&&e.symbol===t.toUpperCase()});a.length&&(e=a[0])}else{var n=localStorage.getItem("staticData")?JSON.parse(localStorage.getItem("staticData")).CashStocks:[],i=t.toUpperCase()+"-EQ",r=n.filter(function(t){return"NSE"===t.exch_seg&&t.symbol===i});r.length&&(e=r[0])}return e},this.updateOrderList=function(){O.retrieveOrderBook().then(function(t){var e=z(t,"noPop");if(e&&e.data){var a=e.data;a.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),localStorage.setItem("oderbookData",JSON.stringify(a))}})},this.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},this.historyWiseOrderPlace=function(t,a,n,i){var r=t.token,l=t.symbol,o={exchange:"NSE",tradingsymbol:l,symboltoken:r};O.getLTP(o).then(function(n){var o=z(n,"noPop"),s=o&&o.data;console.log(l," ltd data ",s);var c=0;if(s&&s.ltp){var m=se.totalCapital*se.perTradeExposurePer/100;c=Math.floor(m/s.ltp)}if(c>0&&t.qtyToTake&&(c=t.qtyToTake),console.log(l,"  quantity can be order ",t,c),c){var u="YYYY-MM-DD HH:mm",v=ce("9:15am","h:mma").format(u);console.log("beginningTime",v);var g=ce.duration("75:10:00"),d=ce(new Date).subtract(g),h={exchange:"NSE",symboltoken:r,interval:"FIVE_MINUTE",fromdate:ce(d).format(u),todate:ce(new Date).format(u)};O.getHistoryData(h).then(function(n){var o=z(n,"noPop");if(o&&o.data&&o.data.length){var m=o.data,u=0,v=0,g=0,d=0,h=0;if(m.reverse(),d=m[0][3],g=m[0][2],m&&m.length>0){for(var p=0;p<20;p++)m[p]&&(u+=m[p][4],v+=m[p][3],h+=m[p][2],m[p][2]>g&&(console.log(p,g,m[p][2]),g=m[p][2]),m[p][3]<=d&&(d=m[p][3]));var f=[],y=[],b=[],S=[],E=[],k=[],C=[],T=[];o.data.forEach(function(t,e){f.push([t[0],t[1],t[2],t[3],t[4]]),y.push([t[5],(t[2]+t[3]+t[4])/3]),b.push(t[4]),S.push(t[2]),E.push(t[3]),k.push(t[3]),C.push(t[5]),T.push((t[2]+t[3]+t[4])/3)});var L={values:b,period:14},w=me.a.calculate(L);console.log(l,"lastRsiValue",w[w.length-1]);var x={period:20,values:T,stdDev:2},O=ue.a.calculate(x);console.log(l,"BB",x,O,O[O.length-1]),console.log(l,"VWAP",y,ge()(y)),O[O.length-1];var D=m.length>20?20:m.length,I=u/D,P=v/D,F=h/D,N=0,M=0;"BUY"==a&&w[w.length-1]>60&&(N=P-3*(g-d)/100,N=e.getMinPriceAllowTick(N),M=100*(s.ltp-N)/s.ltp,console.log(l,"My stoploss",a," LTP ",s.ltp),console.log(l+"highestHigh:",g,"lowestLow",d,"stoploss after tick:",N,"stoploss%",M),console.log(l+"  close avg middle ",I,"lowerest avg",P,"bbhigerValue",F)),"SELL"==a&&w[w.length-1]<40&&(N=F+3*(g-d)/100,M=100*((N=e.getMinPriceAllowTick(N))-s.ltp)/s.ltp,console.log(l,a," LTP ",s.ltp),console.log(l+"highestHigh:",g,"lowestLow",d,"stoploss after tick:",N,"stoploss%",M),console.log(l+"  close avg middle ",I,"lowerest avg",P,"bbhigerValue",F));var A={transactiontype:a,tradingsymbol:l,symboltoken:r,buyPrice:0,quantity:c,stopLossPrice:N,producttype:t.producttype};c?e.placeOrderMethod(A,i):(q.showError(l+" stoploss is > 1.5% Rejected"),console.log(l+" its not fullfilled"))}}else q.showError(l+" candle data emply"),console.log(l+" candle data emply"),i({transactiontype:a,tradingsymbol:l,symboltoken:r,status:!1})})}else q.showError(c+"  quantity |  "+l+" "+a+" Rejected")}).catch(function(t){})},this.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},this.placeOptionOrder=function(t){var e={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:t.producttype?t.producttype:"INTRADAY",duration:"DAY",squareoff:"0",stoploss:"0",exchange:t.exchange?t.exchange:"NSE",variety:"NORMAL"};console.log("place order option",e),O.placeOrder(e).then(function(t){z(t)})},this.placeOptionSLMOrder=function(t){var a={triggerprice:t.stopLossTriggerPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.netqty,transactiontype:"SELL",exchange:t.exchange,producttype:t.producttype,duration:"DAY",price:t.stopLossPrice,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",a),O.placeOrder(a).then(function(a){var n=z(a);n.status&&"SUCCESS"===n.message&&(e.speckIt("hey Vijay, "+t.tradingsymbol+" stop loss order placed"),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click(),e.updateOrderList())})},this.placeOrderMethod=function(t,e){var a={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:t.producttype,duration:"DAY",squareoff:"0",stoploss:"0",exchange:"NSE",variety:"NORMAL"};console.log("place order option",a),O.placeOrder(a).then(function(t){z(t)})},this.placeSLMOrder=function(t){var a={triggerprice:t.stopLossPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,transactiontype:"BUY"===t.transactiontype?"SELL":"BUY",exchange:"NSE",producttype:t.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",a),O.placeOrder(a).then(function(a){var n=z(a);n.status&&"SUCCESS"===n.message&&(e.speckIt("hey Vijay, "+t.tradingsymbol+" stop loss order placed"),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click(),e.updateOrderList())})}}),he=a(20),pe=a.n(he),fe=a(588),ye=Object(W.a)(function(t){return{root:{display:"flex"},endMenu:{display:"flex",flexDirection:"row reverse"},appBar:{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:t.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(m.a)({display:"flex",alignItems:"center",padding:"0 8px"},t.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}});function be(t){var e=i.a.useState({buyFlag:!0,sellFlag:!0,searchSymbol:"",producttype:"INTRADAY"}),a=Object(X.a)(e,2),n=a[0],r=a[1],l=localStorage.getItem("staticData")?JSON.parse(localStorage.getItem("staticData")).CashStocks:[],o=ye(),s=Object(st.a)(),c=i.a.useState(!1),u=Object(X.a)(c,2),v=u[0],g=u[1],d=i.a.useState(""),h=Object(X.a)(d,2);h[0],h[1];function p(){setTimeout(function(){O.getOrderListShoonya().then(function(t){for(var e=t.data,a=0;a<e.length;a++){var i=e[a];if(i.tsym==n.searchSymbol&&"B"==i.trantype&&"COMPLETE"==i.status){localStorage.setItem(n.searchSymbol,i.avgprc);break}}console.log("orderlist updated by level",e),localStorage.setItem("oderbookData",JSON.stringify(e))})},1e3)}function y(t){if(n.token&&n.searchSymbol){if(!n.qtyToTake)return void q.showError("Type QTY");if("BUY"==t){r(Object(m.a)({},n,Object(f.a)({},"buyFlag",!1)));var e={buy_or_sell:"B",product_type:"M",exchange:"NSE",tradingsymbol:n.searchSymbol,quantity:n.qtyToTake,discloseqty:0,price_type:"MKT",price:0};O.shoonyaPlaceOrder(e).then(function(t){p(),r(Object(m.a)({},n,Object(f.a)({},"buyFlag",!0)))})}if("SELL"==t){r(Object(m.a)({},n,Object(f.a)({},"sellFlag",!1)));var a={buy_or_sell:"S",product_type:"M",exchange:"NSE",tradingsymbol:n.searchSymbol,quantity:n.qtyToTake,discloseqty:0,price_type:"MKT",price:0};O.shoonyaPlaceOrder(a).then(function(t){p(),r(Object(m.a)({},n,Object(f.a)({},"sellFlag",!0)))})}}else q.showError("Type Symbol")}return i.a.createElement("div",{className:o.root},i.a.createElement(A.a,null),i.a.createElement(D.a,{position:"fixed",className:Object(ot.a)(o.appBar,Object(f.a)({},o.appBarShift,v))},i.a.createElement(I.a,null,i.a.createElement(vt.a,{"aria-label":"open drawer",onClick:function(){g(!0)},edge:"start",className:Object(ot.a)(o.menuButton,v&&o.hide)},i.a.createElement(dt.a,null)),i.a.createElement(F.a,{justify:"space-between",container:!0},t.liveNiftyLtdData?i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{color:"primary",style:{color:t.liveNiftyLtdData.changePer>0?"green":"red"},gutterBottom:!0},"Nifty",i.a.createElement(M.a,{onClick:function(){t.getNiftyLTP(),navigator.clipboard.writeText(t.liveNiftyLtdData.iv)},style:{color:t.liveNiftyLtdData.changePer>0?"green":"red"}},i.a.createElement("b",null,t.liveNiftyLtdData.iv)," "),"(",t.liveNiftyLtdData.changePer,"%) ",t.liveNiftyLtdData.acChange),i.a.createElement("div",{style:{fontSize:"smaller",marginTop:"-10px"}},"C: ",i.a.createElement("b",null," ",t.liveNiftyLtdData.close)," \xa0 \xa0 O: ",i.a.createElement("b",null," ",t.liveNiftyLtdData.open),"  \xa0 \xa0",i.a.createElement("span",{style:{background:t.bnHighlight?"green":""}}," ",i.a.createElement("b",null,"H:  ",t.liveNiftyLtdData.high," ")),"  \xa0\xa0",i.a.createElement("span",{style:{background:t.bnLowLight?"red":""}}," ",i.a.createElement("b",null," L: ",t.liveNiftyLtdData.low," ")),"  \xa0\xa0")):"",t.liveBankniftyLtdData?i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{color:"primary",style:{color:t.liveBankniftyLtdData.changePer>0?"green":"red"},gutterBottom:!0},"Bank Nifty",i.a.createElement(M.a,{onClick:function(){t.getBankNiftyShoonya(),navigator.clipboard.writeText(t.liveBankniftyLtdData.iv)},style:{color:t.liveBankniftyLtdData.changePer>0?"green":"red"}},i.a.createElement("b",null,t.liveBankniftyLtdData.iv)," "),"(",t.liveBankniftyLtdData.changePer,"%) ",t.liveBankniftyLtdData.acChange),i.a.createElement("div",{style:{fontSize:"smaller",marginTop:"-10px"}},"C: ",i.a.createElement("b",null," ",t.liveBankniftyLtdData.close)," \xa0 \xa0 O: ",i.a.createElement("b",null," ",t.liveBankniftyLtdData.open),"  \xa0 \xa0",i.a.createElement("span",{style:{background:t.bnHighlight?"green":""}}," ",i.a.createElement("b",null,"H: ",i.a.createElement(M.a,{size:"small",onClick:function(){return navigator.clipboard.writeText(t.liveBankniftyLtdData.high)}}," ",t.liveBankniftyLtdData.high),"   ")),"  \xa0\xa0",i.a.createElement("span",{style:{background:t.bnLowLight?"red":""}}," ",i.a.createElement("b",null," L: ",i.a.createElement(M.a,{size:"small",onClick:function(){return navigator.clipboard.writeText(t.liveBankniftyLtdData.low)}}," ",t.liveBankniftyLtdData.low))),"  \xa0\xa0")):"",i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,null,t.netPnL?i.a.createElement("b",{style:{color:t.netPnL>0?"green":"red"}},"Net P/L:",t.netPnL," "):""),i.a.createElement(R.a,null,i.a.createElement(M.a,{onClick:function(){t.getShoonyaLimits()},title:t&&t.ShoonyaLimits?"\n\n                                    Cash: ".concat(t.ShoonyaLimits&&t.ShoonyaLimits.cash," \n\n                                    Margin Used: ").concat(t.ShoonyaLimits&&t.ShoonyaLimits.marginused," \n\n                                    brokerage: ").concat(t.ShoonyaLimits&&t.ShoonyaLimits.brokerage,"\n\n                                    Available Cash:  ").concat(t.ShoonyaLimits&&t.ShoonyaLimits.marginused?(parseFloat(t.ShoonyaLimits.cash)-parseFloat(t.ShoonyaLimits.marginused)).toFixed(2):t.ShoonyaLimits.cash,"\n\n                                    "):""},"Opening Cash: ",t&&t.ShoonyaLimits?t.ShoonyaLimits.cash:""," \xa0 Available Cash: ",t.ShoonyaLimits&&t.ShoonyaLimits.marginused?(parseFloat(t.ShoonyaLimits.cash)-parseFloat(t.ShoonyaLimits.marginused)).toFixed(2):t.ShoonyaLimits&&t.ShoonyaLimits.cash))),i.a.createElement(fe.a,{xsDown:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:2},i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Search Symbol",name:"searchSymbol",value:n.searchSymbol,onChange:function(t){r(Object(m.a)({},n,Object(f.a)({},"searchSymbol",t.target.value)));var e,a=t.target.value.toUpperCase()+"-EQ",i=l.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.symbol===a});i.length&&r(Object(m.a)({},n,(e={},Object(f.a)(e,"searchSymbol",i[0].symbol),Object(f.a)(e,"token",i[0].token),e)))}})),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Qty",style:{width:"50px"},type:"number",name:"qtyToTake",value:n.qtyToTake,onChange:function(t){r(Object(m.a)({},n,Object(f.a)({},"qtyToTake",t.target.value)))}})),i.a.createElement(F.a,{item:!0},n.buyFlag?i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){return y("BUY")}},"Buy"):i.a.createElement(pe.a,null)),i.a.createElement(F.a,{item:!0},n.sellFlag?i.a.createElement(M.a,{variant:"contained",color:"secondary",style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){return y("SELL")}},"SELL"):i.a.createElement(pe.a,null))))),i.a.createElement(F.a,{item:!0},i.a.createElement(F.a,{container:!0,spacing:1,direction:"row"},i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{title:"Position",variant:"contained",autoFocus:!0,href:"/mtrade/#/position-shoonya",color:"primary"},localStorage.getItem("uname")))))))),i.a.createElement(ct.a,{className:o.drawer,variant:"persistent",anchor:"left",open:v,classes:{paper:o.drawerPaper}},i.a.createElement("div",{className:o.drawerHeader},i.a.createElement(mt.a,null,At),i.a.createElement(vt.a,{onClick:function(){g(!1)}},"ltr"===s.direction?i.a.createElement(pt.a,{style:{color:"gray"}}):i.a.createElement(yt.a,{style:{color:"gray"}}))),i.a.createElement(ut.a,null),i.a.createElement(mt.a,null,Ft),i.a.createElement(ut.a,null),i.a.createElement(Rt,null)),i.a.createElement("main",{className:Object(ot.a)(o.content,Object(f.a)({},o.contentShift,v))},i.a.createElement("div",{className:o.drawerHeader})))}var Se=a(299),Ee=a(295),ke=a(583);var Ce=function(t){var e=new Date;e.setHours(9,0,0,0),e.setMinutes(15,0,0,0);var a=i.a.useState(e),n=Object(X.a)(a,2),r=n[0],l=n[1],o=new Date;o.setHours(15,0,0,0),o.setMinutes(30,0,0,0);var s=i.a.useState(o),c=Object(X.a)(s,2),m=c[0],u=c[1];return i.a.createElement(Ee.b,{utils:Se.a},i.a.createElement(F.a,{containers:!0},i.a.createElement(ke.a,{margin:"normal",style:{width:"140px"},id:"date-picker-dialog",label:"Start Date",format:"dd-MM-yyyy",value:r,onChange:function(e){l(e),t.callbackFromParent.myCallback(e,"START_DATE")},KeyboardButtonProps:{"aria-label":"change date"}}),"\xa0\xa0",i.a.createElement(ke.a,{style:{width:"140px"},margin:"normal",id:"date-picker-dialog",label:"End Date",format:"dd-MM-yyyy",value:m,onChange:function(e){u(e),t.callbackFromParent.myCallback(e,"END_DATE")},KeyboardButtonProps:{"aria-label":"change date"}})))},Te=a(301),Le=a(581),we=a(584),xe=a(557),Oe=a(587),De=a(580),Ie=a(53),Pe=a(60),Fe=a(63),Ne=a.n(Fe),Me=a(46),Ae=a(590),Be=a(574),Ye=a(575),He=a(152),je=a.n(He),Re=Object(W.a)(function(t){return{root:{width:"100%"},heading:{fontSize:t.typography.pxToRem(15),fontWeight:t.typography.fontWeightRegular}}});function We(t){var e=Re(),a=t.data;return i.a.createElement("div",{className:e.root},i.a.createElement(Ae.a,{defaultExpanded:!1},i.a.createElement(Be.a,{expandIcon:i.a.createElement(je.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},i.a.createElement(R.a,null," ",a.title," (",a.list.length,")")),i.a.createElement(Ye.a,null,i.a.createElement("div",{style:{overflowY:"scroll",width:"100%",height:"50vh"}},a&&a.list.length?a.list.map(function(t,e){return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(bt.a,{button:!0,style:{fontSize:"12px",padding:"0px",paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(Et.a,{style:{color:t.nc&&0!=t.nc?t.nc>0?"#20d020":"#e66e6e":"",background:t.highlisht?"#375a00":""},onClick:function(){return a.LoadSymbolDetails(t.symbol)},primary:t.symbol})," ",t.ltp," (",t.nc,"%)"):"")}):""))))}var _e=Object(W.a)(function(t){return{root:{width:"100%"},heading:{fontSize:t.typography.pxToRem(15),fontWeight:t.typography.fontWeightRegular}}});function Je(t){var e=_e(),a=t.data;return i.a.createElement("div",{className:e.root},i.a.createElement(Ae.a,{defaultExpanded:!1},i.a.createElement(Be.a,{expandIcon:i.a.createElement(je.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},i.a.createElement(R.a,null," ",a.title," (",a.list&&a.list.length,")")),i.a.createElement(Ye.a,null,i.a.createElement("div",{style:{overflowY:"scroll",width:"100%",height:"50vh"}},a&&a.list?a.list.map(function(t,e){return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(bt.a,{button:!0,style:{fontSize:"10px",padding:"0px",paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(Et.a,{style:{color:t.nc&&0!=t.nc?t.nc>0?"#20d020":"#e66e6e":"",fontSize:"10px"},onClick:function(){return a.LoadSymbolDetails(t.symbol)},primary:t.symbol+" "+t.orderType})," ",i.a.createElement("span",{style:{fontSize:"14px"}},t.ltp," (",t.nc,"%)  ",i.a.createElement("br",null)," At ",t.foundAt," ")):"")}):""))))}Object(W.a)(function(t){return{root:{width:"100%"},heading:{fontSize:t.typography.pxToRem(15),fontWeight:t.typography.fontWeightRegular}}});var Ue=a(585),Ve=a(601),qe=a(600),ze=a(599);a(93);function Qe(t){var e=t.children,a=t.value,i=t.index,r=Object(Wt.a)(t,["children","value","index"]);return n.createElement("div",Object.assign({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),a===i&&n.createElement(ze.a,{sx:{p:3}},n.createElement(qe.a,null,e)))}function Ke(t){return{id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)}}function Ge(t){var e=t.data,a=e.cursor,i=(e.onSelectItem,e.autoSearchList,e.LoadSymbolDetails),r=e.symbolList,l=(e.onChange,e.onChangeWatchlist),o=e.search,s=e.handleKeyDown,c=e.selectedWatchlist,m=e.totalWatchlist,u=n.useState(0),v=Object(X.a)(u,2),g=v[0],d=v[1],h=n.useState({searchedSymbolList:r}),p=Object(X.a)(h,2),f=(p[0],p[1],t.data.gainerList?t.data.gainerList:[]),y=t.data.looserList?t.data.looserList:[];return n.createElement(ze.a,{sx:{width:"100%"}},n.createElement(ze.a,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(Ue.a,{value:g,onChange:function(t,e){d(e)},"aria-label":"basic tabs example",style:{overflowY:"scroll"}},n.createElement(Ve.a,Object.assign({label:"My WL"},Ke(0))),n.createElement(Ve.a,Object.assign({label:f&&f.length+" Gainner"},Ke(1))),n.createElement(Ve.a,Object.assign({label:y&&y.length+" Looser"},Ke(2))),n.createElement(Ve.a,Object.assign({label:"Fevrate"},Ke(3))))),n.createElement(Qe,{value:g,index:0},n.createElement("div",{style:{marginLeft:"5px"}},n.createElement(xe.a,{style:{width:"100%"}},n.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),n.createElement(Oe.a,{value:c,name:"selectedWatchlist",onChange:l},n.createElement(De.a,{value:"selectall"},"Select All"),m&&m.map(function(t){return n.createElement(De.a,{value:t},t)}))),n.createElement(B.a,{style:{width:"100%"},label:"Filter Symbol",margin:"normal",variant:"standard",name:"search",onKeyDown:s,value:o})),n.createElement("div",{style:{overflowY:"scroll",height:"75vh"}},r&&r.length?r.map(function(t,e){return n.createElement(n.Fragment,null,n.createElement(bt.a,{onKeyDown:s,button:!0,selected:a===e?"active":null,style:{fontSize:"12px",padding:"0px",paddingLeft:"5px",paddingRight:"5px"}},a===e?localStorage.setItem("selectedKeyRow",JSON.stringify(t)):"",n.createElement(M.a,{style:{color:t.nc&&0!=t.nc?t.nc>0?"#20d020":"#e66e6e":""},onClick:function(){return i(t.symbol,e)}},n.createElement("div",{style:{textAlign:"left"}},"  ",t.name," "),"\xa0 \xa0 \xa0",n.createElement("div",{style:{textAlign:"right"}},"  ",t.ltp," (",t.nc,"%)  "))))}):"")),n.createElement(Qe,{value:g,index:1},n.createElement("div",{style:{overflowY:"scroll",height:"75vh"}},f&&f.length?f.map(function(t,e){return n.createElement(n.Fragment,null,n.createElement(bt.a,{onKeyDown:s,button:!0,selected:a===e?"active":null,style:{fontSize:"12px",padding:"0px",paddingLeft:"5px",paddingRight:"5px"}},a===e?localStorage.setItem("selectedKeyRow",JSON.stringify(t)):"",n.createElement(M.a,{title:"Found At: "+t.foundAt,style:{color:t.nc&&0!=t.nc?t.nc>0?"#20d020":"#e66e6e":""},onClick:function(){return i(t.name,e)}}," ",t.name," ",t.ltp," (",t.nc,"%) ",t.sector.split(" ")[1]," ")))}):"")),n.createElement(Qe,{value:g,index:2},n.createElement("div",{style:{overflowY:"scroll",height:"75vh"}},y&&y.length?y.map(function(t,e){return n.createElement(n.Fragment,null,n.createElement(bt.a,{onKeyDown:s,button:!0,selected:a===e?"active":null,style:{fontSize:"12px",padding:"0px",paddingLeft:"5px",paddingRight:"5px"}},a===e?localStorage.setItem("selectedKeyRow",JSON.stringify(t)):"",n.createElement(M.a,{title:"Found At: "+t.foundAt,style:{color:t.nc&&0!=t.nc?t.nc>0?"#20d020":"#e66e6e":""},onClick:function(){return i(t.name,e)}}," ",t.name," ",t.ltp," (",t.nc,"%) ",t.sector.split(" ")[1]," ")))}):"")),n.createElement(Qe,{value:g,index:3},"Fevrate list"))}var Xe=a(90),Ze=a.n(Xe),$e=a(108),ta=a.n($e),ea=L.a.create({baseURL:""}),aa=function(){return function(){var t=Object(lt.a)(it.a.mark(function t(e){var a,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={allPacks:!0,portal:!0},t.next=3,ea.post("getPrepaidPacks",a);case 3:n=t.sent,e({type:"SET PACK LOADED",payload:n});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},na=a(555),ia=a(67);function ra(t){var e=t.diffData&&t.diffData.data,a=[],n=[],r=[],l=[];e.reverse();for(var o=e.length-20;o<e.length;o++)e[o]&&(a.push(e[o].totChangeINOIPut),n.push(e[o].totChangeINOICall),l.push(e[o].totChangeINOIDiff),r.push(e[o].dateTime));var s={labels:r,datasets:[{label:"Chng Diff.",data:l,fill:!0,onoffline:!0,backgroundColor:"rgba(75,192,192,0.1)",borderColor:"blue"}]};return i.a.createElement("div",null,i.a.createElement(ee.a,{height:"70",data:s,options:{maintainAspectRatio:!0}}))}var la={PaperProps:{style:{maxHeight:224,width:250}}},oa=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChangeSelectSymbol=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.loadPackList()})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.filterOptionChain(t.target.name,t.target.value)})},a.filterOptionChain=function(t,e){var n=[],i=a.state.optionChainDataBN&&a.state.optionChainDataBN.records&&a.state.optionChainDataBN.records.data;if("expiry"===t&&"All"===e&&(n=i),"expiry"===t)for(var r=0;r<i.length;r++){var l=i[r];l.expiryDate===e&&n.push(l)}if("strike"===t)for(var o=0;o<i.length;o++){var s=i[o];s.strikePrice===e&&n.push(s)}a.setState({filtered:n,FilteredBY:t+" "+e})},a.handleScroll=function(t){var e=a.state.scrollcount;a.setState({scrollcount:e+=1})},a.onChangeCallLot=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.calculateCallMargin()})},a.calculateCallMargin=function(t){a.state.filtered&&a.state.filtered.forEach(function(t){t.CE&&t.CE.lastPrice&&(t.CE.totalMargin=Object(ia.a)((t.CE.lastPrice*a.state.buyCallLot*a.state.lotSize).toFixed(2)),t.CE.maxLoss=Object(ia.a)(" SL 10%: <br /><b style='color:red'>"+(t.CE.lastPrice*a.state.buyCallLot*a.state.lotSize*10/100).toFixed(2)+"</b>"))}),a.setState({filtered:a.state.filtered})},a.onChangePutLot=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.calculatePutMargin()})},a.calculatePutMargin=function(t){a.state.filtered&&a.state.filtered.forEach(function(t){t.PE&&t.PE.lastPrice&&(t.PE.totalMargin=Object(ia.a)((t.PE.lastPrice*a.state.buyPutLot*a.state.lotSize).toFixed(2)),t.PE.maxLoss=Object(ia.a)(" SL 10%: <br /><b style='color:red'>"+(t.PE.lastPrice*a.state.buyPutLot*a.state.lotSize*10/100).toFixed(2)+"</b>"))}),a.setState({filtered:a.state.filtered})},a.getDataforStrike=function(t){for(var e=JSON.parse(localStorage.getItem("optionChainDataBN")).records&&JSON.parse(localStorage.getItem("optionChainDataBN")).records.data,a=0,n=0,i=0;i<e.length;i++){var r=e[i];t===r.strikePrice&&(r.CE&&r.CE.openInterest&&(a+=r.CE.openInterest),r.PE&&r.PE.openInterest&&(n+=r.PE.openInterest))}return{strikePrice:t,sumOfCEoi:a,sumOfPEoi:n}},a.findSupportResistence=function(t){var e=t&&t.records&&t.records.data,n=0,i=0,r=0,l=0;if(e)for(var o=0;o<e.length;o++){var s=e[o];s&&s.PE&&(n+=s.PE.openInterest,r+=s.PE.changeinOpenInterest),s&&s.CE&&(i+=s.CE.openInterest,l+=s.CE.changeinOpenInterest)}var c=[],m=a.state.underlyingValue-a.state.showOptionDownside,u=Math.round(m)%100,v=Math.round(m)+100-u,g=a.state.underlyingValue+a.state.showOptionUpside,d=Math.round(g)%100,h=Math.round(g)+100-d;console.log(a.state.underlyingValue,"start from",v,"endto",h);for(var p=v;p<=h;p+=100)c.push(p);c=c.sort(function(t,e){return e-t});var f=[],y=0,b=0;c.forEach(function(t){var e=a.getDataforStrike(t);y+=e.sumOfPEoi,b+=e.sumOfCEoi,f.push(e),console.log(t,e)}),a.setState({AllspTotalOI:f,selectedSPpcr:(y/b).toFixed(3),totalspeoi:y,totalsceoi:b}),a.setState({CEoi:i,PEoi:n,allStrikediff:n-i,CEoiChange:l,PEoiChange:r,allStrikeChngeDiff:r-l})},a.state={products:[],stopnview:"",curnewdata:"",showOptionUpside:800,showOptionDownside:800,timestamp:"",totalCOI:0,expiry:"",strike:"",FilteredBY:"",AllspTotalOI:[],PEoi:0,CEoi:0,waitForChainFlag:!0,scrollcount:0,pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN"))&&JSON.parse(localStorage.getItem("pcrTableBN")).data,optionChainDataBN:JSON.parse(localStorage.getItem("optionChainDataBN")),filtered:JSON.parse(localStorage.getItem("optionChainDataBN"))&&JSON.parse(localStorage.getItem("optionChainDataBN")).filtered&&JSON.parse(localStorage.getItem("optionChainDataBN")).filtered.data,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"Securities in F&O",selectOptionStock:"BANKNIFTY",underlyingValue:JSON.parse(localStorage.getItem("optionChainDataBN"))&&JSON.parse(localStorage.getItem("optionChainDataBN")).records&&JSON.parse(localStorage.getItem("optionChainDataBN")).records.underlyingValue,buyCallLot:1,buyPutLot:1,niftyLogSize:50,niftybankLogSize:25},a.findSupportResistence=a.findSupportResistence.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({SecuritiesInFO:this.state.staticData[this.state.selectedWatchlist]},function(){}),JSON.parse(localStorage.getItem("optionDiffdata"+this.state.selectOptionStock))?this.setState({products:JSON.parse(localStorage.getItem("optionDiffdata"+this.state.selectOptionStock)).data}):localStorage.setItem("optionDiffdata"+this.state.selectOptionStock,JSON.stringify({data:[]})),JSON.parse(localStorage.getItem("pcrTableBN"))?this.setState({pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN")).data}):localStorage.setItem("pcrTableBN",JSON.stringify({data:[]}));var e=new Date;e.getHours()>=9&&e.getHours()<16&&setInterval(function(){t.loadPackList()},36e4),setInterval(function(){t.updatepcr()},36e4);var a=25;"NIFTY"==this.state.selectOptionStock&&(a=50),"BANKNIFTY"==this.state.selectOptionStock&&(a=25),this.setState({lotSize:a},function(){this.calculateCallMargin(),this.calculatePutMargin()})}},{key:"loadPackList",value:function(){var t=this;this.setState({waitForChainFlag:!1}),O.getBNcpdata(this.state.selectOptionStock).then(function(e){var a=e.data&&e.data;if(localStorage.setItem("optionChainDataBN",JSON.stringify(a)),t.setState({filtered:a.filtered&&a.filtered.data,optionChainDataBN:a}),a.filtered){var n=a.filtered.PE.totOI-a.filtered.CE.totOI,i={dateTime:t.dateFormat(new Date),totCEOI:a.filtered.CE.totOI,totCEVol:a.filtered.CE.totVol,totPEOI:a.filtered.PE.totOI,totPEVol:a.filtered.PE.totVol,diff:n,totChangeINOICall:parseInt(localStorage.getItem("totCEOIChange")),totChangeINOIPut:parseInt(localStorage.getItem("totPEOIChange")),totChangeINOIDiff:parseInt(localStorage.getItem("totPEOIChange"))-parseInt(localStorage.getItem("totCEOIChange"))};if(t.setState({curnewdata:i}),document.getElementById("title").innerHTML=(n/1e5).toFixed(2)+"|"+((localStorage.getItem("totPEOIChange")-localStorage.getItem("totCEOIChange"))/1e5).toFixed(2)+"L "+t.state.selectOptionStock,JSON.parse(localStorage.getItem("optionDiffdata"+t.state.selectOptionStock))){var r=JSON.parse(localStorage.getItem("optionDiffdata"+t.state.selectOptionStock)),l=r&&r.data[0];l?(i.isDuplicate=i.diff===l.diff,i.totCEOIChange=(100*(i.totCEOI-l.totCEOI)/l.totCEOI).toFixed(3),i.totPEOIChange=(100*(i.totPEOI-l.totPEOI)/l.totPEOI).toFixed(3),i.totDiffChange=(100*(i.diff-l.diff)/l.diff).toFixed(3)):(i.isDuplicate=!1,i.totCEOIChange=0,i.totPEOIChange=0,i.totDiffChange=0),a.records&&(r.timestamp=a.records.timestamp,r.underlyingValue=a.records.underlyingValue),localStorage.setItem("optionDiffdata"+t.state.selectOptionStock,JSON.stringify(r)),t.setState({products:r.data,underlyingValue:a.records.underlyingValue,timestamp:a.records.timestamp}),t.setState({waitForChainFlag:!0})}}t.updatepcr(),t.setState({pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN"))&&JSON.parse(localStorage.getItem("pcrTableBN")).data})})}},{key:"updatepcr",value:function(){var t={allPCR:(this.state.PEoi/this.state.CEoi).toFixed(3),expiryPCR:localStorage.getItem("thisWeekPCR"),selectedSPpcr:this.state.selectedSPpcr};if(JSON.parse(localStorage.getItem("pcrTableBN"))){var e=JSON.parse(localStorage.getItem("pcrTableBN"));e.data.unshift(t),localStorage.setItem("pcrTableBN",JSON.stringify(e))}console.log(t),this.setState({pcrTableBN:e})}},{key:"dateFormat",value:function(t){return ce(t).format("DD-MM-YYYY h:mm:ss A")}},{key:"render",value:function(){var t,e,a=this,n=0,r=0,l=0,o=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:sa.selectStyle},i.a.createElement(N.a,{id:"selectOptionStock"},"Select Symbol"),i.a.createElement(Oe.a,{id:"selectOptionStock",name:"selectOptionStock",value:this.state.selectOptionStock,onChange:this.onChangeSelectSymbol,input:i.a.createElement(na.a,null),MenuProps:la},i.a.createElement(De.a,{key:"NIFTY",value:"NIFTY"}," ","NIFTY"),i.a.createElement(De.a,{key:"BANKNIFTY",value:"BANKNIFTY"}," ","BANKNIFTY"),this.state.SecuritiesInFO&&this.state.SecuritiesInFO.length?this.state.SecuritiesInFO.map(function(t,e){return i.a.createElement(De.a,{key:t.name,value:t.name},t.name)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:sa.selectStyle},i.a.createElement(N.a,{id:"expiry"},"Select Expiry Date"),i.a.createElement(Oe.a,{id:"expiry",name:"expiry",value:this.state.expiry,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:la},i.a.createElement(De.a,{key:"All",value:"All"},"All"),this.state.optionChainDataBN&&this.state.optionChainDataBN.records&&this.state.optionChainDataBN.records.expiryDates?this.state.optionChainDataBN.records.expiryDates.map(function(t,e){return i.a.createElement(De.a,{key:t+"key"+e,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:sa.selectStyle},i.a.createElement(N.a,{id:"strike"},"Select Strick Price"),i.a.createElement(Oe.a,{labelId:"strike",id:"strike","max-height":"100%",name:"strike",value:this.state.strike,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:la},this.state.optionChainDataBN&&this.state.optionChainDataBN.records&&this.state.optionChainDataBN.records.strikePrices?this.state.optionChainDataBN.records.strikePrices.map(function(t){return i.a.createElement(De.a,{key:t,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},this.state.waitForChainFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return a.loadPackList()}},"Refesh"):i.a.createElement(pe.a,null)),i.a.createElement(F.a,{item:!0,xs:6,sm:4},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary"},this.state.selectOptionStock," ",this.state.underlyingValue," ",this.state.timestamp))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px",overflow:"auto"}},i.a.createElement(F.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),i.a.createElement(F.a,{item:!0,xs:3,sm:3},i.a.createElement("span",null," ",i.a.createElement("b",null,"Total ")),i.a.createElement("span",null," PE OI: ",i.a.createElement("b",null," ",(this.state.PEoi/1e5).toFixed(3),"L")),i.a.createElement("span",null," CE OI: ",i.a.createElement("b",null,(this.state.CEoi/1e5).toFixed(3),"L")),i.a.createElement("span",null," PE-CE: ",this.state.allStrikediff>0?i.a.createElement("b",{style:{color:"green"}},(this.state.allStrikediff/1e5).toFixed(3),"L"):i.a.createElement("b",{style:{color:"red"}},(this.state.allStrikediff/1e5).toFixed(3),"L"))),i.a.createElement(F.a,{item:!0,xs:3,sm:5},i.a.createElement("span",null," ",i.a.createElement("b",null,"Total Chng ")),i.a.createElement("span",null," PE OI: ",i.a.createElement("b",null,(this.state.PEoiChange/1e5).toFixed(3),"L")),i.a.createElement("span",null," CE OI: ",i.a.createElement("b",null,(this.state.CEoiChange/1e5).toFixed(3),"L")),i.a.createElement("span",null," PE-CE: ",this.state.allStrikeChngeDiff>0?i.a.createElement("b",{style:{color:"green"}},(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L"):i.a.createElement("b",{style:{color:"red"}}," ",(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L"))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement("span",null,"ALL PCR: ",i.a.createElement("b",null,(this.state.PEoi/this.state.CEoi).toFixed(3)," "))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement("span",null,"Expire Week PCR: ",i.a.createElement("b",null,localStorage.getItem("thisWeekPCR")," ")))))),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:0,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{id:"tabledatachart",item:!0,xs:6,sm:6,style:{padding:"2px",overflow:"auto",height:"350px"}},i.a.createElement(Kt.a,{id:"tabledata",stickyHeader:!0,"aria-label":"sticky table",size:"small"},i.a.createElement(Le.a,{key:2222,variant:"head",style:{width:"",whiteSpace:"nowrap"}},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Time")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"VIEW")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Put-Call(diff)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI(diff)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"PUT OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Put OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Call OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Call OI")))),i.a.createElement(Zt.a,{hover:!0,style:{width:"",whiteSpace:"nowrap"}},this.state.products?this.state.products.map(function(t){return i.a.createElement(Gt.a,{key:t.dateTime,style:{background:t.isDuplicate?"lightgray":""}},i.a.createElement(Xt.a,{align:"center"},t.dateTime.substring(19,11)),i.a.createElement(Xt.a,{align:"center"},t.diff>0?i.a.createElement(R.a,{variant:"body2",style:{color:"green"}},"BUY"):i.a.createElement(R.a,{variant:"body2",style:{color:"red"}},"SELL")),i.a.createElement(Xt.a,{align:"center"},t.diff," (",(t.diff/1e5).toFixed(2),"L)(",t.totDiffChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totDiffChange,"%"):"0.000"==t.totDiffChange?i.a.createElement("span",null,t.totDiffChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totDiffChange,"%"),") "),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIDiff," (",(t.totChangeINOIDiff/1e5).toFixed(2),"L)"),i.a.createElement(Xt.a,{align:"center"},t.totPEOI," (",t.totPEOIChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totPEOIChange,"%"):"0.000"==t.totPEOIChange?i.a.createElement("span",null,t.totPEOIChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totPEOIChange,"%"),")"),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIPut," "),i.a.createElement(Xt.a,{align:"center"},t.totCEOI," (",t.totCEOIChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totCEOIChange,"%"):"0.000"==t.totCEOIChange?i.a.createElement("span",null,t.totCEOIChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totCEOIChange,"%"),")"),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOICall))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:6,sm:6,style:{padding:"2px",overflow:"auto"}},i.a.createElement(ra,{diffData:{data:this.state.products,scrollcount:this.state.scrollcount}})),i.a.createElement(F.a,{item:!0,xs:3,sm:3,style:{padding:"2px",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(t={style:{borderLeft:"dashed",borderRight:"dashed",fontWeight:"500"},id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(t,"id","tabledata"),Object(f.a)(t,"size","small"),t),i.a.createElement(Le.a,{style:{},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Total CE OI ",i.a.createElement("br",null),(this.state.totalsceoi/1e5).toFixed(3),"L")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Strike Price",i.a.createElement("br",null),this.state.totalspeoi-this.state.totalsceoi,"(",((this.state.totalspeoi-this.state.totalsceoi)/1e5).toFixed(3),"L) ")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Total PE OI",i.a.createElement("br",null),(this.state.totalspeoi/1e5).toFixed(3),"L")))),i.a.createElement(Zt.a,null,this.state.AllspTotalOI?this.state.AllspTotalOI.map(function(t){return i.a.createElement(Gt.a,{hover:!0,key:t.dateTime},i.a.createElement(Xt.a,{align:"center",style:{backgroundColor:t.strikePrice<a.state.underlyingValue?"#ded6a269":""}},t.sumOfCEoi," (",(t.sumOfCEoi/1e5).toFixed(2),"L)"),i.a.createElement(Xt.a,{align:"center"},t.strikePrice),i.a.createElement(Xt.a,{align:"center",style:{backgroundColor:t.strikePrice>a.state.underlyingValue?"#ded6a269":""}},t.sumOfPEoi," (",(t.sumOfPEoi/1e5).toFixed(2),"L)"))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:2,sm:2,style:{padding:"2px",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(e={id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(e,"id","tabledata"),Object(f.a)(e,"size","small"),e),i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},"ALL Pcr"),i.a.createElement(Xt.a,{align:"center"},"Expiry Pcr "),i.a.createElement(Xt.a,{align:"center"},"Selected Pcr"))),i.a.createElement(Zt.a,{style:{whiteSpace:"nowrap"}},this.state.pcrTableBN&&this.state.pcrTableBN.length>0&&this.state.pcrTableBN?this.state.pcrTableBN.map(function(t){return i.a.createElement(Gt.a,{hover:!0,key:t.expiryPCR},i.a.createElement(Xt.a,{align:"center"},t.allPCR," "),i.a.createElement(Xt.a,{align:"center"},t.expiryPCR),i.a.createElement(Xt.a,{align:"center"},t.selectedSPpcr," "))}):""))),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{padding:"2px",overflow:"auto",height:"900px"}},i.a.createElement(Kt.a,{stickyHeader:!0,"aria-label":"sticky table",id:"tabledata",size:"small"},i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"CALL")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"PUT"))),i.a.createElement(Gt.a,{variant:"head",style:{width:"",whiteSpace:"nowrap"}},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI Total OI ",i.a.createElement("br",null),localStorage.getItem("totCEOI"),"(",(localStorage.getItem("totCEOI")/1e5).toFixed(3),"L) ")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totCEOIChange"),"(",(localStorage.getItem("totCEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Lot")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Cost")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Max Loss")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Buy")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," STRIKE PRICE")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," Expiry")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Buy")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Max Loss")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Cost")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Lot")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totPEOIChange"),"(",(localStorage.getItem("totPEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI ",i.a.createElement("br",null),localStorage.getItem("totPEOI"),"(",(localStorage.getItem("totPEOI")/1e5).toFixed(3),"L)")))),i.a.createElement(Zt.a,null,this.state.filtered?this.state.filtered.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},t&&t.CE&&t.PE&&t.strikePrice>=t.CE.underlyingValue-a.state.showOptionUpside&&t.strikePrice<=t.CE.underlyingValue+a.state.showOptionDownside?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,Object.assign({},n+=t.CE.openInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.CE.openInterest),i.a.createElement(Xt.a,Object.assign({},r+=t.CE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.CE.changeinOpenInterest),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.CE.lastPrice),"(",t.CE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"):0==t.CE.pChange?i.a.createElement("span",null,t.CE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"),") "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},t.CE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement(B.a,{label:"Lot: "+a.state.lotSize,type:"number",style:{width:"50px",textAlign:"center"},value:a.state.buyCallLot,onChange:a.onChangeCallLot,name:"buyCallLot"})),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.CE.totalMargin," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.CE.maxLoss," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},"  ",i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return a.props.buyOption("CE",a.state.selectOptionStock,t.strikePrice,t.expiryDate,a.state.buyCallLot)}}," Call Buy ")," "),i.a.createElement(Xt.a,{style:{borderLeft:"dashed",borderRight:"dashed",fontWeight:"500"},align:"center"},i.a.createElement("span",null," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return a.filterOptionChain("strike",t.strikePrice)}}," ",t.strikePrice)," ")," "),i.a.createElement(Xt.a,{style:{borderRight:"dashed",whiteSpace:"nowrap"},align:"center"},i.a.createElement("span",{style:{paddingLeft:"5px",paddingRight:"5px"}}," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return a.filterOptionChain("expiry",t.expiryDate)}}," ",t.expiryDate))," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},"  ",i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return a.props.buyOption("PE",a.state.selectOptionStock,t.strikePrice,t.expiryDate,a.state.buyPutLot)}},"Put Buy ")," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.PE.maxLoss," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.PE.totalMargin," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement(B.a,{label:"Lot: "+a.state.lotSize,type:"number",style:{width:"50px",textAlign:"center"},value:a.state.buyPutLot,onChange:a.onChangePutLot,name:"buyPutLot"})),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},t.PE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.PE.lastPrice),"(",t.PE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"):0==t.PE.pChange?i.a.createElement("span",null,t.PE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"),")"),i.a.createElement(Xt.a,Object.assign({},o+=t.PE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.PE.changeinOpenInterest),i.a.createElement(Xt.a,Object.assign({},l+=t.PE.openInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.PE.openInterest," ")):"")}):i.a.createElement(pe.a,null),i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOI",n)),i.a.createElement("b",null,n,i.a.createElement("br",null),"(",(n/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOIChange",r)),i.a.createElement("b",null,r,i.a.createElement("br",null),"(",(r/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,{colSpan:3,align:"center"}),i.a.createElement(Xt.a,Object.assign({},localStorage.setItem("thisWeekPCR",(l/n).toFixed(3)),{align:"center",colSpan:2}),i.a.createElement("b",null," PCR : ",(l/n).toFixed(3))),i.a.createElement(Xt.a,{colSpan:5,align:"center"}),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOIChange",o)),i.a.createElement("b",null,o,i.a.createElement("br",null),"(",(o/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOI",l)),i.a.createElement("b",null,l,i.a.createElement("br",null),"(",(l/1e5).toFixed(3),"L)")," ")))))))}}]),e}(i.a.Component),sa={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{marginBottom:"0px",minWidth:240,maxWidth:240}},ca=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(oa),ma=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).searchSymbolPendingOrder=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value)),O.stockOptionSearch(t.target.value).then(function(e){var n=e.data;if(t.target.value){var i=t.target.value.toUpperCase()+"-EQ",r=n.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.symbol===i});r.length&&a.setState({searchSymbolPending:r[0].symbol,searchTokenPending:r[0].token,exch_seg:r[0].exch_seg})}})},a.updateInput=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.addInOrderPenidngList=Object(lt.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.state.searchSymbolPending,a.state.searchTokenPending,a.state.buyAtPending,a.state.sellAtPending),!(parseFloat(a.state.sellAtPending)>a.state.lastTradedData.low)){t.next=4;break}if(window.confirm("Be carefull Selling at high price "+a.state.sellAtPending+", today "+a.state.searchSymbolPending+" low is "+a.state.lastTradedData.low)){t.next=4;break}return t.abrupt("return");case 4:if(!(parseFloat(a.state.buyAtPending)<a.state.lastTradedData.high)){t.next=7;break}if(window.confirm("Be carefull Buying at low price "+a.state.buyAtPending+", today "+a.state.searchSymbolPending+" high is "+a.state.lastTradedData.high)){t.next=7;break}return t.abrupt("return");case 7:(a.state.searchSymbolPending&&a.state.buyAtPending||a.state.buyAtBelowPending||a.state.sellAtAbovePending||a.state.sellAtPending)&&(e={createdAt:(new Date).toLocaleTimeString(),token:a.state.searchTokenPending,symbol:a.state.searchSymbolPending,buyAt:a.state.buyAtPending,buyAtBelow:a.state.buyAtBelowPending,sellAt:a.state.sellAtPending,sellAtAbove:a.state.sellAtAbovePending,pattenName:a.state.pattenNamePending,exch_seg:a.state.exch_seg,priceStopLoss:a.state.priceStopLoss,priceTarget:a.state.priceTarget,id:(new Date).getTime()},a.setState({orderPenidngOptionList:[].concat(Object(rt.a)(a.state.orderPenidngOptionList),[e])},function(){this.setState({searchSymbolPending:"",searchTokenPending:"",buyAtPending:"",buyAtBelowPending:"",sellAtPending:"",sellAtAbovePending:"",pattenNamePending:""}),localStorage.setItem("orderPenidngOptionList",JSON.stringify(this.state.orderPenidngOptionList)),localStorage.setItem("orderTagToPosition",JSON.stringify(this.state.orderPenidngOptionList))}));case 8:case"end":return t.stop()}},t)})),a.deleteInOrderPenidngList=function(t){console.log("callback",t);for(var e="",n=localStorage.getItem("orderPenidngOptionList")&&JSON.parse(localStorage.getItem("orderPenidngOptionList")),i=0;i<a.state.orderPenidngOptionList.length;i++){var r=n[i];if(t.symbol==r.symbol){e=n.splice(i,1),localStorage.setItem("orderPenidngOptionList",JSON.stringify(n)),a.setState({orderPenidngOptionList:n});break}}return console.log("del",e),!(!e||e[0].symbol!=t.symbol)},a.callBackUpdate=function(t){console.log("call back called")},a.placeOptionSPLevelOver=function(t,e){var n=ce().isoWeekday(),i=(localStorage.getItem("optionChainDataBN")&&JSON.parse(localStorage.getItem("optionChainDataBN"))).records.expiryDates[0],r=0;console.log("indexData.symbol",t.symbol,e),t.buyAt||t.buyAtBelow?(5==n||1==n?(r=Math.round(e)-Math.round(e)%100+400*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100+200*a.state.strikeSelectionRate)):2==n?(r=Math.round(e)-Math.round(e)%100+300*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100+150*a.state.strikeSelectionRate)):3==n?(r=Math.round(e)-Math.round(e)%100+200*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100+100*a.state.strikeSelectionRate)):r=Math.round(e)-Math.round(e)%100,console.log("call buy strick",r,n,e),a.props.buyOption("CE",t.symbol,r,i,1,t)):(t.sellAt||t.sellAtAbove)&&(5==n||1==n?(r=Math.round(e)-Math.round(e)%100-400*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100-200*a.state.strikeSelectionRate)):2==n?(r=Math.round(e)-Math.round(e)%100-300*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100-150*a.state.strikeSelectionRate)):3==n?(r=Math.round(e)-Math.round(e)%100-200*a.state.strikeSelectionRate,"NIFTY"==t.symbol&&(r=Math.round(e)-Math.round(e)%100-100*a.state.strikeSelectionRate)):r=Math.round(e)-Math.round(e)%100,console.log("put buy strick",r,n),a.props.buyOption("PE",t.symbol,r,i,1,t))},a.updateLTP=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.orderPenidngOptionList[e],i={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(i).then(function(t){var e=z(t,"noPop"),i=e&&e.data;if(console.log(i),i&&i.ltp)if(n.ltp=i.ltp,n.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2),localStorage.setItem("orderPenidngOptionList",JSON.stringify(a.state.orderPenidngOptionList)),a.setState({orderPenidngOptionList:a.state.orderPenidngOptionList}),n.buyAt&&i.ltp>=parseFloat(n.buyAt)||n.buyAtBelow&&i.ltp<=parseFloat(n.buyAtBelow))a.deleteInOrderPenidngList(n)&&a.setState({buyOptionFlag:!0},function(){this.placeOptionSPLevelOver(n,i.ltp)});else if(n.sellAt&&i.ltp<=parseFloat(n.sellAt)||n.sellAtAbove&&i.ltp>=parseFloat(n.sellAtAbove)){a.deleteInOrderPenidngList(n)&&a.setState({buyOptionFlag:!0},function(){this.placeOptionSPLevelOver(n,i.ltp)})}}),t.next=5,new Promise(function(t){return setTimeout(t,500)});case 5:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.orderPenidngOptionList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.getTradePrice=function(){var t={exchange:a.state.exch_seg,tradingsymbol:a.state.searchSymbolPending,symboltoken:a.state.searchTokenPending};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i={symbol:n.tradingsymbol,ltp:n.ltp,perChange:(100*(n.ltp-n.close)/n.close).toFixed(2),open:n.open,high:n.high,close:n.close,low:n.low};a.setState({lastTradedData:i})}})},a.copyPrice=function(t){a.setState(Object(f.a)({},t,a.state.lastTradedData.ltp))},a.updateLiveBankniftyLtdData=function(){var t=a.props.liveBankniftyLtdData;t&&a.setState({lastTradedData:{perChange:t.nc,ltp:t.iv}});for(var e=function(e){var n=a.state.orderPenidngOptionList[e];t&&t.iv&&"Nifty Bank"===t.tk&&(n.ltp=t.iv,n.perChange=t.nc,localStorage.setItem("orderPenidngOptionList",JSON.stringify(a.state.orderPenidngOptionList)),a.setState({orderPenidngOptionList:a.state.orderPenidngOptionList}),n.buyAt&&t.iv>=parseFloat(n.buyAt)||n.buyAtBelow&&t.iv<=parseFloat(n.buyAtBelow)?a.deleteInOrderPenidngList(n)&&a.setState({buyOptionFlag:!0},function(){this.placeOptionSPLevelOver(n,t.iv)}):(n.sellAt&&t.iv<=parseFloat(n.sellAt)||n.sellAtAbove&&t.iv>=parseFloat(n.sellAtAbove))&&a.deleteInOrderPenidngList(n)&&a.setState({buyOptionFlag:!0},function(){this.placeOptionSPLevelOver(n,t.iv)}))},n=0;n<a.state.orderPenidngOptionList.length;n++){e(n)}},a.refreshCandleChartManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=ce("9:15am","h:mma"),i=ce.duration("12:00:00"),ce(new Date).subtract(i),r={exchange:"NSE",symboltoken:e.token,interval:"FIVE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=[];a.data.forEach(function(t){n.push([t[0],t[1],t[2],t[3],t[4]])}),localStorage.setItem("candleChangeShow",e.perChange),localStorage.setItem("candleChartData",JSON.stringify(n)),localStorage.setItem("cadleChartSymbol",e.symbol),document.getElementById("showCandleChart").click()}else console.log(e.symboltoken,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(e.symboltoken+" candle failed!")});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChange2=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));t.target.value;a.setState({lastTradedData:{},buyAtPending:"",sellAtPending:"",pattenNamePending:"",searchSymbolPending:""});var e=a.state.staticData[a.state.selectedWatchlist].filter(function(e){return e.name==t.target.value.toUpperCase()});if(console.log("stock",e),e.length>0){var n={exchange:e[0].exch_seg,tradingsymbol:e[0].symbol,symboltoken:e[0].token};O.getLTP(n).then(function(t){var n=z(t,"noPop"),i=n&&n.data;i&&i.ltp&&(console.log("LtpData",i),O.stockOptionSearch({name:e[0].name,ltp:i.ltp}).then(function(t){var e=t.data;console.log(e),localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})}))})}},a.openNewPage=function(t){window.open("/mtrade/#/order-watchlist"),localStorage.setItem("isOpenInNewPage","yes")},a.backToPositionPage=function(t){window.location.replace("/mtrade/#/position-new"),localStorage.setItem("isOpenInNewPage","no")},a.onSelectItem=function(t,e){var n=JSON.parse(localStorage.getItem("autoSearchTemp"));if(n.length>0){for(var i="",r=0;r<n.length;r++)if(n[r].symbol===e){i=n[r];break}a.setState({searchSymbolPending:i.symbol,searchTokenPending:i.token,exch_seg:i.exch_seg},function(){this.getTradePrice()})}},a.orderValueChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));for(var e=0;e<a.state.orderPenidngOptionList.length;e++){var n=a.state.orderPenidngOptionList[e],i=t.target.name.split("-");if(i[0]===n.symbol&&n.id==i[2]){n[i[1]]=t.target.value,a.setState({orderPenidngOptionList:a.state.orderPenidngOptionList},function(){localStorage.setItem("orderPenidngOptionList",JSON.stringify(this.state.orderPenidngOptionList))});break}}},a.componentWillReceiveProps=function(t){console.log("LtpData1",a.props.liveBankniftyLtdData),a.updateLiveBankniftyLtdData()},a.state={orderPenidngOptionList:localStorage.getItem("orderPenidngOptionList")&&JSON.parse(localStorage.getItem("orderPenidngOptionList"))||[],buyAtPending:"",buyAtBelowPending:"",sellAtPending:"",sellAtAbovePending:"",pattenNamePending:"",searchSymbolPending:"",autoSearchList:[{token:"26009",symbol:"BANKNIFTY",name:"BANKNIFTY",expiry:"",strike:"-1.000000",lotsize:"-1",instrumenttype:"",exch_seg:"NSE",tick_size:"-1.000000"},{token:"26000",symbol:"NIFTY",name:"NIFTY",expiry:"",strike:"-1.000000",lotsize:"-1",instrumenttype:"",exch_seg:"NSE",tick_size:"-1.000000"}],lastTradedData:{},buyOptionFlag:!1,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"Securities in F&O",strikeSelectionRate:2},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){localStorage.setItem("autoSearchTemp",JSON.stringify(this.state.autoSearchList))}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"#f500570a"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Option Buy With Level (",this.state.orderPenidngOptionList&&this.state.orderPenidngOptionList.length,")","#/order-watchlist"!=window.location.hash?i.a.createElement(M.a,{onClick:function(){return t.openNewPage()}}," New Page ",i.a.createElement(ta.a,null)," "):"","#/position"!=window.location.hash?i.a.createElement(M.a,{onClick:function(){return t.backToPositionPage()}}," Back to Position "):""),i.a.createElement(F.a,{justify:"space-between",container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(F.a,{container:!0,spacing:2},i.a.createElement(F.a,{item:!0},i.a.createElement(we.a,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,onChange:this.onSelectItem,value:this.state.searchSymbolPending,options:this.state.autoSearchList.length>0?this.state.autoSearchList.map(function(t){return t.symbol}):[],renderInput:function(e){return i.a.createElement(B.a,Object.assign({onChange:t.onChange2},e,{label:"Search Symbol",margin:"normal",style:{width:"200px",marginTop:"inherit"},name:"searchSymbolPending",variant:"standard",InputProps:Object(m.a)({},e.InputProps,{type:"search"})}))}}),this.state.lastTradedData.symbol," ",i.a.createElement("b",{style:{color:0==this.state.lastTradedData.perChange?"none":this.state.lastTradedData.perChange>0?"green":"red"}}," ",this.state.lastTradedData.ltp," ",this.state.lastTradedData.ltp?"("+this.state.lastTradedData.perChange+"%)":"")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"BuyAt(Above)",type:"number",name:"buyAtPending",value:this.state.buyAtPending,onChange:this.updateInput}),i.a.createElement("br",null),this.state.lastTradedData.ltp," ",i.a.createElement("button",{onClick:function(){return t.copyPrice("buyAtPending")}},"Copy Ltp")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"BuyAt(Below)",type:"number",name:"buyAtBelowPending",value:this.state.buyAtBelowPending,onChange:this.updateInput}),i.a.createElement("br",null)," ",this.state.lastTradedData.ltp," ",i.a.createElement("button",{onClick:function(){return t.copyPrice("buyAtBelowPending")}},"Copy Ltp")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"SellAt(Below)",type:"number",name:"sellAtPending",value:this.state.sellAtPending,onChange:this.updateInput}),i.a.createElement("br",null)," ",this.state.lastTradedData.ltp," ",i.a.createElement("button",{onClick:function(){return t.copyPrice("sellAtPending")}},"Copy Ltp")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"SellAt(Above)",type:"number",name:"sellAtAbovePending",value:this.state.sellAtAbovePending,onChange:this.updateInput}),i.a.createElement("br",null)," ",this.state.lastTradedData.ltp," ",i.a.createElement("button",{onClick:function(){return t.copyPrice("sellAtAbovePending")}},"Copy Ltp")),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px",marginTop:"10px"},onClick:function(){return t.addInOrderPenidngList()}}," Add "),i.a.createElement("br",null)," P.Close: ",this.state.lastTradedData.close))),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CreatetAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Patten"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAt(Above)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAt(Below)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAt(Below)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAt(Above)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"LTP"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Delete"))),i.a.createElement(Zt.a,{id:"tableAdd",style:{width:"",whiteSpace:"nowrap"}},this.state.orderPenidngOptionList?this.state.orderPenidngOptionList.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0},i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{style:{color:e.perChange>0?"green":"red"},size:"small",variant:"contained",title:"Candle refresh",onClick:function(){return t.refreshCandleChartManually(e)}},e.symbol," ",e.ltp," (",e.perChange,") ",i.a.createElement(Dt.a,null))),i.a.createElement(Xt.a,{align:"left"},e.createdAt),i.a.createElement(Xt.a,{align:"left"},e.pattenName),i.a.createElement(Xt.a,{align:"left"},e.buyAt?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:t.state["".concat(e.symbol,"-buyAt-").concat(e.id)]||e.buyAt,name:"".concat(e.symbol,"-buyAt-").concat(e.id),onChange:t.orderValueChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.buyAtBelow?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:t.state["".concat(e.symbol,"-buyAtBelow-").concat(e.id)]||e.buyAtBelow,name:"".concat(e.symbol,"-buyAtBelow-").concat(e.id),onChange:t.orderValueChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.sellAt?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:t.state["".concat(e.symbol,"-sellAt-").concat(e.id)]||e.sellAt,name:"".concat(e.symbol,"-sellAt-").concat(e.id),onChange:t.orderValueChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.sellAtAbove?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:t.state["".concat(e.symbol,"-sellAtAbove-").concat(e.id)]||e.sellAtAbove,name:"".concat(e.symbol,"-sellAtAbove-").concat(e.id),onChange:t.orderValueChange}):"-"),i.a.createElement(Xt.a,{align:"left",style:{color:0==e.perChange?"none":e.perChange>0?"green":"red"}},i.a.createElement("b",null,e.ltp," (",e.perChange,"%) ")),i.a.createElement(Xt.a,{align:"left"},e.priceStopLoss),i.a.createElement(Xt.a,{align:"left"},e.priceTarget),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(Ze.a,{style:{cursor:"pointer"},onClick:function(){return t.deleteInOrderPenidngList(e)}})))}):"")))),i.a.createElement("br",null))}}]),e}(i.a.Component),ua=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).searchSymbolPendingOrder=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value)),O.autoCompleteSearch(t.target.value).then(function(e){var n=e.data;if(t.target.value){var i=t.target.value.toUpperCase()+"-EQ",r=n.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.symbol===i});r.length&&a.setState({searchSymbolPending:r[0].symbol,searchTokenPending:r[0].token,exch_seg:r[0].exch_seg})}})},a.updateInput=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.addInOrderPenidngList=Object(lt.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.state.searchSymbolPending,a.state.searchTokenPending,a.state.buyAtPending,a.state.sellAtPending,"CEStrikePrice",a.state.CEStrikePrice),!(parseFloat(a.state.sellAtPending)>a.state.lastTradedData.low)){t.next=4;break}if(window.confirm("Be carefull Selling at high price "+a.state.sellAtPending+", today "+a.state.searchSymbolPending+" low is "+a.state.lastTradedData.low)){t.next=4;break}return t.abrupt("return");case 4:if(!(parseFloat(a.state.buyAtPending)<a.state.lastTradedData.high)){t.next=7;break}if(window.confirm("Be carefull Buying at low price "+a.state.buyAtPending+", today "+a.state.searchSymbolPending+" high is "+a.state.lastTradedData.high)){t.next=7;break}return t.abrupt("return");case 7:(a.state.searchSymbolPending&&a.state.buyAtPending||a.state.sellAtPending)&&(e={createdAt:(new Date).toLocaleTimeString(),token:a.state.searchTokenPending,symbol:a.state.searchSymbolPending,buyAt:a.state.buyAtPending,sellAt:a.state.sellAtPending,pattenName:a.state.pattenNamePending,exch_seg:a.state.exch_seg,buyCallOption:a.state.CEStrikePrice,buyPutOption:a.state.PEStrikePrice},a.setState({orderPenidngList:[].concat(Object(rt.a)(a.state.orderPenidngList),[e]),CEStrikePrice:"",PEStrikePrice:""},function(){this.setState({searchSymbolPending:"",searchTokenPending:"",buyAtPending:"",sellAtPending:"",pattenNamePending:""}),localStorage.setItem("orderPenidngList",JSON.stringify(this.state.orderPenidngList)),localStorage.setItem("orderTagToPosition",JSON.stringify(this.state.orderPenidngList))}));case 8:case"end":return t.stop()}},t)})),a.deleteInOrderPenidngList=function(t){console.log("callback",t);for(var e="",n=localStorage.getItem("orderPenidngList")&&JSON.parse(localStorage.getItem("orderPenidngList")),i=0;i<a.state.orderPenidngList.length;i++){var r=n[i];if(t.token==r.token){e=n.splice(i,1);localStorage.setItem("orderPenidngList",JSON.stringify(n)),a.setState({orderPenidngList:n});break}}return e[0].token==t.token},a.callBackUpdate=function(t){console.log("call back called")},a.updateLTP=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.orderPenidngList[e],i={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(i).then(function(t){var e=z(t,"noPop"),i=e&&e.data;if(i&&i.ltp)if(n.ltp=i.ltp,n.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2),localStorage.setItem("orderPenidngList",JSON.stringify(a.state.orderPenidngList)),a.setState({orderPenidngList:a.state.orderPenidngList}),n.buyAt&&i.ltp>=parseFloat(n.buyAt))a.deleteInOrderPenidngList(n)&&(n.buyCallOption?a.buyStockOption(n.buyCallOption):de.historyWiseOrderPlace(n,"BUY","isAutomatic",a.callBackUpdate));else if(n.sellAt&&i.ltp<=parseFloat(n.sellAt)){a.deleteInOrderPenidngList(n)&&(n.buyPutOption?a.buyStockOption(n.buyPutOption):de.historyWiseOrderPlace(n,"SELL","isAutomatic",a.callBackUpdate))}}),t.next=5,new Promise(function(t){return setTimeout(t,100)});case 5:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.orderPenidngList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.getTradePrice=function(){var t={exchange:a.state.exch_seg,tradingsymbol:a.state.searchSymbolPending,symboltoken:a.state.searchTokenPending};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i={symbol:n.tradingsymbol,ltp:n.ltp,perChange:(100*(n.ltp-n.close)/n.close).toFixed(2),open:n.open,high:n.high,close:n.close,low:n.low};a.setState({lastTradedData:i}),a.showStrikesLtp("CE"),a.showStrikesLtp("PE")}})},a.refreshCandleChartManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=ce("9:15am","h:mma"),i=ce.duration("12:00:00"),ce(new Date).subtract(i),r={exchange:"NSE",symboltoken:e.token,interval:"FIVE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=[];a.data.forEach(function(t){n.push([t[0],t[1],t[2],t[3],t[4]])}),localStorage.setItem("candleChangeShow",e.perChange),localStorage.setItem("candleChartData",JSON.stringify(n)),localStorage.setItem("cadleChartSymbol",e.symbol),document.getElementById("showCandleChart").click()}else console.log(e.symboltoken,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(e.symboltoken+" candle failed!")});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChangeOption=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onChange2=function(t){a.setState({lastTradedData:{},buyAtPending:"",sellAtPending:"",pattenNamePending:"",searchSymbolPending:"",CEStrikePrice:"",PEStrikePrice:""}),a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;console.log(e),localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e},function(){})})},a.openNewPage=function(t){window.open("/mtrade/#/order-watchlist"),localStorage.setItem("isOpenInNewPage","yes")},a.backToPositionPage=function(t){window.location.replace("/mtrade/#/position"),localStorage.setItem("isOpenInNewPage","no")},a.onSelectItem=function(t,e){var n=JSON.parse(localStorage.getItem("autoSearchTemp"));if(n.length>0){for(var i="",r=0;r<n.length;r++)if(n[r].symbol===e){i=n[r];break}a.setState({searchSymbolPending:i.symbol,searchTokenPending:i.token,exch_seg:i.exch_seg},function(){this.getTradePrice()})}},a.getChunkPrice=function(t){return Math.round(t/100)/10},a.suggestBuyPrice=function(t){t&&a.setState({buyAtPending:(t+a.getChunkPrice(t)).toFixed(2)})},a.suggestSellPrice=function(t){t&&a.setState({sellAtPending:(t-a.getChunkPrice(t)).toFixed(2)})},a.showStrikesLtp=function(t){console.log(a.state.searchSymbolPending,a.state.lastTradedData.ltp),a.setState({CEoptionsLtpList:[],PEoptionsLtpList:[],selectedOptionLotsize:""});var e={name:a.state.searchSymbolPending,ltp:a.state.lastTradedData.ltp,optionType:t};O.getStockOptions(e).then(function(e){var n=e.data;a.getOptionsLtp(n,t)})},a.getOptionsLtp=function(){var t=Object(lt.a)(it.a.mark(function t(e,n){var i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("nearOptions",e,e.length),i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e[i],console.log("element",r),l={exchange:r.exch_seg,tradingsymbol:r.symbol,symboltoken:r.token},O.getLTP(l).then(function(t){var e=z(t,"noPop"),i=e&&e.data;if(console.log(r.symbol,i,t),i&&i.ltp){var l={symbol:i.tradingsymbol,ltp:i.ltp,perChange:(100*(i.ltp-i.close)/i.close).toFixed(2),open:i.open,high:i.high,close:i.close,low:i.low,buyPrice:(parseFloat(r.lotsize)*i.ltp).toFixed(2),expiryMonth:r.expiryMonth,strikePrice:parseFloat(r.strike/100),optionType:r.optionType,token:r.token,exch_seg:r.exch_seg,lotsize:r.lotsize};"CE"===n&&a.setState({CEoptionsLtpList:[].concat(Object(rt.a)(a.state.CEoptionsLtpList),[l]),selectedOptionLotsize:r.lotsize},function(){console.log(a.state.CEoptionsLtpList)}),"PE"===n&&a.setState({PEoptionsLtpList:[].concat(Object(rt.a)(a.state.PEoptionsLtpList),[l]),selectedOptionLotsize:r.lotsize},function(){console.log(a.state.PEoptionsLtpList)})}}),t.next=6,new Promise(function(t){return setTimeout(t,250)});case 6:case"end":return t.stop()}},t)}),r=0;case 3:if(!(r<e.length)){t.next=8;break}return t.delegateYield(i(r),"t0",5);case 5:r++,t.next=3;break;case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),a.buyOption=function(t,e,n,i,r,l){console.log(t,e,n,i);var o=i.toUpperCase().split("-");o=o[0]+o[1]+o[2]%1e3;var s=e+o+n+t;console.log(s),O.autoCompleteSearch(s).then(function(n){var i=n.data,o=i&&i[0];if(console.log("optionData",o),o&&o.symbol&&o.symbol==s){var c={exchange:o.exch_seg,tradingsymbol:o.symbol,symboltoken:o.token};O.getLTP(c).then(function(n){var i=z(n,"noPop"),s=i&&i.data;if(s&&s.ltp){console.log("option ltp",s);var c=o.lotsize*r,m=ce().isoWeekday(),u=10;2==m?u=15:3==m?u=20:4==m&&(u=30);var v=s.ltp-s.ltp*u/100,g=(v=de.getMinPriceAllowTick(v))-1*v/100;if(g=de.getMinPriceAllowTick(g),l&&l.priceStopLoss){u=50,v=s.ltp-s.ltp*u/100,g=(v=de.getMinPriceAllowTick(v))-1*v/100,g=de.getMinPriceAllowTick(g);var d={name:e,priceStopLoss:l.priceStopLoss,priceTarget:l.priceTarget,tradingsymbol:o.symbol,symboltoken:o.token,optiontype:t};a.setState({trackSLPrice:[].concat(Object(rt.a)(a.state.trackSLPrice),[d])},function(){localStorage.setItem("trackSLPrice",JSON.stringify(this.state.trackSLPrice))})}var h={tradingsymbol:o.symbol,symboltoken:o.token,transactiontype:"BUY",ordertype:"LIMIT",buyPrice:s.ltp,producttype:"CARRYFORWARD",exchange:o.exch_seg,stopLossTriggerPrice:v,stopLossPrice:g,quantity:c};de.placeOptionOrder(h)}})}else q.showError(s+" not found")})},a.buyStockOption=function(t){var e={exchange:t.exch_seg,tradingsymbol:t.symbol,symboltoken:t.token};O.getLTP(e).then(function(e){var a=z(e,"noPop"),n=a&&a.data;if(n&&n.ltp){console.log("option ltp",n);var i=t.lotsize,r=n.ltp-10*n.ltp/100,l=(r=de.getMinPriceAllowTick(r))-1*r/100;l=de.getMinPriceAllowTick(l);var o={tradingsymbol:t.symbol,symboltoken:t.token,transactiontype:"BUY",ordertype:"LIMIT",buyPrice:n.ltp,producttype:"CARRYFORWARD",exchange:t.exch_seg,stopLossTriggerPrice:r,stopLossPrice:l,quantity:i,netqty:i};de.placeOptionOrder(o)}})},a.toFixedAmount=function(t){if(t)return parseFloat(t).toFixed(2)},a.state={orderPenidngList:localStorage.getItem("orderPenidngList")&&JSON.parse(localStorage.getItem("orderPenidngList"))||[],buyAtPending:"",sellAtPending:"",pattenNamePending:"",searchSymbolPending:"",autoSearchList:[],lastTradedData:{},CEoptionsLtpList:[],PEoptionsLtpList:[],selectedOptionLotsize:"",trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.updateLTP();var e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(e,a)){var i=1e3;this.state.orderPenidngList.length>10&&(i=110*this.state.orderPenidngList.length),this.setState({findlast5minMovementInterval:setInterval(function(){t.updateLTP()},i)})}O.getFunds().then(function(e){var a=z(e);a.status&"SUCCESS"===a.message&&t.setState({fundData:a.data})})}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,"#/order-watchlist"==window.location.hash?i.a.createElement(be,null):"",i.a.createElement(oe,null),i.a.createElement(F.a,{justify:"space-between",container:!0},i.a.createElement(R.a,{style:{color:"green"}},"Net Balance:   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.net)),i.a.createElement(R.a,{style:{color:"green"}},"Available Cash :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.availablecash)),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"#/position-new"==window.location.hash||"#/order-watchlist"==window.location.hash?i.a.createElement(ma,{liveBankniftyLtdData:this.props.liveBankniftyLtdData,buyOption:this.buyOption}):""),"#/order-watchlist"==window.location.hash?i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"#d4ffe0"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Stock  Order Watchlist (",this.state.orderPenidngList&&this.state.orderPenidngList.length,")","#/order-watchlist"!=window.location.hash?i.a.createElement(M.a,{onClick:function(){return t.openNewPage()}}," New Page ",i.a.createElement(ta.a,null)," "):"","#/position-new"!=window.location.hash?i.a.createElement(M.a,{onClick:function(){return t.backToPositionPage()}}," Back to Position "):""),i.a.createElement(F.a,{justify:"space-between",container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(F.a,{container:!0,spacing:2},i.a.createElement(F.a,{item:!0},i.a.createElement(we.a,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,onChange:this.onSelectItem,value:this.state.searchSymbolPending,options:this.state.autoSearchList.length>0?this.state.autoSearchList.map(function(t){return t.symbol}):[],renderInput:function(e){return i.a.createElement(B.a,Object.assign({onChange:t.onChange2},e,{label:"Search Symbol",margin:"normal",style:{width:"200px",marginTop:"inherit"},name:"searchSymbolPending",variant:"standard",InputProps:Object(m.a)({},e.InputProps,{type:"search"})}))}}),this.state.lastTradedData.symbol,"  Ltp: ",i.a.createElement("b",{style:{color:0==this.state.lastTradedData.perChange?"none":this.state.lastTradedData.perChange>0?"green":"red"}}," ",this.state.lastTradedData.ltp," ",this.state.lastTradedData.ltp?"("+this.state.lastTradedData.perChange+"%)":"")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"BuyAt(Above)",type:"number",name:"buyAtPending",value:this.state.buyAtPending,onChange:this.updateInput}),i.a.createElement("br",null)," High: ",this.state.lastTradedData.high,i.a.createElement(M.a,{size:"small",style:{color:"blue"},onClick:function(){return t.suggestBuyPrice(t.state.lastTradedData.high)}}," Suggest Price ")),i.a.createElement(F.a,{item:!0},i.a.createElement(xe.a,{style:va.selectStyle},i.a.createElement(N.a,{htmlFor:"strike"},"Strike"),i.a.createElement(Oe.a,{value:this.state.CEStrikePrice,name:"CEStrikePrice",style:{width:"200px"},onChange:this.onChangeOption},i.a.createElement(De.a,{value:""},"Month Strike Type Ltp Margin"),this.state.CEoptionsLtpList&&this.state.CEoptionsLtpList.map(function(t){return i.a.createElement(De.a,{style:{fontWeight:ce().format("MMM").toUpperCase()==t.expiryMonth?"bold":""},value:t},t.expiryMonth+" "+t.strikePrice+" "+t.optionType+" ltp: "+t.ltp+"/- "+t.buyPrice)})),"Lotsize: ",this.state.selectedOptionLotsize)),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"SellAt(Below)",type:"number",name:"sellAtPending",value:this.state.sellAtPending,onChange:this.updateInput}),i.a.createElement("br",null)," Low: ",this.state.lastTradedData.low,i.a.createElement(M.a,{size:"small",style:{color:"blue"},onClick:function(){return t.suggestSellPrice(t.state.lastTradedData.low)}}," Suggest Price ")),i.a.createElement(F.a,{item:!0},i.a.createElement(xe.a,{style:va.selectStyle},i.a.createElement(N.a,{htmlFor:"strike"},"Strike"),i.a.createElement(Oe.a,{value:this.state.PEStrikePrice,name:"PEStrikePrice",style:{width:"200px"},onChange:this.onChangeOption},i.a.createElement(De.a,{value:""},"Month Strike Type Ltp Margin"),this.state.PEoptionsLtpList&&this.state.PEoptionsLtpList.map(function(t){return i.a.createElement(De.a,{style:{fontWeight:ce().format("MMM").toUpperCase()==t.expiryMonth?"bold":""},value:t},t.expiryMonth+" "+t.strikePrice+" "+t.optionType+" ltp: "+t.ltp+"/- "+t.buyPrice)})),"Lotsize: ",this.state.selectedOptionLotsize)),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Which Pattern",name:"pattenNamePending",value:this.state.pattenNamePending,onChange:this.updateInput}),i.a.createElement("br",null)," Open: ",this.state.lastTradedData.open),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px",marginTop:"10px"},onClick:function(){return t.addInOrderPenidngList()}}," Add "),i.a.createElement("br",null)," P.Close: ",this.state.lastTradedData.close))),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Patten Name"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CreatetAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Exch_seg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Token"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CE Buy"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"PE Buy"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"LTP"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Delete"))),i.a.createElement(Zt.a,{id:"tableAdd",style:{width:"",whiteSpace:"nowrap"}},this.state.orderPenidngList?this.state.orderPenidngList.map(function(e){return i.a.createElement(Gt.a,{hover:!0},i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{style:{color:e.perChange>0?"green":"red"},size:"small",variant:"contained",title:"Candle refresh",onClick:function(){return t.refreshCandleChartManually(e)}},e.symbol," ",e.ltp," (",e.perChange,") ",i.a.createElement(Dt.a,null))),i.a.createElement(Xt.a,{align:"left"},e.pattenName),i.a.createElement(Xt.a,{align:"left"},e.createdAt),i.a.createElement(Xt.a,{align:"left"},e.exch_seg),i.a.createElement(Xt.a,{align:"left"},e.token),i.a.createElement(Xt.a,{align:"left"},e.buyAt),i.a.createElement(Xt.a,{align:"left"},e.buyCallOption&&e.buyCallOption.symbol),i.a.createElement(Xt.a,{align:"left"},e.sellAt),i.a.createElement(Xt.a,{align:"left"},e.buyPutOption&&e.buyPutOption.symbol),i.a.createElement(Xt.a,{align:"left",style:{color:0==e.perChange?"none":e.perChange>0?"green":"red"}},i.a.createElement("b",null,e.ltp," (",e.perChange,"%) ")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(Ze.a,{style:{cursor:"pointer"},onClick:function(){return t.deleteInOrderPenidngList(e)}})))}):""))))):""),"#/order-watchlist"==window.location.hash?i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Option Chain (Equity Derivatives)"),i.a.createElement(ca,{buyOption:this.buyOption})):"")}}]),e}(i.a.Component),va={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{minWidth:"100%",marginBottom:"10px"}},ga=ua,da=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=a.state.staticData;a.setState({symbolList:e[t.target.value]},function(){this.checkOpenEqualToLow(),this.setState({cursor:""})}),"selectall"==t.target.value&&a.setState({symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))},function(){this.setState({cursor:""})})},a.checkOpenEqualToLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState((e={openEqualHighList:[],openEqualLowList:[]},Object(f.a)(e,"openEqualLowList",[]),Object(f.a)(e,"advanceShareCount",0),Object(f.a)(e,"declineShareCount",0),Object(f.a)(e,"UnchangeShareCount",0),Object(f.a)(e,"volumeCrossedList",[]),Object(f.a)(e,"closeingEqualHighList",[]),e)),n=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],r={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(r).then(function(t){var i=z(t,"noPop"),r=i&&i.data;if(r){var l=(100*(r.ltp-r.close)/r.close).toFixed(2);if(r.nc=l,r.symbol=n.symbol,a.state.symbolList[e].ltp=r.ltp,a.state.symbolList[e].nc=l,r&&r.open==r.low)console.log("o=l",r),a.state.openEqualLowList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualLowList:[].concat(Object(rt.a)(a.state.openEqualLowList),[r])});if(console.log(n.symbol,"ltp=newhigh",r.ltp,r.high-.5*r.high/100),r&&r.ltp>=r.high-.5*r.high/100)a.state.closeingEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({closeingEqualHighList:[].concat(Object(rt.a)(a.state.closeingEqualHighList),[r])});if(r&&r.open==r.high)console.log("o=h",r),a.state.openEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualHighList:[].concat(Object(rt.a)(a.state.openEqualHighList),[r])});r.perChange>0?a.setState({advanceShareCount:a.state.advanceShareCount+1}):r.perChange<0?a.setState({declineShareCount:a.state.declineShareCount+1}):a.setState({UnchangeShareCount:a.state.UnchangeShareCount+1}),a.state.symbolList&&a.state.symbolList.sort(function(t,e){return e.nc-t.nc}),a.setState({symbolList:a.state.symbolList,tradingsymbol:n.symbol,symboltoken:n.token})}}),t.next=5,new Promise(function(t){return setTimeout(t,310)});case 5:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<a.state.symbolList.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getLTP=function(){var t={exchange:"NSE",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;a.setState({InstrumentLTP:n}),n&&n.ltp&&a.setState({InstrumentPerChange:(100*(n.ltp-n.close)/n.close).toFixed(2)})})},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e),a.updateSocketWatch(t)},a.updateSocketWatch=function(t){var e=a.state.symbolList.map(function(t){return"nse_cm|"+t.token}),n={task:"mw",channel:e=e.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};console.log("updated ws watchlisht",a.state.selectedWatchlist,n),t.send(JSON.stringify(n))},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n),r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var a=i.filter(function(e){return e.tk==t.token});a.length>0&&a[0].ltp&&a[0].nc&&(r[e].ltp=a[0].ltp,r[e].nc=a[0].nc)}),r&&r.sort(function(t,e){return e.nc-t.nc}),a.setState({symbolList:r})},t.onerror=function(t){console.log("socket error",t)},setInterval(function(){var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e)},59e3)},a.placeOrder=function(t){var e={variety:"NORMAL",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken,transactiontype:t,exchange:"NSE",ordertype:0===a.state.buyPrice?"MARKET":"LIMIT",producttype:a.state.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",quantity:a.state.quantity};O.placeOrder(e).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(localStorage.setItem("ifNotBought","false"),a.setState({orderid:n.data&&n.data.orderid}),a.state.stoploss&&("BUY"==t&&a.placeSLMOrder("SELL"),"SELL"==t&&a.placeSLMOrder("BUY")))})},a.LoadSymbolDetails=function(t,e){console.log("name",t);for(var n="",i=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],r=0;r<i.length;r++){if(i[r].symbol===t||i[r].name===t){n=i[r].token,console.log("name % token",t,n),a.setState({tradingsymbol:i[r].symbol,symboltoken:i[r].token},function(){this.setState({cursor:e},function(){this.showStaticChart(n)})});break}console.log(t+" not found!")}},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"720:00:00";case"FIVE_MINUTE":case"TEN_MINUTE":case"FIFTEEN_MINUTE":case"THIRTY_MINUTE":case"ONE_HOUR":case"ONE_DAY":return"1000:00:00"}},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t){a.setState({chartStaticData:""},function(){console.log("reset done",t)}),console.log("time in function ",a.state.timeFrame);var e="YYYY-MM-DD HH:mm",n=(ce("9:15am","h:mma"),a.getTimeFrameValue(a.state.timeFrame)),i=ce.duration(n),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:a.state.timeFrame,fromdate:ce(r).format(e),todate:ce(new Date).format(e)};O.getHistoryData(l).then(function(n){var i=z(n,"noPop");if(i&&i.data){var l=i.data,o=l.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];l.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3),p.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var f={period:20,values:h,stdDev:2},y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);var b={values:m,period:14},S=me.a.calculate(b);if(console.log(t,"Rsi",b,S),console.log(t,"vwap",c,ge()(c)),a.setState({chartStaticData:o,bblastValue:y[y.length-1],vwapvalue:ge()(c),rsiValues:S.slice(Math.max(d.length-19,1)),valumeData:d.slice(Math.max(d.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(p);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+new Date(t.time).toLocaleString()+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),l&&l.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),l.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(l)),a.setState({InstrumentHistroy:l});var E=0,k=0,C=0;l.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(E+=1),e<=-.3&&(k+=1),C+=e}),a.setState({downMoveCount:k,upsideMoveCount:E,totalPerchentageChange:C,startingFrom:ce(r).format(e)})}}})},a.checkSlowMotionStock=function(t,e){var n=ce.duration("240:00:00"),i=ce(new Date).subtract(n),r={exchange:"NSE",symboltoken:t,interval:"FIVE_MINUTE",fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(r).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){for(var i=n.data,r=0,l=i.length-375;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.4&&(r+=1,console.log(e.symbol,s,o[0])),s<=-.4&&(r+=1,console.log(e.symbol,s,o[0]))}}console.log("Totalcount",e.symbol,r),r<=15&&(e.bigCandleCount=r,a.setState({slowMotionStockList:[].concat(Object(rt.a)(a.state.slowMotionStockList),[e])},function(){localStorage.setItem("slowMotionStockList",JSON.stringify(this.state.slowMotionStockList))}))}})},a.checkSlowMotionCheckLive=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.slowMotionStockList[e],"YYYY-MM-DD HH:mm",i=ce.duration("22:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:n.token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var i=e.data,r=0,l=i.length-3;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.7&&(r+=1),s>=0&&1}}r>=1&&(n.highlisht=!0,window.document.title="SM: "+n.symbol,console.log("hey listen, slow motion stock"+n.symbol+" broken"),a.speckIt("hey listen, slow motion stock"+n.symbol+" broken"),a.setState({slowMotionStockList:a.state.slowMotionStockList}))}}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.slowMotionStockList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.checkLiveBids=Object(lt.a)(it.a.mark(function t(){var e,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.state.symbolList.length)){t.next=9;break}return n=a.state.symbolList[e],O.checkLiveBids(n.name).then(function(t){if(console.log("bid",t.data.data),t.data&&t.data.data.length){var e=t.data.data[0],n={totalBuyQuantity:e.totalBuyQuantity,totalSellQuantity:e.totalSellQuantity,deliveryToTradedQuantity:e.deliveryToTradedQuantity,symbol:e.symbol,orderType:e.totalBuyQuantity+"|"+e.totalSellQuantity,nc:e.pChange,ltp:e.lastPrice};a.setState({liveBidsList:[].concat(Object(rt.a)(a.state.liveBidsList),[n])},function(){localStorage.setItem("liveBidsList",JSON.stringify(this.state.liveBidsList))})}}),t.next=6,new Promise(function(t){return setTimeout(t,100)});case 6:e++,t.next=1;break;case 9:case"end":return t.stop()}},t)})),a.oneHourBullBearCheck=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],"YYYY-MM-DD HH:mm",i=ce.duration("04:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:n.token,interval:"ONE_HOUR",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var i=e.data,r="";(r=i.length>1?i[i.length-2]:i[i.length-1])[1]==r[3]&&r[2]==r[4]&&(window.document.title="Hourly Buy: "+n.symbol,console.log(n.name,"Hourly Buy",i[i.length-1]),n.orderType=" Hourly Buy",n.foundAt=new Date(i[i.length-1][0]).toLocaleString(),a.speckIt(n.name+" Hourly Bullish "),a.setState({oneHourBullBearCheckList:[].concat(Object(rt.a)(a.state.oneHourBullBearCheckList),[n])})),r[1]==r[2]&&r[3]==r[4]&&(window.document.title="Hourly Sell: "+n.symbol,console.log(n.name,"Hourly Sell",i[i.length-1]),n.orderType=" Hourly Sell",n.foundAt=new Date(i[i.length-1][0]).toLocaleString(),a.speckIt(n.name+" Hourly Sell "),a.setState({oneHourBullBearCheckList:[].concat(Object(rt.a)(a.state.oneHourBullBearCheckList),[n])}))}}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.symbolList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.searchValumeBreakoutStock=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],"YYYY-MM-DD HH:mm",i=ce.duration("60:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:n.token,interval:"FIFTEEN_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var i=e.data,r=0,l=i[0][5],o=i[i.length-1][5],s=i[0][4],c=0,m=i[0][4],u=0,v=i.length-6;v<i.length-1;v++){var g=i[v];g&&(r+=g[5],l<g[5]&&(l=g[5]),s<g[4]&&(console.log(n.symbol,s,"upside last candle index ",v,g[4]),s=g[4],c+=1),g[4]<m&&(console.log(n.symbol,s," downside last candle index ",v,g[4]),m=g[4],u+=1))}var d=r/5;o/l>1.75&&c>=4&&(window.document.title="VB: "+n.symbol,n.orderType=" Vol "+(o/l).toFixed(2)+" Time & price incresing",n.foundAt=new Date(i[i.length-1][0]).toLocaleString(),console.log(n.name+" volume crossed "+(o/l).toFixed(2)+" time of average ",d,o,i[i.length-1][0],l),a.speckIt(n.name+" volume crossed "+(o/l).toFixed(2)+" Time and price incresing"),a.setState({volumeBreakoutlast5CandleList:[].concat(Object(rt.a)(a.state.volumeBreakoutlast5CandleList),[n])})),o/l>1.75&&u>=4&&(window.document.title="VB: "+n.symbol,n.orderType=" Vol "+(o/l).toFixed(2)+" Time & price decresing",n.foundAt=new Date(i[i.length-1][0]).toLocaleString(),console.log(n.name+" volume crossed "+(o/l).toFixed(2)+" time of average ",d,o,i[i.length-1][0],l),a.speckIt(n.name+" volume crossed "+(o/l).toFixed(2)+" Time and price decresing "),a.setState({volumeBreakoutlast5CandleList:[].concat(Object(rt.a)(a.state.volumeBreakoutlast5CandleList),[n])}))}}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.symbolList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.dailyBasisInfoCheck=function(t,e){var n=a.getTimeFrameValue("ONE_DAY"),i=ce.duration(n),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(n){var i=z(n,"noPop"),r="";if(i&&i.data&&i.data.length){for(var l=i.data,o=[],s=0,c=l.length-20;c<l.length;c++){var m=l[c];m&&(o.push(m[4]),s+=m[5])}r=Me.a.calculate({period:20,values:o}),a.setState({dailyAvgValume:s/20});var u=r&&r[r.length-1];console.log(t,"DSMA",u),u&&a.setState({DailyBulishStatus:u,todayCurrentVolume:l[l.length-1][5]}),l[l.length-1][5]>s/20&&(console.log("crosssed voliue",e),a.setState({volumeCrossedList:[].concat(Object(rt.a)(a.state.volumeCrossedList),[e])}))}})},a.placeSLMOrder=function(t){var e={tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken,transactiontype:t,exchange:"NSE",ordertype:"STOPLOSS_MARKET",producttype:a.state.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",quantity:a.state.quantity,triggerprice:a.state.stoploss,variety:"STOPLOSS"};O.placeOrder(e).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(localStorage.setItem("ifNotBought","false"),a.setState({orderid:e.data&&e.data.orderid}))})},a.onSelectItem=function(t,e){var n=JSON.parse(localStorage.getItem("autoSearchTemp"));if(n.length>0){for(var i="",r=0;r<n.length;r++)if(n[r].symbol===e){i=n[r];break}var l=[];l.filter(function(t){return t.token===e}).length||(l.push(i),a.setState({tradingsymbol:i.symbol,symboltoken:i.token},function(){this.LoadSymbolDetails(i.symbol)}),a.setState({symbolList:l},function(){}))}},a.onSelectItemChart=function(t,e){var n=JSON.parse(localStorage.getItem("autoSearchTemp"));if(n.length>0){for(var i="",r=0;r<n.length;r++)if(n[r].symbol===e){i=n[r];break}a.setState({tradingsymbol:i.symbol,symboltoken:i.token,seachSumbol:""},function(){this.getLTP(),this.showStaticChart(i.token),this.LoadSymbolDetails(i.symbol)})}},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.deleteItemWatchlist=function(t){var e=a.state.symbolList,n=e.findIndex(function(e){return e.symbol===t});e.splice(n,1),a.setState({symbolList:e})},a.getAveragePrice=function(t){for(var e=localStorage.getItem("oderbookData"),n=0,i=0;i<e.length;i++)if("orderId"===e[i].orderid){n=e[i].averageprice,a.setState({averageprice:n});break}return n},a.showCandleChart=function(t,e,a){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),a&&localStorage.setItem("chartInfoDetails",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.showCandleBothChart=function(t){var e=t.candleChartData&&t.candleChartData.reverse();localStorage.setItem("candleChartData",JSON.stringify(e)),localStorage.setItem("cadleChartSymbol",t.symbol);var a=t.candleChartDataInside;a&&localStorage.setItem("candleChartDataInside",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.handleKeyDown=function(t){console.log("key",t.keyCode),38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),setTimeout(function(){a.updateCandleOnkey()},100)},a.updateCandleOnkey=function(){var t=localStorage.getItem("selectedKeyRow")&&JSON.parse(localStorage.getItem("selectedKeyRow"));t.token&&t.symbol&&a.setState({tradingsymbol:t.symbol,symboltoken:t.token},function(){this.getLTP(),this.showStaticChart(t.token)})},a.state={sumPercentage:0,InstrumentPerChange:"",autoSearchList:[],isDasable:!1,isError:!1,InstrumentLTP:{},ifNotBought:!0,autoSearchTemp:[],symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"INTRADAY",symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",longExitPriceType:4,shortExitPriceType:4,candleChartData:[],stopScaningFlag:!1,searchFailed:0,openEqualHighList:[],openEqualLowList:[],closeingEqualHighList:[],chartStaticData:[],volumeCrossedList:[],slowMotionStockList:[],volumeBreakoutlast5CandleList:[],oneHourBullBearCheckList:[],timeFrame:"FIFTEEN_MINUTE",cursor:"",advanceShareCount:0,declineShareCount:0,UnchangeShareCount:0,FoundPatternList:localStorage.getItem("FoundPatternList")&&JSON.parse(localStorage.getItem("FoundPatternList"))||[],fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],liveBidsList:[],gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a.updateSocketWatch=a.updateSocketWatch.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Home",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var e=JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i});var r=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var l=Object(Ie.a)(r,{width:600,height:400,timeVisible:!0,secondsVisible:!0}),o=l.addCandlestickSeries(),s=l.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),c=l.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:l,candleSeries:o,smaLineSeries:s,volumeSeries:c});var m=ce("9:15am","h:mma"),u=ce("3:30pm","h:mma"),v=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&v.isBetween(m,u)){setInterval(function(){t.state.tradingsymbol&&t.getLTP();var e=localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"));e&&e.length&&e.reverse(),t.setState({fastMovementList:e})},1e3),setInterval(function(){t.checkSlowMotionCheckLive()},375e3),setInterval(function(){t.searchValumeBreakoutStock()},1125e3);var g=setInterval(function(){var e=new Date;console.log("setinterval ",(new Date).toLocaleString()),e.getMinutes()%60===0&&(setTimeout(function(){t.oneHourBullBearCheck()},9e4),setInterval(function(){t.oneHourBullBearCheck()},367e4),clearInterval(g))},1e3)}setInterval(function(){t.setState({gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))}),t.setState({looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))})},1e3)}},{key:"render",value:function(){var t,e=this;this.myCallback;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{LoadSymbolDetails:this.LoadSymbolDetails}),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(Ge,{style:{position:"fixed"},data:(t={gainerList:this.state.gainerList,looserList:this.state.looserList,LoadSymbolDetails:this.LoadSymbolDetails,cursor:this.state.cursor,symbolList:this.state.symbolList,totalWatchlist:this.state.totalWatchlist,onChangeWatchlist:this.onChangeWatchlist,selectedWatchlist:this.state.selectedWatchlist,search:this.state.search,handleKeyDown:this.handleKeyDown,onChange:this.onChange,autoSearchList:this.state.autoSearchList,onSelectItem:this.onSelectItem},Object(f.a)(t,"symbolList",this.state.symbolList),Object(f.a)(t,"LoadSymbolDetails",this.LoadSymbolDetails),Object(f.a)(t,"deleteItemWatchlist",this.deleteItemWatchlist),t)})),i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(R.a,{style:{textAlign:"center",background:"lightgray"}},"Place Order"),i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:10,sm:3},this.state.tradingsymbol?i.a.createElement(R.a,{variant:"body1",style:{color:this.state.InstrumentPerChange>0?"#20d020":"#e66e6e"}},this.state.tradingsymbol," : ",this.state.InstrumentLTP?this.state.InstrumentLTP.ltp:""," (",this.state.InstrumentPerChange+"%",")"):i.a.createElement(R.a,{variant:"h5"},"Select Symbol "),"O: ",this.state.InstrumentLTP?this.state.InstrumentLTP.open:""," \xa0 H: ",this.state.InstrumentLTP?this.state.InstrumentLTP.high:""," \xa0 L: ",this.state.InstrumentLTP?this.state.InstrumentLTP.low:"","\xa0 C: ",this.state.InstrumentLTP?this.state.InstrumentLTP.close:""," \xa0"),i.a.createElement(F.a,{item:!0,xs:10,sm:2},i.a.createElement(we.a,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,style:{paddingLeft:"10px",paddingRight:"10px"},onChange:this.onSelectItemChart,value:this.state.seachSumbol,options:this.state.autoSearchList.length>0?this.state.autoSearchList.map(function(t){return t.symbol}):[],renderInput:function(t){return i.a.createElement(B.a,Object.assign({onChange:e.onChange},t,{label:"Search",margin:"normal",variant:"standard",name:"seachSumbol",InputProps:Object(m.a)({},t.InputProps,{type:"search"})}))}})),i.a.createElement(F.a,{item:!0,xs:10,sm:1},i.a.createElement(xe.a,Object(f.a)({style:ha.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(N.a,{htmlFor:"gender"},"Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,Object(f.a)({style:ha.selectStyle},"style",{marginTop:"3px"}),i.a.createElement(N.a,{htmlFor:"gender"},"Order Type"),i.a.createElement(Oe.a,{value:this.state.producttype,name:"producttype",onChange:this.onChange},i.a.createElement(De.a,{value:"INTRADAY"},"Interaday"),i.a.createElement(De.a,{value:"DELIVERY"},"Del")))),i.a.createElement(F.a,{item:!0,xs:10,sm:1},i.a.createElement(B.a,{id:"buyPrice",label:"Buy Price",value:this.state.buyPrice,name:"buyPrice",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:10,sm:1},i.a.createElement(B.a,{id:"quantity",label:"Qty",value:this.state.quantity,name:"quantity",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:10,sm:1},i.a.createElement(B.a,{id:"stoploss",label:"SL",value:this.state.stoploss,name:"stoploss",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:1,sm:2},i.a.createElement(M.a,{variant:"contained",color:"",style:{marginLeft:"20px"},onClick:function(){return e.placeOrder("BUY")}},"Buy"),i.a.createElement(M.a,{variant:"contained",color:"",style:{marginLeft:"20px"},onClick:function(){return e.placeOrder("SELL")}},"Sell")),i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement("br",null),this.state.InstrumentLTP?i.a.createElement(F.a,{item:!0,xs:12,sm:3,style:{background:"#00000014"}},i.a.createElement("div",{style:{background:"#bdbdbd"}},i.a.createElement("b",null,"  Daily: ",this.state.tradingsymbol)," ",i.a.createElement("br",null),i.a.createElement("span",{title:"20SMA",item:!0,xs:12,sm:12,style:{color:this.state.InstrumentLTP.ltp>this.state.DailyBulishStatus?"green":"red",fontWeight:"bold"}},"Daily Avg Price: ",this.state.DailyBulishStatus&&this.state.DailyBulishStatus.toFixed(0)," ",this.state.DailyBulishStatus?this.state.InstrumentLTP.ltp>this.state.DailyBulishStatus?"BUY":"SELL":""),i.a.createElement("br",null),i.a.createElement("span",{title:"averge of showed candle volume",item:!0,xs:12,sm:12},i.a.createElement("b",null,"Daily Avg Volume:"),"  ",(this.state.dailyAvgValume/1e5).toFixed(2),"L"),i.a.createElement("br",null),i.a.createElement("span",{title:"averge of showed candle volume",item:!0,xs:12,sm:12},this.state.todayCurrentVolume>this.state.dailyAvgValume?i.a.createElement("b",{title:"if cossed avg volume then its green",style:{color:"green"}},"Today Volume: ",(this.state.todayCurrentVolume/1e5).toFixed(2),"L "):"Today Volume:"+(this.state.todayCurrentVolume/1e5).toFixed(2)+"L")),i.a.createElement("br",null),i.a.createElement("b",null,"  Intraday: ",this.state.timeFrame," : ",this.state.tradingsymbol)," ",i.a.createElement("br",null),this.state.bblastValue?i.a.createElement("span",{item:!0,xs:12,sm:12},i.a.createElement("span",{title:"Green color mean price running above upper bb band",style:{color:this.state.InstrumentLTP.ltp>=this.state.bblastValue.upper?"green":"",fontWeight:"bold"}},"BB Upper: ",this.state.bblastValue.upper.toFixed(2)),i.a.createElement("br",null),"BB Middle(20 SMA): ",this.state.bblastValue.middle.toFixed(2),i.a.createElement("br",null),i.a.createElement("span",{title:"Green red mean price running below lower bb band",style:{color:this.state.InstrumentLTP.ltp<=this.state.bblastValue.lower?"red":"",fontWeight:"bold"}},"BB Lower: ",this.state.bblastValue.lower.toFixed(2)),i.a.createElement("br",null)):"",i.a.createElement("span",{item:!0,xs:12,sm:12,style:{color:this.state.InstrumentLTP.ltp>this.state.vwapvalue?"green":"red",fontWeight:"bold"}},"VWAP:  ",this.state.vwapvalue&&this.state.vwapvalue.toFixed(2)),i.a.createElement("br",null),i.a.createElement("b",null," RSI: "),this.state.rsiValues&&this.state.rsiValues.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")}),i.a.createElement("br",null),i.a.createElement("b",null,"Vol:")," ",this.state.valumeData&&this.state.valumeData.map(function(t,a){return i.a.createElement("span",{style:{color:t>e.state.dailyAvgValume?"green":"",fontWeight:t>e.state.dailyAvgValume?"bold":""}}," ",(t/1e5).toFixed(2),"L \xa0")}),i.a.createElement("br",null),"  ",i.a.createElement("br",null)):"",i.a.createElement(F.a,{item:!0,xs:12,sm:this.state.InstrumentLTP?9:12},i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",maxHeight:"50vh"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Chng% ",i.a.createElement("b",{style:{color:"#20d020"}}," UP(",this.state.upsideMoveCount,")")," | ",i.a.createElement("b",{style:{color:"red"}}," Down(",this.state.downMoveCount,")")," | Total:  ",i.a.createElement("b",{style:{color:this.state.totalPerchentageChange>0?"green":"red"}},"  ",this.state.totalPerchentageChange&&this.state.totalPerchentageChange.toFixed(2),"% ")," from ",this.state.startingFrom," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Open"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Close "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Volume"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.InstrumentHistroy&&this.state.InstrumentHistroy?this.state.InstrumentHistroy.map(function(t,a){return i.a.createElement(Gt.a,{key:a,style:{background:100*(t[4]-t[1])/t[1]>=.3?"#20d020":100*(t[4]-t[1])/t[1]<=-.3?"#e66e6e":"none"}},i.a.createElement(Xt.a,{align:"center"},e.state.tradingsymbol),i.a.createElement(Xt.a,{align:"center"},new Date(t[0]).toLocaleString()),i.a.createElement(Xt.a,{align:"center"}," ",i.a.createElement("b",null,100*(t[4]-t[1])/t[1]&&(100*(t[4]-t[1])/t[1]).toFixed(2),"%")),i.a.createElement(Xt.a,{align:"center"},t[1]),i.a.createElement(Xt.a,{align:"center"},t[2]),i.a.createElement(Xt.a,{align:"center"},t[3]),i.a.createElement(Xt.a,{align:"center"},t[4]),i.a.createElement(Xt.a,{align:"center"},t[5]))}):"")))),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{height:"100%",overflow:"auto"}},i.a.createElement(ga,null)))),i.a.createElement("br",null)),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(We,{data:{list:this.state.closeingEqualHighList,title:"Strong Closing",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Je,{data:{list:this.state.oneHourBullBearCheckList,title:"Hourly Bullish/Bearish",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Je,{data:{list:this.state.volumeBreakoutlast5CandleList,title:"Last 5 bar Volume breakout",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Je,{data:{list:this.state.fastMovementList,title:"Fast Movement",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(We,{data:{list:this.state.volumeCrossedList,title:"Average Volume Crossed",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(We,{data:{list:this.state.openEqualLowList,title:"Open = Low : Buy",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(We,{data:{list:this.state.openEqualHighList,title:"Open = High : Sell",LoadSymbolDetails:this.LoadSymbolDetails}})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(We,{data:{list:this.state.slowMotionStockList,title:"Last 5 days no Movement",LoadSymbolDetails:this.LoadSymbolDetails}}))))))}}]),e}(i.a.Component),ha={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},pa=da,fa={PaperProps:{style:{maxHeight:224,width:250}}},ya=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value)),a.filterOptionChain(t.target.name,t.target.value)},a.filterOptionChain=function(t,e){var n=[],i=a.state.optionChainData&&a.state.optionChainData.records&&a.state.optionChainData.records.data;if("expiry"===t&&"All"===e&&(n=i),"expiry"===t)for(var r=0;r<i.length;r++){var l=i[r];l.expiryDate===e&&n.push(l)}if("strike"===t)for(var o=0;o<i.length;o++){var s=i[o];s.strikePrice===e&&n.push(s)}a.setState({filtered:n,FilteredBY:t+" "+e})},a.getDataforStrike=function(t){for(var e=JSON.parse(localStorage.getItem("optionChainData")).records.data,a=0,n=0,i=0;i<e.length;i++){var r=e[i];t===r.strikePrice&&(r.CE&&r.CE.openInterest&&(a+=r.CE.openInterest),r.PE&&r.PE.openInterest&&(n+=r.PE.openInterest))}return{strikePrice:t,sumOfCEoi:a,sumOfPEoi:n}},a.findSupportResistence=function(t){for(var e=t&&t.records&&t.records.data,n=0,i=0,r=0,l=0,o=0;o<e.length;o++){var s=e[o];s&&s.PE&&(n+=s.PE.openInterest,r+=s.PE.changeinOpenInterest),s&&s.CE&&(i+=s.CE.openInterest,l+=s.CE.changeinOpenInterest)}t.records.expiryDates,t.records.strikePrices;var c=[],m=0,u=0;[14e3,14050,14100,14150,14200,14050,14300,14350,14400,14450,14500,14550,14600,14650,14700,14750,14800,14850,14900,14950,15e3,15050,15100,15150,15200,15250].forEach(function(t){var e=a.getDataforStrike(t);m+=e.sumOfPEoi,u+=e.sumOfCEoi,c.push(e)}),a.setState({AllspTotalOI:c,selectedSPpcr:(m/u).toFixed(3),totalspeoi:m,totalsceoi:u}),a.setState({CEoi:i,PEoi:n,allStrikediff:n-i,CEoiChange:l,PEoiChange:r,allStrikeChngeDiff:r-l})},a.state={products:[],stopnview:"",curnewdata:"",underlyingValue:"",timestamp:"",totalCOI:0,expiry:"",strike:"",FilteredBY:"",AllspTotalOI:[],PEoi:0,CEoi:0,pcrTable:JSON.parse(localStorage.getItem("pcrTable"))&&JSON.parse(localStorage.getItem("pcrTable")).data,optionChainData:JSON.parse(localStorage.getItem("optionChainData")),filtered:JSON.parse(localStorage.getItem("optionChainData"))&&JSON.parse(localStorage.getItem("optionChainData")).filtered&&JSON.parse(localStorage.getItem("optionChainData")).filtered.data},a.findSupportResistence=a.findSupportResistence.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.loadPackList(),JSON.parse(localStorage.getItem("cpdata"))?this.setState({products:JSON.parse(localStorage.getItem("cpdata")).data}):localStorage.setItem("cpdata",JSON.stringify({data:[]})),JSON.parse(localStorage.getItem("pcrTable"))?this.setState({pcrTable:JSON.parse(localStorage.getItem("pcrTable")).data}):localStorage.setItem("pcrTable",JSON.stringify({data:[]}));var e=new Date;e.getHours()>=9&&e.getHours()<16&&setInterval(function(){t.loadPackList()},120002),setInterval(function(){t.updatepcr()},120020)}},{key:"loadPackList",value:function(){var t=this;O.getBNcpdata("NIFTY").then(function(e){var a=e.data&&e.data;if(localStorage.setItem("optionChainData",JSON.stringify(a)),t.setState({filtered:a.filtered&&a.filtered.data,optionChainData:a}),a.filtered){var n=a.filtered.PE.totOI-a.filtered.CE.totOI,i={dateTime:t.dateFormat(new Date),totCEOI:a.filtered.CE.totOI,totCEVol:a.filtered.CE.totVol,totPEOI:a.filtered.PE.totOI,totPEVol:a.filtered.PE.totVol,diff:n,totChangeINOICall:parseInt(localStorage.getItem("totCEOIChange")),totChangeINOIPut:parseInt(localStorage.getItem("totPEOIChange")),totChangeINOIDiff:parseInt(localStorage.getItem("totPEOIChange"))-parseInt(localStorage.getItem("totCEOIChange"))};t.setState({curnewdata:i});if(n>0?"BUY":"SELL",document.getElementById("title").innerHTML=(n/1e5).toFixed(2)+"|"+((localStorage.getItem("totPEOIChange")-localStorage.getItem("totCEOIChange"))/1e5).toFixed(2)+"L NIFTY ",JSON.parse(localStorage.getItem("cpdata"))){var r=JSON.parse(localStorage.getItem("cpdata")),l=r&&r.data[0];l?(i.isDuplicate=i.diff==l.diff,i.totCEOIChange=(100*(i.totCEOI-l.totCEOI)/l.totCEOI).toFixed(3),i.totPEOIChange=(100*(i.totPEOI-l.totPEOI)/l.totPEOI).toFixed(3),i.totDiffChange=(100*(i.diff-l.diff)/l.diff).toFixed(3)):(i.isDuplicate=!1,i.totCEOIChange=0,i.totPEOIChange=0,i.totDiffChange=0),r.data.unshift(i),a.records&&(r.timestamp=a.records.timestamp,r.underlyingValue=a.records.underlyingValue),localStorage.setItem("cpdata",JSON.stringify(r)),t.setState({products:r.data,underlyingValue:a.records.underlyingValue,timestamp:a.records.timestamp})}}t.updatepcr(),t.setState({pcrTable:JSON.parse(localStorage.getItem("pcrTable"))&&JSON.parse(localStorage.getItem("pcrTable")).data})})}},{key:"updatepcr",value:function(){var t={allPCR:(this.state.PEoi/this.state.CEoi).toFixed(3),expiryPCR:localStorage.getItem("thisWeekPCR"),selectedSPpcr:this.state.selectedSPpcr};if(JSON.parse(localStorage.getItem("pcrTable"))){var e=JSON.parse(localStorage.getItem("pcrTable"));e.data.unshift(t),localStorage.setItem("pcrTable",JSON.stringify(e))}console.log(t),this.setState({pcrTable:e})}},{key:"dateFormat",value:function(t){return ce(t).format("DD-MM-YYYY h:mm:ss A")}},{key:"render",value:function(){var t,e,a,n=this,r=0,l=0,o=0,s=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:7,sm:7},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary"},"My View(",this.state.products&&this.state.products.length,") ",i.a.createElement("b",null," Nifty: ",this.state.underlyingValue)," at Time: ",this.state.timestamp)),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:ba.selectStyle},i.a.createElement(N.a,{id:"expiry"},"Select Expiry Date"),i.a.createElement(Oe.a,{id:"expiry",name:"expiry",value:this.state.expiry,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:fa},i.a.createElement(De.a,{key:"All",value:"All"},"All"),this.state.optionChainData&&this.state.optionChainData.records&&this.state.optionChainData.records.expiryDates?this.state.optionChainData.records.expiryDates.map(function(t,e){return i.a.createElement(De.a,{key:t+"key"+e,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:ba.selectStyle},i.a.createElement(N.a,{id:"strike"},"Select Strick Price"),i.a.createElement(Oe.a,{labelId:"strike",id:"strike","max-height":"100%",name:"strike",value:this.state.strike,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:fa},this.state.optionChainData&&this.state.optionChainData.records&&this.state.optionChainData.records.strikePrices?this.state.optionChainData.records.strikePrices.map(function(t){return i.a.createElement(De.a,{key:t,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:1,sm:1,style:{paddingTop:"20px",paddingLeft:"20px"}},i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return n.loadPackList()}},"Refesh"))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px",overflow:"auto"}},i.a.createElement(F.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),i.a.createElement(F.a,{item:!0,xs:3,sm:3},i.a.createElement("span",null,"All PUT OI: ",i.a.createElement("b",null,this.state.PEoi," (",(this.state.PEoi/1e5).toFixed(3),"L)")),i.a.createElement("br",null),i.a.createElement("span",null,"All CALL OI: ",i.a.createElement("b",null,this.state.CEoi," (",(this.state.CEoi/1e5).toFixed(3),"L)")),i.a.createElement("br",null),i.a.createElement("span",null,"All Put-Call Diff: ",this.state.allStrikediff>0?i.a.createElement("b",{style:{color:"green"}},this.state.allStrikediff," (",(this.state.allStrikediff/1e5).toFixed(3),"L)"):i.a.createElement("b",{style:{color:"red"}},this.state.allStrikediff," (",(this.state.allStrikediff/1e5).toFixed(3),"L)"))),i.a.createElement(F.a,{item:!0,xs:3,sm:3},i.a.createElement("span",null,"All PUT Chng in OI: ",i.a.createElement("b",null,this.state.PEoiChange," (",(this.state.PEoiChange/1e5).toFixed(3),"L)")),i.a.createElement("br",null),i.a.createElement("span",null,"All CALL Chng in  OI: ",i.a.createElement("b",null,this.state.CEoiChange," (",(this.state.CEoiChange/1e5).toFixed(3),"L)")),i.a.createElement("br",null),i.a.createElement("span",null,"All Put-Call Chng in Diff: ",this.state.allStrikeChngeDiff>0?i.a.createElement("b",{style:{color:"green"}},this.state.allStrikeChngeDiff," (",(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L)"):i.a.createElement("b",{style:{color:"red"}},this.state.allStrikeChngeDiff," (",(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L)"))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(R.a,{component:"h3",variant:"body1",color:"primary"},i.a.createElement("span",null,"ALL PCR: ",i.a.createElement("b",null,(this.state.PEoi/this.state.CEoi).toFixed(3)," ")))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(R.a,{component:"h3",variant:"body1",color:"primary"},i.a.createElement("span",null,"Expire Week PCR: ",i.a.createElement("b",null,localStorage.getItem("thisWeekPCR")," ")))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(R.a,{component:"h3",variant:"body1",color:"primary",style:{justifyContent:"left"}},i.a.createElement("span",null,"14000 to 15250 PCR: ",i.a.createElement("b",null,this.state.selectedSPpcr," "))))))),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:0,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:7,sm:7,style:{padding:"2px",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(t={id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(t,"id","tabledata"),Object(f.a)(t,"size","small"),t),i.a.createElement(Le.a,{style:{},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Time")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"VIEW")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Put-Call(diff)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI(diff)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"PUT OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Put OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Call OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Call OI")))),i.a.createElement(Zt.a,{hover:!0,style:{width:"",whiteSpace:"nowrap"}},this.state.products?this.state.products.map(function(t){return i.a.createElement(Gt.a,{key:t.dateTime,style:{background:t.isDuplicate?"lightgray":""}},i.a.createElement(Xt.a,{align:"center"},t.dateTime.substring(19,11)),i.a.createElement(Xt.a,{align:"center"},t.diff>0?i.a.createElement(R.a,{variant:"body2",style:{color:"green"}},"BUY"):i.a.createElement(R.a,{variant:"body2",style:{color:"red"}},"SELL")),i.a.createElement(Xt.a,{align:"center"},t.diff," (",(t.diff/1e5).toFixed(2),"L)(",t.totDiffChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totDiffChange,"%"):"0.000"==t.totDiffChange?i.a.createElement("span",null,t.totDiffChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totDiffChange,"%"),") "),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIDiff," (",(t.totChangeINOIDiff/1e5).toFixed(2),"L)"),i.a.createElement(Xt.a,{align:"center"},t.totPEOI," (",t.totPEOIChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totPEOIChange,"%"):"0.000"==t.totPEOIChange?i.a.createElement("span",null,t.totPEOIChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totPEOIChange,"%"),")"),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIPut," "),i.a.createElement(Xt.a,{align:"center"},t.totCEOI," (",t.totCEOIChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.totCEOIChange,"%"):"0.000"==t.totCEOIChange?i.a.createElement("span",null,t.totCEOIChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.totCEOIChange,"%"),")"),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOICall))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:3,sm:3,style:{padding:"2px",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(e={style:{borderLeft:"dashed",borderRight:"dashed",fontWeight:"500"},id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(e,"id","tabledata"),Object(f.a)(e,"size","small"),e),i.a.createElement(Le.a,{style:{},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Total CE OI ",i.a.createElement("br",null),(this.state.totalsceoi/1e5).toFixed(3),"L")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Strike Price")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Total PE OI",i.a.createElement("br",null),(this.state.totalspeoi/1e5).toFixed(3),"L")))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.AllspTotalOI?this.state.AllspTotalOI.map(function(t){return i.a.createElement(Gt.a,{hover:!0,key:t.dateTime},i.a.createElement(Xt.a,{align:"center",style:{backgroundColor:t.strikePrice<n.state.underlyingValue?"#ded6a269":""}},t.sumOfCEoi," (",(t.sumOfCEoi/1e5).toFixed(2),"L)"),i.a.createElement(Xt.a,{align:"center"},t.strikePrice),i.a.createElement(Xt.a,{align:"center",style:{backgroundColor:t.strikePrice>n.state.underlyingValue?"#ded6a269":""}},t.sumOfPEoi," (",(t.sumOfPEoi/1e5).toFixed(2),"L)"))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:2,sm:2,style:{padding:"2px",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(a={id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(a,"id","tabledata"),Object(f.a)(a,"size","small"),a),i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},"ALL Pcr"),i.a.createElement(Xt.a,{align:"center"},"Expiry Pcr "),i.a.createElement(Xt.a,{align:"center"},"Selected Pcr"))),i.a.createElement(Zt.a,{style:{whiteSpace:"nowrap"}},this.state.pcrTable&&this.state.pcrTable.length>0&&this.state.pcrTable?this.state.pcrTable.map(function(t){return i.a.createElement(Gt.a,{hover:!0,key:t.expiryPCR},i.a.createElement(Xt.a,{align:"center"},t.allPCR," "),i.a.createElement(Xt.a,{align:"center"},t.expiryPCR),i.a.createElement(Xt.a,{align:"center"},t.selectedSPpcr," "))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{padding:"2px",overflow:"auto",height:"900px"}},i.a.createElement(Kt.a,{stickyHeader:!0,"aria-label":"sticky table",id:"tabledata",size:"small"},i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"CALL")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"PUT"))),i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI Total OI ",i.a.createElement("br",null),localStorage.getItem("totCEOI"),"(",(localStorage.getItem("totCEOI")/1e5).toFixed(3),"L) ")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totCEOIChange"),"(",(localStorage.getItem("totCEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"IV")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Delta")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," STRIKE PRICE")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," Expiry")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"IV")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Delta")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totPEOIChange"),"(",(localStorage.getItem("totPEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI ",i.a.createElement("br",null),localStorage.getItem("totPEOI"),"(",(localStorage.getItem("totPEOI")/1e5).toFixed(3),"L)")))),i.a.createElement(Zt.a,null,this.state.filtered?this.state.filtered.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e,style:{background:t.isDuplicate?"lightgray":""}},t&&t.CE&&t.PE?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,Object.assign({},r+=t.CE.openInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#ded6a269":""},align:"center"}),t.CE.openInterest),i.a.createElement(Xt.a,Object.assign({},l+=t.CE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#ded6a269":""},align:"center"}),t.CE.changeinOpenInterest),i.a.createElement(Xt.a,{align:"center"},t.CE.impliedVolatility," "),i.a.createElement(Xt.a,{align:"center"},(10*(t.CE.change/t.strikePrice-t.CE.underlyingValue)).toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#ded6a269":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.CE.lastPrice),"(",t.CE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"):0==t.CE.pChange?i.a.createElement("span",null,t.CE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"),") "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#ded6a269":""},align:"center"},t.CE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{borderLeft:"dashed",borderRight:"dashed",fontWeight:"500"},align:"center"},i.a.createElement("span",null," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return n.filterOptionChain("strike",t.strikePrice)}}," ",t.strikePrice)," ")," "),i.a.createElement(Xt.a,{style:{borderRight:"dashed",whiteSpace:"nowrap"},align:"center"},i.a.createElement("span",{style:{paddingLeft:"5px",paddingRight:"5px"}}," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return n.filterOptionChain("expiry",t.expiryDate)}}," ",t.expiryDate))," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#ded6a269":""},align:"center"},t.PE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#ded6a269":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.PE.lastPrice),"(",t.PE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"):0==t.PE.pChange?i.a.createElement("span",null,t.PE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"),")"),i.a.createElement(Xt.a,{align:"center"},t.PE.impliedVolatility," "),i.a.createElement(Xt.a,{align:"center"},(10*(t.PE.change/t.strikePrice-t.PE.underlyingValue)).toFixed(2)," "),i.a.createElement(Xt.a,Object.assign({},s+=t.PE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#ded6a269":""},align:"center"}),t.PE.changeinOpenInterest),i.a.createElement(Xt.a,Object.assign({},o+=t.PE.openInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#ded6a269":""},align:"center"}),t.PE.openInterest," ")):"")}):i.a.createElement(pe.a,null),i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOI",r)),i.a.createElement("b",null,r,i.a.createElement("br",null),"(",(r/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOIChange",l)),i.a.createElement("b",null,l,i.a.createElement("br",null),"(",(l/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,{colSpan:3,align:"center"}),i.a.createElement(Xt.a,Object.assign({},localStorage.setItem("thisWeekPCR",(o/r).toFixed(3)),{align:"center",colSpan:2}),i.a.createElement("b",null," PCR : ",(o/r).toFixed(3))),i.a.createElement(Xt.a,{colSpan:3,align:"center"}),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOIChange",s)),i.a.createElement("b",null,s,i.a.createElement("br",null),"(",(s/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOI",o)),i.a.createElement("b",null,o,i.a.createElement("br",null),"(",(o/1e5).toFixed(3),"L)")," ")))))))}}]),e}(i.a.Component),ba={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{marginBottom:"0px",minWidth:240,maxWidth:240}},Sa=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(ya),Ea=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),ka=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),Ca=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function Ta(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=function(){r(!1)};return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",color:"primary",onClick:function(){r(!0)}},t.data.indexSymbol),i.a.createElement(Jt.a,{onClose:l,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Ea,{id:"customized-dialog-title",onClose:l},t.data.indexSymbol,"  At ",t.data.timestamp),i.a.createElement(ka,{dividers:!0},i.a.createElement(Kt.a,{stickyHeader:!0,"aria-label":"sticky table",id:"tabledata",size:"medium"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Sr.")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Stock Name")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Last Price")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"CHNG%")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Change Points"))),i.a.createElement(Zt.a,null,t.data.indexSymbolData?t.data.indexSymbolData.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},0!==e?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},e," "),i.a.createElement(Xt.a,{align:"left"},t.symbol),i.a.createElement(Xt.a,{align:"left"},t.lastPrice),i.a.createElement(Xt.a,{align:"left"},t.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.pChange,"%"):0===t.pChange?i.a.createElement("span",null,t.pChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.pChange,"%")," "),i.a.createElement(Xt.a,{align:"left"},t.change)):"")}):i.a.createElement(i.a.Fragment,null," ",i.a.createElement("br",null)," ",i.a.createElement(M.a,{variant:"outlined",size:"large",color:"primary"},"Refresh")," ")))),i.a.createElement(Ca,null,i.a.createElement(M.a,{autoFocus:!0,onClick:l,color:"primary"},"Close"))))}var La=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getIndicesStocks=function(t,e){O.getIndiceStock(t).then(function(n){console.log(n.data);var i=n.data;if(q.showSuccess("Success, Top is"+i.data[1].symbol),a.speckIt("1st top "+t+" stock is "+i.data[1].symbol.toLocaleLowerCase()+" high of "+i.data[1].pChange+"%"),a.speckIt("2nd top "+t+" stock is "+i.data[2].symbol.toLocaleLowerCase()+" high of "+i.data[2].pChange+"%"),a.speckIt("3rd top "+t+" stock is "+i.data[3].symbol.toLocaleLowerCase()+" high of "+i.data[3].pChange+"%"),i){localStorage.setItem(t,JSON.stringify(i)),document.getElementById("topDate_"+e)&&(document.getElementById("topDate_"+e).innerHTML=i.timestamp.substring(12,23));var r=0;document.getElementById("top1_"+e)&&(r=i.data[1].pChange>0?'<span style="color:green">'+i.data[1].pChange+"</span>":'<span style="color:red">'+i.data[1].pChange+"</span>",document.getElementById("top1_"+e).innerHTML=i.data[1].symbol+" "+i.data[1].lastPrice+"("+r+")"),document.getElementById("top2_"+e)&&(r=i.data[2].pChange>0?'<span style="color:green">'+i.data[2].pChange+"</span>":'<span style="color:red">'+i.data[2].pChange+"</span>",document.getElementById("top2_"+e).innerHTML=i.data[2].symbol+" "+i.data[2].lastPrice+"("+r+")"),document.getElementById("top3_"+e)&&(r=i.data[3].pChange>0?'<span style="color:green">'+i.data[3].pChange+"</span>":'<span style="color:red">'+i.data[3].pChange+"</span>",document.getElementById("top3_"+e).innerHTML=i.data[3].symbol+" "+i.data[3].lastPrice+"("+r+")"),document.getElementById("top4_"+e)&&(r=i.data[4].pChange>0?'<span style="color:green">'+i.data[4].pChange+"</span>":'<span style="color:red">'+i.data[4].pChange+"</span>",document.getElementById("top4_"+e).innerHTML=i.data[4].symbol+" "+i.data[4].lastPrice+"("+r+")"),document.getElementById("top5_"+e)&&(r=i.data[5].pChange>0?'<span style="color:green">'+i.data[5].pChange+"</span>":'<span style="color:red">'+i.data[5].pChange+"</span>",document.getElementById("top5_"+e).innerHTML=i.data[5].symbol+" "+i.data[5].lastPrice+"("+r+")")}}).catch(function(e){q.showError(t+" Failed"+i.a.createElement("br",null)+e),a.speckIt(t+" API Failed ")})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.speckIt=function(t){(new SpeechSynthesisUtterance).text=t.toString()},a.state={stopnview:"",indexTimeStamp:"",products:JSON.parse(localStorage.getItem("sorteIndexList"))},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.loadPackList();var e=new Date;e.getHours()>=9&&e.getHours()<16&&setInterval(function(){t.loadPackList()},120002)}},{key:"loadPackList",value:function(){var t=this;O.getAllIndices().then(function(e){if(e.data){t.setState({indexTimeStamp:e.data.timestamp});var a=e.data.data.sort(function(t,e){return e.percentChange-t.percentChange});localStorage.setItem("sorteIndexList",JSON.stringify(a)),t.setState({products:a}),t.speckIt("1st sector is "+a[0].indexSymbol+" "+a[0].percentChange+"%"),t.speckIt("2nd sector is "+a[1].indexSymbol+" "+a[1].percentChange+"%"),t.speckIt("3rd sector is "+a[2].indexSymbol+" "+a[2].percentChange+"%"),t.getIndicesStocks(a[0].indexSymbol,0),t.getIndicesStocks(a[1].indexSymbol,1),t.getIndicesStocks(a[2].indexSymbol,2)}}).catch(function(e){q.showError("All Indices API Failed"+i.a.createElement("br",null)+e),t.speckIt("All Indices API Failed")})}},{key:"dateFormat",value:function(t){return ce(t).format("DD-MM-YYYY h:mm:ss A")}},{key:"timeFormat",value:function(t){return ce().calendar()}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:7,sm:7}),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{padding:"20px",overflow:"auto",height:"900px"}},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary"},"Market - Indices at ",this.state.indexTimeStamp),i.a.createElement(Kt.a,{stickyHeader:!0,"aria-label":"sticky table",id:"tabledata",size:"small"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Sr.")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Index Name")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"CHNG%")),i.a.createElement(Xt.a,{align:"left",title:"Advances/Declines/Unchanged"},i.a.createElement("b",null,"A/D/Un")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Refresh")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"TIME")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Top1")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Top2")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Top3")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Top4")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,"Top5"))),i.a.createElement(Zt.a,null,this.state.products?this.state.products.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a},"vijay"!==e.key?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},a+1," "),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(Ta,{data:{indexSymbol:e.indexSymbol+" @ "+e.last,indexSymbolData:JSON.parse(localStorage.getItem(e.indexSymbol))&&JSON.parse(localStorage.getItem(e.indexSymbol)).data,timestamp:JSON.parse(localStorage.getItem(e.indexSymbol))&&JSON.parse(localStorage.getItem(e.indexSymbol)).timestamp}})),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("a",{href:"https://www.nseindia.com/api/equity-stockIndices?index="+encodeURIComponent(e.indexSymbol),target:"_blank",rel:"noopener noreferrer"},"  ",e.percentChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},e.percentChange,"%"):0===e.percentChange?i.a.createElement("span",null,e.percentChange,"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},e.percentChange,"%")," ")),i.a.createElement(Xt.a,{align:"left"},"  ",i.a.createElement("span",{style:{color:"green"}},e.advances)," / ",i.a.createElement("span",{style:{color:"red"}},e.declines)," / ",e.unchanged),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{variant:"outlined",color:"primary",onClick:function(){return t.getIndicesStocks(e.indexSymbol,a)}},"Refresh")),i.a.createElement(Xt.a,{align:"left",id:"topDate_"+a}),i.a.createElement(Xt.a,{align:"left",id:"top1_"+a}),i.a.createElement(Xt.a,{align:"left",id:"top2_"+a}),i.a.createElement(Xt.a,{align:"left",id:"top3_"+a}),i.a.createElement(Xt.a,{align:"left",id:"top4_"+a}),i.a.createElement(Xt.a,{align:"left",id:"top5_"+a})):"")}):i.a.createElement(pe.a,null))))))}}]),e}(i.a.Component),wa=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(La),xa=a(226),Oa=a.n(xa);function Da(t){var e={series:[{data:[{x:new Date(15387786e5),y:[6629.81,6650.5,6623.04,6633.33]},{x:new Date(15387804e5),y:[6632.01,6643.59,6620,6630.11]},{x:new Date(15387822e5),y:[6630.71,6648.95,6623.34,6635.65]},{x:new Date(1538784e6),y:[6635.65,6651,6629.67,6638.24]},{x:new Date(15387858e5),y:[6638.24,6640,6620,6624.47]},{x:new Date(15387876e5),y:[6624.53,6636.03,6621.68,6624.31]},{x:new Date(15387894e5),y:[6624.61,6632.2,6617,6626.02]},{x:new Date(15387912e5),y:[6627,6627.62,6584.22,6603.02]},{x:new Date(1538793e6),y:[6605,6608.03,6598.95,6604.01]},{x:new Date(15387948e5),y:[6604.5,6614.4,6602.26,6608.02]},{x:new Date(15387966e5),y:[6608.02,6610.68,6601.99,6608.91]},{x:new Date(15387984e5),y:[6608.91,6618.99,6608.01,6612]},{x:new Date(15388002e5),y:[6612,6615.13,6605.09,6612]},{x:new Date(1538802e6),y:[6612,6624.12,6608.43,6622.95]},{x:new Date(15388038e5),y:[6623.91,6623.91,6615,6615.67]},{x:new Date(15388056e5),y:[6618.69,6618.74,6610,6610.4]},{x:new Date(15388074e5),y:[6611,6622.78,6610.4,6614.9]},{x:new Date(15388092e5),y:[6614.9,6626.2,6613.33,6623.45]},{x:new Date(1538811e6),y:[6623.48,6627,6618.38,6620.35]},{x:new Date(15388128e5),y:[6619.43,6620.35,6610.05,6615.53]},{x:new Date(15388146e5),y:[6615.53,6617.93,6610,6615.19]},{x:new Date(15388164e5),y:[6615.19,6621.6,6608.2,6620]},{x:new Date(15388182e5),y:[6619.54,6625.17,6614.15,6620]},{x:new Date(153882e7),y:[6620.33,6634.15,6617.24,6624.61]},{x:new Date(15388218e5),y:[6625.95,6626,6611.66,6617.58]},{x:new Date(15388236e5),y:[6619,6625.97,6595.27,6598.86]},{x:new Date(15388254e5),y:[6598.86,6598.88,6570,6587.16]},{x:new Date(15388272e5),y:[6588.86,6600,6580,6593.4]},{x:new Date(1538829e6),y:[6593.99,6598.89,6585,6587.81]},{x:new Date(15388308e5),y:[6587.81,6592.73,6567.14,6578]},{x:new Date(15388326e5),y:[6578.35,6581.72,6567.39,6579]},{x:new Date(15388344e5),y:[6579.38,6580.92,6566.77,6575.96]},{x:new Date(15388362e5),y:[6575.96,6589,6571.77,6588.92]},{x:new Date(1538838e6),y:[6588.92,6594,6577.55,6589.22]},{x:new Date(15388398e5),y:[6589.3,6598.89,6589.1,6596.08]},{x:new Date(15388416e5),y:[6597.5,6600,6588.39,6596.25]},{x:new Date(15388434e5),y:[6598.03,6600,6588.73,6595.97]},{x:new Date(15388452e5),y:[6595.97,6602.01,6588.17,6602]},{x:new Date(1538847e6),y:[6602,6607,6596.51,6599.95]},{x:new Date(15388488e5),y:[6600.63,6601.21,6590.39,6591.02]},{x:new Date(15388506e5),y:[6591.02,6603.08,6591,6591]},{x:new Date(15388524e5),y:[6591,6601.32,6585,6592]},{x:new Date(15388542e5),y:[6593.13,6596.01,6590,6593.34]},{x:new Date(1538856e6),y:[6593.34,6604.76,6582.63,6593.86]},{x:new Date(15388578e5),y:[6593.86,6604.28,6586.57,6600.01]},{x:new Date(15388596e5),y:[6601.81,6603.21,6592.78,6596.25]},{x:new Date(15388614e5),y:[6596.25,6604.2,6590,6602.99]},{x:new Date(15388632e5),y:[6602.99,6606,6584.99,6587.81]},{x:new Date(1538865e6),y:[6587.81,6595,6583.27,6591.96]},{x:new Date(15388668e5),y:[6591.97,6596.07,6585,6588.39]},{x:new Date(15388686e5),y:[6587.6,6598.21,6587.6,6594.27]},{x:new Date(15388704e5),y:[6596.44,6601,6590,6596.55]},{x:new Date(15388722e5),y:[6598.91,6605,6596.61,6600.02]},{x:new Date(1538874e6),y:[6600.55,6605,6589.14,6593.01]},{x:new Date(15388758e5),y:[6593.15,6605,6592,6603.06]},{x:new Date(15388776e5),y:[6603.07,6604.5,6599.09,6603.89]},{x:new Date(15388794e5),y:[6604.44,6604.44,6600,6603.5]},{x:new Date(15388812e5),y:[6603.5,6603.99,6597.5,6603.86]},{x:new Date(1538883e6),y:[6603.85,6605,6600,6604.07]},{x:new Date(15388848e5),y:[6604.98,6606,6604.07,6606]}]}],chart:{type:"candlestick",height:350},title:{text:"CandleStick Chart",align:"left"},colors:{upward:"darkmagenta",downward:"#00cbcb"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}};return new Oa.a(document.querySelector("#chart"),e).render(),""}var Ia=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value)),a.filterOptionChain(t.target.name,t.target.value)},a.toFixedAmount=function(t){if(t)return parseFloat(t).toFixed(2)},a.state={products:[],stopnview:"",curnewdata:"",underlyingValue:"",timestamp:"",totalCOI:0,expiry:"",strike:"",FilteredBY:"",AllspTotalOI:[],PEoi:0,CEoi:0,scrollcount:0},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;O.getFunds().then(function(e){var a=z(e);a.status&"SUCCESS"===a.message&&(t.setState({fundData:a.data}),localStorage.setItem("netCapital",a.data&&a.data.net))})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:2,style:{paddingLeft:"5px",paddingRight:"5px",justifyContent:"center"}},i.a.createElement(F.a,{id:"tabledatachart",item:!0,xs:8,sm:4},i.a.createElement(Te.a,{style:{padding:"25px"}},i.a.createElement(R.a,{variant:"h6"},"Net:   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.net)),i.a.createElement(R.a,{variant:"h6"},"Available Cash :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.availablecash)),i.a.createElement(R.a,{variant:"h6"},"Aailable Intraday payin :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.availableintradaypayin)),i.a.createElement(R.a,{variant:"h6"},"Available limit margin :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.availablelimitmargin)),i.a.createElement(R.a,{variant:"h6"},"Collateral :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.collateral)),i.a.createElement(R.a,{variant:"h6"},"Utilised debits :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utiliseddebits)),i.a.createElement(R.a,{variant:"h6"},"Utilised exposure :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedexposure)),i.a.createElement(R.a,{variant:"h6"},"Utilised holding sales :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedholdingsales)),i.a.createElement(R.a,{variant:"h6"},"Utilised option premium :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedoptionpremium)),i.a.createElement(R.a,{variant:"h6"},"Utilised payout :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedpayout)),i.a.createElement(R.a,{variant:"h6"},"Utilised span :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedspan)),i.a.createElement(R.a,{variant:"h6"},"Utilised turnover :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.utilisedturnover)))),i.a.createElement(F.a,{id:"tabledatachart",item:!0,xs:4,sm:4},i.a.createElement(Te.a,{style:{padding:"25px"}},i.a.createElement(R.a,{variant:"h6"},"M2M Unrealized  :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.m2munrealized)),i.a.createElement(R.a,{variant:"h6"},"M2M Realized  :   ",this.state.fundData&&this.toFixedAmount(this.state.fundData.m2mrealized)))),i.a.createElement(F.a,{id:"tabledatachart",item:!0,xs:4,sm:4},i.a.createElement(Te.a,{style:{padding:"25px"}},i.a.createElement(R.a,{variant:"h6"},"Total Capital  :   ",se.totalCapital),i.a.createElement(R.a,{variant:"h6"},"Per Trade Exposure  :   ",se.perTradeExposurePer,"%"),i.a.createElement(R.a,{variant:"h6"},"Per Trade Exposure  :   ",(se.totalCapital*se.perTradeExposurePer/100).toFixed(2))))))}}]),e}(i.a.Component),Pa=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(Ia),Fa=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){var t=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[];O.retrieveOrderBook().then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data;i.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),i.forEach(function(e){var n=t.filter(function(t){return t.tradingsymbol==e.tradingsymbol});n.length>0&&e.tradingsymbol==n[0].tradingsymbol&&(a.setState(Object(f.a)({},"priceTarget_"+e.tradingsymbol,n[0].priceTarget)),a.setState(Object(f.a)({},"priceStopLoss_"+e.tradingsymbol,n[0].priceStopLoss)))}),a.setState({oderbookData:i}),localStorage.setItem("oderbookData",JSON.stringify(i))}})},a.cancelOrderOfSame=function(t,e){var n={variety:e,orderid:t};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&a.getTodayOrder()})},a.modifyOrder=function(t,e){var n={variety:t.variety,orderid:t.orderid,ordertype:0!==a.state.price?"STOPLOSS_LIMIT":"STOPLOSS_MARKET",producttype:t.producttype,duration:t.duration,price:a.state.price,triggerprice:e||a.state.triggerprice,quantity:t.quantity,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(a.setState({triggerprice:0}),a.getTodayOrder())})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChangePriceStopLoss=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceStopLoss=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.onChangePriceTarget=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceTarget=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.state={oderbookData:[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.getTodayOrder()}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,"#/position-new"!==window.location.hash?i.a.createElement(be,null):"",i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Oders Placed (",this.state.oderbookData.length,")")),i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(M.a,{id:"orderRefresh",type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getTodayOrder()}},"Refresh"))),i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Update time")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Instrument")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Order Type")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Variety")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Ordertype"),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Qty "),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"AvgPrice"),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Price"),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"TriggerPrice"),"\xa0"),i.a.createElement(Xt.a,{align:"center"},"Action\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Status"),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Details ")))),i.a.createElement(Zt.a,null,this.state.oderbookData&&this.state.oderbookData?this.state.oderbookData.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a},i.a.createElement(Xt.a,{align:"center"},e.updatetime?new Date(e.updatetime).toString().substring(15,25):""),i.a.createElement(Xt.a,{style:{width:"10%"},align:"center"},e.tradingsymbol),i.a.createElement(Xt.a,{align:"center"},e.transactiontype),i.a.createElement(Xt.a,{align:"center"},e.variety),i.a.createElement(Xt.a,{align:"center"},e.producttype),i.a.createElement(Xt.a,{align:"center"},e.quantity),i.a.createElement(Xt.a,{align:"center"},e.averageprice),i.a.createElement(Xt.a,{align:"center"},"trigger pending"===e.orderstatus?i.a.createElement(B.a,{style:{textAlign:"center",width:"50px"},id:"price",value:0===t.state.price?e.price:t.state.price,name:"price",onChange:t.onChange}):e.price),i.a.createElement(Xt.a,{align:"center"},"trigger pending"===e.orderstatus||"open"===e.orderstatus?i.a.createElement(B.a,{type:"number",style:{textAlign:"center",width:"50px"},id:"triggerprice",value:0===t.state.triggerprice?e.triggerprice:t.state.triggerprice,name:"triggerprice",onChange:t.onChange}):e.triggerprice),i.a.createElement(Xt.a,{align:"left"},"trigger pending"===e.orderstatus||"open"===e.orderstatus?i.a.createElement(i.a.Fragment,null,i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:function(){return t.modifyOrder(e)}},"Update")):""),i.a.createElement(Xt.a,{style:{fontSize:"11px",width:"10%"},align:"center"},e.orderstatus,i.a.createElement("br",null),"trigger pending"===e.orderstatus||"open"===e.orderstatus?i.a.createElement(i.a.Fragment,null,i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"",style:{marginLeft:"20px"},onClick:function(){return t.cancelOrderOfSame(e.orderid,e.variety)}},"Cancel")):""),i.a.createElement(Xt.a,{style:{fontSize:"11px",width:"15%"},align:"center"},e.text))}):i.a.createElement(pe.a,null)))))))}}]),e}(i.a.Component),Na=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayTrade=function(){O.retrieveTradeBook().then(function(t){var e=z(t);console.log("datamy",e),e&&e.data&&a.setState({oderbookData:e.data})})},a.zoneChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value)),t.target.value.includes("Select All")&&(a.setState({selectedZone:a.state.listofzones}),a.setState({selectAllzone:"Remove All"})),t.target.value.includes("Remove All")&&(a.setState({selectedZone:[]}),a.setState({selectAllzone:"Select All"}))},a.addProduct=function(t){console.log(a.props),a.props.history.push("/banner-add")},a.addProduct=a.addProduct.bind(Object(k.a)(a)),a.editProduct=a.editProduct.bind(Object(k.a)(a)),a.convertBool=a.convertBool.bind(Object(k.a)(a)),a.state={oderbookData:[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All"},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.getTodayTrade()}},{key:"editProduct",value:function(t){window.localStorage.removeItem("selectedBannerId"),window.localStorage.setItem("selectedBannerId",t),this.props.history.push("/banner-edit")}},{key:"convertBool",value:function(t){return t?"Yes":"No"}},{key:"dateFormat",value:function(t){var e=new Date(t);return e.toLocaleDateString()+" "+e.toTimeString().substring(0,e.toTimeString().indexOf("GMT"))}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(Te.a,{style:{padding:"10px",overflow:"auto"}},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Today Trades (",this.state.oderbookData.length,")")),i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getTodayTrade()}},"Refresh"))),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Orderid"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Product Type"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Type"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Instrument"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Qty "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Price"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Trade value"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Update time"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.oderbookData&&this.state.oderbookData?this.state.oderbookData.map(function(t){return i.a.createElement(Gt.a,{key:t.productId},i.a.createElement(Xt.a,{align:"center"},t.orderid),i.a.createElement(Xt.a,{align:"center"},t.tradingsymbol),i.a.createElement(Xt.a,{align:"center"},t.transactiontype),i.a.createElement(Xt.a,{align:"center"},t.producttype),i.a.createElement(Xt.a,{align:"center"},t.fillsize),i.a.createElement(Xt.a,{align:"center"},t.fillprice),i.a.createElement(Xt.a,{align:"center"},t.tradevalue),i.a.createElement(Xt.a,{align:"center"},t.filltime))}):i.a.createElement(pe.a,null)))))}}]),e}(i.a.Component),Ma=(new Pe.w3cwebsocket("wss://smartapisocket.angelbroking.com/websocket"),function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';a.wsClint.readyState===a.wsClint.OPEN&&(t.send(e),a.updateSocketWatch(t))},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;console.log(e),localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getLTP=function(){var t={exchange:"NSE",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;a.setState({InstrumentLTP:n})})},a.getHistory=function(t){var e=ce.duration("00:50:00"),n=ce(new Date).subtract(e),i={exchange:"NSE",symboltoken:t,interval:"FIFTEEN_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(i).then(function(t){var e=z(t,"noPop");if(console.log(e),e&&e.data){var n=e.data;n&&n.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),n.length>0&&(localStorage.setItem("InstrumentHistroy",JSON.stringify(n)),a.setState({InstrumentHistroy:n,buyPrice:n[0][2]})),a.getLTP()}})},a.updateSocketWatch=function(t){var e=[];a.state.symbolList.forEach(function(t,a){e.push("nse_cm|"+t.token)}),e=e.join("&");var n={task:"sfi",channel:"nse_cm|Nifty 50&nse_cm|Nifty Bank",token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n);console.log("live",n);var r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var n=i.filter(function(e){return e.tk==t.name});n.length>0&&n[0].tvalue&&(r[e].tvalue=n[0].tvalue,r[e].cng=n[0].cng,r[e].iv=n[0].iv,r[e].tk=n[0].tk,r[e].nc=n[0].nc,"Nifty Bank"==n[0].tk&&a.props&&a.props.getBankNiftyLiveLtp(n[0]))}),a.setState({symbolList:r},function(){})},t.onerror=function(t){console.log("socket error",t),a.makeConnection(a.wsClint)},setInterval(function(){if(1!=a.wsClint.readyState&&a.makeConnection(a.wsClint),a.wsClint.readyState===a.wsClint.OPEN){var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)}else a.wsClint.close(),a.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),a.updateSocketDetails(a.wsClint)},6e4)},a.state={symbolList:[{token:"26009",symbol:"Nifty 50",name:"Nifty 50"},{token:"26000",symbol:"Nifty Bank",name:"Nifty Bank"}]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("userTokens")),e=t&&t.feedToken,a=JSON.parse(localStorage.getItem("userProfile")),n=a&&a.clientcode;this.setState({feedToken:e,clientcode:n},function(){this.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),this.updateSocketDetails(this.wsClint)}),localStorage.getItem("watchList")||localStorage.setItem("watchList",[])}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{spacing:1,alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:10,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Index "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Val"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Change"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Time"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.symbolList?this.state.symbolList.map(function(t,e){return i.a.createElement(Gt.a,{style:{background:t.nc>0?"chartreuse":"coral"},key:e},i.a.createElement(Xt.a,{align:"center"},t.name),i.a.createElement(Xt.a,{align:"center"},t.iv,"(",t.nc,"%)"),i.a.createElement(Xt.a,{align:"center"},t.cng),i.a.createElement(Xt.a,{align:"center"},t.tvalue))}):""))))))}}]),e}(i.a.Component)),Aa=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),Ba=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),Ya=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function Ha(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=i.a.useState({data:[],candledata:{}}),o=Object(X.a)(l,2),s=(o[0],o[1],function(){r(!1)}),c=localStorage.getItem("multipleChartData")&&JSON.parse(localStorage.getItem("multipleChartData")),m=c&&c.longCandles,u=c&&c.shortCandles;return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"showMultipleChart",color:"primary",style:{display:"none"},onClick:function(){r(!0)}},"Chart"),i.a.createElement(Jt.a,{maxWidth:"lg",onClose:s,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Aa,{id:"customized-dialog-title",onClose:s},c&&c.symbol),i.a.createElement(Ba,{dividers:!0},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary",gutterBottom:!0},"Longs (",m&&m.length,")"),i.a.createElement(F.a,{justify:"space-between",container:!0,direction:"row"},m?m.map(function(t,e){return i.a.createElement(F.a,{item:!0},i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:250},title:{text:t.foundAt.substr(6,10),align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:t.candleChartData.reverse()}],type:"candlestick",width:250,height:250}))}):""),i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary",gutterBottom:!0},"Shorts (",u&&u.length,")"),i.a.createElement(F.a,{justify:"space-between",container:!0,direction:"row"},u?u.map(function(t,e){return i.a.createElement(F.a,{item:!0},i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:250},title:{text:t.foundAt.substr(6,10),align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:t.candleChartData.reverse()}],type:"candlestick",width:250,height:250}))}):"")),i.a.createElement(Ya,null,i.a.createElement(M.a,{autoFocus:!0,onClick:s,color:"primary"},"Close"))))}var ja=a(107),Ra=a.n(ja),Wa=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).checkOpenEqualToLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.staticData["NIFTY 100"],a.setState((e={openEqualHighList:[],openEqualLowList:[]},Object(f.a)(e,"openEqualLowList",[]),Object(f.a)(e,"advanceShareCount",0),Object(f.a)(e,"declineShareCount",0),Object(f.a)(e,"UnchangeShareCount",0),Object(f.a)(e,"volumeCrossedList",[]),Object(f.a)(e,"closeingEqualHighList",[]),e)),i=it.a.mark(function t(e){var i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=n[e],l=!1,r=0;r<a.state.positionList.length;r++)a.state.positionList[r].tradingsymbol===i.symbol&&(l=!0);return l||(o={exchange:i.exch_seg,tradingsymbol:i.symbol,symboltoken:i.token},O.getLTP(o).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n){var r=(100*(n.ltp-n.close)/n.close).toFixed(2);if(n.nc=r,n.symbol=i.symbol,n&&n.open===n.low){var l=ce(new Date),o=ce(l,"DD-MM-YYYY").subtract(7,"days"),s={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")};O.getHistoryData(s).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var r=e.data;r.reverse(),console.log("lastday",i,r[1]);var l=r[1];if(n.ltp>l[2]){var o=l[3]-l[3]/10/100;o=a.getMinPriceAllowTick(o);var s=se.totalCapital*se.perTradeExposurePer/100;console.log(i.symbol+"ltp "+n.ltp,"quantity",1,"stopLossPrice",o,"perTradeExposureAmt",s);var c={transactiontype:"BUY",tradingsymbol:i.symbol,symboltoken:i.token,buyPrice:0,quantity:1,stopLossPrice:o};n.ltp>=200&&n.ltp<=1e4&&o&&a.placeOrderMethod(c)}}else console.log(" candle data emply")})}if(n&&n.open===n.high){var c=ce(new Date),m=ce(c,"DD-MM-YYYY").subtract(7,"days");s={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(m).format("YYYY-MM-DD HH:mm"),todate:ce(c).format("YYYY-MM-DD HH:mm")};O.getHistoryData(s).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var r=e.data;r.reverse(),console.log("lastday",i,r[1]);var l=r[1];if(n.ltp<l[3]){var o=l[2]+l[2]/10/100;o=a.getMinPriceAllowTick(o);var s=se.totalCapital*se.perTradeExposurePer/100;console.log(i.symbol+"ltp "+n.ltp,"quantity",1,"stopLossPrice",o,"perTradeExposureAmt",s);var c={transactiontype:"SELL",tradingsymbol:i.symbol,symboltoken:i.token,buyPrice:0,quantity:1,stopLossPrice:o};n.ltp>=200&&n.ltp<=1e4&&o&&a.placeOrderMethod(c)}}else console.log(" candle data emply")})}}})),t.next=6,new Promise(function(t){return setTimeout(t,210)});case 6:case"end":return t.stop()}},t)}),r=0;case 4:if(!(r<n.length)){t.next=9;break}return t.delegateYield(i(r),"t0",6);case 6:r++,t.next=4;break;case 9:case"end":return t.stop()}},t)})),a.getCandleHistoryAndStore=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("getCandleHistoryAndStore called",(new Date).toLocaleTimeString()),(new Date).toLocaleTimeString()>"15:00:00"?clearInterval(a.state.candleHistoryInterval):"",e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList")),n=ce().isoWeekday(),i="",i=(new Date).toLocaleTimeString()>"10:05:00"?ce.duration("00:50:00"):1===n&&(new Date).toLocaleTimeString()<"10:05:00"?ce.duration("66:00:00"):ce.duration("19:00:00"),i=ce.duration("21:00:00"),"YYYY-MM-DD HH:mm",r=ce(new Date).subtract(i),l=it.a.mark(function t(n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],s={exchange:"NSE",symboltoken:i.token,interval:"FIFTEEN_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(s).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var r=e.data;if(r.reverse(),r&&r.length>=10){var l=r.slice(0,10);console.log("",n+1,i.symbol,"Time",(new Date).toLocaleTimeString()),a.findTweezerTopPatternLive(l,i.symbol),a.findTweezerBottomPatternLive(l,i.symbol)}}else console.log(" candle data emply")}),t.next=5,new Promise(function(t){return setTimeout(t,350)});case 5:case"end":return t.stop()}},t)}),o=0;case 11:if(!(o<e.length)){t.next=16;break}return t.delegateYield(l(o),"t0",13);case 13:o++,t.next=11;break;case 16:case"end":return t.stop()}},t)})),a.findTweezerTopPatternLive=function(t,e){if(t&&t.length>0){for(var n=t[2]&&t[2][2],i=t[2]&&t[2][3],r=3;r<t.length;r++)n<t[r][2]&&(n=t[r][2]),t[r][3]<i&&(i=t[r][3]);var l=t[9][3],o=t[2][2],s={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},c={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},m=100*(o-l)/l;if(m>=1.5&&n<(c.high<s.high?c.high:s.high)&&i<(c.low<s.low?c.low:s.low)&&c.open<c.close&&s.open>s.close&&(Math.round(c.close)==Math.round(s.open)||Math.round(c.open)==Math.round(s.close))){console.log("%c"+e+" perfect twisser top  upside movement"+m+new Date(t[0][0]).toLocaleTimeString(),"background: red; color: #bada55");var u=[];t.forEach(function(t){u.push([t[0],t[1],t[2],t[3],t[4]])});var v={symbol:e,pattenName:"Twisser Top",time:new Date(t[0][0]).toLocaleString(),candleChartData:u},g=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];g.push(v),localStorage.setItem("foundPatternList",JSON.stringify(g)),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[v])}),console.log(e,"last10Candle",t)}}},a.findTweezerBottomPatternLive=function(t,e){if(t&&t.length>0){for(var n=t[2]&&t[2][2],i=t[2]&&t[2][3],r=3;r<t.length;r++)n<t[r][2]&&(n=t[r][2]),t[r][3]<i&&(i=t[r][3]);var l=t[9][2],o=t[2][3],s={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},c={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},m=(100*(o-l)/l).toFixed(2);if(m<=-1.5&&(c.high<s.high?c.high:s.high)<n&&(c.low<s.low?c.low:s.low)<i&&c.open>c.close&&s.close>s.open&&(Math.round(c.close)==Math.round(s.open)||Math.round(c.open)==Math.round(s.close))){var u=[];t.forEach(function(t){u.push([t[0],t[1],t[2],t[3],t[4]])}),console.log("%c"+e+" perfect twisser bottom downside movement diff "+m+"% "+new Date(t[0][0]).toLocaleTimeString(),"background: #222; color: #bada55");var v={symbol:e,pattenName:"Twisser bottom",time:new Date(t[0][0]).toLocaleString(),candleChartData:u};a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[v])});var g=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];g.push(v),localStorage.setItem("foundPatternList",JSON.stringify(g)),console.log(e,"last10Candle",t)}}},a.findNR4PatternLive=Object(lt.a)(it.a.mark(function t(){var e,n,r,l,o,s,c,m;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("nr4 scaning starting"),a.setState({backTestResult:[],backTestFlag:!1}),e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],1,n=0,r=it.a.mark(function t(n){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e[n],"",s=ce.duration("240:00:00"),o=ce(new Date).subtract(s),c=ce.duration("24:00:00"),ce(new Date).subtract(c),m={exchange:"NSE",symboltoken:r.token,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(m).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var l=e.data,o=0;l.reverse();var s=l.slice(1,5),c=l.slice(0,5);if(s.length>=4){var m=[],u=[];s.forEach(function(t){m.push(t[2]-t[3])}),c.forEach(function(t){u.push([t[0],t[1],t[2],t[3],t[4]])});var v=m[0];if(m.forEach(function(t){v<=t&&(v=t,o+=1)}),console.log(n+1,r.symbol,o),4==o){console.log(n+1,r.symbol,s,m,o);var g=s[0],d=(g[2]+g[2]/100/10).toFixed(2),h=(g[3]-g[3]/100/10).toFixed(2),p={exchange:"NSE",tradingsymbol:r.symbol,symboltoken:r.token};console.log("nr4 ltp",p),O.getLTP(p).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(console.log(n,e),n&&n.ltp){var l,o=i.a.createElement("span",null," ",n.ltp," "),s=0,c=0,m=0;if(n.ltp>d){o=i.a.createElement("span",{style:{color:"green"}}," Long: ",n.ltp," (",(100*(n.ltp-d)/d).toFixed(2),"%) "),a.setState({nr4TotalPer:a.state.nr4TotalPer+100*(n.ltp-d)/d}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1});var v=se.totalCapital*se.perTradeExposurePer/100;s=Math.floor(v/d),l=100*(n.ltp-d)/d,c=((n.ltp-d)*s).toFixed(2),m=(d*(l-.06)/100*s).toFixed(2)}if(n.ltp<h){o=i.a.createElement("span",{style:{color:"red"}}," Short: ",n.ltp," (",(100*(n.ltp-h)/h).toFixed(2),"%)"),a.setState({nr4TotalPer:a.state.nr4TotalPer+100*(h-n.ltp)/h}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1});var p=se.totalCapital*se.perTradeExposurePer/100;s=Math.floor(p/h),c=((h-n.ltp)*s).toFixed(2),l=100*(h-n.ltp)/h,m=(h*(l-.06)/100*s).toFixed(2)}var f={symbol:r.symbol,token:r.token,pattenName:"NR4",time:new Date(g[0]).toLocaleString(),BuyAt:d,SellAt:h,orderActivated:o,candleChartData:u,quantity:s,brokerageCharges:.06,pnlAmount:c,netPnLAmount:m,perChange:l};console.log("nr4 scaned",f),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[f])});var y=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];y.push(f),localStorage.setItem("foundPatternList",JSON.stringify(y))}})}}}else console.log(r.symbol," candle data emply")}),t.next=10,new Promise(function(t){return setTimeout(t,300)});case 10:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<e.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:a.setState({backTestFlag:!0}),console.log("sumPercentage",n);case 13:case"end":return t.stop()}},t)})),a.findNR7PatternLive=Object(lt.a)(it.a.mark(function t(){var e,n,r,l,o,s,c,m,u;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("nr7 scaning starting"),a.setState({backTestResult:[],backTestFlag:!1}),e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],1,n=0,r=it.a.mark(function t(n){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e[n],"",s=ce.duration("288:00:00"),o=ce(new Date).subtract(s),c=ce.duration("24:00:00"),ce(new Date).subtract(c),m={exchange:"NSE",symboltoken:r.token,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(m).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data;n.reverse();var l=n.slice(1,8),o=n.slice(0,9);if(l.length>=7){var s=[],c=[];l.forEach(function(t){s.push(t[2]-t[3])}),o.forEach(function(t){c.push([t[0],t[1],t[2],t[3],t[4]])});var m=s[0],u=0;if(s.forEach(function(t){m<=t&&(m=t,u+=1)}),console.log(r.symbol,l,s,u),7==u){var v=l[0],g=(v[2]+v[2]/100/10).toFixed(2),d=(v[3]-v[3]/100/10).toFixed(2),h={exchange:"NSE",tradingsymbol:r.symbol,symboltoken:r.token};console.log("nr4 ltp",h),O.getLTP(h).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(console.log(n,e),n&&n.ltp){var l,o=i.a.createElement("span",null," ",n.ltp," "),s=0,m=0,u=0;if(n.ltp>g){o=i.a.createElement("span",{style:{color:"green"}}," Long: ",n.ltp," (",(100*(n.ltp-g)/g).toFixed(2),"%) "),a.setState({nr4TotalPer:a.state.nr4TotalPer+100*(n.ltp-g)/g}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1});var h=se.totalCapital*se.perTradeExposurePer/100;s=Math.floor(h/g),l=100*(n.ltp-g)/g,m=((n.ltp-g)*s).toFixed(2),u=(g*(l-.06)/100*s).toFixed(2)}if(n.ltp<d){o=i.a.createElement("span",{style:{color:"red"}}," Short: ",n.ltp," (",(100*(n.ltp-d)/d).toFixed(2),"%)"),a.setState({nr4TotalPer:a.state.nr4TotalPer+100*(d-n.ltp)/d}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1});var p=se.totalCapital*se.perTradeExposurePer/100;s=Math.floor(p/d),m=((d-n.ltp)*s).toFixed(2),l=100*(d-n.ltp)/d,u=(d*(l-.06)/100*s).toFixed(2)}var f={symbol:r.symbol,token:r.token,pattenName:"NR7",time:new Date(v[0]).toLocaleString(),BuyAt:g,SellAt:d,orderActivated:o,candleChartData:c,quantity:s,brokerageCharges:.06,pnlAmount:m,netPnLAmount:u,perChange:l};console.log("nr7 scaned",f),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[f])});var y=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];y.push(f),localStorage.setItem("foundPatternList",JSON.stringify(y))}})}}}else console.log(r.symbol," candle data emply")}),u=n+1+". "+r.symbol,a.setState({stockTesting:u}),t.next=12,new Promise(function(t){return setTimeout(t,300)});case 12:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<e.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:a.setState({backTestFlag:!0}),console.log("sumPercentage",n);case 13:case"end":return t.stop()}},t)})),a.refreshCandleChartManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=ce("9:15am","h:mma"),i=ce.duration("12:00:00"),ce(new Date).subtract(i),r={exchange:"NSE",symboltoken:e.symboltoken,interval:"FIVE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=[];a.data.forEach(function(t){n.push([t[0],t[1],t[2],t[3],t[4]])}),localStorage.setItem("candleChangeShow",(100*(e.ltp-e.close)/e.close).toFixed(2)),localStorage.setItem("candleChartData",JSON.stringify(n)),localStorage.setItem("cadleChartSymbol",e.symbolname),document.getElementById("showCandleChart").click()}else console.log(e.symboltoken,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(e.symboltoken+" candle failed!")});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.showCandleChart=function(t,e){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),document.getElementById("showCandleChart").click()},a.showMultipleCandleChart=function(t){localStorage.setItem("multipleChartData",JSON.stringify(t)),document.getElementById("showMultipleChart").click()},a.refreshLtpOnFoundPattern=Object(lt.a)(it.a.mark(function t(){var e,n,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({nr4TotalPer:0,totalBrokerChargesNR4:0,totalNetProfit:0,totelActivatedCount:0,pnlAmountTotal:0,perHighLowTotal:0,netPnLAmountOnHighlowTotal:0}),e=a.state.foundPatternList,a.setState({foundPatternList:[]}),n=localStorage.getItem("FoundPatternList")?JSON.parse(localStorage.getItem("FoundPatternList")):[],r=it.a.mark(function t(n){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e[n])&&"NR4"==r.pattenName&&(o={exchange:"NSE",tradingsymbol:r.symbol,symboltoken:r.token},O.getLTP(o).then(function(t){var e=z(t,"noPop"),n=e&&e.data,l=0,o=0,s=0,c=.06,m=0,u=0,v=0;if(n&&n.ltp){var g=i.a.createElement("span",null," ",n.ltp," ");if(n.ltp>r.BuyAt)m=100*(n.ltp-r.BuyAt)/r.BuyAt,g=i.a.createElement("span",{style:{color:"green"}}," Long: ",m.toFixed(2),"% "),l=Math.floor(1e4/r.BuyAt),s=(o=(n.ltp-r.BuyAt)*l)-(c=r.BuyAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),u=100*(n.high-r.BuyAt)/r.BuyAt,v=(n.high-r.BuyAt)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});if(n.ltp<r.SellAt)m=100*(r.SellAt-n.ltp)/r.SellAt,g=i.a.createElement("span",{style:{color:"red"}}," Short: ",m.toFixed(2),"%"),l=Math.floor(1e4/r.SellAt),s=(o=(r.SellAt-n.ltp)*l)-(c=r.SellAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),u=100*(r.SellAt-n.low)/r.SellAt,v=(r.SellAt-n.low)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});var d=100*(n.ltp-n.close)/n.close,h=[new Date,n.open,n.high,n.low,n.ltp];r.candleChartData.push(h);var p={symbol:r.symbol,symbolUpdated:n.ltp+"("+d.toFixed(2)+"%)",token:r.token,pattenName:"NR4",OnHighLowActivated:l?u.toFixed(2)+"% | "+v.toFixed(2):"",time:(new Date).toLocaleTimeString(),BuyAt:r.BuyAt,SellAt:r.SellAt,foundAt:r.foundAt,orderActivated:g,candleChartData:r.candleChartData,quantity:l||"",brokerageCharges:l?c.toFixed(2):"",pnlAmount:o?o.toFixed(2):"",netPnLAmount:s?s.toFixed(2):"",perChange:m,todayChange:d,pastPerferm:r.pastPerferm};console.log("nr4 updated",p),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[p])});var f=a.state.foundPatternList;f.sort(function(t,e){return e.perChange-t.perChange}),a.setState({foundPatternList:f});var y=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];y.push(p),localStorage.setItem("foundPatternList",JSON.stringify(y))}}).catch(function(t){q.showError(r.symbol+" ltd data not found!")})),t.next=4,new Promise(function(t){return setTimeout(t,101)});case 4:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<n.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:case"end":return t.stop()}},t)})),a.getStoplossFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);for(var a={},n=0;n<e.length;n++){var i=e[n];if("trigger pending"===i.status&&i.symboltoken===t.symboltoken){t.netqty>0?(a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.buyavgprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2)):t.netqty<0&&(console.log(t.tradingsymbol,"sellage",t.sellavgprice,"trigger",i.triggerprice),a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.sellavgprice)/t.sellavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.sellavgprice)*parseInt(t.netqty)).toFixed(2));break}}return a},a.getStoplossForSELLFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);var a={};return e.forEach(function(e){"trigger pending"===e.status&&e.symboltoken===t.symboltoken&&(a.stopLoss=e.triggerprice+"("+(100*(t.buyavgprice-e.triggerprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((e.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2))}),a},a.getHighLowPercentage=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({showHighLowWisePer:!0}),a.state.positionList.length||q.showError("First Refresh Position"),e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("DELIVERY"!=(n=a.state.positionList[e]).producttype){t.next=3;break}return t.abrupt("return",{v:""});case 3:return i={exchange:"NSE",tradingsymbol:n.tradingsymbol,symboltoken:n.symboltoken},O.getLTP(i).then(function(t){var n=z(t,"noPop"),i=n&&n.data;i&&i.ltp&&(a.state.positionList[e].high=i.high,a.state.positionList[e].low=i.low)}),t.next=7,new Promise(function(t){return setTimeout(t,125)});case 7:a.setState({positionList:a.state.positionList});case 8:case"end":return t.stop()}},t)}),n=0;case 4:if(!(n<a.state.positionList.length)){t.next=12;break}return t.delegateYield(e(n),"t0",6);case 6:if("object"!==typeof(r=t.t0)){t.next=9;break}return t.abrupt("return",r.v);case 9:n++,t.next=4;break;case 12:case"end":return t.stop()}},t)})),a.tagPatternWhichTaken=function(t){for(var e=localStorage.getItem("orderTagToPosition")&&JSON.parse(localStorage.getItem("orderTagToPosition"))||[],a="",n=0;n<e.length;n++){var i=e[n];if(t==i.token){a=i.pattenName;break}}return a},a.calculateTradeExpence=function(t){var e=0===parseFloat(t.totalbuyvalue)?parseFloat(t.totalsellvalue):parseFloat(t.totalbuyvalue),a=.25*parseFloat(e)/100;(a>20||"CE"==t.optiontype||"PE"==t.optiontype)&&(a=20);var n=0===parseFloat(t.totalsellvalue)?parseFloat(t.totalbuyvalue):parseFloat(t.totalsellvalue),i=.25*parseFloat(n)/100;(i>20||"CE"==t.optiontype||"PE"==t.optiontype)&&(i=20);var r=e+n,l=a+i,o=.025;"CE"!=t.optiontype&&"PE"!=t.optiontype||(o=.05);var s=n*o/100,c=.00335*r/100,m=.003*e/100,u=10*r/1e7,v=18*(l+c+u)/100,g=l+s+c+m+u+v;return{tradeExpence:g,expenceInfo:"Brokerage: "+l.toFixed(2)+" \nSTT: "+s.toFixed(2)+" \nTransaction: "+c.toFixed(2)+" \nStamp Duty: "+m.toFixed(2)+" \nSebi: "+u.toFixed(2)+" \nGST: "+v.toFixed(2)+" \n\nTotal: "+g.toFixed(2)}},a.refreshBasedAmount=function(){var t=0,e=0,n=0;a.state.positionList.forEach(function(i){var r=a.state.checkAmountPer?a.state.checkAmountPer:i.percentPnL;i.checkAmount=(a.state.checkAmount*r/100).toFixed(2),t+=parseFloat(i.checkAmount);var l=Math.floor(a.state.checkAmount/i.buyavgprice);i.checkQty=l,i.totalbuyvalue=l*i.buyavgprice,i.totalsellvalue=l*i.sellavgprice,i.checkExpence=a.calculateTradeExpence(i),i.checkExpence&&(i.checkNet=i.checkAmount-i.checkExpence.tradeExpence,n+=i.checkExpence.tradeExpence,e+=parseFloat(i.checkNet)),console.log(i)}),a.setState({totCheckAmount:t.toFixed(2),checkTotalNet:e.toFixed(2),totCheckExp:n.toFixed(2),positionList:a.state.positionList})},a.checkSLOrTarget=function(t){var e=localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[];if(e.length>0)for(var n=0;n<e.length;n++){var i=e[n];"EQ"==i.optiontype&&i.tradingsymbol==t.tradingsymbol&&(t.ltp<parseFloat(i.priceStopLoss)||t.ltp>=parseFloat(i.priceTarget))&&(console.log("checkSLOrTarget",i,i.tradingsymbol==t.tradingsymbol,t.ltp,t.ltp<parseFloat(i.priceStopLoss)||t.ltp>=parseFloat(i.priceTarget)),a.squareOff(t))}},a.getPositionData=Object(lt.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:0,e=0,localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[],O.getPosition().then(function(t){var n=z(t,"noPop"),i=n&&n.data;if(i&&i.length>0){for(var r=0,l=0,o=0,s=0,c=0,m=0,u=0,v=0,g=[],d=0;d<i.length;d++){var h=i[d];if(g.push(h),r+=parseFloat(h.pnl),l+=parseFloat(h.totalbuyvalue),o+=0===parseFloat(h.totalsellvalue)?parseFloat(h.totalbuyvalue):parseFloat(h.totalsellvalue),s+=parseInt(h.buyqty),c+=parseFloat(h.buyavgprice),m+=parseFloat(h.sellavgprice),0==h.netqty){var p=100*(parseFloat(h.sellavgprice)-parseFloat(h.buyavgprice))/parseFloat(h.buyavgprice);h.percentPnL=p.toFixed(2),u+=parseFloat(p),localStorage.removeItem("firstTimeModify"+h.tradingsymbol),localStorage.removeItem("lastTriggerprice_"+h.tradingsymbol)}h.pattenName=a.tagPatternWhichTaken(h.symboltoken);var f=a.calculateTradeExpence(h);h.tradeExpence=f.tradeExpence.toFixed(2),h.expenceInfo=f.expenceInfo,v+=f.tradeExpence;var y=a.getStoplossFromOrderbook(h);y&&(h.stopLoss=y.stopLoss,h.stopLossAmount=y.maxLossAmount,e+=parseFloat(y.maxLossAmount)?parseFloat(y.maxLossAmount):0),a.checkSLOrTarget(h)}a.setState({todayProfitPnL:r.toFixed(2),totalbuyvalue:l.toFixed(2),totalsellvalue:o.toFixed(2),totalQtyTraded:s}),a.setState({allbuyavgprice:(c/i.length).toFixed(2),allsellavgprice:(m/i.length).toFixed(2),totalPercentage:u});a.setState({totalExpence:v.toFixed(2)}),a.setState({totalTornOver:(l+o).toFixed(2),totalMaxPnL:e.toFixed(2)}),g.sort(function(t,e){return e.netqty-t.netqty}),a.setState({positionList:g})}});case 3:case"end":return t.stop()}},t)})),a.getNSETopStock=function(){(new Date).toLocaleTimeString()>"15:00:00"&&clearInterval(a.state.scaninterval);var t=se.totalCapital*se.dailyLossPer/100;t=-Math.abs(t),a.state.todayProfitPnL<t?(console.log("daily loss crossed",t),clearInterval(a.state.scaninterval)):O.getNSETopStock().then(function(t){var e=z(t,"noPop");if(e.status&&"SUCCESS"===e.message){var n=e.result;if(n&&n.length)for(var i=function(t){l=!1;for(var e=0;e<a.state.positionList.length;e++)a.state.positionList[e].symbolname===n[t].symbolName&&(l=!0);l||localStorage.getItem("NseStock_"+n[t].symbolName)||O.autoCompleteSearch(n[t].symbolName).then(function(e){var i=e.data.filter(function(e){return"NSE"===e.exch_seg&&"1"===e.lotsize&&e.name===n[t].symbolName});i.length&&(console.log(i[0].symbol,"found",i),localStorage.setItem("NseStock_"+n[t].symbolName,"orderdone"),a.historyWiseOrderPlace(i[0].token,i[0].symbol,n[t].symbolName))})},r=0;r<n.length;r++){var l;i(r)}}})},a.getChartInkStock=function(){(new Date).toLocaleTimeString()>"15:00:00"&&clearInterval(a.state.scaninterval);var t=se.totalCapital*se.dailyLossPer/100;t=-Math.abs(t),a.state.todayProfitPnL<t?(console.log("daily loss crossed",t),clearInterval(a.state.scaninterval)):O.getChartInkStock().then(function(t){var e,n,i=t.data;i.success&&function(){var t=i.results[0]&&i.results[0].body.data.triggered_at,r=i.results[0]&&i.results[0].body.data.stocks,l=t.split(" "),o=l[0]+l[1];if(e=ce(o,"h:mma"),console.log("last triggered_at ",t,"stock found",r,e.minutes(),(new Date).getMinutes()),e.minutes()==(new Date).getMinutes()){r=r.split(",");for(var s=function(t){n=!1;for(var e=0;e<a.state.positionList.length;e++)a.state.positionList[e].symbolname===r[t].symbolName&&(n=!0);n||localStorage.getItem("NseStock_"+r[t])||O.autoCompleteSearch(r[t]).then(function(e){var n=e.data.filter(function(e){return"NSE"===e.exch_seg&&"1"===e.lotsize&&e.name===r[t]});n.length&&(console.log(n[0].symbol,"found",n),localStorage.setItem("NseStock_"+r[t],"orderdone"),a.historyWiseOrderPlace(n[0].token,n[0].symbol,r[t]))})},c=0;c<r.length;c++)s(c)}}()})},a.longBuiltUpOrder=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=it.a.mark(function t(n){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!1,r=a.state.positionList.filter(function(t){return t.symbolname===e[n].symbolName}),console.log("index",n,"symbolName",e[n].symbolName,r),r.length||localStorage.getItem("NseStock_"+e[n].symbolName)||O.autoCompleteSearch(e[n].symbolName).then(function(t){var i=t.data.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.name===e[n].symbolName});i.length&&(console.log(i[0].symbol,"found",i),localStorage.setItem("NseStock_"+e[n].symbolName,"orderdone"),a.historyWiseOrderPlace(i[0].token,i[0].symbol,e[n].symbolName))}),t.next=6,new Promise(function(t){return setTimeout(t,300)});case 6:case"end":return t.stop()}},t)}),i=0;case 2:if(!(i<e.length)){t.next=7;break}return t.delegateYield(n(i),"t0",4);case 4:i++,t.next=2;break;case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.checkAndPlaceSingleOrder=function(t){O.autoCompleteSearch(t).then(function(t){var e=t.data.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize});console.log("stockfound",e),e&&e.length&&a.orderWithFlatstoploss(e[0].token,e[0].symbol)})},a.orderWithFlatstoploss=function(t,e){var n={exchange:"NSE",tradingsymbol:e,symboltoken:t};O.getLTP(n).then(function(n){var i=z(n,"noPop"),r=(i&&i.data).ltp;if(r){var l=r-r*se.perTradeStopLossPer/100;l=a.getMinPriceAllowTick(l);var o=se.totalCapital*se.perTradeExposurePer/100,s=Math.floor(o/r);console.log(e+"ltp "+r,"quantity",s,"stopLossPrice",l,"perTradeExposureAmt",o);var c={transactiontype:"BUY",tradingsymbol:e,symboltoken:t,buyPrice:0,quantity:s,stopLossPrice:l};s&&l&&a.placeOrderMethod(c)}}).catch(function(t){console.log(e,"not found","error",t)})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.onTrailChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onAddSLChange=function(t){var e=a.state.addSLInfo;e[t.target.name]=t.target.value.toUpperCase(),a.setState({addSLInfo:e})},a.deleteOptionPriceSL=function(t,e){for(var n=function(n){var i=a.state.positionList[n];if(console.log("squireoffff",i.tradingsymbol,t.tradingsymbol,i.buyqty),i.tradingsymbol==t.tradingsymbol&&i.buyqty>0&&(r=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice")))&&r.length>0)return r.splice(e,1),localStorage.setItem("trackSLPrice",JSON.stringify(r)),a.setState({trackSLPrice:r},function(){a.squareOff(i,!0)}),"break"},i=0;i<a.state.positionList.length;i++){var r;if("break"===n(i))break}},a.getNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"NIFTY",symboltoken:"26000"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=100*(n.ltp-n.close)/n.close;document.getElementById("niftySpid")&&(a.state.niftyLtpSec.push({ltp:n.ltp.toFixed(2),time:(new Date).toLocaleTimeString()}),localStorage.setItem("niftyLtpSec",JSON.stringify(a.state.niftyLtpSec)),document.getElementById("niftySpid").innerHTML="<span style='color:red'> Nifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>")}var r=localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[];if(r.length>0)for(var l=0;l<r.length;l++){var o=r[l];console.log("this.state.trackSLPrice",o),"NIFTY"==o.name&&"CE"==o.optiontype&&(n.ltp<o.priceStopLoss||n.ltp>=o.priceTarget)&&(console.log("deleteOptionPriceSL call sl ",o,l),a.deleteOptionPriceSL(o,l)),"NIFTY"==o.name&&"PE"==o.optiontype&&(n.ltp>o.priceStopLoss||n.ltp<=o.priceTarget)&&(console.log("deleteOptionPriceSL put sl ",o,l),a.deleteOptionPriceSL(o))}})},a.getBankNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"BANKNIFTY",symboltoken:"26009"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=100*(n.ltp-n.close)/n.close;document.getElementById("bankniftySpid")&&(document.getElementById("bankniftySpid").innerHTML=i>0?"<span style='color:green'> Banknifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>":"<span style='color:red'> Banknifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>",a.state.bnniftyLtpSec.push({ltp:n.ltp.toFixed(2),time:(new Date).toLocaleTimeString()}),localStorage.setItem("bnniftyLtpSec",JSON.stringify(a.state.bnniftyLtpSec)))}var r=localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[];if(r.length>0)for(var l=0;l<r.length;l++){var o=r[l];"BANKNIFTY"==o.name&&"CE"==o.optiontype&&(n.ltp<o.priceStopLoss||n.ltp>=o.priceTarget)&&a.deleteOptionPriceSL(o,l),"BANKNIFTY"==o.name&&"PE"==o.optiontype&&(n.ltp>o.priceStopLoss||n.ltp<=o.priceTarget)&&a.deleteOptionPriceSL(o,l)}})},a.getStopLossPrice=function(){var t=Object(lt.a)(it.a.mark(function t(e,n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={exchange:"NSE",tradingsymbol:n,symboltoken:e},t.next=3,O.getLTP(i).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=parseFloat(n.ltp);i-=.7*i/100;var r=a.getMinPriceAllowTick(i);return a.setState({stoploss:r}),r}});case 3:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),a.placeOrderMethod=function(t){var e={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:"INTRADAY",duration:"DAY",squareoff:"0",stoploss:"0",exchange:"NSE",variety:"NORMAL"};console.log("place order option",e),O.placeOrder(e).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(a.setState({orderid:n.data&&n.data.orderid}),t.stopLossPrice&&a.placeSLMOrder(t))})},a.historyWiseOrderPlace=function(t,e,n){var i={exchange:"NSE",tradingsymbol:e,symboltoken:t};O.getLTP(i).then(function(i){var r=z(i,"noPop"),l=r&&r.data;console.log(e," ltd data ",l);var o=0;if(l&&l.ltp){var s=se.totalCapital*se.perTradeExposurePer/100;o=Math.floor(s/l.ltp)}if(o=o>0?1:0,console.log(e,"  quantity can be order ",o),o){var c="YYYY-MM-DD HH:mm",m=ce("9:15am","h:mma").format(c);console.log("beginningTime",m);var u=ce.duration("21:10:00"),v=ce(new Date).subtract(u),g={exchange:"NSE",symboltoken:t,interval:"FIVE_MINUTE",fromdate:ce(v).format(c),todate:ce(new Date).format(c)};O.getHistoryData(g).then(function(i){var r=z(i,"noPop");if(r&&r.data&&r.data.length){var l=r.data,s=0,c=0,m=0;if(l.reverse(),m=l[0][3],c=l[0][2],l&&l.length>0){for(var u=0;u<20;u++)l[u]&&(l[u][4],s+=l[u][3],l[u][2]>c&&(console.log(u,c,l[u][2]),c=l[u][2]),l[u][3]<=m&&(m=l[u][3]));var v=l.length>20?20:l.length,g=s/v-3*(c-m)/100,d=100*(c-(g=a.getMinPriceAllowTick(g)))/c;console.log(e+"highestHigh:",c,"lowestLow",m,"stoploss after tick:",g,"stoploss%",d);var h={transactiontype:"BUY",tradingsymbol:e,symboltoken:t,buyPrice:0,quantity:o,stopLossPrice:g};d?a.placeOrderMethod(h):(localStorage.setItem("NseStock_"+n,""),console.log(e+" SL "+d+"% is grater than my SL: 3.5  not fullfilled"))}}else console.log(e+" candle data emply")})}})},a.cancelOrderOfSame=function(t){var e=a.getOpenPeningOrderId(t.symboltoken),n={variety:e.variety,orderid:e.orderId};O.cancelOrder(n).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(console.log("cancel order",n),a.deleteOptionPriceSL(t))})},a.squareOff=function(t,e){var n={variety:"NORMAL",tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,transactiontype:t.netqty>0?"SELL":"BUY",exchange:t.exchange,ordertype:"MARKET",producttype:t.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",quantity:Math.abs(t.netqty)};if(console.log("sql",t),e&&(n.price=0),"OPTSTK"==t.instrumenttype&&("PE"==t.optiontype||"CE"==t.optiontype)){var i=t.ltp-.5*t.ltp/100;i=de.getMinPriceAllowTick(i),n.price=i,n.triggerprice=t.ltp-.05}O.placeOrder(n).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(a.setState({orderid:n.data&&n.data.orderid}),a.cancelOrderOfSame(t),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},a.updateOrderList=function(){O.retrieveOrderBook().then(function(t){var e=z(t);if(e&&e.data){var a=e.data;a.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),localStorage.setItem("oderbookData",JSON.stringify(a))}})},a.addSLOrderInfo=function(t){a.setState({addSLInfo:t,enableSLMOrderUi:!0})},a.placeSLMOrderManually=function(){a.state.addSLInfo.netqty=Math.abs(a.state.addSLInfo.netqty),console.log("addSLInfo",a.state.addSLInfo),de.placeOptionSLMOrder(a.state.addSLInfo)},a.placeSLMOrder=function(t){var e={triggerprice:t.stopLossPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,transactiontype:"BUY"===t.transactiontype?"SELL":"BUY",exchange:t.exchange?t.exchange:"NSE",producttype:t.producttype?t.producttype:"INTRADAY",duration:"DAY",price:t.price?t.price:0,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",e),O.placeOrder(e).then(function(e){var n=z(e);if(n.status&&"SUCCESS"===n.message){a.setState({orderid:n.data&&n.data.orderid}),a.updateOrderList();var i=new SpeechSynthesisUtterance;i.text=(t.tradingsymbol+" "+t.transactiontype).toLocaleLowerCase(),window.speechSynthesis.speak(i),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click()}})},a.getOpenPeningOrderId=function(t){for(var e=localStorage.getItem("oderbookData")&&JSON.parse(localStorage.getItem("oderbookData")),a={},n=0;n<e.length;n++)if(e[n].symboltoken===t&&"STOPLOSS"===e[n].variety){a.orderId=e[n].orderid,a.variety=e[n].variety;break}return a},a.modifyOrderMethod=function(t,e,n){var i=a.getOpenPeningOrderId(t.symboltoken);i.orderId||(t.stopLossPrice=e,t.price=n,t.quantity=Math.abs(t.netqty),"CE"==t.optiontype||"PE"==t.optiontype?t.transactiontype="BUY":t.transactiontype=t.netqty>0?"BUY":"SELL",a.placeSLMOrder(t));var r={variety:i.variety,orderid:i.orderId,ordertype:"STOPLOSS_MARKET",producttype:t.producttype,duration:"DAY",price:n?parseFloat(n):0,triggerprice:parseFloat(e),quantity:Math.abs(t.netqty),tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(r).then(function(a){var n=z(a,"noPop"),i=new SpeechSynthesisUtterance;n.status&&"SUCCESS"===n.message&&(i.text=t.symbolname+" trailed ".toLocaleLowerCase(),window.speechSynthesis.speak(i),localStorage.setItem("firstTimeModify"+t.tradingsymbol,"No"),localStorage.setItem("lastTriggerprice_"+t.tradingsymbol,parseFloat(e)),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},a.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},a.get2DecimalNumber=function(t){return(t=parseFloat(t))?t.toFixed(2):t},a.getSLAndTriggerPrice=function(t){var e=a.getMinPriceAllowTick(t),n=e-1*e/100;return{minTriggerPrice:e,minSLPrice:n=a.getMinPriceAllowTick(n)}},a.getOptionPercentage=function(t){var e=0,n=0;if(t.buyavgprice=parseFloat(t.buyavgprice),e=100*(t.ltp-t.buyavgprice)/t.buyavgprice,!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e>=a.state.firstTimeMoveOption){var i=t.buyavgprice+t.buyavgprice*a.state.firstTimeSLMoveOption/100,r=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=r.minTriggerPrice&&a.modifyOrderMethod(t,r.minTriggerPrice,r.minSLPrice)}else{var l=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)),o=100*(t.ltp-l)/l;if(n=o,o>=a.state.nextTimeMoveOption){i=l+l*a.state.nextTimeSLMoveOption/100;var s=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=s.minTriggerPrice&&a.modifyOrderMethod(t,s.minTriggerPrice,s.minSLPrice)}}return n?e.toFixed(2)+"% | Trailing "+n.toFixed(2)+"%":e.toFixed(2)+"%"},a.getPercentage=function(t){var e=0,n=0;if(t.netqty>0)if(t.buyavgprice=parseFloat(t.buyavgprice),e=100*(t.ltp-t.buyavgprice)/t.buyavgprice,!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e>=a.state.firstTimeMove){var i=t.buyavgprice+t.buyavgprice*a.state.firstTimeSLMove/100;i=a.getMinPriceAllowTick(i),localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=i&&a.modifyOrderMethod(t,i)}else{var r=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol));n=l=100*(t.ltp-r)/r,l>=a.state.nextTimeMove&&(i=r+r*a.state.nextTimeSLMove/100,i=a.getMinPriceAllowTick(i),localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=i&&a.modifyOrderMethod(t,i))}if(t.netqty<0)if(t.sellavgprice=parseFloat(t.sellavgprice),e=100*(t.ltp-t.sellavgprice)/t.sellavgprice,!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e<=-Math.abs(a.state.firstTimeMove)){i=t.sellavgprice-t.sellavgprice*a.state.firstTimeSLMove/100;i=a.getMinPriceAllowTick(i),a.modifyOrderMethod(t,i)}else{var l;r=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol));n=l=100*(t.ltp-r)/r,console.log("perchngfromTriggerPrice",t.tradingsymbol,l),l<=-Math.abs(a.state.nextTimeMove)&&(i=r-r*a.state.nextTimeSLMove/100,i=a.getMinPriceAllowTick(i),a.modifyOrderMethod(t,i))}return n?e.toFixed(2)+"% | Trailing "+n.toFixed(2)+"%":e.toFixed(2)+"%"},a.state={positionList:[],autoSearchList:[],InstrumentLTP:{},autoSearchTemp:[],foundPatternList:[],symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"DELIVERY",nr4TotalPer:0,pnlAmountTotal:0,totalNetProfit:0,totelActivatedCount:0,totalBrokerChargesNR4:0,stockTesting:"",perHighLowTotal:0,netPnLAmountOnHighlowTotal:0,firstTimeMove:.6,firstTimeSLMove:.5,nextTimeMove:.6,nextTimeSLMove:.3,firstTimeMoveOption:6,firstTimeSLMoveOption:3,nextTimeMoveOption:6,nextTimeSLMoveOption:3,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],enableSLMOrderUi:!1,addSLInfo:{},niftyLtpSec:[],bnniftyLtpSec:[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.updateOrderList();var e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma"),i=ce().isoWeekday();if(i<=5&&n.isBetween(e,a)){this.setState({positionInterval:setInterval(function(){t.getPositionData()},1e3)}),this.setState({bankNiftyInterval:setInterval(function(){t.getNiftyLTP(),t.getBankNiftyLTP()},1e3)});var r=setInterval(function(){var e=ce("3:14pm","h:mma"),a=ce("3:15pm","h:mma");ce(new Date,"h:mma").isBetween(e,a)&&t.state.positionList.forEach(function(e,a){(e.netqty>0||e.netqty<0)&&t.squareOff(e),t.state.positionList.length==a+1&&(clearInterval(r),console.log("squireInterval ended"))})},5e3)}else clearInterval(this.state.positionInterval);var l=ce("3:30pm","h:mma");i<=5&&n.isBetween(e,l);var o=localStorage.getItem("FoundPatternList")?JSON.parse(localStorage.getItem("FoundPatternList")):[];this.setState({foundPatternList:o})}},{key:"componentWillUnmount",value:function(){}},{key:"getMySelectedStock",value:function(){var t=this,e=((new Date).toLocaleTimeString()>"15:00:00"&&clearInterval(this.state.selectedStockInteval),se.totalCapital*se.dailyLossPer/100);e=-Math.abs(e),this.state.todayProfitPnL<e?(console.log("daily loss crossed",e),clearInterval(this.state.scaninterval)):O.getSelectedStockFromDb().then(function(e){var a=z(e,"noPop");if(a.status&&"SUCCESS"===a.message)for(var n=a.result,i=function(e){l=!1;for(var a=0;a<t.state.positionList.length;a++)t.state.positionList[a].symbolname===n[e].symbol&&(l=!0);l||localStorage.getItem("NseStock_"+n[e].symbolName)||O.autoCompleteSearch(n[e].symbolName).then(function(t){var a=t.data.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.name===n[e].symbolName});if(a.length){var i=localStorage.getItem("selectedStockwatchList")?JSON.parse(localStorage.getItem("selectedStockwatchList")):[];i.push(a[0]),localStorage.setItem("selectedStockwatchList",JSON.stringify(i))}})},r=0;r<n.length;r++){var l;i(r)}})}},{key:"getStockOnebyOne",value:function(){var t=this,e=se.totalCapital*se.dailyLossPer/100;e=-Math.abs(e),this.state.todayProfitPnL<e?(console.log("daily loss crossed",e),clearInterval(this.state.scaninterval)):(console.log("still ok"),O.getAutoScanStock().then(function(e){var a=z(e,"noPop");if(a.status&&"SUCCESS"===a.message){var n=a.result;if(n&&n.length>0){var i=n[n.length-1].symbolName;localStorage.setItem("scannedStocks",JSON.stringify(n));for(var r=!1,l=0;l<t.state.positionList.length;l++)t.state.positionList[l].symbolname===i&&(r=!0);if(!r&&!localStorage.getItem("scannedstock_"+i)){console.log("found new",i);var o=new SpeechSynthesisUtterance;o.text="hey Vijay, "+i,window.speechSynthesis.speak(o),localStorage.setItem("scannedstock_"+i,"orderdone"),t.checkAndPlaceSingleOrder(i)}}}}))}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{style:{padding:"5px"},justify:"space-between",direction:"row",container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Positions (",this.state.positionList&&this.state.positionList.length,")    ",i.a.createElement("span",{id:"niftySpid"}," Nifty "),"  \xa0\xa0  ",i.a.createElement("span",{id:"bankniftySpid"},"Banknifty "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h3"},i.a.createElement("b",{style:{color:"red"}},"Expn: ",this.state.totalExpence," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h3"},i.a.createElement("b",null,"  P/L: ")," ",i.a.createElement("b",{style:{color:this.state.todayProfitPnL>0?"green":"red"}},this.state.todayProfitPnL," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,Object.assign({component:"h3"},window.document.title="PnL:"+(this.state.todayProfitPnL-this.state.totalExpence).toFixed(2)),i.a.createElement("b",null," Net P/L: ")," ",i.a.createElement("b",{style:{color:this.state.todayProfitPnL-this.state.totalExpence>0?"green":"red"}},this.state.totalExpence?(this.state.todayProfitPnL-this.state.totalExpence).toFixed(2):""," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getPositionData()}},"Refresh")),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getHighLowPercentage()}},i.a.createElement(Ra.a,null)," H/L"))),i.a.createElement(F.a,{style:{padding:"5px"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap",backgroundColor:""},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{style:{paddingLeft:"3px"},className:"TableHeadFormat",align:"left"},"\xa0Symbol",i.a.createElement(M.a,{type:"number",onClick:function(){return t.checkOpenEqualToLow()}},"O=H/L"),i.a.createElement("input",{style:{width:"50px"},type:"number",step:1e4,placeholder:"25000",name:"checkAmount",onChange:this.onTrailChange,onBlur:function(){return t.refreshBasedAmount()}}),i.a.createElement("input",{style:{width:"30px"},type:"number",step:.1,placeholder:"0.5",name:"checkAmountPer",onChange:this.onTrailChange,onBlur:function(){return t.refreshBasedAmount()}})),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Type"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAvg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAvg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"QT"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"NetQty"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Exp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"MD"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"P/L "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Chng % "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"LTP"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Action"),this.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Qty Cpl"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CExp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CNet")):"",this.state.showHighLowWisePer?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Low")):"")),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.positionList?this.state.positionList.map(function(e){return"DELIVERY1"!==e.producttype?i.a.createElement(Gt.a,{hover:!0,key:e.symboltoken,style:{background:"0"!==e.netqty?"lightgray":""}},i.a.createElement(Xt.a,{align:"left",style:{width:"250px"}},i.a.createElement(M.a,{style:{color:100*(e.ltp-e.close)/e.close>0?"green":"red"},size:"small",variant:"contained",title:"Candle refresh",onClick:function(){return t.refreshCandleChartManually(e)}},e.tradingsymbol," ",e.ltp," (",(100*(e.ltp-e.close)/e.close).toFixed(2),"%) ",i.a.createElement(Dt.a,null))),i.a.createElement(Xt.a,{align:"left"},e.producttype),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){return t.addSLOrderInfo(e)}}," ",e.totalbuyavgprice," "),"  "),i.a.createElement(Xt.a,{align:"left"},e.totalsellavgprice),i.a.createElement(Xt.a,{align:"left"},e.buyqty||e.sellqty),i.a.createElement(Xt.a,{align:"left"},e.netqty),i.a.createElement(Xt.a,{style:{cursor:"help"},title:e.expenceInfo,align:"left"},e.tradeExpence),i.a.createElement(Xt.a,{align:"left"}," ",e.stopLoss),i.a.createElement(Xt.a,{align:"left"}," ",e.stopLossAmount),i.a.createElement(Xt.a,{align:"left",style:{color:parseFloat(e.pnl)>0?"green":"red"}},i.a.createElement("b",null,e.pnl)),i.a.createElement(Xt.a,{align:"left"},"0"!==e.netqty&&""==e.optiontype?t.getPercentage(e):"",("CE"==e.optiontype||"PE"==e.optiontype)&&e.netqty>0?t.getOptionPercentage(e):"",e.percentPnL?e.percentPnL+"%":""),i.a.createElement(Xt.a,{align:"left"},e.ltp),i.a.createElement(Xt.a,{align:"left"},"0"!==e.netqty?i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"Secondary",onClick:function(){return t.squareOff(e)}},"Square Off"):""),t.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},i.a.createElement("i",{title:"Buy value:"+e.totalbuyvalue+" | Sell value:"+e.totalsellvalue},"  ",e.checkQty)," \xa0 ",e.checkAmount," "),i.a.createElement(Xt.a,{align:"left",title:e.checkExpence&&e.checkExpence.expenceInfo},"  ",e.checkExpence&&e.checkExpence.tradeExpence&&e.checkExpence.tradeExpence.toFixed(2)),i.a.createElement(Xt.a,{align:"left"},e.checkNet&&e.checkNet.toFixed(2))):"",t.state.showHighLowWisePer?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},e.high),i.a.createElement(Xt.a,{align:"left"},e.low)):""):""}):"",i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold",backgroundColor:""}},i.a.createElement(Xt.a,{align:"left"},"Stock Trail%: \xa0 F.Move",i.a.createElement("input",{name:"firstTimeMove",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.firstTimeMove,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"firstTimeSLMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.firstTimeSLMove,style:{width:"30px",textAlign:"center"}}),"\xa0Next ",i.a.createElement("input",{name:"nextTimeMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeMove,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"nextTimeSLMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeSLMove,style:{width:"30px",textAlign:"center"}})),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.allbuyavgprice),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.allsellavgprice),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalQtyTraded),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalMaxPnL),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left",style:{color:parseFloat(this.state.todayProfitPnL)>0?"green":"red"}},this.state.todayProfitPnL," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalPercentage&&this.state.totalPercentage.toFixed(2)+"%"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),this.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totCheckAmount),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totCheckExp),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.checkTotalNet)):"",i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"})),i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{colSpan:15,align:"left"},"Option Trail%: F.Move",i.a.createElement("input",{name:"firstTimeMoveOption",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.firstTimeMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"firstTimeSLMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.firstTimeSLMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0Next ",i.a.createElement("input",{name:"nextTimeMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"nextTimeSLMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeSLMoveOption,style:{width:"30px",textAlign:"center"}}))),this.state.enableSLMOrderUi?i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{className:"TableHeadFormat",colSpan:15,align:"center"},"Stoploss \xa0",i.a.createElement("input",{placeholder:"Symbol",name:"tradingsymbol",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.tradingsymbol,style:{width:"200px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Price",name:"stopLossPrice",type:"number",step:"0.1",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.stopLossPrice,style:{width:"100px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Trigger Price",name:"stopLossTriggerPrice",step:"0.1",type:"number",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.price,style:{width:"100px",textAlign:"center"}}),"\xa0 ",i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",onClick:function(){return t.placeSLMOrderManually()}},"Place SL"))):"")))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Fa,null)),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{height:"100%",overflow:"auto"}},"no"==localStorage.getItem("isOpenInNewPage")?i.a.createElement(ga,null):""),this.state.foundPatternList&&this.state.foundPatternList.length?i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(F.a,{justify:"space-between",container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Patterns Founds (",this.state.foundPatternList&&this.state.foundPatternList.length,")",i.a.createElement("span",{id:"stockTesting",style:{fontSize:"18px",color:"gray"}}," ",this.state.stockTesting," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.refreshLtpOnFoundPattern()}},"Live Refresh"))),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Symbol | Activated(",this.state.totelActivatedCount,")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Performance 6M"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"OnLtp (",this.state.nr4TotalPer.toFixed(2),")%  "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Qty"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"PnL(",this.state.pnlAmountTotal.toFixed(2),")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Fee(",this.state.totalBrokerChargesNR4.toFixed(2),")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"NetPnL(",this.state.totalNetProfit.toFixed(2),")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"OnH/L(",this.state.perHighLowTotal.toFixed(2),"% | ",this.state.netPnLAmountOnHighlowTotal.toFixed(2),")  "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Patten"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"FoundAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"UpdatedAt"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.foundPatternList?this.state.foundPatternList.map(function(e){return i.a.createElement(Gt.a,{hover:!0,key:e.symboltoken},i.a.createElement(Xt.a,{align:"left"}," ",i.a.createElement(M.a,{variant:"contained",style:{color:e.todayChange?e.todayChange>0?"green":"red":""},onClick:function(){return t.showCandleChart(e.candleChartData,e.symbol)}},e.symbol," ",e.symbolUpdated," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,{title:e.symbol+" : Open all chart",align:"left",style:{fontSize:"9px",cursor:"pointer"},onClick:function(){return t.showMultipleCandleChart(e)}},e.pastPerferm?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{style:{background:e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs>=1?"#92f192":""}},e.pastPerferm.totalLongs,"L(",e.pastPerferm.totalLongPer,"%) | Avg:",(e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs).toFixed(2),"%")," ",i.a.createElement("br",null),i.a.createElement("span",null,e.pastPerferm.totalLongs,"LH(",e.pastPerferm.totalLongHighPer,"%) | Avg: ",(e.pastPerferm.totalLongHighPer/e.pastPerferm.totalLongs).toFixed(2),"%")," ",i.a.createElement("br",null),i.a.createElement("span",{style:{background:e.pastPerferm.totalShortPer/e.pastPerferm.totalShort>=1?"#e87b7b":""}},e.pastPerferm.totalShort,"S:",e.pastPerferm.totalShortPer,"% | Avg:",(e.pastPerferm.totalShortPer/e.pastPerferm.totalShort).toFixed(2),"%")," ",i.a.createElement("br",null),i.a.createElement("span",null,e.pastPerferm.totalShort,"SL:",e.pastPerferm.totalShortLowPer,"% | Avg:",(e.pastPerferm.totalShortLowPer/e.pastPerferm.totalShort).toFixed(2),"%")," ",i.a.createElement("br",null)):""),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,e.orderActivated," ")),i.a.createElement(Xt.a,{align:"left"},e.quantity),i.a.createElement(Xt.a,{align:"left"},e.pnlAmount),i.a.createElement(Xt.a,{align:"left"},e.brokerageCharges),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,e.netPnLAmount," ")),i.a.createElement(Xt.a,{align:"left"},i.a.createElement("b",null,e.OnHighLowActivated," ")),i.a.createElement(Xt.a,{align:"left"},e.pattenName),i.a.createElement(Xt.a,{align:"left"},e.foundAt&&e.foundAt.substr(0,15)),i.a.createElement(Xt.a,{align:"left"},e.BuyAt),i.a.createElement(Xt.a,{align:"left"},e.SellAt),i.a.createElement(Xt.a,{align:"left"},e.time))}):"")))):""))}}]),e}(i.a.Component),_a=(i.a.Component,a(582)),Ja=a(103),Ua=a.n(Ja),Va=Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}});function qa(){var t=Va(),e=i.a.useState("true"==localStorage.getItem("isAutoTrading")),a=Object(X.a)(e,2),n=a[0],r=a[1];return i.a.createElement("div",{className:t.root},i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{style:{marginTop:"-15px"},control:i.a.createElement(Bt.a,{checked:n,onChange:function(t){r(t.target.checked),localStorage.setItem("isAutoTrading",t.target.checked)},"aria-label":"Auto Trading switch"}),label:"true"==localStorage.getItem("isAutoTrading")?"Auto Trading ON "+localStorage.getItem("isAutoTrading"):"Auto Trading OFF "+localStorage.getItem("isAutoTrading")})))}var za=a(139),Qa=a.n(za),Ka=a(57),Ga=Ka.EMA,Xa=(Ka.SMA,Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function Za(t){var e=t.updateTheOrderList,a=Xa(),n=i.a.useState("true"==localStorage.getItem("emaBuySwitch")),r=Object(X.a)(n,2),l=r[0],o=r[1],s=i.a.useState(5),c=Object(X.a)(s,2),m=c[0],u=c[1],v=i.a.useState(5),g=Object(X.a)(v,2),d=g[0],h=g[1],p=i.a.useState(""),f=Object(X.a)(p,2),y=f[0],b=f[1],S=i.a.useState(""),E=Object(X.a)(S,2),k=E[0],C=E[1],T=function(t){var a=d*m*6e4+2592e5,n={exchange:"NSE",token:"26009",interval:m,starttime:Math.floor(((new Date).getTime()-a)/1e3).toString(),endtime:new Date(new Date).getTime()/1e3};O.getHistoryShoonya(n).then(function(a){var n=a.data;if(n&&n.reverse(),n&&n.length>0){var i=[],r=[];n.forEach(function(t){i.push(parseFloat(t.intc)),r.push({close:parseFloat(t.intc),time:t.time})});var l=Ga.calculate({period:d,values:i});console.log("closeData",i,"smaResult",l);var o=n[n.length-1];if(C(l[l.length-1].toFixed(2)),"justCalculate"!=t&&parseFloat(o.intc)>parseFloat(l[l.length-1])&&parseFloat(o.intc)>parseFloat(o.into)){var s={createdAt:(new Date).toLocaleTimeString(),buyAt:parseFloat(o.inth)+5,buyAtStoploss:parseFloat(o.intl)-5,id:(new Date).getTime(),origin:"EmaBuy"},c=localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[],m=c.findIndex(function(t){return"EmaBuy"===t.origin});c.splice(m,1),c.push(s),localStorage.setItem("orderOptionList",JSON.stringify(c)),new Audio(Qa.a).play(),e()}}else console.log("bn candle data emply")})};return i.a.useEffect(function(){l?b(setInterval(function(){(new Date).getMinutes()%m==0&&0==(new Date).getSeconds()&&T()},1e3)):(console.log("emaBuySwitch",l),clearInterval(y))},[l]),i.a.createElement("div",{className:a.root},i.a.createElement(Ht.a,null,i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"EMA Buy | ",i.a.createElement(M.a,{size:"small",onClick:function(){return T("justCalculate")}}," Average Value: ",k," ")),i.a.createElement(Yt.a,{style:{marginTop:"-15px"},control:i.a.createElement(Bt.a,{checked:l,onChange:function(t){o(t.target.checked),localStorage.setItem("emaBuySwitch",t.target.checked)},"aria-label":"EMA BUY Auto"}),label:"true"==localStorage.getItem("emaBuySwitch")?"EMA BUY Auto ON "+localStorage.getItem("emaBuySwitch"):"EMA BUY Auto OFF "+localStorage.getItem("emaBuySwitch")}),i.a.createElement(R.a,{variant:"subtitle2",gutterBottom:!0},"Settings  \xa0 Time Interval \xa0",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:m,onChange:function(t){return u(t.target.value)}}),"\xa0 Candle Count \xa0",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:d,onChange:function(t){return h(t.target.value)}}))))}var $a=a(57),tn=$a.EMA,en=($a.SMA,Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function an(t){var e=t.updateTheOrderList,a=en(),n=i.a.useState("true"==localStorage.getItem("emaSellSwitch")),r=Object(X.a)(n,2),l=r[0],o=r[1],s=i.a.useState(5),c=Object(X.a)(s,2),m=c[0],u=c[1],v=i.a.useState(5),g=Object(X.a)(v,2),d=g[0],h=g[1],p=i.a.useState(""),f=Object(X.a)(p,2),y=f[0],b=f[1],S=i.a.useState(""),E=Object(X.a)(S,2),k=E[0],C=E[1],T=i.a.useState(""),L=Object(X.a)(T,2),w=L[0],x=L[1],D=function(t){var a=d*m*6e4+2592e5,n={exchange:"NSE",token:"26009",interval:m,starttime:Math.floor(((new Date).getTime()-a)/1e3).toString(),endtime:new Date(new Date).getTime()/1e3};O.getHistoryShoonya(n).then(function(a){var n=a.data;if(n&&n.reverse(),n&&n.length>0){var i=[],r=[];n.forEach(function(t){i.push(parseFloat(t.intc)),r.push({close:parseFloat(t.intc),time:t.time})});var l=tn.calculate({period:d,values:i});console.log("closeData",i,"smaResult",l);var o=n[n.length-1];if(C(l[l.length-1].toFixed(2)),"justCalculate"!=t&&parseFloat(o.intc)<parseFloat(l[l.length-1])&&parseFloat(o.intc)<parseFloat(o.into)){var s={createdAt:(new Date).toLocaleTimeString(),sellAt:parseFloat(o.intl)-5,sellAtStoploss:parseFloat(o.inth)+5,id:(new Date).getTime(),origin:"EmaSell"},c=localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[],m=c.findIndex(function(t){return"EmaSell"===t.origin});c.splice(m,1),c.push(s),localStorage.setItem("orderOptionList",JSON.stringify(c)),new Audio(Qa.a).play(),e()}}else console.log("bn candle data emply")})};return i.a.useEffect(function(){l?b(setInterval(function(){x((new Date).toLocaleTimeString()),(new Date).getMinutes()%m==0&&0==(new Date).getSeconds()&&D()},1e3)):(console.log("emaSellSwitch",l),clearInterval(y))},[l]),i.a.createElement("div",{className:a.root},i.a.createElement(Ht.a,null,i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"EMA Sell | ",i.a.createElement(M.a,{size:"small",onClick:function(){return D("justCalculate")}}," Value: ",k," ")),i.a.createElement(Yt.a,{style:{marginTop:"-15px"},control:i.a.createElement(Bt.a,{checked:l,onChange:function(t){o(t.target.checked),localStorage.setItem("emaSellSwitch",t.target.checked)},"aria-label":"EMA BUY Auto"}),label:"true"==localStorage.getItem("emaSellSwitch")?"EMA BUY Auto ON "+w:" EMA BUY Auto OFF "+localStorage.getItem("emaSellSwitch")}),i.a.createElement(R.a,{variant:"string",gutterBottom:!0},"Settings  \xa0 Time Interval \xa0",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:m,onChange:function(t){return u(t.target.value)}}),"\xa0 Candle Count \xa0",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:d,onChange:function(t){return h(t.target.value)}}))))}var nn=a(57),rn=nn.EMA,ln=(nn.SMA,Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function on(t){var e=t.LiveLtp,a=(t.updateTheOrderList,ln()),n=i.a.useState("true"==localStorage.getItem("crossMASellSwitch")),r=Object(X.a)(n,2),l=r[0],o=r[1],s=i.a.useState(15),c=Object(X.a)(s,2),m=c[0],u=c[1],v=i.a.useState(5),g=Object(X.a)(v,2),d=g[0],h=g[1],p=i.a.useState(5),f=Object(X.a)(p,2),y=f[0],b=f[1],S=i.a.useState(""),E=Object(X.a)(S,2),k=(E[0],E[1],i.a.useState("")),C=Object(X.a)(k,2),T=C[0],L=C[1],w=i.a.useState(""),x=Object(X.a)(w,2),D=x[0],I=x[1],P=i.a.useState(""),F=Object(X.a)(P,2),N=(F[0],F[1],i.a.useState([])),A=Object(X.a)(N,2),B=A[0],Y=A[1],H=function(t){var e=d*(y+2)*6e4,a={exchange:"NSE",token:"26009",interval:d,starttime:Math.floor(((new Date).getTime()-e)/1e3).toString(),endtime:new Date(new Date).getTime()/1e3};O.getHistoryShoonya(a).then(function(t){var e=t.data;e.length&&console.log(e[0].time,"open",e[0].into,"high",e[0].inth,"low",e[0].intl,"close",e[0].intc),Y(e),function(t,e){if((t=t&&t.length>0?t:B).length&&t.reverse(),t&&t.length>0){var a=[];t.forEach(function(t){a.push(parseFloat(t.intc))});var n=rn.calculate({period:y,values:a}),i=t[t.length-1];if(L(n[n.length-1]&&n[n.length-1].toFixed(2)),console.log("smaResult",n),"justCalculate"!=e)if(n[n.length-1]>n[n.length-2]&&n[n.length-2]>n[n.length-3]&&n[n.length-1]<parseFloat(i.inth)&&n[n.length-1]>parseFloat(i.intl)){var r={createdAt:(new Date).toLocaleTimeString(),buyAt:parseFloat(n[n.length-1]),buyAtStoploss:parseFloat(i.intl)-10,id:(new Date).getTime(),origin:"CrossMABuy"};console.log("CrossMABuy",r);var l=localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[],o=l.findIndex(function(t){return"CrossMABuy"===t.origin});l.splice(o,1),l.push(r)}else if(n[n.length-1]<n[n.length-2]&&n[n.length-2]<n[n.length-3]&&n[n.length-1]<parseFloat(i.inth)&&n[n.length-1]>parseFloat(i.intl)){var s={createdAt:(new Date).toLocaleTimeString(),sellAt:parseFloat(n[n.length-1]),sellAtStoploss:parseFloat(i.inth)+10,id:(new Date).getTime(),origin:"CrossMASell"},c=localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[],m=c.findIndex(function(t){return"CrossMASell"===t.origin});c.splice(m,1),console.log("CrossMABuy",s)}}else console.log("bn candle data emply")}(e,"")})};return i.a.useEffect(function(){I((new Date).toLocaleTimeString()),l&&H()},[e]),i.a.createElement("div",{className:a.root},i.a.createElement(Ht.a,null,i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Cross MA Buy Sell | ",i.a.createElement(M.a,{size:"small",onClick:function(){return H()}}," Value: ",T," ")),i.a.createElement(Yt.a,{style:{marginTop:"-15px"},control:i.a.createElement(Bt.a,{checked:l,onChange:function(t){o(t.target.checked),localStorage.setItem("crossMASellSwitch",t.target.checked)},"aria-label":"EMA BUY Auto"}),label:"true"==localStorage.getItem("crossMASellSwitch")?"Cross Swich ON | Time: "+D+" | "+e:" Cross MA Buy Sell OFF "+localStorage.getItem("crossMASellSwitch")}),i.a.createElement(R.a,{variant:"string",gutterBottom:!0},"Settings | Trend",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:m,onChange:function(t){return u(t.target.value)}}),"\xa0 Interval",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:d,onChange:function(t){return h(t.target.value)}}),"\xa0Period",i.a.createElement("input",{type:"number",style:{width:"30px",textAlign:"center"},value:y,onChange:function(t){return b(t.target.value)}}))))}Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}});var sn=a(298),cn=a.n(sn),mn=i.a.memo(function(t){var e=t.LiveLtp,a=(t.refreshOrderbookFlagOn,Object(n.useState)("")),r=Object(X.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)(""),c=Object(X.a)(s,2),m=c[0],u=c[1],v=Object(n.useState)(""),g=Object(X.a)(v,2),d=g[0],h=g[1],p=Object(n.useState)(""),f=Object(X.a)(p,2),y=f[0],b=f[1],S=Object(n.useState)(""),E=Object(X.a)(S,2),k=E[0],C=E[1],T=Object(n.useState)(""),L=Object(X.a)(T,2),w=L[0],x=L[1],D=Object(n.useState)(""),I=Object(X.a)(D,2),P=I[0],N=I[1],A=Object(n.useState)(""),Y=Object(X.a)(A,2),H=Y[0],j=Y[1],W=Object(n.useState)(""),_=Object(X.a)(W,2),J=_[0],U=_[1],V=Object(n.useState)(""),z=Object(X.a)(V,2),Q=z[0],K=z[1],G=Object(n.useState)(""),Z=Object(X.a)(G,2),$=Z[0],tt=Z[1],et=Object(n.useState)(""),at=Object(X.a)(et,2),nt=at[0],it=at[1],lt=Object(n.useState)(localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[]),ot=Object(X.a)(lt,2),st=ot[0],ct=ot[1],mt=Object(n.useState)(""),ut=Object(X.a)(mt,2),vt=ut[0],gt=ut[1],dt=Object(n.useState)(!1),ht=Object(X.a)(dt,2),pt=ht[0],ft=ht[1],yt=Object(n.useState)(ve()),bt=Object(X.a)(yt,2),St=bt[0],Et=bt[1],kt=Object(n.useState)(ve()),Ct=Object(X.a)(kt,2),Tt=Ct[0],Lt=Ct[1],wt=Object(n.useState)(1),xt=Object(X.a)(wt,2),Ot=xt[0],Dt=xt[1],It=Object(n.useState)(1),Pt=Object(X.a)(It,2),Ft=Pt[0],Nt=Pt[1],Mt=Object(n.useState)(1),At=Object(X.a)(Mt,2),Bt=At[0],Yt=At[1],Ht=Object(n.useState)(1),jt=Object(X.a)(Ht,2),Rt=jt[0],Wt=jt[1],_t=Object(n.useState)(0),Jt=Object(X.a)(_t,2),Ut=Jt[0],Vt=Jt[1],qt=Object(n.useState)(0),zt=Object(X.a)(qt,2),Qt=zt[0],$t=zt[1],te=Object(n.useState)(""),ee=Object(X.a)(te,2),ae=ee[0],ne=ee[1],ie=Object(n.useState)(""),re=Object(X.a)(ie,2),le=re[0],oe=re[1],se=function(t,e,a,n){var i=ge(t,e),r=ue(i,e);console.log(i,r);var l=ce(r.expiry).format("DDMMMYY"),o="CE"===e?"C":"P",s="CE"===e?Ot:Rt,c="BANKNIFTY".concat(l.toUpperCase()).concat(o).concat(i);if(r){var m={buy_or_sell:"B",product_type:"M",exchange:"NFO",tradingsymbol:c,quantity:25*s,discloseqty:0,price_type:"MKT",price:0};console.log("optionInput",m);var u={};u.tradingsymbol=c,u.optiontype=e,"buyAt"==a&&(u.optionStockStoploss=n.buyAtStoploss,u.optionStockTarget=n.buyAtTarget),"buyAtBelow"==a&&(u.optionStockStoploss=n.buyAtBelowStoploss,u.optionStockTarget=n.buyAtBelowTarget),"sellAt"==a&&(u.optionStockStoploss=n.sellAtStoploss,u.optionStockTarget=n.sellAtTarget),"sellAtAbove"==a&&(u.optionStockStoploss=n.sellAtAboveStoploss,u.optionStockTarget=n.sellAtAboveTarget),"market"==a&&"CE"==e&&(u.optionStockStoploss=t-100,u.optionStockTarget=t+100),"market"==a&&"PE"==e&&(u.optionStockStoploss=t+100,u.optionStockTarget=t-100);for(var v=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],g=v.length-1;g>=0;g--)v[g].tradingsymbol===m.tradingsymbol&&v.splice(g,1);v.push(u),localStorage.setItem("activeStockOptions",JSON.stringify(v)),n&&n.id&&gt(n.id),new Audio(cn.a).play(),localStorage.setItem(c,""),O.shoonyaPlaceOrder(m).then(function(t){setTimeout(function(){O.getOrderListShoonya().then(function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[a];if(n.tsym==c&&"B"==n.trantype&&"COMPLETE"==n.status){localStorage.setItem(c,n.avgprc);break}}console.log("orderlist updated by level",e),localStorage.setItem("oderbookData",JSON.stringify(e))})},1e3)})}else q.showError("Option token not found for "+i+" update latest tokens")},me=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},ue=function(t,e){var a=(localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData")).NIFTYBANK_LATEST_OPTIONS||[]).filter(function(a){return a.strike/100===t&&a.symbol.endsWith(e)}),n=ce(new Date).add(8,"days"),i=a.filter(function(t){return ce(t.expiry)<=n});return i&&i[0]};function ve(){var t=ce().isoWeekday();return 5===t||1===t?-4:2===t?-3:3===t?-1:0,0}var ge=function(t,e){ce().isoWeekday();var a=0;return"CE"===e?a=Math.round(t)-Math.round(t)%100-100*St:"PE"===e&&(a=Math.round(t)-Math.round(t)%100+100*Tt),a};Object(n.useEffect)(function(){if(vt){var t=st.findIndex(function(t){return t.id===vt});st.splice(t,1),gt(""),ct(st),localStorage.setItem("orderOptionList",JSON.stringify(st))}},[vt,st,gt]),Object(n.useEffect)(function(){(st||pt)&&(ct(st),localStorage.setItem("orderOptionList",JSON.stringify(st)),ft(!1))},[st,pt]),Object(n.useEffect)(function(){e&&e.iv&&(st.forEach(function(t){t.buyAt&&e.iv>=parseFloat(t.buyAt)?se(e.iv,"CE","buyAt",t):t.buyAtBelow&&e.iv<=parseFloat(t.buyAtBelow)?se(e.iv,"CE","buyAtBelow",t):t.sellAt&&e.iv<=parseFloat(t.sellAt)?se(e.iv,"PE","sellAt",t):t.sellAtAbove&&e.iv>=parseFloat(t.sellAtAbove)&&se(e.iv,"PE","sellAtAbove",t)}),ae&&e.iv>=ae&&(me("Bank nifty above "+parseInt(e.iv)),ne("")),le&&e.iv<=le&&(me("Bank nifty below"+parseInt(e.iv)),oe("")),de(),he())},[e,st,se]),Object(n.useEffect)(function(){Se("CE")},[St]),Object(n.useEffect)(function(){Se("PE")},[Tt]);var de=function(){"true"==localStorage.getItem("isAutoTrading")&&(e.takeHigherHighTrade&&(se(e.iv,"CE","market"),me("buy order placed")),e.takeLowerLowTrade&&(se(e.iv,"PE","market"),me("sell order placed")))},he=function(){"true"==localStorage.getItem("isAutoTradingSmallProfit")&&(O.get_time_price_series(26009).then(function(t){console.log("order res",t)}),e.takeHigherHighTrade&&(se(e.iv,"CE","market"),me("khudra buy order placed")),e.takeLowerLowTrade&&(se(e.iv,"PE","market"),me("khudra sell order placed")))},pe=function(){if(l||y||P||Q){var t={createdAt:(new Date).toLocaleTimeString(),buyAt:l,buyAtStoploss:m,buyAtTarget:d,buyAtBelow:y,buyAtBelowStoploss:k,buyAtBelowTarget:w,sellAt:P,sellAtStoploss:H,sellAtTarget:J,sellAtAbove:Q,sellAtAboveStoploss:$,sellAtAboveTarget:nt,id:(new Date).getTime()};ct([].concat(Object(rt.a)(st),[t])),new Audio(Qa.a).play(),be()}},fe=function(t){var e=t.target.name.split("-"),a=st.findIndex(function(t){return t.id===parseInt(e[1])});st[a][e[0]]=t.target.value,ft(!0)},ye=function(){ct(localStorage.getItem("orderOptionList")&&JSON.parse(localStorage.getItem("orderOptionList"))||[])},be=function(){o(""),u(""),h(""),b(""),C(""),x(""),N(""),j(""),U(""),K(""),tt(""),it("")},Se=function(t){var a=ge(e.iv,t),n=ue(a,t);n&&O.get_quotes({token:n.token,exchange:n.exch_seg}).then(function(e){var i=e.data;console.log(a,n,"res strick",i.strprc);var r=5e3/i.lp,l=Math.round(r/25);"CE"===t?(Vt(i.lp),Nt(l)):($t(i.lp),Yt(l))})},Ee=function(t){var e={exchange:"NSE",token:"26009",interval:5,starttime:Math.floor(((new Date).getTime()-3e5)/1e3).toString(),endtime:Math.floor(new Date(new Date).getTime()/1e3).toString()};O.getHistoryShoonya(e).then(function(e){var a=e.data[0];a&&"candle_high"==t&&(o(parseFloat(a.inth)+1),u(parseFloat(a.intl)+1),h(parseFloat(a.inth)+(parseFloat(a.inth)-parseFloat(a.intl)))),console.log("currentCandle",a),a&&"candle_Low"==t&&(N(parseFloat(a.intl)-1),j(parseFloat(a.inth)+1),U(parseFloat(a.intl)-(parseFloat(a.inth)-parseFloat(a.intl))))})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(R.a,{color:"primary",style:{textAlign:"center"},gutterBottom:!0},"Place Shoonya Order ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return be()}},"Reset all")," \xa0\xa0",i.a.createElement(B.a,{label:"Above Alert",placeholder:"Above Alert",type:"number",name:"alertPrice",style:{width:"125px"},value:ae,onChange:function(t){return ne(t.target.value)}}),"\xa0\xa0",i.a.createElement(B.a,{label:"Below Alert",placeholder:"Below Alert",type:"number",name:"alertPriceDown",style:{width:"125px"},value:le,onChange:function(t){return oe(t.target.value)}})),i.a.createElement("br",null),i.a.createElement(F.a,{justifyContent:"center",spacing:3,container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"springgreen"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"CE   Strike",i.a.createElement("input",{label:"Strike Leg",type:"number",name:"strikeLegCE",style:{width:"30px",textAlign:"center"},value:St,onChange:function(t){return Et(t.target.value)}}),ge(e.iv,"CE"),"@",Ut,"\xa0\xa0\xa0",Ft," Lot",i.a.createElement("input",{title:"Suggested lot: "+Ft,label:"Strike Leg",type:"number",name:"noOfLotCE",style:{width:"30px",textAlign:"center"},value:Ot,onChange:function(t){return Dt(t.target.value)}}),i.a.createElement("span",{title:25*Ot*Ut}," Qty:",25*Ot,"\xa0\xa0 "),i.a.createElement(M.a,{variant:"contained",id:"ceMarketBuy",onClick:function(){se(e.iv,"CE","market")}}," CE Market Buy")),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"azure"}},i.a.createElement(R.a,null,i.a.createElement("span",{title:" LiveLtp >= buyAt "}," ",i.a.createElement("b",null,"\u2191")," CE |"),"   ",i.a.createElement("b",null,e.iv)),i.a.createElement(F.a,{item:!0},i.a.createElement(_a.a,{size:"small","aria-label":"small button group"},i.a.createElement(B.a,{label:"Buy Above",type:"number",name:"buyAt",style:{width:"125px"},value:l,onChange:function(t){return o(t.target.value)}}),i.a.createElement(B.a,{label:"Stoploss ".concat(parseInt(l-m)),type:"number",name:"buyAtStoploss",style:{width:"100px"},value:m,onChange:function(t){return u(t.target.value)}}),i.a.createElement(B.a,{label:"Target ".concat(parseInt(d-l)),type:"number",name:"buyAtTarget",style:{width:"100px"},value:d,onChange:function(t){return h(t.target.value)}}),i.a.createElement(M.a,{variant:"contained",onClick:function(){o(""),u(""),h("")}},i.a.createElement(Ua.a,{color:"error"}))),i.a.createElement("br",null),i.a.createElement("div",{style:{marginTop:"5px"}},i.a.createElement("button",{variant:"contained",onClick:function(){o(e.iv),u(e.iv-50),h(e.iv+50)}},"SL 50 | T. 50"),"\xa0",i.a.createElement("button",{title:"SL 100 | Target 100",onClick:function(){o(e.iv),u(e.iv-100),h(e.iv+100)}},"SL 100 | T. 100"),"\xa0",i.a.createElement("button",{onClick:function(){Ee("candle_high")}},"Candle High"),"\xa0"))),i.a.createElement("br",null),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"beige"}},i.a.createElement(R.a,null,i.a.createElement("span",{title:" LiveLtp <= buyAtBelow "}," ",i.a.createElement("b",null,"\u2193")," CE |"),"   ",i.a.createElement("b",null,e.iv)),i.a.createElement(F.a,{item:!0},i.a.createElement(_a.a,{size:"small","aria-label":"small button group"},i.a.createElement(B.a,{label:"Buy Below",type:"number",style:{width:"125px"},name:"buyAtBelow",value:y,onChange:function(t){return b(t.target.value)}}),i.a.createElement(B.a,{label:"Stoploss ".concat(parseInt(y-k)),type:"number",name:"buyAtBelowStoploss",style:{width:"100px"},value:k,onChange:function(t){return C(t.target.value)}}),i.a.createElement(B.a,{label:"Target ".concat(parseInt(w-y)),type:"number",name:"buyAtBelowTarget",style:{width:"100px"},value:w,onChange:function(t){return x(t.target.value)}}),i.a.createElement(M.a,{variant:"contained",onClick:function(){b(""),C(""),x("")}},i.a.createElement(Ua.a,{color:"error"}))),i.a.createElement("br",null),i.a.createElement("div",{style:{marginTop:"5px"}},i.a.createElement("button",{title:"SL 40 | Target 50",onClick:function(){b(e.iv),C(e.iv-40),x(e.iv+40)}},"SL 40 | T. 40"),"\xa0",i.a.createElement("button",{title:"SL 70 | Target 70",onClick:function(){b(e.iv),C(e.iv-70),x(e.iv+70)}},"SL 70 | T. 70"),"\xa0",i.a.createElement("button",{title:"SL 100 | Target 100",onClick:function(){b(e.iv),C(e.iv-100),x(e.iv+100)}},"SL 100 | T. 100"),"\xa0"))),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){return pe()}},"Add to Place Order List")))),i.a.createElement(F.a,{item:!0},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"khaki"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"PE  Strike",i.a.createElement("input",{label:"Strike Leg",type:"number",name:"strikeLegPE",style:{width:"45px",textAlign:"center"},value:Tt,onChange:function(t){return Lt(t.target.value)}}),ge(e.iv,"PE"),"@",Qt,"\xa0\xa0\xa0",Bt," Lot",i.a.createElement("input",{title:"Suggested lot: "+Bt,label:"Strike Leg",type:"number",name:"noOfLotPE",style:{width:"30px",textAlign:"center"},value:Rt,onChange:function(t){return Wt(t.target.value)}}),i.a.createElement("span",{title:25*Rt*Qt}," Qty:",25*Rt,"\xa0\xa0 "),i.a.createElement(M.a,{variant:"contained",id:"peMarketBuy",onClick:function(){se(e.iv,"PE","market")}}," PE Market Buy"),"\xa0"),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"beige"}},i.a.createElement(R.a,null,i.a.createElement("span",{title:" LiveLtp <= sellAt "}," ",i.a.createElement("b",null,"\u2193")," PE |"),"   ",i.a.createElement("b",null,e.iv)),i.a.createElement(F.a,{item:!0},i.a.createElement(_a.a,{size:"small","aria-label":"small button group"},i.a.createElement(B.a,{label:"Sell Below",type:"number",style:{width:"125px"},name:"sellAt",value:P,onChange:function(t){return N(t.target.value)}}),i.a.createElement(B.a,{label:"Stoploss ".concat(parseInt(H-P)),type:"number",name:"sellAtStoploss",style:{width:"100px"},value:H,onChange:function(t){return j(t.target.value)}}),i.a.createElement(B.a,{label:"Target ".concat(parseInt(P-J)),type:"number",name:"sellAtTarget",style:{width:"100px"},value:J,onChange:function(t){return U(t.target.value)}}),i.a.createElement(M.a,{variant:"contained",onClick:function(){N(""),j(""),U("")}},i.a.createElement(Ua.a,{color:"error"}))),i.a.createElement("br",null),i.a.createElement("div",{style:{marginTop:"5px"}},i.a.createElement("button",{onClick:function(){N(e.iv),j(e.iv+50),U(e.iv-50)}},"SL 50 | T. 50"),"\xa0",i.a.createElement("button",{title:"SL 100 | Target 100",onClick:function(){N(e.iv),j(e.iv+100),U(e.iv-100)}},"SL 100 | T. 100"),"\xa0",i.a.createElement("button",{onClick:function(){Ee("candle_Low")}},"Candle Low"),"\xa0"))),i.a.createElement("br",null),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px",background:"azure"}},i.a.createElement(R.a,null,i.a.createElement("span",{title:" LiveLtp >= sellAtAbove "}," ",i.a.createElement("b",null,"\u2191")," PE |"),"   ",i.a.createElement("b",null,e.iv)),i.a.createElement(F.a,{item:!0},i.a.createElement(_a.a,{size:"small","aria-label":"small button group"},i.a.createElement(B.a,{label:"Sell Above",type:"number",style:{width:"125px"},name:"sellAtAbove",value:Q,onChange:function(t){return K(t.target.value)}}),i.a.createElement(B.a,{label:"Stoploss ".concat(parseInt($-Q)),type:"number",name:"sellAtAboveStoploss",style:{width:"100px"},value:$,onChange:function(t){return tt(t.target.value)}}),i.a.createElement(B.a,{label:"Target ".concat(parseInt(Q-nt)),type:"number",name:"sellAtAboveTarget",style:{width:"100px"},value:nt,onChange:function(t){return it(t.target.value)}}),i.a.createElement(M.a,{variant:"contained",onClick:function(){K(""),tt(""),it("")}},i.a.createElement(Ua.a,{color:"error"}))),i.a.createElement("br",null),i.a.createElement("div",{style:{marginTop:"5px"}},i.a.createElement("button",{title:"SL 50 | Target 50",onClick:function(){K(e.iv),tt(e.iv+50),it(e.iv-50)}},"SL 50 | T. 50"),"\xa0",i.a.createElement("button",{title:"SL 70 | Target 70",onClick:function(){K(e.iv),tt(e.iv+70),it(e.iv-70)}},"SL 70 | T. 70"),"\xa0",i.a.createElement("button",{title:"SL 100 | Target 100",onClick:function(){K(e.iv),tt(e.iv+100),it(e.iv-100)}},"SL 100 | T. 100"),"\xa0"))),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{color:"secondary",fullWidth:!0,variant:"contained",style:{marginTop:"10px"},onClick:function(){return pe()}},"Add to Place Order List")))),i.a.createElement(F.a,{item:!0},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"khaki"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Higher High and Lower Low",i.a.createElement(qa,null))),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"lightgreen"}},i.a.createElement(Za,{updateTheOrderList:ye})),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"pink"}},i.a.createElement(an,{updateTheOrderList:ye})),i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px",background:"aquamarine"}},i.a.createElement(on,{LiveLtp:e.iv,updateTheOrderList:ye})))),i.a.createElement("br",null),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head"},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Time (",st.length,")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Origin"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Above"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Above SL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Above T."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Below"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Below SL")," ",i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B. Below T."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Below"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Below SL")," ",i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Below T."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Above"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Above SL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S. Above T."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Delete ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return ye()}},"Refresh")))),i.a.createElement(Zt.a,{id:"tableAdd",style:{width:"",whiteSpace:"nowrap"}},st.length?st.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0},i.a.createElement(Xt.a,{align:"left"},t.createdAt),i.a.createElement(Xt.a,{align:"left"},t.origin),i.a.createElement(Xt.a,{align:"left"},t.buyAt?i.a.createElement("input",{step:"1",style:{width:"75px",textAlign:"center"},type:"number",value:t.buyAt,name:"buyAt-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.buyAtStoploss?i.a.createElement("input",{step:"1",style:{width:"75px",textAlign:"center"},type:"number",value:t.buyAtStoploss,name:"buyAtStoploss-".concat(t.id),onChange:fe}):"-")," ",i.a.createElement(Xt.a,{align:"left"},t.buyAtTarget?i.a.createElement("input",{step:"1",style:{width:"75px",textAlign:"center"},type:"number",value:t.buyAtTarget,name:"buyAtTarget-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.buyAtBelow?i.a.createElement("input",{step:"1",value:t.buyAtBelow,style:{width:"75px",textAlign:"center"},type:"number",name:"buyAtBelow-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.buyAtBelowStoploss?i.a.createElement("input",{step:"1",value:t.buyAtBelowStoploss,style:{width:"75px",textAlign:"center"},type:"number",name:"buyAtBelowStoploss-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.buyAtBelowTarget?i.a.createElement("input",{step:"1",value:t.buyAtBelowTarget,style:{width:"75px",textAlign:"center"},type:"number",name:"buyAtBelowTarget-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.sellAt?i.a.createElement("input",{step:"1",value:t.sellAt,style:{width:"75px",textAlign:"center"},type:"number",name:"sellAt-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.sellAtStoploss?i.a.createElement("input",{step:"1",value:t.sellAtStoploss,style:{width:"75px",textAlign:"center"},type:"number",name:"sellAtStoploss-".concat(t.id),onChange:fe}):"-"),"  ",i.a.createElement(Xt.a,{align:"left"},t.sellAtTarget?i.a.createElement("input",{step:"1",value:t.sellAtTarget,style:{width:"75px",textAlign:"center"},type:"number",name:"sellAtTarget-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.sellAtAbove?i.a.createElement("input",{value:t.sellAtAbove,step:"1",style:{width:"75px",textAlign:"center"},type:"number",name:"sellAtAbove-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.sellAtAboveStoploss?i.a.createElement("input",{value:t.sellAtAboveStoploss,step:"1",style:{width:"75px",textAlign:"center"},type:"number",name:"sellAtAboveStoploss-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},t.sellAtAboveTarget?i.a.createElement("input",{value:t.sellAtAboveTarget,step:"1",style:{width:"75px",textAlign:"center"},type:"number",name:"sellAtAboveTarget-".concat(t.id),onChange:fe}):"-"),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{color:"secondary",onClick:function(){return gt(t.id)}},"  ",i.a.createElement(Ze.a,{style:{cursor:"pointer"}}),"Delete")))}):""))))}),un=Object(W.a)(function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}});function vn(){var t=un(),e=i.a.useState("true"==localStorage.getItem("isTrailing")),a=Object(X.a)(e,2),n=a[0],r=a[1];return i.a.createElement("div",{className:t.root},i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:n,onChange:function(t){r(t.target.checked),localStorage.setItem("isTrailing",t.target.checked)},"aria-label":"Trailing switch"}),label:"true"==localStorage.getItem("isTrailing")?"Trailing ON "+localStorage.getItem("isTrailing"):"Trailing OFF "+localStorage.getItem("isTrailing")})))}var gn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).deleteActiveOptionStock=function(t){for(var e=!1,n=0;n<a.state.activeStockOptions.length;n++){var i=a.state.activeStockOptions[n];if(t.name==i.name){a.state.activeStockOptions.splice(n,1)[0].name==t.name&&(e=!0),a.setState({activeStockOptions:a.state.activeStockOptions});break}}return e},a.refreshCandleChartManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=ce("9:15am","h:mma"),i=ce.duration("12:00:00"),ce(new Date).subtract(i),r={exchange:"NSE",symboltoken:e.symboltoken,interval:"FIVE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=[];a.data.forEach(function(t){n.push([t[0],t[1],t[2],t[3],t[4]])}),localStorage.setItem("candleChangeShow",(100*(e.ltp-e.close)/e.close).toFixed(2)),localStorage.setItem("candleChartData",JSON.stringify(n)),localStorage.setItem("cadleChartSymbol",e.symbolname),document.getElementById("showCandleChart").click()}else console.log(e.symboltoken,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(e.symboltoken+" candle failed!")});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.showCandleChart=function(t,e){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),document.getElementById("showCandleChart").click()},a.showMultipleCandleChart=function(t){localStorage.setItem("multipleChartData",JSON.stringify(t)),document.getElementById("showMultipleChart").click()},a.refreshLtpOnFoundPattern=Object(lt.a)(it.a.mark(function t(){var e,n,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({nr4TotalPer:0,totalBrokerChargesNR4:0,totalNetProfit:0,totelActivatedCount:0,pnlAmountTotal:0,perHighLowTotal:0,netPnLAmountOnHighlowTotal:0}),e=a.state.foundPatternList,a.setState({foundPatternList:[]}),n=localStorage.getItem("FoundPatternList")?JSON.parse(localStorage.getItem("FoundPatternList")):[],r=it.a.mark(function t(n){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e[n])&&"NR4"==r.pattenName&&(o={exchange:"NSE",tradingsymbol:r.symbol,symboltoken:r.token},O.getLTP(o).then(function(t){var e=z(t,"noPop"),n=e&&e.data,l=0,o=0,s=0,c=.06,m=0,u=0,v=0;if(n&&n.ltp){var g=i.a.createElement("span",null," ",n.ltp," ");if(n.ltp>r.BuyAt)m=100*(n.ltp-r.BuyAt)/r.BuyAt,g=i.a.createElement("span",{style:{color:"green"}}," Long: ",m.toFixed(2),"% "),l=Math.floor(1e4/r.BuyAt),s=(o=(n.ltp-r.BuyAt)*l)-(c=r.BuyAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),u=100*(n.high-r.BuyAt)/r.BuyAt,v=(n.high-r.BuyAt)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});if(n.ltp<r.SellAt)m=100*(r.SellAt-n.ltp)/r.SellAt,g=i.a.createElement("span",{style:{color:"red"}}," Short: ",m.toFixed(2),"%"),l=Math.floor(1e4/r.SellAt),s=(o=(r.SellAt-n.ltp)*l)-(c=r.SellAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),u=100*(r.SellAt-n.low)/r.SellAt,v=(r.SellAt-n.low)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});var d=100*(n.ltp-n.close)/n.close,h=[new Date,n.open,n.high,n.low,n.ltp];r.candleChartData.push(h);var p={symbol:r.symbol,symbolUpdated:n.ltp+"("+d.toFixed(2)+"%)",token:r.token,pattenName:"NR4",OnHighLowActivated:l?u.toFixed(2)+"% | "+v.toFixed(2):"",time:(new Date).toLocaleTimeString(),BuyAt:r.BuyAt,SellAt:r.SellAt,foundAt:r.foundAt,orderActivated:g,candleChartData:r.candleChartData,quantity:l||"",brokerageCharges:l?c.toFixed(2):"",pnlAmount:o?o.toFixed(2):"",netPnLAmount:s?s.toFixed(2):"",perChange:m,todayChange:d,pastPerferm:r.pastPerferm};console.log("nr4 updated",p),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[p])});var f=a.state.foundPatternList;f.sort(function(t,e){return e.perChange-t.perChange}),a.setState({foundPatternList:f});var y=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];y.push(p),localStorage.setItem("foundPatternList",JSON.stringify(y))}}).catch(function(t){q.showError(r.symbol+" ltd data not found!")})),t.next=4,new Promise(function(t){return setTimeout(t,101)});case 4:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<n.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:case"end":return t.stop()}},t)})),a.getStoplossFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);for(var a={},n=0;n<e.length;n++){var i=e[n];if("trigger pending"===i.status&&i.symboltoken===t.symboltoken){t.netqty>0?(a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.buyavgprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2)):t.netqty<0&&(console.log(t.tradingsymbol,"sellage",t.sellavgprice,"trigger",i.triggerprice),a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.sellavgprice)/t.sellavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.sellavgprice)*parseInt(t.netqty)).toFixed(2));break}}return a},a.getStoplossForSELLFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);var a={};return e.forEach(function(e){"trigger pending"===e.status&&e.symboltoken===t.symboltoken&&(a.stopLoss=e.triggerprice+"("+(100*(t.buyavgprice-e.triggerprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((e.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2))}),a},a.getHighLowPercentage=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({showHighLowWisePer:!0}),a.state.positionList.length||q.showError("First Refresh Position"),e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("DELIVERY"!=(n=a.state.positionList[e]).producttype){t.next=3;break}return t.abrupt("return",{v:""});case 3:return i={exchange:"NSE",tradingsymbol:n.tradingsymbol,symboltoken:n.symboltoken},O.getLTP(i).then(function(t){var n=z(t,"noPop"),i=n&&n.data;i&&i.ltp&&(a.state.positionList[e].high=i.high,a.state.positionList[e].low=i.low)}),t.next=7,new Promise(function(t){return setTimeout(t,125)});case 7:a.setState({positionList:a.state.positionList});case 8:case"end":return t.stop()}},t)}),n=0;case 4:if(!(n<a.state.positionList.length)){t.next=12;break}return t.delegateYield(e(n),"t0",6);case 6:if("object"!==typeof(r=t.t0)){t.next=9;break}return t.abrupt("return",r.v);case 9:n++,t.next=4;break;case 12:case"end":return t.stop()}},t)})),a.tagPatternWhichTaken=function(t){for(var e=localStorage.getItem("orderTagToPosition")&&JSON.parse(localStorage.getItem("orderTagToPosition"))||[],a="",n=0;n<e.length;n++){var i=e[n];if(t==i.token){a=i.pattenName;break}}return a},a.calculateTradeExpence=function(t){var e=0===parseFloat(t.totalbuyvalue)?parseFloat(t.totalsellvalue):parseFloat(t.totalbuyvalue),a=.25*parseFloat(e)/100;(a>20||"CE"==t.optiontype||"PE"==t.optiontype)&&(a=20);var n=0===parseFloat(t.totalsellvalue)?parseFloat(t.totalbuyvalue):parseFloat(t.totalsellvalue),i=.25*parseFloat(n)/100;(i>20||"CE"==t.optiontype||"PE"==t.optiontype)&&(i=20);var r=e+n,l=a+i,o=.025;"CE"!=t.optiontype&&"PE"!=t.optiontype||(o=.05);var s=n*o/100,c=.00335*r/100,m=.003*e/100,u=10*r/1e7,v=18*(l+c+u)/100,g=l+s+c+m+u+v;return{tradeExpence:g,expenceInfo:"Brokerage: "+l.toFixed(2)+" \nSTT: "+s.toFixed(2)+" \nTransaction: "+c.toFixed(2)+" \nStamp Duty: "+m.toFixed(2)+" \nSebi: "+u.toFixed(2)+" \nGST: "+v.toFixed(2)+" \n\nTotal: "+g.toFixed(2)}},a.refreshBasedAmount=function(){var t=0,e=0,n=0;a.state.positionList.forEach(function(i){var r=a.state.checkAmountPer?a.state.checkAmountPer:i.percentPnL;i.checkAmount=(a.state.checkAmount*r/100).toFixed(2),t+=parseFloat(i.checkAmount);var l=Math.floor(a.state.checkAmount/i.buyavgprice);i.checkQty=l,i.totalbuyvalue=l*i.buyavgprice,i.totalsellvalue=l*i.sellavgprice,i.checkExpence=a.calculateTradeExpence(i),i.checkExpence&&(i.checkNet=i.checkAmount-i.checkExpence.tradeExpence,n+=i.checkExpence.tradeExpence,e+=parseFloat(i.checkNet)),console.log(i)}),a.setState({totCheckAmount:t.toFixed(2),checkTotalNet:e.toFixed(2),totCheckExp:n.toFixed(2),positionList:a.state.positionList})},a.checkSLOrTarget=function(t){var e=localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[];if(e.length>0)for(var n=0;n<e.length;n++){var i=e[n];"EQ"!=i.optiontype&&""!=i.optiontype||i.tradingsymbol==t.tradingsymbol&&(t.ltp<parseFloat(i.priceStopLoss)||t.ltp>=parseFloat(i.priceTarget))&&a.squareOff(t)}},a.getPositionData=Object(lt.a)(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:0,0,localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[],O.getPosition().then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.length>0){for(var i=0,r=0,l=0,o=0,s=0,c=0,m=0,u=0,v=[],g=function(t){var e=n[t];if(v.push(e),i+=parseFloat(e.pnl),r+=parseFloat(e.totalbuyvalue),l+=0===parseFloat(e.totalsellvalue)?parseFloat(e.totalbuyvalue):parseFloat(e.totalsellvalue),o+=parseInt(e.buyqty),s+=parseFloat(e.buyavgprice),c+=parseFloat(e.sellavgprice),0==e.netqty){var g=100*(parseFloat(e.sellavgprice)-parseFloat(e.buyavgprice))/parseFloat(e.buyavgprice);e.percentPnL=g.toFixed(2),m+=parseFloat(g),localStorage.removeItem("firstTimeModify"+e.tradingsymbol),localStorage.removeItem("lastTriggerprice_"+e.tradingsymbol)}e.pattenName=a.tagPatternWhichTaken(e.symboltoken);var d=a.calculateTradeExpence(e);if(e.tradeExpence=d.tradeExpence.toFixed(2),e.expenceInfo=d.expenceInfo,u+=d.tradeExpence,a.checkSLOrTarget(e),("CE"==e.optiontype||"PE"==e.optiontype)&&e.netqty>0){var h=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],p=h.filter(function(t){return t.tradingsymbol==e.tradingsymbol});if(e.optionStockName=e.symbolname,p[0])e.optionStockStoploss=p[0]&&p[0].optionStockStoploss,e.optionStockTarget=p[0]&&p[0].optionStockTarget;else{var f=de.getStockTokenDetails(e.symbolname);f.optiontype=e.optiontype,f.netqty=e.netqty,f.tradingsymbol=e.tradingsymbol,a.setState({activeStockOptions:[h,f]}),localStorage.setItem("activeStockOptions",JSON.stringify(a.state.activeStockOptions))}}},d=0;d<n.length;d++)g(d);a.setState({todayProfitPnL:i.toFixed(2),totalbuyvalue:r.toFixed(2),totalsellvalue:l.toFixed(2),totalQtyTraded:o}),a.setState({allbuyavgprice:(s/n.length).toFixed(2),allsellavgprice:(c/n.length).toFixed(2),totalPercentage:m});a.setState({totalExpence:u.toFixed(2)}),a.setState({totalTornOver:(r+l).toFixed(2),totalMaxPnL:(0).toFixed(2)}),v.sort(function(t,e){return e.netqty-t.netqty}),a.setState({positionList:v})}});case 3:case"end":return t.stop()}},t)})),a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.optionStockStoplossChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));for(var e=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],n=0;n<e.length;n++){var i=e[n];if(t.target.name===i.tradingsymbol){i.optionStockStoploss=t.target.value;break}}localStorage.setItem("activeStockOptions",JSON.stringify(e)),a.setState({activeStockOptions:e})},a.optionStockTargetChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));for(var e=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],n=0;n<e.length;n++){var i=e[n];if(t.target.name===i.tradingsymbol){i.optionStockTarget=t.target.value;break}}a.setState({activeStockOptions:e}),localStorage.setItem("activeStockOptions",JSON.stringify(e))},a.onTrailChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onAddSLChange=function(t){var e=a.state.addSLInfo;e[t.target.name]=t.target.value.toUpperCase(),a.setState({addSLInfo:e})},a.deleteOptionPriceSL=function(t,e){for(var n=function(n){var i=a.state.positionList[n];if(console.log("squireoffff",i.tradingsymbol,t.tradingsymbol,i.buyqty),i.tradingsymbol==t.tradingsymbol&&i.buyqty>0&&(r=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice")))&&r.length>0)return r.splice(e,1),localStorage.setItem("trackSLPrice",JSON.stringify(r)),a.setState({trackSLPrice:r},function(){a.squareOff(i,!0)}),"break"},i=0;i<a.state.positionList.length;i++){var r;if("break"===n(i))break}},a.deleteIndexOption=function(t,e){for(var n=function(n){var i=a.state.positionList[n];if(i.tradingsymbol==t.tradingsymbol&&i.netqty>0&&a.state.activeStockOptions&&a.state.activeStockOptions.length>0)return a.state.activeStockOptions.splice(e,1),a.setState({activeStockOptions:a.state.activeStockOptions},function(){localStorage.setItem("activeStockOptions",JSON.stringify(a.state.activeStockOptions)),a.squareOff(i,!0)}),"break"},i=0;i<a.state.positionList.length;i++){if("break"===n(i))break}},a.getNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"NIFTY",symboltoken:"26000"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=100*(n.ltp-n.close)/n.close;document.getElementById("niftySpid")&&(document.getElementById("niftySpid").innerHTML="<span style='color:red'> Nifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>")}var r=localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[];if(r.length>0)for(var l=0;l<r.length;l++){var o=r[l];console.log("this.state.trackSLPrice",o),"NIFTY"==o.name&&"CE"==o.optiontype&&(n.ltp<o.priceStopLoss||n.ltp>=o.priceTarget)&&(console.log("deleteOptionPriceSL call sl ",o,l),a.deleteOptionPriceSL(o,l)),"NIFTY"==o.name&&"PE"==o.optiontype&&(n.ltp>o.priceStopLoss||n.ltp<=o.priceTarget)&&(console.log("deleteOptionPriceSL put sl ",o,l),a.deleteOptionPriceSL(o))}})},a.getBankNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"BANKNIFTY",symboltoken:"26009"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){a.setState({liveBankniftyLtdData:{iv:n.ltp}},function(){a.bankniftyTrackOrder(),window.document.title=n.ltp});var i=100*(n.ltp-n.close)/n.close;document.getElementById("bankniftySpid")&&(document.getElementById("bankniftySpid").innerHTML=i>0?"<span style='color:green'> Banknifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>":"<span style='color:red'> Banknifty "+n.ltp.toFixed(2)+" ("+i.toFixed(2)+"%)</span>")}})},a.getBankNiftyLiveLtp=function(t){if(t&&t.iv){var e=t.nc;a.setState({liveBankniftyLtdData:t},function(){a.bankniftyTrackOrder()}),document.getElementById("bankniftySpid")&&(document.getElementById("bankniftySpid").innerHTML=e>0?"<span style='color:green'> Banknifty "+t.iv+" ("+e+"%)</span> <span>  "+t.cng+"</span> "+ce(t.tvalue).format("h:mm:ss A"):"<span style='color:red'> Banknifty "+t.iv+" ("+e+"%)</span> <span> "+t.cng+" </span> "+ce(t.tvalue).format("h:mm:ss A"))}},a.bankniftyTrackOrder=function(){var t=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[];if(t.length>0)for(var e=0;e<t.length;e++){var n=t[e];"BANKNIFTY"==n.name&&"CE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv<n.optionStockStoploss?a.deleteIndexOption(n,e):"BANKNIFTY"==n.name&&"CE"==n.optiontype&&n.optionStockTarget&&a.state.liveBankniftyLtdData.iv>=n.optionStockTarget?a.deleteIndexOption(n,e):"BANKNIFTY"==n.name&&"PE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv>n.optionStockStoploss?a.deleteIndexOption(n,e):"BANKNIFTY"==n.name&&"PE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv<=n.optionStockTarget&&a.deleteIndexOption(n,e)}},a.placeOrderMethod=function(t){var e={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:"INTRADAY",duration:"DAY",squareoff:"0",stoploss:"0",exchange:"NSE",variety:"NORMAL"};console.log("place order option",e),O.placeOrder(e).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(a.setState({orderid:n.data&&n.data.orderid}),t.stopLossPrice&&a.placeSLMOrder(t))})},a.cancelOrderOfSame=function(t){var e=a.getOpenPeningOrderId(t.symboltoken),n={variety:e.variety,orderid:e.orderId};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&console.log("cancel order",e)})},a.squareOff=function(t,e){var n={variety:"NORMAL",tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,transactiontype:t.netqty>0?"SELL":"BUY",exchange:t.exchange,ordertype:e?"MARKET":"LIMIT",producttype:t.producttype,duration:"DAY",price:0,squareoff:"0",stoploss:"0",quantity:Math.abs(t.netqty)};e&&(n.price=0),"OPTSTK"!=t.instrumenttype||"PE"!=t.optiontype&&"CE"!=t.optiontype||(n.price=de.getMinPriceAllowTick(t.ltp-.5*t.ltp/100),n.triggerprice=de.getMinPriceAllowTick(t.ltp-.1*t.ltp/100)),O.placeOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(a.setState({orderid:e.data&&e.data.orderid}),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},a.updateOrderList=function(){O.retrieveOrderBook().then(function(t){var e=z(t);if(e&&e.data){var a=e.data;a.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),localStorage.setItem("oderbookData",JSON.stringify(a))}})},a.addSLOrderInfo=function(t){a.setState({addSLInfo:t,enableSLMOrderUi:!0})},a.placeSLMOrderManually=function(){a.state.addSLInfo.netqty=Math.abs(a.state.addSLInfo.netqty),console.log("addSLInfo",a.state.addSLInfo),de.placeOptionSLMOrder(a.state.addSLInfo)},a.placeSLMOrder=function(t){var e={triggerprice:t.stopLossPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,transactiontype:"BUY"===t.transactiontype?"SELL":"BUY",exchange:t.exchange?t.exchange:"NSE",producttype:t.producttype?t.producttype:"INTRADAY",duration:"DAY",price:t.price?t.price:0,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",e),O.placeOrder(e).then(function(e){var n=z(e);if(n.status&&"SUCCESS"===n.message){a.setState({orderid:n.data&&n.data.orderid}),a.updateOrderList();var i=new SpeechSynthesisUtterance;i.text=(t.tradingsymbol+" "+t.transactiontype).toLocaleLowerCase(),window.speechSynthesis.speak(i),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click()}})},a.getOpenPeningOrderId=function(t){for(var e=localStorage.getItem("oderbookData")&&JSON.parse(localStorage.getItem("oderbookData")),a={},n=0;n<e.length;n++)if(e[n].symboltoken===t&&"STOPLOSS"===e[n].variety){a.orderId=e[n].orderid,a.variety=e[n].variety;break}return a},a.modifyOrderMethod=function(t,e,n){var i=a.getOpenPeningOrderId(t.symboltoken);i.orderId||(t.stopLossPrice=e,t.price=n,t.quantity=Math.abs(t.netqty),"CE"==t.optiontype||"PE"==t.optiontype?t.transactiontype="BUY":t.transactiontype=t.netqty>0?"BUY":"SELL",a.placeSLMOrder(t));var r={variety:i.variety,orderid:i.orderId,ordertype:"STOPLOSS_MARKET",producttype:t.producttype,duration:"DAY",price:n?parseFloat(n):0,triggerprice:parseFloat(e),quantity:Math.abs(t.netqty),tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(r).then(function(a){var n=z(a,"noPop"),i=new SpeechSynthesisUtterance;n.status&&"SUCCESS"===n.message&&(i.text=t.symbolname+" trailed ".toLocaleLowerCase(),window.speechSynthesis.speak(i),localStorage.setItem("firstTimeModify"+t.tradingsymbol,"No"),localStorage.setItem("lastTriggerprice_"+t.tradingsymbol,parseFloat(e)),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},a.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},a.get2DecimalNumber=function(t){return(t=parseFloat(t))?t.toFixed(2):t},a.getSLAndTriggerPrice=function(t){var e=a.getMinPriceAllowTick(t),n=e-1*e/100;return{minTriggerPrice:e,minSLPrice:n=a.getMinPriceAllowTick(n)}},a.getOptionPercentage=function(t){var e=0,n=0;if(t.buyavgprice=parseFloat(t.buyavgprice),e=100*(t.ltp-t.buyavgprice)/t.buyavgprice,"true"==localStorage.getItem("isTrailing"))if(!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e>=a.state.firstTimeMoveOption){var i=t.buyavgprice+t.buyavgprice*a.state.firstTimeSLMoveOption/100,r=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=r.minTriggerPrice&&a.modifyOrderMethod(t,r.minTriggerPrice,r.minSLPrice)}else{var l=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)),o=100*(t.ltp-l)/l;if(n=o,o>=a.state.nextTimeMoveOption){i=l+l*a.state.nextTimeSLMoveOption/100;var s=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=s.minTriggerPrice&&a.modifyOrderMethod(t,s.minTriggerPrice,s.minSLPrice)}}return n?e.toFixed(2)+"% | Trailing "+n.toFixed(2)+"%":e.toFixed(2)+"%"},a.getPercentage=function(t){var e=0,n=0;if(t.netqty>0)if(t.buyavgprice=parseFloat(t.buyavgprice),e=100*(t.ltp-t.buyavgprice)/t.buyavgprice,!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e>=a.state.firstTimeMove){var i=t.buyavgprice+t.buyavgprice*a.state.firstTimeSLMove/100;i=a.getMinPriceAllowTick(i),localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=i&&a.modifyOrderMethod(t,i)}else{var r=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol));n=l=100*(t.ltp-r)/r,l>=a.state.nextTimeMove&&(i=r+r*a.state.nextTimeSLMove/100,i=a.getMinPriceAllowTick(i),localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=i&&a.modifyOrderMethod(t,i))}if(t.netqty<0)if(t.sellavgprice=parseFloat(t.sellavgprice),e=100*(t.ltp-t.sellavgprice)/t.sellavgprice,!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e<=-Math.abs(a.state.firstTimeMove)){i=t.sellavgprice-t.sellavgprice*a.state.firstTimeSLMove/100;i=a.getMinPriceAllowTick(i),a.modifyOrderMethod(t,i)}else{var l;r=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol));n=l=100*(t.ltp-r)/r,console.log("perchngfromTriggerPrice",t.tradingsymbol,l),l<=-Math.abs(a.state.nextTimeMove)&&(i=r-r*a.state.nextTimeSLMove/100,i=a.getMinPriceAllowTick(i),a.modifyOrderMethod(t,i))}return n?e.toFixed(2)+"% | Trailing "+n.toFixed(2)+"%":e.toFixed(2)+"%"},a.state={positionList:[],autoSearchList:[],InstrumentLTP:{},autoSearchTemp:[],foundPatternList:[],symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"DELIVERY",nr4TotalPer:0,pnlAmountTotal:0,totalNetProfit:0,totelActivatedCount:0,totalBrokerChargesNR4:0,stockTesting:"",perHighLowTotal:0,netPnLAmountOnHighlowTotal:0,firstTimeMove:.6,firstTimeSLMove:.5,nextTimeMove:.6,nextTimeSLMove:.3,firstTimeMoveOption:10,firstTimeSLMoveOption:5,nextTimeMoveOption:10,nextTimeSLMoveOption:5,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],enableSLMOrderUi:!1,addSLInfo:{},activeStockOptions:localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],liveBankniftyLtdData:""},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.updateOrderList();var e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(e,a)){this.setState({positionInterval:setInterval(function(){t.getPositionData()},1e3)}),this.setState({bankNiftyInterval:setInterval(function(){t.getBankNiftyLTP()},1e3)});this.state.activeStockOptions.length>10&&110*this.state.activeStockOptions.length;var i=setInterval(function(){var e=ce("3:14pm","h:mma"),a=ce("3:15pm","h:mma");ce(new Date,"h:mma").isBetween(e,a)&&t.state.positionList.forEach(function(e,a){(e.netqty>0||e.netqty<0)&&t.squareOff(e),t.state.positionList.length==a+1&&(clearInterval(i),console.log("squireInterval ended"))})},5e3)}else clearInterval(this.state.positionInterval)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(Ma,{getBankNiftyLiveLtp:this.getBankNiftyLiveLtp}),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{style:{padding:"5px"},justify:"space-between",direction:"row",container:!0},i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},i.a.createElement("span",{id:"bankniftySpid"},"Banknifty "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h3"},i.a.createElement("b",{style:{color:"red"}},"Expn: ",this.state.totalExpence," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h3"},i.a.createElement("b",null,"  P/L: ")," ",i.a.createElement("b",{style:{color:this.state.todayProfitPnL>0?"green":"red"}},this.state.todayProfitPnL," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(R.a,{component:"h3"},i.a.createElement("b",null," Net P/L: ")," ",i.a.createElement("b",{style:{color:this.state.todayProfitPnL-this.state.totalExpence>0?"green":"red"}},this.state.totalExpence?(this.state.todayProfitPnL-this.state.totalExpence).toFixed(2):""," "))),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getPositionData()}},"Refresh")),i.a.createElement(F.a,{item:!0},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getHighLowPercentage()}},i.a.createElement(Ra.a,null)," H/L"))),i.a.createElement(F.a,{style:{padding:"5px"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap",backgroundColor:""},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"T. Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Stoploss"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Target"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"BuyAvg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SellAvg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"QT"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"NetQty"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Exp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"SL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"MD"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"P/L "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Chng % "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"LTP"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Action"),this.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Qty Cpl"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CExp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"CNet")):"",this.state.showHighLowWisePer?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Low")):"")),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.positionList?this.state.positionList.map(function(e){return"DELIVERY1"!==e.producttype?i.a.createElement(Gt.a,{hover:!0,key:e.symboltoken,style:{background:"0"!==e.netqty?"lightgray":""}},i.a.createElement(Xt.a,{align:"left"},i.a.createElement(R.a,{title:e.tradingsymbol,style:{color:100*(e.ltp-e.close)/e.close>0?"green":"red"},size:"small",variant:"contained",onClick:function(){return t.refreshCandleChartManually(e)}},e.tradingsymbol.substr(16))),i.a.createElement(Xt.a,{align:"left"},e.optionStockStoploss||e.netqty>0?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:e.optionStockStoploss,name:e.tradingsymbol,onChange:t.optionStockStoplossChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.optionStockTarget||e.netqty>0?i.a.createElement("input",{step:"1",style:{width:"40%",textAlign:"center"},type:"number",value:e.optionStockTarget,name:e.tradingsymbol,onChange:t.optionStockTargetChange}):"-"),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){return t.addSLOrderInfo(e)}}," ",e.totalbuyavgprice," "),"  "),i.a.createElement(Xt.a,{align:"left"},e.totalsellavgprice),i.a.createElement(Xt.a,{align:"left"},e.buyqty||e.sellqty),i.a.createElement(Xt.a,{align:"left"},e.netqty),i.a.createElement(Xt.a,{style:{cursor:"help"},title:e.expenceInfo,align:"left"},e.tradeExpence),i.a.createElement(Xt.a,{align:"left"}," ",e.stopLoss),i.a.createElement(Xt.a,{align:"left"}," ",e.stopLossAmount),i.a.createElement(Xt.a,{align:"left",style:{color:parseFloat(e.pnl)>0?"green":"red"}},i.a.createElement("b",null,e.pnl)),i.a.createElement(Xt.a,{align:"left"},"0"!==e.netqty&&""==e.optiontype?t.getPercentage(e):"",("CE"==e.optiontype||"PE"==e.optiontype)&&e.netqty>0?t.getOptionPercentage(e):"",e.percentPnL?e.percentPnL+"%":""),i.a.createElement(Xt.a,{align:"left"},e.ltp),i.a.createElement(Xt.a,{align:"left"},"0"!==e.netqty?i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"Secondary",onClick:function(){return t.squareOff(e)}},"Square Off"):""),t.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},i.a.createElement("i",{title:"Buy value:"+e.totalbuyvalue+" | Sell value:"+e.totalsellvalue},"  ",e.checkQty)," \xa0 ",e.checkAmount," "),i.a.createElement(Xt.a,{align:"left",title:e.checkExpence&&e.checkExpence.expenceInfo},"  ",e.checkExpence&&e.checkExpence.tradeExpence&&e.checkExpence.tradeExpence.toFixed(2)),i.a.createElement(Xt.a,{align:"left"},e.checkNet&&e.checkNet.toFixed(2))):"",t.state.showHighLowWisePer?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{align:"left"},e.high),i.a.createElement(Xt.a,{align:"left"},e.low)):""):""}):"",i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold",backgroundColor:""}},i.a.createElement(Xt.a,{className:"TableHeadFormat",colSpan:6,align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalMaxPnL),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left",style:{color:parseFloat(this.state.todayProfitPnL)>0?"green":"red"}},this.state.todayProfitPnL," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalPercentage&&this.state.totalPercentage.toFixed(2)+"%"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),this.state.checkAmount?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totCheckAmount),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totCheckExp),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.checkTotalNet)):"",i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"})),this.state.enableSLMOrderUi?i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{className:"TableHeadFormat",colSpan:15,align:"center"},"Stoploss \xa0",i.a.createElement("input",{placeholder:"Symbol",name:"tradingsymbol",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.tradingsymbol,style:{width:"200px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Price",name:"stopLossPrice",type:"number",step:"0.1",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.stopLossPrice,style:{width:"100px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Trigger Price",name:"stopLossTriggerPrice",step:"0.1",type:"number",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.price,style:{width:"100px",textAlign:"center"}}),"\xa0 ",i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",onClick:function(){return t.placeSLMOrderManually()}},"Place SL"))):"")),i.a.createElement("hr",null),i.a.createElement(F.a,{style:{padding:"5px",background:"lightgray"},justify:"space-between",direction:"row",container:!0},i.a.createElement(F.a,null,"Stoploss Trail Setting: Stock \xa0 F.Move",i.a.createElement("input",{name:"firstTimeMove",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.firstTimeMove,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"firstTimeSLMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.firstTimeSLMove,style:{width:"30px",textAlign:"center"}}),"\xa0Next ",i.a.createElement("input",{name:"nextTimeMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeMove,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"nextTimeSLMove",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeSLMove,style:{width:"30px",textAlign:"center"}})),i.a.createElement(F.a,null,i.a.createElement(vn,null)),i.a.createElement(F.a,null,"Option Trail%: F.Move",i.a.createElement("input",{name:"firstTimeMoveOption",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.firstTimeMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"firstTimeSLMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.firstTimeSLMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0Next ",i.a.createElement("input",{name:"nextTimeMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeMoveOption,style:{width:"30px",textAlign:"center"}}),"\xa0SL Move",i.a.createElement("input",{name:"nextTimeSLMoveOption",step:"0.1",type:"number",onChange:this.onTrailChange,value:this.state.nextTimeSLMoveOption,style:{width:"30px",textAlign:"center"}}))))),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{width:"90%",height:"100%",overflow:"auto"}},i.a.createElement(mn,{LiveLtp:this.state.liveBankniftyLtdData})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(Fa,null)))))}}]),e}(i.a.Component),dn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){a.setState({totalPoint:0});localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"));O.getOrderListShoonya().then(function(t){var e=t.data;a.setState({oderbookData:e}),localStorage.setItem("oderbookData",JSON.stringify(e)),a.props.refreshOrderbookFlagOff();var n=localStorage.getItem("livebnPriceSecondbySecond")?JSON.parse(localStorage.getItem("livebnPriceSecondbySecond")):[];a.state.oderbookData.length&&a.state.oderbookData.forEach(function(t){var e=n.filter(function(e){return e.t==t.norentm});e.length&&(t.spot_price=e[0].iv)}),a.setState({oderbookData:a.state.oderbookData},function(){this.getEarnLossDiffPoints()})})},a.getEarnLossDiffPoints=function(){var t="",e=0,n=0,i=0,r=0,l=0;a.setState({totalPnl:0});for(var o=a.state.oderbookData.length-1;o>=0;o--){var s=a.state.oderbookData[o];if("COMPLETE"===s.status&&"B"===s.trantype){t=s.tsym,e=parseFloat(s.spot_price),i=s.avgprc;for(var c=s.dname&&s.dname.trim().split(" ")[3],m=o;m>=0;m--){var u=a.state.oderbookData[m];if(u.tsym===t&&"COMPLETE"===u.status&&"S"===u.trantype){n=parseFloat(u.spot_price),r=u.avgprc;break}}if("CE"===c){var v=n-e;s.point=v.toFixed(2),a.setState({totalPoint:v?a.state.totalPoint+=v:a.state.totalPoint})}if("PE"===c){var g=e-n;s.point=g.toFixed(2),a.setState({totalPoint:g?a.state.totalPoint+=g:a.state.totalPoint})}var d=(parseFloat(r)-parseFloat(i))*parseFloat(s.qty),h=100*(parseFloat(r)-parseFloat(i))/parseFloat(i);l+=d,s.pnl=d.toFixed(2)+" ("+h.toFixed(2)+"%)"}}a.setState({oderbookData:a.state.oderbookData,totalPnl:l},function(){})},a.cancelOrderOfSame=function(t,e){var n={variety:e,orderid:t};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&a.getTodayOrder()})},a.modifyOrder=function(t,e){var n={variety:t.variety,orderid:t.orderid,ordertype:0!==a.state.price?"STOPLOSS_LIMIT":"STOPLOSS_MARKET",producttype:t.producttype,duration:t.duration,price:a.state.price,triggerprice:e||a.state.triggerprice,quantity:t.quantity,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(a.setState({triggerprice:0}),a.getTodayOrder())})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChangePriceStopLoss=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceStopLoss=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.onChangePriceTarget=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceTarget=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.state={oderbookData:localStorage.getItem("oderbookData")&&JSON.parse(localStorage.getItem("oderbookData"))||[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,totalPoint:0,totalPnl:0,trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.getTodayOrder()}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"Shoonya Oderbook (",this.state.oderbookData.length||0,")")),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{id:"orderRefresh",type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getEarnLossDiffPoints()}},"Refresh Points")),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{id:"orderRefresh",type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getTodayOrder()}},"Refresh Orderbook"))),i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"20px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Sr.No")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Update time")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Trading Symbol")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Order Type")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Qty "),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,i.a.createElement(M.a,{onClick:this.state.oderbookData.length&&this.state.oderbookData.sort(function(t,e){return t.status<e.status?-1:t.status>e.status?1:0})}," Status ")," "),"\xa0"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Spot Price")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"AvgPrice"),"\xa0"),i.a.createElement(Xt.a,{align:"center",title:"Point earn or loss"},i.a.createElement("b",null,"Point(",this.state.totalPoint.toFixed(2),")")),i.a.createElement(Xt.a,{align:"center",title:"pnl"},i.a.createElement("b",null,"PnL(",this.state.totalPnl.toFixed(2),")")))),i.a.createElement(Zt.a,null,this.state.oderbookData.length?this.state.oderbookData.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},i.a.createElement(Xt.a,{align:"center"},e+1),i.a.createElement(Xt.a,{align:"center"},t.exch_tm||t.norentm),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return navigator.clipboard.writeText(t.dname)}},t.dname)),i.a.createElement(Xt.a,{align:"center"},"B"==t.trantype?i.a.createElement("span",{style:{color:"green"}},"BUY "):i.a.createElement("span",{style:{color:"red"}},"SELL")),i.a.createElement(Xt.a,{align:"center"},t.qty),i.a.createElement(Xt.a,{title:t.rejreason,align:"center"},i.a.createElement(M.a,{style:{color:"REJECTED"==t.status?"RED":""},title:t.rejreason,onClick:function(){return navigator.clipboard.writeText(t.dname)}},t.status)),i.a.createElement(Xt.a,{align:"center"},t.spot_price),i.a.createElement(Xt.a,{align:"center"},t.avgprc),i.a.createElement(Xt.a,{align:"center"},t.point),i.a.createElement(Xt.a,{align:"center"},t.pnl))}):"No Order found"))))))}}]),e}(i.a.Component),hn=function(t){t.LiveLtp;var e=Object(n.useState)([]),a=Object(X.a)(e,2),r=a[0],l=a[1];Object(n.useEffect)(function(){var t=setInterval(function(){},1e4);return function(){clearInterval(t)}},[]),Object(n.useEffect)(function(){r.forEach(function(t){t.highAlert=s(t),s(t)&&o("".concat(t.symname," higher high")),t.lowAlert=c(t),c(t)&&o("".concat(t.symname," lower low"))}),l(r),localStorage.setItem("bnComponents",JSON.stringify(r))},[r]);var o=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toLowerCase(),window.speechSynthesis.speak(e)},s=function(t){var e=(localStorage.getItem("bnComponents")?JSON.parse(localStorage.getItem("bnComponents")):[]).filter(function(e){return e.symname==t.symname});return!!(e.length&&t.h>e[0].h)&&(console.log("found",e,t.h,e[0].h),!0)},c=function(t){var e=r.filter(function(e){return e.symname==t.symname});return!!(e.length&&t.l<e[0].l)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px"}},i.a.createElement(R.a,{color:"primary",style:{textAlign:"center"},gutterBottom:!0},i.a.createElement(M.a,null,"  ",i.a.createElement("a",{target:"_blank",href:"/mtrade/#/strong-charts"}," Banknifty Components  ")," "),i.a.createElement(M.a,{variant:"contained",onClick:function(){O.get_banknifty_components().then(function(t){var e=t.data;e.forEach(function(t){var e=(100*(parseFloat(t.lp)-parseFloat(t.c))/parseFloat(t.c)).toFixed(2),a=(parseFloat(t.lp)-parseFloat(t.c)).toFixed(2),n=parseFloat(t.h)-parseFloat(t.l),i=(100*(parseFloat(t.lp)-parseFloat(t.l))/n).toFixed(2);t.strongPer=i,t.weekPer=(100-i).toFixed(2),t.changePer=e,t.changeAmount=a,"HDFCBANK"==t.symname&&(t.indexContribution=(26*e/100).toFixed(2))}),l(e),localStorage.setItem("bnComponents",JSON.stringify(e))})}},"Refresh")),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Ltp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Index Con."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"High-to-Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Seller"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Emotions"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Buyer"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Open"),i.a.createElement(Xt.a,{title:"Previous closed",className:"TableHeadFormat",align:"left"},"Closed"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Volume"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Time"))),i.a.createElement(Zt.a,{id:"tableAdd",style:{width:"",whiteSpace:"nowrap"}},r.length?r.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0},i.a.createElement(Xt.a,{style:{color:t.changePer>0?"green":"red",fontWeight:t.highAlert?"bold":t.lowAlert?"bold":""},align:"left"},t.symname),i.a.createElement(Xt.a,{style:{color:t.changePer>0?"green":"red",fontWeight:t.highAlert?"bold":t.lowAlert?"bold":""},align:"left"},t.lp,"(",t.changePer||0,"%) ",t.changeAmount),i.a.createElement(Xt.a,{align:"left"}," ",t.indexContribution),i.a.createElement(Xt.a,{title:t.symname,style:{background:t.highAlert?"green":""},align:"left"},t.h,t.highAlert),i.a.createElement(Xt.a,{title:t.symname,style:{background:t.lowAlert?"red":""},align:"left"},t.l,t.lowAlert),i.a.createElement(Xt.a,{title:t.symname,align:"left"},(t.h-t.l).toFixed(2)),i.a.createElement(Xt.a,{title:t.symname,style:{color:t.weekPer>75?"red":"",fontWeight:t.weekPer>75?"bold":""},align:"left"},t.weekPer,"%"),i.a.createElement(Xt.a,{style:{width:"20%"},align:"left"},i.a.createElement("progress",{style:{width:"95%"},id:"file",value:t.strongPer,title:"".concat(t.symname," ").concat(t.strongPer,"% buyer"),max:"100"}," ",t.strongPer||0,"% ")),i.a.createElement(Xt.a,{title:t.symname,style:{color:t.strongPer>75?"green":"",fontWeight:t.strongPer>75?"bold":""},align:"left"},t.strongPer,"%"),i.a.createElement(Xt.a,{align:"left"},t.o),i.a.createElement(Xt.a,{align:"left"},t.c),i.a.createElement(Xt.a,{align:"left"},t.v),i.a.createElement(Xt.a,{align:"left"},t.request_time.substring(0,8)))}):""))))},pn={PaperProps:{style:{maxHeight:224,width:250}}},fn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChangeSelectSymbol=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.loadPackList()})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.filterOptionChain(t.target.name,t.target.value)})},a.filterOptionChain=function(t,e){var n=[],i=a.state.optionChainDataBN&&a.state.optionChainDataBN.records&&a.state.optionChainDataBN.records.data;if("expiry"===t&&"All"===e&&(n=i),"expiry"===t)for(var r=0;r<i.length;r++){var l=i[r];l.expiryDate===e&&n.push(l)}if("strike"===t)for(var o=0;o<i.length;o++){var s=i[o];s.strikePrice===e&&n.push(s)}a.setState({filtered:n,FilteredBY:t+" "+e})},a.handleScroll=function(t){var e=a.state.scrollcount;a.setState({scrollcount:e+=1})},a.onChangeCallLot=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.calculateCallMargin()})},a.calculateCallMargin=function(t){a.state.filtered&&a.state.filtered.forEach(function(t){t.CE&&t.CE.lastPrice&&(t.CE.totalMargin=Object(ia.a)((t.CE.lastPrice*a.state.buyCallLot*a.state.lotSize).toFixed(2)),t.CE.maxLoss=Object(ia.a)(" SL 10%: <br /><b style='color:red'>"+(t.CE.lastPrice*a.state.buyCallLot*a.state.lotSize*10/100).toFixed(2)+"</b>"))}),a.setState({filtered:a.state.filtered})},a.onChangePutLot=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.calculatePutMargin()})},a.calculatePutMargin=function(t){a.state.filtered&&a.state.filtered.forEach(function(t){t.PE&&t.PE.lastPrice&&(t.PE.totalMargin=Object(ia.a)((t.PE.lastPrice*a.state.buyPutLot*a.state.lotSize).toFixed(2)),t.PE.maxLoss=Object(ia.a)(" SL 10%: <br /><b style='color:red'>"+(t.PE.lastPrice*a.state.buyPutLot*a.state.lotSize*10/100).toFixed(2)+"</b>"))}),a.setState({filtered:a.state.filtered})},a.getDataforStrike=function(t){for(var e=JSON.parse(localStorage.getItem("optionChainDataBN")).records&&JSON.parse(localStorage.getItem("optionChainDataBN")).records.data,a=0,n=0,i=0;i<e.length;i++){var r=e[i];t===r.strikePrice&&(r.CE&&r.CE.openInterest&&(a+=r.CE.openInterest),r.PE&&r.PE.openInterest&&(n+=r.PE.openInterest))}return{strikePrice:t,sumOfCEoi:a,sumOfPEoi:n}},a.findSupportResistence=function(t){var e=t&&t.records&&t.records.data,n=0,i=0,r=0,l=0;if(e)for(var o=0;o<e.length;o++){var s=e[o];s&&s.PE&&(n+=s.PE.openInterest,r+=s.PE.changeinOpenInterest),s&&s.CE&&(i+=s.CE.openInterest,l+=s.CE.changeinOpenInterest)}var c=[],m=a.state.underlyingValue-a.state.showOptionDownside,u=Math.round(m)%100,v=Math.round(m)+100-u,g=a.state.underlyingValue+a.state.showOptionUpside,d=Math.round(g)%100,h=Math.round(g)+100-d;console.log(a.state.underlyingValue,"start from",v,"endto",h);for(var p=v;p<=h;p+=100)c.push(p);c=c.sort(function(t,e){return e-t});var f=[],y=0,b=0;c.forEach(function(t){var e=a.getDataforStrike(t);y+=e.sumOfPEoi,b+=e.sumOfCEoi,f.push(e),console.log(t,e)}),a.setState({AllspTotalOI:f,selectedSPpcr:(y/b).toFixed(3),totalspeoi:y,totalsceoi:b}),a.setState({CEoi:i,PEoi:n,allStrikediff:n-i,CEoiChange:l,PEoiChange:r,allStrikeChngeDiff:r-l})},a.state={products:[],stopnview:"",curnewdata:"",showOptionUpside:800,showOptionDownside:800,timestamp:"",totalCOI:0,expiry:"",strike:"",FilteredBY:"",AllspTotalOI:[],PEoi:0,CEoi:0,waitForChainFlag:!0,scrollcount:0,pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN"))&&JSON.parse(localStorage.getItem("pcrTableBN")).data,optionChainDataBN:JSON.parse(localStorage.getItem("optionChainDataBN")),filtered:JSON.parse(localStorage.getItem("optionChainDataBN"))&&JSON.parse(localStorage.getItem("optionChainDataBN")).filtered&&JSON.parse(localStorage.getItem("optionChainDataBN")).filtered.data,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"Securities in F&O",selectOptionStock:"BANKNIFTY",underlyingValue:JSON.parse(localStorage.getItem("optionChainDataBN"))&&JSON.parse(localStorage.getItem("optionChainDataBN")).records&&JSON.parse(localStorage.getItem("optionChainDataBN")).records.underlyingValue,buyCallLot:1,buyPutLot:1,niftyLogSize:50,niftybankLogSize:25},a.findSupportResistence=a.findSupportResistence.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({SecuritiesInFO:this.state.staticData[this.state.selectedWatchlist]},function(){}),JSON.parse(localStorage.getItem("optionDiffdata"+this.state.selectOptionStock))?this.setState({products:JSON.parse(localStorage.getItem("optionDiffdata"+this.state.selectOptionStock)).data}):localStorage.setItem("optionDiffdata"+this.state.selectOptionStock,JSON.stringify({data:[]})),JSON.parse(localStorage.getItem("pcrTableBN"))?this.setState({pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN")).data}):localStorage.setItem("pcrTableBN",JSON.stringify({data:[]}));var e=new Date;e.getHours()>=9&&e.getHours()<16&&setInterval(function(){t.loadPackList()},3e5);var a=25;"NIFTY"==this.state.selectOptionStock&&(a=50),"BANKNIFTY"==this.state.selectOptionStock&&(a=25),this.setState({lotSize:a},function(){this.calculateCallMargin(),this.calculatePutMargin()})}},{key:"loadPackList",value:function(){var t=this;this.setState({waitForChainFlag:!1}),O.getOptionChainShoonya(this.state.selectOptionStock).then(function(e){var a=e.data&&e.data;if(localStorage.setItem("optionChainDataBN",JSON.stringify(a)),t.setState({filtered:a.filtered&&a.filtered.data,optionChainDataBN:a}),a.filtered){var n=a.filtered.PE.totOI-a.filtered.CE.totOI,i={localTime:(new Date).getTime(),dateTime:t.dateFormat(a.records.timestamp),totCEOI:a.filtered.CE.totOI,changePCR:parseFloat(localStorage.getItem("changePCR")),totCEVol:a.filtered.CE.totVol,totPEOI:a.filtered.PE.totOI,totPEVol:a.filtered.PE.totVol,diff:n,totChangeINOICall:parseInt(localStorage.getItem("totCEOIChange")),totChangeINOIPut:parseInt(localStorage.getItem("totPEOIChange")),totChangeINOIDiff:parseInt(localStorage.getItem("totPEOIChange"))-parseInt(localStorage.getItem("totCEOIChange"))};t.setState({curnewdata:i}),document.getElementById("title").innerHTML=(n/1e5).toFixed(2)+"|"+((localStorage.getItem("totPEOIChange")-localStorage.getItem("totCEOIChange"))/1e5).toFixed(2)+"L "+t.state.selectOptionStock;var r=JSON.parse(localStorage.getItem("optionDiffdata"+t.state.selectOptionStock));if(console.log("oldproducts",r),r){var l=r&&r.data[r.data.length-1];l?(i.isDuplicate=i.diff===l.diff,i.totCEOIChange=(100*(i.totCEOI-l.totCEOI)/l.totCEOI).toFixed(3),i.totPEOIChange=(100*(i.totPEOI-l.totPEOI)/l.totPEOI).toFixed(3),i.totDiffChange=(100*(i.diff-l.diff)/l.diff).toFixed(3),i.changeDiffPer=(100*(i.changePCR-l.changePCR)/l.changePCR).toFixed(3),i.changeOICallper=(100*(i.totChangeINOICall-l.totChangeINOICall)/l.totChangeINOICall).toFixed(3),i.changeOIPutper=(100*(i.totChangeINOIPut-l.totChangeINOIPut)/l.totChangeINOIPut).toFixed(3)):(i.isDuplicate=!1,i.totCEOIChange=0,i.totPEOIChange=0,i.totDiffChange=0),a.records&&(r.timestamp=a.records.timestamp,r.underlyingValue=a.records.underlyingValue),r.data.push(i),r.data.sort(function(t,e){return t.localTime-e.localTime}),localStorage.setItem("optionDiffdata"+t.state.selectOptionStock,JSON.stringify(r)),t.setState({products:r.data,underlyingValue:a.records.underlyingValue,timestamp:a.records.timestamp}),t.setState({waitForChainFlag:!0})}t.updatepcr(),t.setState({pcrTableBN:JSON.parse(localStorage.getItem("pcrTableBN"))&&JSON.parse(localStorage.getItem("pcrTableBN")).data})}})}},{key:"updatepcr",value:function(){var t={allPCR:(this.state.PEoi/this.state.CEoi).toFixed(3),expiryPCR:localStorage.getItem("thisWeekPCR"),selectedSPpcr:localStorage.getItem("changePCR"),time:(new Date).toLocaleTimeString()};if(JSON.parse(localStorage.getItem("pcrTableBN"))){var e=JSON.parse(localStorage.getItem("pcrTableBN"));e.data.unshift(t),localStorage.setItem("pcrTableBN",JSON.stringify(e))}console.log(t),this.setState({pcrTableBN:e})}},{key:"dateFormat",value:function(t){return ce(t).format("h:mm:ss A")}},{key:"render",value:function(){var t,e=this,a=0,n=0,r=0,l=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:yn.selectStyle},i.a.createElement(N.a,{id:"selectOptionStock"},"Select Symbol"),i.a.createElement(Oe.a,{id:"selectOptionStock",name:"selectOptionStock",value:this.state.selectOptionStock,onChange:this.onChangeSelectSymbol,input:i.a.createElement(na.a,null),MenuProps:pn},i.a.createElement(De.a,{key:"NIFTY",value:"NIFTY"}," ","NIFTY"),i.a.createElement(De.a,{key:"BANKNIFTY",value:"BANKNIFTY"}," ","BANKNIFTY"),this.state.SecuritiesInFO&&this.state.SecuritiesInFO.length?this.state.SecuritiesInFO.map(function(t,e){return i.a.createElement(De.a,{key:t.name,value:t.name},t.name)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:yn.selectStyle},i.a.createElement(N.a,{id:"expiry"},"Select Expiry Date"),i.a.createElement(Oe.a,{id:"expiry",name:"expiry",value:this.state.expiry,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:pn},i.a.createElement(De.a,{key:"All",value:"All"},"All"),this.state.optionChainDataBN&&this.state.optionChainDataBN.records&&this.state.optionChainDataBN.records.expiryDates?this.state.optionChainDataBN.records.expiryDates.map(function(t,e){return i.a.createElement(De.a,{key:t+"key"+e,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:yn.selectStyle},i.a.createElement(N.a,{id:"strike"},"Select Strick Price"),i.a.createElement(Oe.a,{labelId:"strike",id:"strike","max-height":"100%",name:"strike",value:this.state.strike,onChange:this.onChange,input:i.a.createElement(na.a,null),MenuProps:pn},this.state.optionChainDataBN&&this.state.optionChainDataBN.records&&this.state.optionChainDataBN.records.strikePrices?this.state.optionChainDataBN.records.strikePrices.map(function(t){return i.a.createElement(De.a,{key:t,value:t},t)}):""))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},this.state.waitForChainFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return e.loadPackList()}},"Refesh"):i.a.createElement(pe.a,null))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px",overflow:"auto"}},i.a.createElement(F.a,Object(f.a)({container:!0,spacing:3,direction:"row",alignItems:"center"},"container",!0),i.a.createElement(F.a,{item:!0,xs:3,sm:3},i.a.createElement("span",null," ",i.a.createElement("b",null,"Total ")),i.a.createElement("span",null," PE OI: ",i.a.createElement("b",null," ",(this.state.PEoi/1e5).toFixed(3),"L")),i.a.createElement("span",null," CE OI: ",i.a.createElement("b",null,(this.state.CEoi/1e5).toFixed(3),"L")),i.a.createElement("span",null," PE-CE: ",this.state.allStrikediff>0?i.a.createElement("b",{style:{color:"green"}},(this.state.allStrikediff/1e5).toFixed(3),"L"):i.a.createElement("b",{style:{color:"red"}},(this.state.allStrikediff/1e5).toFixed(3),"L"))),i.a.createElement(F.a,{item:!0,xs:3,sm:5},i.a.createElement("span",null," ",i.a.createElement("b",null,"Total Chng ")),i.a.createElement("span",null," PE OI: ",i.a.createElement("b",null,(this.state.PEoiChange/1e5).toFixed(3),"L")),i.a.createElement("span",null," CE OI: ",i.a.createElement("b",null,(this.state.CEoiChange/1e5).toFixed(3),"L")),i.a.createElement("span",null," PE-CE: ",this.state.allStrikeChngeDiff>0?i.a.createElement("b",{style:{color:"green"}},(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L"):i.a.createElement("b",{style:{color:"red"}}," ",(this.state.allStrikeChngeDiff/1e5).toFixed(3),"L"))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement("span",null,"ALL PCR: ",i.a.createElement("b",null,(this.state.PEoi/this.state.CEoi).toFixed(3)," "))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement("span",null,"Expire Week PCR: ",i.a.createElement("b",null,localStorage.getItem("thisWeekPCR")," ")))))),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:0},i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflow:"auto"}},i.a.createElement(ra,{diffData:{data:this.state.products,scrollcount:this.state.scrollcount}})),i.a.createElement(F.a,{id:"tabledatachart",item:!0,xs:12,sm:12,style:{overflow:"auto",height:"150px"}},i.a.createElement(Kt.a,{id:"tabledata",stickyHeader:!0,"aria-label":"sticky table",size:"small"},i.a.createElement(Le.a,{key:2222,variant:"head",style:{width:"",whiteSpace:"nowrap"}},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"NSE Time")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Call OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng Put OI")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng PUT-Call")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Change PCR")))),i.a.createElement(Zt.a,{hover:!0,style:{width:"",whiteSpace:"nowrap"}},this.state.products?this.state.products.map(function(t){return i.a.createElement(Gt.a,{key:t.dateTime,style:{background:t.isDuplicate?"lightgray":""}},i.a.createElement(Xt.a,{align:"center"},t.dateTime),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOICall,"  "),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIPut," "),i.a.createElement(Xt.a,{align:"center"},t.totChangeINOIDiff," (",(t.totChangeINOIDiff/1e5).toFixed(2),"L)"),i.a.createElement(Xt.a,{align:"center"},t.changePCR,"   "))}):i.a.createElement(pe.a,null)))),i.a.createElement(F.a,{item:!0,xs:6,sm:6,style:{display:"none",overflow:"auto",height:"250px"}},i.a.createElement(Kt.a,(t={id:"tabledata",stickyHeader:!0,"aria-label":"sticky table"},Object(f.a)(t,"id","tabledata"),Object(f.a)(t,"size","small"),t),i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},"Time"),i.a.createElement(Xt.a,{align:"center"},"ALL Pcr"),i.a.createElement(Xt.a,{align:"center"},"Expiry Pcr "),i.a.createElement(Xt.a,{align:"center"},"Selected Pcr"))),i.a.createElement(Zt.a,{style:{whiteSpace:"nowrap"}},this.state.pcrTableBN&&this.state.pcrTableBN.length>0&&this.state.pcrTableBN?this.state.pcrTableBN.map(function(t){return i.a.createElement(Gt.a,{hover:!0,key:t.expiryPCR},i.a.createElement(Xt.a,{align:"center"},t.time," "),i.a.createElement(Xt.a,{align:"center"},t.allPCR," "),i.a.createElement(Xt.a,{align:"center"},t.expiryPCR),i.a.createElement(Xt.a,{align:"center"},t.selectedSPpcr," "))}):""))),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{padding:"2px",overflow:"auto",height:"900px"}},i.a.createElement(Kt.a,{stickyHeader:!0,"aria-label":"sticky table",id:"tabledata",size:"small"},i.a.createElement(Le.a,{variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"CALL")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null)),i.a.createElement(Xt.a,{colSpan:6,align:"center"},i.a.createElement("b",null,"PUT"))),i.a.createElement(Gt.a,{variant:"head",style:{width:"",whiteSpace:"nowrap"}},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI Total OI ",i.a.createElement("br",null),localStorage.getItem("totCEOI"),"(",(localStorage.getItem("totCEOI")/1e5).toFixed(3),"L) ")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totCEOIChange"),"(",(localStorage.getItem("totCEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Lot")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Cost")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Max Loss")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Buy")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," STRIKE PRICE")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," Expiry")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Buy")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Max Loss")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Cost")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Lot")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"CHNG")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"LTP")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Chng in OI ",i.a.createElement("br",null),localStorage.getItem("totPEOIChange"),"(",(localStorage.getItem("totPEOIChange")/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"OI ",i.a.createElement("br",null),localStorage.getItem("totPEOI"),"(",(localStorage.getItem("totPEOI")/1e5).toFixed(3),"L)")))),i.a.createElement(Zt.a,null,this.state.filtered?this.state.filtered.map(function(t,o){return i.a.createElement(Gt.a,{hover:!0,key:o},t&&t.CE&&t.PE&&t.strikePrice>=t.CE.underlyingValue-e.state.showOptionUpside&&t.strikePrice<=t.CE.underlyingValue+e.state.showOptionDownside?i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,Object.assign({},a+=t.CE.openInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.CE.openInterest),i.a.createElement(Xt.a,Object.assign({},n+=t.CE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.CE.changeinOpenInterest),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.CE.lastPrice),"(",t.CE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"):0==t.CE.pChange?i.a.createElement("span",null,t.CE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.CE.pChange.toFixed(2),"%"),") "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},t.CE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement(B.a,{label:"Lot: "+e.state.lotSize,type:"number",style:{width:"50px",textAlign:"center"},value:e.state.buyCallLot,onChange:e.onChangeCallLot,name:"buyCallLot"})),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.CE.totalMargin," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.CE.maxLoss," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice<t.CE.underlyingValue?"#caca5b":""},align:"center"},"  ",i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return e.props.buyOption("CE",e.state.selectOptionStock,t.strikePrice,t.expiryDate,e.state.buyCallLot)}}," Call Buy ")," "),i.a.createElement(Xt.a,{style:{borderLeft:"dashed",borderRight:"dashed",fontWeight:"500"},align:"center"},i.a.createElement("span",null," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return e.filterOptionChain("strike",t.strikePrice)}}," ",t.strikePrice)," ")," "),i.a.createElement(Xt.a,{style:{borderRight:"dashed",whiteSpace:"nowrap"},align:"center"},i.a.createElement("span",{style:{paddingLeft:"5px",paddingRight:"5px"}}," ",i.a.createElement("a",{href:"#",style:{textDecoration:"none"},onClick:function(){return e.filterOptionChain("expiry",t.expiryDate)}}," ",t.expiryDate))," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},"  ",i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return e.props.buyOption("PE",e.state.selectOptionStock,t.strikePrice,t.expiryDate,e.state.buyPutLot)}},"Put Buy ")," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.PE.maxLoss," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}," ",t.PE.totalMargin," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement(B.a,{label:"Lot: "+e.state.lotSize,type:"number",style:{width:"50px",textAlign:"center"},value:e.state.buyPutLot,onChange:e.onChangePutLot,name:"buyPutLot"})),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},t.PE.change.toFixed(2)," "),i.a.createElement(Xt.a,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"},i.a.createElement("span",{style:{color:"#3e85c5",fontWeight:"bold"}}," ",t.PE.lastPrice),"(",t.PE.pChange>0?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"):0==t.PE.pChange?i.a.createElement("span",null,t.PE.pChange.toFixed(2),"%"):i.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},t.PE.pChange.toFixed(2),"%"),")"),i.a.createElement(Xt.a,Object.assign({},l+=t.PE.changeinOpenInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.PE.changeinOpenInterest),i.a.createElement(Xt.a,Object.assign({},r+=t.PE.openInterest,{style:{backgroundColor:t.strikePrice>t.CE.underlyingValue?"#caca5b":""},align:"center"}),t.PE.openInterest," ")):"")}):i.a.createElement(pe.a,null),i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOI",a)),i.a.createElement("b",null,a,i.a.createElement("br",null),"(",(a/1e5).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEOIChange",n)),i.a.createElement("b",null,n,i.a.createElement("br",null),"(",(n/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totCEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,{colSpan:3,align:"center"}),i.a.createElement(Xt.a,Object.assign({},localStorage.setItem("thisWeekPCR",(r/a).toFixed(3)),{align:"center",colSpan:2}),i.a.createElement("b",null," PCR : ",(r/a).toFixed(3))),i.a.createElement(Xt.a,Object.assign({},localStorage.setItem("changePCR",(l/n).toFixed(3)),{align:"center",colSpan:2}),i.a.createElement("b",null," Change PCR : ",(l/n).toFixed(3))),i.a.createElement(Xt.a,{colSpan:5,align:"center"}),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEVol",0)),i.a.createElement("b",null,0,i.a.createElement("br",null),"(",(0).toFixed(3),"L)")),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOIChange",l)),i.a.createElement("b",null,l,i.a.createElement("br",null),"(",(l/1e5).toFixed(3),"L)")," "),i.a.createElement(Xt.a,Object.assign({align:"center"},localStorage.setItem("totPEOI",r)),i.a.createElement("b",null,r,i.a.createElement("br",null),"(",(r/1e5).toFixed(3),"L)")," ")))))))}}]),e}(i.a.Component),yn={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{marginBottom:"0px",minWidth:240,maxWidth:240}},bn=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(fn),Sn=a(236),En=a.n(Sn),kn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).deleteActiveOptionStock=function(t){for(var e=!1,n=0;n<a.state.activeStockOptions.length;n++){var i=a.state.activeStockOptions[n];if(t.name==i.name){a.state.activeStockOptions.splice(n,1)[0].name==t.name&&(e=!0),a.setState({activeStockOptions:a.state.activeStockOptions});break}}return e},a.refreshCandleChartManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=ce("9:15am","h:mma"),i=ce.duration("12:00:00"),ce(new Date).subtract(i),r={exchange:"NSE",symboltoken:e.token,interval:"FIVE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=[];a.data.forEach(function(t){n.push([t[0],t[1],t[2],t[3],t[4]])}),localStorage.setItem("candleChangeShow",(100*(e.ltp-e.close)/e.close).toFixed(2)),localStorage.setItem("candleChartData",JSON.stringify(n)),localStorage.setItem("cadleChartSymbol",e.symbolname),document.getElementById("showCandleChart").click()}else console.log(e.symboltoken,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(e.symboltoken+" candle failed!")});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.showCandleChart=function(t,e){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),document.getElementById("showCandleChart").click()},a.showMultipleCandleChart=function(t){localStorage.setItem("multipleChartData",JSON.stringify(t)),document.getElementById("showMultipleChart").click()},a.refreshLtpOnFoundPattern=Object(lt.a)(it.a.mark(function t(){var e,n,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({nr4TotalPer:0,totalBrokerChargesNR4:0,totalNetProfit:0,totelActivatedCount:0,pnlAmountTotal:0,perHighLowTotal:0,netPnLAmountOnHighlowTotal:0}),e=a.state.foundPatternList,a.setState({foundPatternList:[]}),n=localStorage.getItem("FoundPatternList")?JSON.parse(localStorage.getItem("FoundPatternList")):[],r=it.a.mark(function t(n){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e[n])&&"NR4"==r.pattenName&&(o={exchange:"NSE",tradingsymbol:r.symbol,symboltoken:r.token},O.getLTP(o).then(function(t){var e=z(t,"noPop"),n=e&&e.data,l=0,o=0,s=0,c=.06,m=0,u=0,v=0;if(n&&n.ltp){var g=i.a.createElement("span",null," ",n.ltp," ");if(n.ltp>r.BuyAt)m=100*(n.ltp-r.BuyAt)/r.BuyAt,g=i.a.createElement("span",{style:{color:"green"}}," Long: ",m.toFixed(2),"% "),l=Math.floor(1e4/r.BuyAt),s=(o=(n.ltp-r.BuyAt)*l)-(c=r.BuyAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),u=100*(n.high-r.BuyAt)/r.BuyAt,v=(n.high-r.BuyAt)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});if(n.ltp<r.SellAt)m=100*(r.SellAt-n.ltp)/r.SellAt,g=i.a.createElement("span",{style:{color:"red"}}," Short: ",m.toFixed(2),"%"),l=Math.floor(1e4/r.SellAt),s=(o=(r.SellAt-n.ltp)*l)-(c=r.SellAt*l*c/100*2),a.setState({nr4TotalPer:a.state.nr4TotalPer+m}),a.setState({totelActivatedCount:a.state.totelActivatedCount+1,pnlAmountTotal:a.state.pnlAmountTotal+o}),a.setState({totalBrokerChargesNR4:a.state.totalBrokerChargesNR4+c,totalNetProfit:a.state.totalNetProfit+s}),u=100*(r.SellAt-n.low)/r.SellAt,v=(r.SellAt-n.low)*l-c,a.setState({perHighLowTotal:a.state.perHighLowTotal+u,netPnLAmountOnHighlowTotal:a.state.netPnLAmountOnHighlowTotal+v});var d=100*(n.ltp-n.close)/n.close,h=[new Date,n.open,n.high,n.low,n.ltp];r.candleChartData.push(h);var p={symbol:r.symbol,symbolUpdated:n.ltp+"("+d.toFixed(2)+"%)",token:r.token,pattenName:"NR4",OnHighLowActivated:l?u.toFixed(2)+"% | "+v.toFixed(2):"",time:(new Date).toLocaleTimeString(),BuyAt:r.BuyAt,SellAt:r.SellAt,foundAt:r.foundAt,orderActivated:g,candleChartData:r.candleChartData,quantity:l||"",brokerageCharges:l?c.toFixed(2):"",pnlAmount:o?o.toFixed(2):"",netPnLAmount:s?s.toFixed(2):"",perChange:m,todayChange:d,pastPerferm:r.pastPerferm};console.log("nr4 updated",p),a.setState({foundPatternList:[].concat(Object(rt.a)(a.state.foundPatternList),[p])});var f=a.state.foundPatternList;f.sort(function(t,e){return e.perChange-t.perChange}),a.setState({foundPatternList:f});var y=localStorage.getItem("foundPatternList")?JSON.parse(localStorage.getItem("foundPatternList")):[];y.push(p),localStorage.setItem("foundPatternList",JSON.stringify(y))}}).catch(function(t){q.showError(r.symbol+" ltd data not found!")})),t.next=4,new Promise(function(t){return setTimeout(t,101)});case 4:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<n.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:case"end":return t.stop()}},t)})),a.getStoplossFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);for(var a={},n=0;n<e.length;n++){var i=e[n];if("trigger pending"===i.status&&i.symboltoken===t.symboltoken){t.netqty>0?(a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.buyavgprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2)):t.netqty<0&&(console.log(t.tradingsymbol,"sellage",t.sellavgprice,"trigger",i.triggerprice),a.stopLoss=i.triggerprice+"("+(100*(i.triggerprice-t.sellavgprice)/t.sellavgprice).toFixed(2)+"%)",a.maxLossAmount=((i.triggerprice-t.sellavgprice)*parseInt(t.netqty)).toFixed(2));break}}return a},a.getStoplossForSELLFromOrderbook=function(t){var e=localStorage.getItem("oderbookData");e=JSON.parse(e);var a={};return e.forEach(function(e){"trigger pending"===e.status&&e.symboltoken===t.symboltoken&&(a.stopLoss=e.triggerprice+"("+(100*(t.buyavgprice-e.triggerprice)/t.buyavgprice).toFixed(2)+"%)",a.maxLossAmount=((e.triggerprice-t.buyavgprice)*parseInt(t.netqty)).toFixed(2))}),a},a.tagPatternWhichTaken=function(t){for(var e=localStorage.getItem("orderTagToPosition")&&JSON.parse(localStorage.getItem("orderTagToPosition"))||[],a="",n=0;n<e.length;n++){var i=e[n];if(t==i.token){a=i.pattenName;break}}return a},a.calculateTradeExpence=function(t){var e=parseFloat(t.totalbuyavgprice)*parseInt(t.buyqty);parseFloat(e);var a=0===parseFloat(t.totalsellavgprice)?parseFloat(t.totalbuyavgprice):parseFloat(t.totalsellavgprice);a*=t.sellqty;parseFloat(a);var n=e+a,i=0;var r=.05*a/100,l=.053*n/100,o=.003*e/100,s=10*n/1e7,c=18*(i+l+s)/100,m=i+r+l+s+c+o;return{tradeExpence:m,totalbuyvalue:e,totalsellvalue:a,turnOver:n,expenceInfo:"Brokerage: "+i.toFixed(2)+" \nSTT: "+r.toFixed(2)+" \nTransaction: "+l.toFixed(2)+" \nSebi: "+s.toFixed(2)+"\nStamp Duty:"+o+" \nGST: "+c.toFixed(2)+" \n\nTotal: "+m.toFixed(2)}},a.getPositionData=Object(lt.a)(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:0,0,localStorage.getItem("trackSLPrice")?JSON.parse(localStorage.getItem("trackSLPrice")):[],O.getPositionShoonya().then(function(t){var e=t.data;if(e&&e.length>0){for(var n=0,i=0,r=0,l=0,o=0,s=0,c=[],m=function(t){var m=e[t];if(m.tradingsymbol=m.tsym,m.dname=m.dname,m.ltp=m.lp,m.totalbuyavgprice=m.daybuyavgprc,m.totalsellavgprice=m.daysellavgprc,m.buyqty=m.daybuyqty,m.sellqty=m.daysellqty,m.pnl=(parseFloat(m.urmtom)+parseFloat(m.rpnl)).toFixed(2),c.push(m),0==m.netqty){var u=100*(parseFloat(m.totalsellavgprice)-parseFloat(m.totalbuyavgprice))/parseFloat(m.totalbuyavgprice);m.percentPnL=u.toFixed(2),parseFloat(u),localStorage.removeItem("firstTimeModify"+m.tradingsymbol),localStorage.removeItem("lastTriggerprice_"+m.tradingsymbol)}else console.log("urmtom",m.urmtom,"rpnl ",m.rpnl);if("0.00"!=m.netavgprc){var v=localStorage.getItem(m.tsym);if(0!=v){var g=100*(parseFloat(m.lp)-parseFloat(v))/parseFloat(v);m.percentPnL=g.toFixed(2);var d=(parseFloat(m.lp)-parseFloat(v))*parseInt(m.netqty);m.urmtom=d.toFixed(2),m.netBuyAvg=v,console.log(m.dname,"acutalAvgPrice",v,"actual change ",g,a.state.lossbookPercentage),a.state.profitbookPercentage&&g>=parseFloat(a.state.profitbookPercentage)&&a.squareOff(m,!0,"position profitbookPercentage"),a.state.lossbookPercentage&&g<parseFloat(a.state.lossbookPercentage)&&a.squareOff(m,!0,"position lossbookPercentage")}a.state.profitbookAmount&&parseFloat(m.urmtom)>=parseFloat(a.state.profitbookAmount)&&a.squareOff(m,!0,"position profitbookAmount")}m.pattenName=a.tagPatternWhichTaken(m.symboltoken);var h=a.calculateTradeExpence(m);if(m.tradeExpence=h.tradeExpence.toFixed(2),m.expenceInfo=h.expenceInfo,o+=h.tradeExpence,n+=parseFloat(m.pnl),i+=parseFloat(h.totalbuyvalue),r+=h.totalsellvalue,l+=parseInt(m.buyqty),s+=parseInt(h.turnOver),parseInt(m.netqty)>0){var p=(localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[]).filter(function(t){return t.tradingsymbol==m.tradingsymbol});m.optionStockName=m.dname,p.length>0&&(m.optionStockStoploss=p[0]&&p[0].optionStockStoploss,m.optionStockTarget=p[0]&&p[0].optionStockTarget)}},u=0;u<e.length;u++)m(u);var v=(n-o).toFixed(2);a.setState({todayProfitPnL:n.toFixed(2),netPnL:v,totalbuyvalue:i.toFixed(2),totalsellvalue:r.toFixed(2),totalQtyTraded:l,turnOver:s,totalExpence:o.toFixed(2)}),c.sort(function(t,e){return e.netqty-t.netqty}),a.setState({positionList:c})}});case 3:case"end":return t.stop()}},t)})),a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.optionStockStoplossChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));for(var e=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],n=0;n<e.length;n++){var i=e[n];if(t.target.name===i.tradingsymbol){i.optionStockStoploss=t.target.value;break}}localStorage.setItem("activeStockOptions",JSON.stringify(e)),a.setState({activeStockOptions:e})},a.optionStockTargetChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));for(var e=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],n=0;n<e.length;n++){var i=e[n];if(t.target.name===i.tradingsymbol){i.optionStockTarget=t.target.value;break}}a.setState({activeStockOptions:e}),localStorage.setItem("activeStockOptions",JSON.stringify(e))},a.onTrailChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onAddSLChange=function(t){var e=a.state.addSLInfo;e[t.target.name]=t.target.value.toUpperCase(),a.setState({addSLInfo:e})},a.deleteIndexOption=function(t,e){for(var n=function(n){var i=a.state.positionList[n];if(i.tradingsymbol==t.tradingsymbol&&i.netqty>0&&a.state.activeStockOptions&&a.state.activeStockOptions.length>0)return a.state.activeStockOptions.splice(e,1),a.setState({activeStockOptions:a.state.activeStockOptions},function(){localStorage.setItem("activeStockOptions",JSON.stringify(a.state.activeStockOptions)),a.squareOff(i,!0,"called from deleteIndexOption")}),"break"},i=0;i<a.state.positionList.length;i++){if("break"===n(i))break}},a.getNiftyLTP=function(){O.get_quotes({token:"26000",exchange:"NSE"}).then(function(t){var e=t&&t.data,n=(100*(e.lp-e.c)/e.c).toFixed(2),i="".concat(e.lp," (").concat(n,"%) ").concat((e.lp-e.c).toFixed(2)),r=(e.lp-e.c).toFixed(2);a.setState({liveNiftyLtdData:{iv:parseFloat(e.lp),changePer:n,acChange:r,ltpstr:i,high:e.h,low:e.l,open:e.o,close:e.c}})})},a.checkIfAnyActivePosition=function(t){for(var e=!1,n=0;n<a.state.positionList.length;n++){var i=a.state.positionList[n],r=i.dname&&i.dname.trim().split(" ")[3];if(parseInt(i.netqty)>0&&r==t){e=!0;break}}return e},a.getShoonyaLimits=function(){O.get_limits().then(function(t){a.setState({ShoonyaLimits:t.data})})},a.getBankNiftyShoonya=function(){O.get_quotes({token:26009,exchange:"NSE"}).then(function(t){var e=t.data;if(e&&e.lp){var n,i=(100*(parseFloat(e.lp)-parseFloat(e.c))/parseFloat(e.c)).toFixed(2),r="".concat(e.lp," (").concat(i,"%) ").concat((e.lp-e.c).toFixed(2)),l=(e.lp-e.c).toFixed(2),o=!1,s=!1;if(e.lp>a.state.liveBankniftyLtdData.high)a.setState({bnHighlight:!0}),o=!a.checkIfAnyActivePosition("CE"),(n=new SpeechSynthesisUtterance).text="bank nifty higher high",window.speechSynthesis.speak(n);else a.setState({bnHighlight:!1});if(e.lp<a.state.liveBankniftyLtdData.low)(n=new SpeechSynthesisUtterance).text="bank nifty lower low",window.speechSynthesis.speak(n),a.setState({bnLowLight:!0}),s=!a.checkIfAnyActivePosition("PE");else a.setState({bnLowLight:!1});var c=localStorage.getItem("livebnPriceSecondbySecond")?JSON.parse(localStorage.getItem("livebnPriceSecondbySecond")):[];c.push({iv:parseFloat(e.lp),t:e.request_time}),localStorage.setItem("livebnPriceSecondbySecond",JSON.stringify(c)),a.setState({liveBankniftyLtdData:{iv:parseFloat(e.lp),takeLowerLowTrade:s,takeHigherHighTrade:o,changePer:i,acChange:l,ltpstr:r,high:e.h,low:e.l,open:e.o,close:e.c}},function(){a.bankniftyTrackOrder(),window.document.title=e.lp+" | "+a.state.netPnL})}})},a.getBankNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"BANKNIFTY",symboltoken:"26009"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=(100*(n.ltp-n.close)/n.close).toFixed(2),r="".concat(n.ltp.toFixed(2)," (").concat(i,"%) ").concat((n.ltp-n.close).toFixed(2)),l=(n.ltp-n.close).toFixed(2);a.setState({liveBankniftyLtdData:{iv:n.ltp,changePer:i,acChange:l,ltpstr:r}},function(){a.bankniftyTrackOrder(),window.document.title=n.ltp})}})},a.getBankNiftyLiveLtp=function(t){if(t&&t.iv){t.nc;a.setState({liveBankniftyLtdData:t},function(){a.bankniftyTrackOrder()})}},a.bankniftyTrackOrder=function(){var t=localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[];if(t.length>0)for(var e=0;e<t.length;e++){var n=t[e];"CE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv<n.optionStockStoploss?a.deleteIndexOption(n,e):"CE"==n.optiontype&&n.optionStockTarget&&a.state.liveBankniftyLtdData.iv>=n.optionStockTarget?a.deleteIndexOption(n,e):"PE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv>n.optionStockStoploss?a.deleteIndexOption(n,e):"PE"==n.optiontype&&n.optionStockStoploss&&a.state.liveBankniftyLtdData.iv<=n.optionStockTarget&&a.deleteIndexOption(n,e)}},a.placeOrderMethod=function(t){var e={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:"INTRADAY",duration:"DAY",squareoff:"0",stoploss:"0",exchange:"NSE",variety:"NORMAL"};console.log("place order option",e),O.placeOrder(e).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&a.setState({orderid:e.data&&e.data.orderid})})},a.cancelOrderOfSame=function(t){var e=a.getOpenPeningOrderId(t.symboltoken),n={variety:e.variety,orderid:e.orderId};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&console.log("cancel order",e)})},a.placeLimitOrder=function(t){console.log("lock the profit | limit order",(new Date).toLocaleTimeString(),t);var e={buy_or_sell:"S",product_type:t.prd,exchange:t.exch,tradingsymbol:t.tradingsymbol,quantity:Math.abs(t.netqty),discloseqty:0,price_type:"LMT",price:parseFloat(t.lp),remarks:"".concat(t.dname," profit locked on ").concat(t.pnl)};new Audio(En.a).play(),localStorage.setItem(t.tsym,""),O.shoonyaPlaceOrder(e).then(function(t){console.log("lock the profit | limit order placed ",e,(new Date).toLocaleTimeString()),a.refreshOrderbookFlagOn()})},a.squareOff=function(t,e,n,i){console.log("squareOff",n,(new Date).toLocaleTimeString());var r={buy_or_sell:parseInt(t.netqty)>0?"S":"B",product_type:t.prd,exchange:"NFO",tradingsymbol:t.tradingsymbol,quantity:Math.abs(t.netqty),discloseqty:0,price_type:"MKT",price:0};new Audio(En.a).play(),localStorage.setItem(t.tsym,""),O.shoonyaPlaceOrder(r).then(function(e){if("create_opposite"===i){var n=t.dname&&t.dname.trim().split(" ")[3];a.state.liveBankniftyLtdData;"CE"==n?document.getElementById("peMarketBuy").click():"PE"==n&&document.getElementById("ceMarketBuy").click()}a.refreshOrderbookFlagOn()})},a.updateOrderList=function(){O.getOrderListShoonya().then(function(t){var e=t.data;a.setState({oderbookData:e}),localStorage.setItem("oderbookData",JSON.stringify(e))})},a.cleanAllAvgPrice=function(){a.state.positionList.forEach(function(t,e){localStorage.setItem(t.tsym,"")})},a.addSLOrderInfo=function(t){a.setState({addSLInfo:t,enableSLMOrderUi:!0})},a.placeSLMOrderManually=function(){a.state.addSLInfo.netqty=Math.abs(a.state.addSLInfo.netqty),console.log("addSLInfo",a.state.addSLInfo),de.placeOptionSLMOrder(a.state.addSLInfo)},a.placeSLMOrder=function(t){console.log("lock the profit | limit order",(new Date).toLocaleTimeString(),t);var e={buy_or_sell:"S",product_type:t.prd,exchange:t.exch,tradingsymbol:t.tradingsymbol,quantity:Math.abs(t.netqty),discloseqty:0,price_type:"SL-LMT",price:parseFloat(t.price),trigger_price:t.minTriggerPrice,remarks:"".concat(t.dname," slm")};O.shoonyaPlaceOrder(e).then(function(t){console.log("Stoploss order placed ",e,(new Date).toLocaleTimeString())})},a.getOpenPeningOrderId=function(t){for(var e=localStorage.getItem("oderbookData")&&JSON.parse(localStorage.getItem("oderbookData")),a={},n=0;n<e.length;n++)if(e[n].symboltoken===t&&"SL-MKT"===e[n].prctyp&&"OPEN"==e[n].status){a.orderId=e[n].norenordno;break}return a},a.getActualAvgPrice=function(t){O.getOrderListShoonya().then(function(e){for(var a=e.data,n=0;n<a.length;n++)if(console.log("net avg check",a[n].token,a[n].trantype,a[n].status),a[n].token==t.token&&"B"==a[n].trantype&&"COMPLETE"==a[n].status){localStorage.setItem(t.tsym,a[n].avgprc),console.log(t.tsym,"net avg price",a[n].avgprc);break}localStorage.setItem("oderbookData",JSON.stringify(a))})},a.modifyOrderMethod=function(t,e,n){a.getOpenPeningOrderId(t.symboltoken).orderId||(t.minTriggerPrice=e,t.price=n,a.placeSLMOrder(t))},a.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},a.get2DecimalNumber=function(t){return(t=parseFloat(t))?t.toFixed(2):t},a.getSLAndTriggerPrice=function(t){var e=a.getMinPriceAllowTick(t),n=e-1*e/100;return{minTriggerPrice:e,minSLPrice:n=a.getMinPriceAllowTick(n)}},a.getOptionPercentage=function(t){var e=0,n=0;if(e=100*(parseFloat(t.lp)-parseFloat(t.netavgprc))/parseFloat(t.netavgprc),!localStorage.getItem("firstTimeModify"+t.tradingsymbol)&&e>=a.state.firstTimeMoveOption){var i=t.netavgprc+t.netavgprc*a.state.firstTimeSLMoveOption/100,r=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=r.minTriggerPrice&&a.modifyOrderMethod(t,r.minTriggerPrice,r.minSLPrice)}else{var l=parseFloat(localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)),o=100*(t.ltp-l)/l;if(n=o,o>=a.state.nextTimeMoveOption){i=l+l*a.state.nextTimeSLMoveOption/100;var s=a.getSLAndTriggerPrice(i);localStorage.getItem("lastTriggerprice_"+t.tradingsymbol)!=s.minTriggerPrice&&a.modifyOrderMethod(t,s.minTriggerPrice,s.minSLPrice)}}return n?e.toFixed(2)+"% | Trailing "+n.toFixed(2)+"%":e.toFixed(2)+"%"},a.refreshOrderbookFlagOn=function(){a.setState({orderbookRefresh:!0})},a.refreshOrderbookFlagOff=function(){a.setState({orderbookRefresh:!1})},a.state={positionList:[],autoSearchList:[],InstrumentLTP:{},autoSearchTemp:[],foundPatternList:[],symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"DELIVERY",nr4TotalPer:0,pnlAmountTotal:0,totalNetProfit:0,totelActivatedCount:0,totalBrokerChargesNR4:0,stockTesting:"",perHighLowTotal:0,netPnLAmountOnHighlowTotal:0,firstTimeMove:.6,firstTimeSLMove:.5,nextTimeMove:.6,nextTimeSLMove:.3,firstTimeMoveOption:10,firstTimeSLMoveOption:5,nextTimeMoveOption:10,nextTimeSLMoveOption:5,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],enableSLMOrderUi:!1,addSLInfo:{},activeStockOptions:localStorage.getItem("activeStockOptions")&&JSON.parse(localStorage.getItem("activeStockOptions"))||[],liveBankniftyLtdData:"",liveNiftyLtdData:"",bnHighlight:!1,bnLowLight:!1,updatebnfont:"2rem",takeHigherHighTrade:!1,takeLowerLowTrade:!1,profitbookPercentage:a.getDayDefaultProfitPer(),lossbookPercentage:a.getDayDefaultLossPer(),profitbookAmount:"",orderbookRefresh:!1},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;"yes"===window.localStorage.getItem("shoonyaLoggedIn")?this.props.history.push("position-shoonya"):this.props.history.push("login-shoonya"),this.getBankNiftyShoonya(),this.getNiftyLTP();var e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(e,a)){this.setState({positionInterval:setInterval(function(){t.getPositionData()},1e3)}),this.setState({bankNiftyIntervalsh:setInterval(function(){t.getBankNiftyShoonya()},1e3)});this.state.activeStockOptions.length>10&&110*this.state.activeStockOptions.length}else clearInterval(this.state.positionInterval)}},{key:"getDayDefaultProfitPer",value:function(){var t=ce().isoWeekday(),e=2;return 5===t?e=2:1===t?e=4:2===t&&(e=6),3===t&&(e=8),4===t&&(e=10),e/2}},{key:"getDayDefaultLossPer",value:function(){var t=ce().isoWeekday(),e=-4;return 5===t?e=-5:1===t?e=-6:2===t&&(e=-8),3===t&&(e=-10),4===t&&(e=-12),e}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{getShoonyaLimits:this.getShoonyaLimits,ShoonyaLimits:this.state.ShoonyaLimits,getBankNiftyShoonya:this.getBankNiftyShoonya,getNiftyLTP:this.getNiftyLTP,netPnL:this.state.netPnL,liveBankniftyLtdData:this.state.liveBankniftyLtdData,liveNiftyLtdData:this.state.liveNiftyLtdData}),i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(hn,null),i.a.createElement(F.a,{style:{padding:"5px"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{width:"90%",height:"100%",overflow:"auto"}},i.a.createElement(mn,{LiveLtp:this.state.liveBankniftyLtdData}))),i.a.createElement(F.a,{style:{padding:"5px"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(R.a,{color:"primary",gutterBottom:!0}," Positions (",this.state.positionList&&this.state.positionList.length,")    ")),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(M.a,{style:{float:"right"},onClick:function(){return t.cleanAllAvgPrice()}},"Clear Avg Price")),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(M.a,{type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.getPositionData()}},"Refresh Position"))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"5px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap",backgroundColor:""},variant:"head"},i.a.createElement(Gt.a,{key:"1",variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Trading Symbol(",this.state.positionList.length,")"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Stoploss | ",i.a.createElement(M.a,{onClick:function(){return navigator.clipboard.writeText(t.state.liveBankniftyLtdData.iv)}}," ",this.state.liveBankniftyLtdData.iv," ")),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Target | ",i.a.createElement(M.a,{onClick:function(){return navigator.clipboard.writeText(t.state.liveBankniftyLtdData.iv)}}," ",this.state.liveBankniftyLtdData.iv," ")," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"T.Qty"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"N.Qty"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"NetAvg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"B.Avg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"S.Avg"),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"Realised p/l",align:"left"},"R.PnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"Unrealised p/l",align:"left"},"U.PnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"NetPnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Exp."),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Action"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"LTP"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Exit & Create Opposite"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.positionList?this.state.positionList.map(function(e){return"DELIVERY1"!==e.producttype?i.a.createElement(Gt.a,{hover:!0,key:e.symboltoken,style:{background:"0"!==e.netqty?"lightgray":""}},i.a.createElement(Xt.a,{align:"left"},i.a.createElement(R.a,{title:e.tradingsymbol,style:{color:100*(e.ltp-e.close)/e.close>0?"green":"red"},size:"small",variant:"contained"},i.a.createElement(M.a,{onClick:function(){return navigator.clipboard.writeText(e.dname)}},"  ",e.dname," "))),i.a.createElement(Xt.a,{align:"left"},e.optionStockStoploss||e.netqty>0?i.a.createElement("input",{step:"1",style:{width:"70%",textAlign:"center"},type:"number",value:e.optionStockStoploss,name:e.tradingsymbol,onChange:t.optionStockStoplossChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.optionStockTarget||e.netqty>0?i.a.createElement("input",{step:"1",style:{width:"70%",textAlign:"center"},type:"number",value:e.optionStockTarget,name:e.tradingsymbol,onChange:t.optionStockTargetChange}):"-"),i.a.createElement(Xt.a,{align:"left"},e.buyqty||e.sellqty),i.a.createElement(Xt.a,{align:"left",title:"".concat(e.netavgprc," * ").concat(e.netqty," = ").concat((parseFloat(e.netavgprc)*parseFloat(e.netqty)).toFixed(2))},e.netqty),i.a.createElement(Xt.a,{align:"center",title:"Buy Value: ".concat(e.netBuyAvg*e.netqty)},i.a.createElement(M.a,{onClick:function(){t.getActualAvgPrice(e)}}," ",e.netqty>0?"N.Avg:":"","   ",e.netBuyAvg," ")," "),i.a.createElement(Xt.a,{align:"left"},e.totalbuyavgprice),i.a.createElement(Xt.a,{align:"left"},e.totalsellavgprice),i.a.createElement(Xt.a,{align:"left"}," ",e.rpnl),i.a.createElement(Xt.a,{style:{color:parseFloat(e.pnl)>0?"green":"red"},align:"left",title:"Realised: ".concat(e.rpnl," | Unrealised:").concat(e.urmtom)},e.netqty>0?i.a.createElement(M.a,{title:"Lock the profit | limit order",variant:"contained",style:{color:parseFloat(e.urmtom)>0?"green":"red"},onClick:function(){return t.placeLimitOrder(e)}}," ",i.a.createElement("b",null,e.urmtom)," "):i.a.createElement("b",null,e.urmtom),e.percentPnL?e.percentPnL+"%":""),i.a.createElement(Xt.a,{align:"left"}," ",e.pnl),i.a.createElement(Xt.a,{align:"left",title:e.expenceInfo},e.tradeExpence),i.a.createElement(Xt.a,{align:"left"},"0"!==e.netqty?i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"Secondary",onClick:function(){return t.squareOff(e)}},"Square Off"):""),i.a.createElement(Xt.a,{align:"left"},e.ltp),i.a.createElement(Xt.a,{align:"center"},"0"!==e.netqty?i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",color:"primary",onClick:function(){return t.squareOff(e,"","","create_opposite")}},"Exit & Opposite "):"")):""}):"",i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold",backgroundColor:""}},i.a.createElement(Xt.a,{className:"TableHeadFormat",colSpan:2,align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Turnover: ",this.state.turnOver),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalQtyTraded),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"0"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalbuyvalue),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},this.state.totalsellvalue),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left",style:{color:parseFloat(this.state.todayProfitPnL)>0?"green":"red"}},this.state.todayProfitPnL," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",style:{color:"red"},align:"left"},this.state.totalExpence),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"}),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"left"},"Net P/L: ",i.a.createElement("b",{style:{color:parseFloat(this.state.netPnL)>0?"green":"red"}},this.state.netPnL))),this.state.enableSLMOrderUi?i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{className:"TableHeadFormat",colSpan:15,align:"center"},"Stoploss \xa0",i.a.createElement("input",{placeholder:"Symbol",name:"tradingsymbol",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.tradingsymbol,style:{width:"200px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Price",name:"stopLossPrice",type:"number",step:"0.1",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.stopLossPrice,style:{width:"100px",textAlign:"center"}}),"\xa0",i.a.createElement("input",{placeholder:"Trigger Price",name:"stopLossTriggerPrice",step:"0.1",type:"number",onChange:this.onAddSLChange,value:this.state.addSLInfo&&this.state.addSLInfo.price,style:{width:"100px",textAlign:"center"}}),"\xa0 ",i.a.createElement(M.a,{size:"small",type:"number",variant:"contained",onClick:function(){return t.placeSLMOrderManually()}},"Place SL"))):"")),i.a.createElement("hr",null),i.a.createElement(F.a,{style:{padding:"5px",background:"lightgray"},justify:"space-between",direction:"row",container:!0},i.a.createElement(F.a,null," Booking "),i.a.createElement(F.a,{style:{color:"red"}},"Loss Booking Percent(%) ",i.a.createElement("input",{name:"lossbookPercentage",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.lossbookPercentage,style:{width:"50px",textAlign:"center"}})),i.a.createElement(F.a,{style:{color:"green"}},"Profit Booking Percent(%) ",i.a.createElement("input",{name:"profitbookPercentage",type:"number",step:"0.1",onChange:this.onTrailChange,value:this.state.profitbookPercentage,style:{width:"50px",textAlign:"center"}})),i.a.createElement(F.a,null,"Profit Book Amount ",i.a.createElement("input",{name:"profitbookAmount",type:"number",step:"50",onChange:this.onTrailChange,value:this.state.profitbookAmount,style:{width:"100px",textAlign:"center"}}))))),i.a.createElement(dn,{orderbookRefresh:this.state.orderbookRefresh,refreshOrderbookFlagOff:this.refreshOrderbookFlagOff}),i.a.createElement("br",null),i.a.createElement(Te.a,{style:{padding:"5px"}},i.a.createElement(bn,null))))}}]),e}(i.a.Component),Cn=function(){onmessage=function(t){console.log("message received",t.data);var e=t.data,a=e.chunkCandleData,n=e.stock,i={};if(a.length>0){var r=a;i.name=n.name,i.symbol=n.symbol,i.token=n.token,i.entryPrice=r[0][4],i.foundAt=ce(r[0][0]).format("YYYY-MM-DD HH:mm");for(var l=[],o=1;o<r.length;o++){var s=100*(r[o][4]-i.entryPrice)/i.entryPrice,c=ce(r[o][0]).format("h:mma");l.push({perChange:s.toFixed(2),close:r[o][4],datetime:c})}i.candleData=l}console.log("message prepared ",i),postMessage(i)}}.toString();Cn=Cn.substring(Cn.indexOf("{")+1,Cn.lastIndexOf("}"));var Tn=new Blob([Cn],{type:"application/javascript"}),Ln=URL.createObjectURL(Tn),wn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).state={cursor:0},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){Object(Ie.a)(document.body,{width:400,height:300}).addLineSeries().setData([{iv:40624.85,t:"13:28:38"},{iv:40621.15,t:"13:28:39"},{iv:40620.9,t:"13:28:40"},{iv:40622.5,t:"13:28:41"},{iv:40619.6,t:"13:28:43"},{iv:40618.45,t:"13:28:44"},{iv:40617.4,t:"13:28:45"},{iv:40617.5,t:"13:28:46"},{iv:40618.5,t:"13:28:47"},{iv:40619.5,t:"13:28:48"},{iv:40617.65,t:"13:28:49"},{iv:40616.9,t:"13:28:50"},{iv:40619.85,t:"13:28:51"},{iv:40619.7,t:"13:28:52"},{iv:40620.7,t:"13:28:53"},{iv:40621.05,t:"13:28:54"},{iv:40622.35,t:"13:28:55"},{iv:40625.35,t:"13:28:56"},{iv:40629.35,t:"13:28:57"},{iv:40633.25,t:"13:28:58"},{iv:40642.9,t:"13:28:59"},{iv:40640.55,t:"13:29:00"},{iv:40641.1,t:"13:29:01"},{iv:40645.45,t:"13:29:02"},{iv:40641.1,t:"13:29:03"},{iv:40648.25,t:"13:29:05"},{iv:40648.25,t:"13:29:05"},{iv:40650.9,t:"13:29:06"},{iv:40650,t:"13:29:07"},{iv:40651.2,t:"13:29:08"},{iv:40651.2,t:"13:29:09"},{iv:40654.55,t:"13:29:10"},{iv:40656.35,t:"13:29:11"},{iv:40655.2,t:"13:29:12"},{iv:40654.2,t:"13:29:13"},{iv:40655.25,t:"13:29:14"},{iv:40657.35,t:"13:29:15"},{iv:40659.6,t:"13:29:16"},{iv:40659.85,t:"13:29:17"},{iv:40659.35,t:"13:29:18"},{iv:40663.35,t:"13:29:19"},{iv:40661.95,t:"13:29:20"},{iv:40662.1,t:"13:29:21"},{iv:40662.95,t:"13:29:22"},{iv:40662.85,t:"13:29:23"},{iv:40660.7,t:"13:29:24"},{iv:40660.15,t:"13:29:25"},{iv:40661.9,t:"13:29:26"},{iv:40663.7,t:"13:29:27"},{iv:40664.45,t:"13:29:28"},{iv:40665.95,t:"13:29:29"},{iv:40664.15,t:"13:29:30"},{iv:40666.7,t:"13:29:31"},{iv:40667.2,t:"13:29:32"},{iv:40665.7,t:"13:29:33"},{iv:40669.25,t:"13:29:34"},{iv:40664.95,t:"13:29:35"},{iv:40668,t:"13:29:36"},{iv:40667.9,t:"13:29:37"},{iv:40668.6,t:"13:29:38"},{iv:40670.35,t:"13:29:39"},{iv:40669.2,t:"13:29:40"},{iv:40670.55,t:"13:29:41"},{iv:40670,t:"13:29:42"},{iv:40668.7,t:"13:29:43"},{iv:40668.75,t:"13:29:44"},{iv:40668.35,t:"13:29:45"},{iv:40669.9,t:"13:29:46"},{iv:40670.45,t:"13:29:47"},{iv:40666.8,t:"13:29:48"},{iv:40670.75,t:"13:29:49"},{iv:40670.55,t:"13:29:50"},{iv:40669.3,t:"13:29:51"},{iv:40669.3,t:"13:29:52"},{iv:40667.8,t:"13:29:53"},{iv:40664.4,t:"13:29:54"},{iv:40666.6,t:"13:29:55"},{iv:40665.3,t:"13:29:56"},{iv:40666.3,t:"13:29:57"},{iv:40666,t:"13:29:58"},{iv:40661.05,t:"13:29:59"},{iv:40658.95,t:"13:30:00"},{iv:40661.4,t:"13:30:01"},{iv:40655.85,t:"13:30:02"},{iv:40660.15,t:"13:30:03"},{iv:40657.8,t:"13:30:04"},{iv:40657.95,t:"13:30:05"},{iv:40658.75,t:"13:30:06"},{iv:40662.05,t:"13:30:07"},{iv:40662.95,t:"13:30:08"},{iv:40661.95,t:"13:30:09"},{iv:40660.1,t:"13:30:10"},{iv:40664.4,t:"13:30:11"},{iv:40673.8,t:"13:30:12"},{iv:40674.35,t:"13:30:13"},{iv:40677.1,t:"13:30:14"},{iv:40678.2,t:"13:30:15"},{iv:40683.5,t:"13:30:16"},{iv:40685.7,t:"13:30:17"},{iv:40687,t:"13:30:18"},{iv:40689.4,t:"13:30:19"},{iv:40690.55,t:"13:30:20"},{iv:40692.6,t:"13:30:21"},{iv:40691.85,t:"13:30:22"},{iv:40688.75,t:"13:30:23"},{iv:40690.9,t:"13:30:24"},{iv:40690.85,t:"13:30:25"},{iv:40689.55,t:"13:30:26"},{iv:40693.4,t:"13:30:27"},{iv:40694.05,t:"13:30:28"},{iv:40692.1,t:"13:30:29"},{iv:40697.75,t:"13:30:30"},{iv:40703.7,t:"13:30:31"},{iv:40699.15,t:"13:30:32"},{iv:40698.2,t:"13:30:33"},{iv:40691.6,t:"13:30:34"},{iv:40691.75,t:"13:30:35"},{iv:40693.6,t:"13:30:36"},{iv:40693.05,t:"13:30:37"},{iv:40694.15,t:"13:30:38"},{iv:40695.35,t:"13:30:39"},{iv:40694.8,t:"13:30:40"},{iv:40695.05,t:"13:30:41"},{iv:40694.3,t:"13:30:42"},{iv:40697.75,t:"13:30:43"},{iv:40696.7,t:"13:30:44"},{iv:40700.2,t:"13:30:45"},{iv:40703.2,t:"13:30:46"},{iv:40703.4,t:"13:30:47"},{iv:40703.35,t:"13:30:48"},{iv:40705.2,t:"13:30:49"},{iv:40701.3,t:"13:30:50"},{iv:40701.1,t:"13:30:51"},{iv:40701.85,t:"13:30:52"},{iv:40704.15,t:"13:30:53"},{iv:40705.3,t:"13:30:54"},{iv:40704.9,t:"13:30:55"},{iv:40704.85,t:"13:30:56"},{iv:40703.6,t:"13:30:57"},{iv:40698.9,t:"13:30:58"},{iv:40694.35,t:"13:30:59"},{iv:40695.25,t:"13:31:00"},{iv:40698,t:"13:31:01"},{iv:40699.1,t:"13:31:02"},{iv:40700.3,t:"13:31:03"},{iv:40700.15,t:"13:31:04"},{iv:40699.8,t:"13:31:05"},{iv:40698.85,t:"13:31:06"},{iv:40702.35,t:"13:31:07"},{iv:40701.3,t:"13:31:08"},{iv:40702.1,t:"13:31:09"},{iv:40703.45,t:"13:31:10"},{iv:40703.55,t:"13:31:11"},{iv:40700.8,t:"13:31:12"},{iv:40700.8,t:"13:31:13"},{iv:40700.4,t:"13:31:14"},{iv:40701.25,t:"13:31:15"},{iv:40714.15,t:"13:31:16"},{iv:40717.5,t:"13:31:17"},{iv:40714.9,t:"13:31:18"},{iv:40716.9,t:"13:31:19"},{iv:40714,t:"13:31:20"},{iv:40719.05,t:"13:31:21"},{iv:40717.9,t:"13:31:22"},{iv:40722.15,t:"13:31:23"},{iv:40721.95,t:"13:31:24"},{iv:40721.95,t:"13:31:25"},{iv:40722.65,t:"13:31:26"},{iv:40721.75,t:"13:31:27"},{iv:40723.65,t:"13:31:28"},{iv:40722.25,t:"13:31:29"},{iv:40716.95,t:"13:31:30"},{iv:40717.65,t:"13:31:31"},{iv:40716.55,t:"13:31:32"},{iv:40717.15,t:"13:31:33"},{iv:40717.85,t:"13:31:34"},{iv:40716.45,t:"13:31:35"},{iv:40718.5,t:"13:31:36"},{iv:40719,t:"13:31:37"},{iv:40715.85,t:"13:31:38"},{iv:40715.8,t:"13:31:39"},{iv:40714.55,t:"13:31:40"},{iv:40714.7,t:"13:31:41"},{iv:40712.95,t:"13:31:42"},{iv:40712.15,t:"13:31:43"},{iv:40711.6,t:"13:31:44"},{iv:40712.85,t:"13:31:45"},{iv:40711.75,t:"13:31:46"},{iv:40712.4,t:"13:31:47"},{iv:40715.3,t:"13:31:48"},{iv:40718.7,t:"13:31:49"},{iv:40721.7,t:"13:31:50"},{iv:40721.4,t:"13:31:51"},{iv:40722,t:"13:31:52"},{iv:40722.5,t:"13:31:53"},{iv:40722.3,t:"13:31:54"},{iv:40721.8,t:"13:31:55"},{iv:40719.15,t:"13:31:56"},{iv:40723.15,t:"13:31:57"},{iv:40728.4,t:"13:31:58"},{iv:40729.15,t:"13:31:59"},{iv:40729.35,t:"13:32:00"},{iv:40728.45,t:"13:32:01"},{iv:40729.1,t:"13:32:02"},{iv:40726.45,t:"13:32:03"},{iv:40724.7,t:"13:32:04"},{iv:40725.15,t:"13:32:05"},{iv:40723.9,t:"13:32:06"},{iv:40726.05,t:"13:32:07"},{iv:40727.35,t:"13:32:08"},{iv:40730.2,t:"13:32:09"},{iv:40725.9,t:"13:32:10"},{iv:40730.4,t:"13:32:11"},{iv:40730.8,t:"13:32:12"},{iv:40727.75,t:"13:32:13"},{iv:40731,t:"13:32:14"},{iv:40731.1,t:"13:32:15"},{iv:40729.9,t:"13:32:16"},{iv:40727.65,t:"13:32:17"},{iv:40728.9,t:"13:32:18"},{iv:40728.45,t:"13:32:19"},{iv:40727.5,t:"13:32:20"},{iv:40733.5,t:"13:32:21"},{iv:40730.55,t:"13:32:22"},{iv:40729.25,t:"13:32:23"},{iv:40732.75,t:"13:32:24"},{iv:40733.35,t:"13:32:25"},{iv:40731.8,t:"13:32:26"},{iv:40734.35,t:"13:32:27"},{iv:40732.3,t:"13:32:28"},{iv:40733.45,t:"13:32:29"},{iv:40731.4,t:"13:32:30"},{iv:40733.9,t:"13:32:31"},{iv:40733.5,t:"13:32:32"},{iv:40732.5,t:"13:32:33"},{iv:40734.95,t:"13:32:34"},{iv:40732.95,t:"13:32:35"},{iv:40733.75,t:"13:32:36"},{iv:40734.05,t:"13:32:37"},{iv:40733.25,t:"13:32:38"},{iv:40731.6,t:"13:32:39"},{iv:40729,t:"13:32:40"},{iv:40730.55,t:"13:32:41"},{iv:40736.3,t:"13:32:42"},{iv:40739.65,t:"13:32:43"},{iv:40739.15,t:"13:32:44"},{iv:40741.65,t:"13:32:45"},{iv:40742,t:"13:32:46"},{iv:40746.95,t:"13:32:47"},{iv:40750.55,t:"13:32:48"},{iv:40750.4,t:"13:32:49"},{iv:40745.5,t:"13:32:50"},{iv:40748.3,t:"13:32:51"},{iv:40749.4,t:"13:32:52"},{iv:40747,t:"13:32:53"},{iv:40748.6,t:"13:32:54"},{iv:40742.65,t:"13:32:55"},{iv:40736.8,t:"13:32:56"},{iv:40741.45,t:"13:32:57"},{iv:40735,t:"13:32:58"},{iv:40739.85,t:"13:32:59"},{iv:40735.6,t:"13:33:00"},{iv:40738.6,t:"13:33:01"},{iv:40740.5,t:"13:33:02"},{iv:40738.35,t:"13:33:03"},{iv:40739.75,t:"13:33:04"},{iv:40738.3,t:"13:33:05"},{iv:40737.9,t:"13:33:06"},{iv:40739.25,t:"13:33:07"},{iv:40739.5,t:"13:33:08"},{iv:40738.3,t:"13:33:09"},{iv:40735.9,t:"13:33:10"},{iv:40735.9,t:"13:33:11"},{iv:40735.7,t:"13:33:12"},{iv:40732.85,t:"13:33:13"},{iv:40728.25,t:"13:33:14"},{iv:40732.75,t:"13:33:15"},{iv:40732.05,t:"13:33:16"},{iv:40730.9,t:"13:33:17"},{iv:40732.6,t:"13:33:18"},{iv:40731.4,t:"13:33:19"},{iv:40732.1,t:"13:33:20"},{iv:40730.95,t:"13:33:21"},{iv:40730.4,t:"13:33:22"},{iv:40731.1,t:"13:33:23"},{iv:40732.15,t:"13:33:24"},{iv:40730.25,t:"13:33:25"},{iv:40730,t:"13:33:26"},{iv:40728.9,t:"13:33:27"},{iv:40729.6,t:"13:33:28"},{iv:40728.65,t:"13:33:29"},{iv:40727.5,t:"13:33:30"},{iv:40727.65,t:"13:33:31"},{iv:40720.95,t:"13:33:32"},{iv:40723.05,t:"13:33:33"},{iv:40717,t:"13:33:34"},{iv:40715.15,t:"13:33:35"},{iv:40716.15,t:"13:33:36"},{iv:40718.05,t:"13:33:37"},{iv:40710.85,t:"13:33:38"},{iv:40712.75,t:"13:33:39"},{iv:40712.95,t:"13:33:40"},{iv:40711.15,t:"13:33:41"},{iv:40711.1,t:"13:33:42"},{iv:40716.75,t:"13:33:43"},{iv:40715.3,t:"13:33:44"},{iv:40714.6,t:"13:33:45"},{iv:40715.3,t:"13:33:46"},{iv:40716.7,t:"13:33:47"},{iv:40729.2,t:"13:33:48"},{iv:40727.05,t:"13:33:49"},{iv:40727.7,t:"13:33:50"},{iv:40732.35,t:"13:33:51"},{iv:40733.25,t:"13:33:52"},{iv:40737.85,t:"13:33:53"},{iv:40739.95,t:"13:33:54"},{iv:40741,t:"13:33:55"},{iv:40740.4,t:"13:33:56"},{iv:40740.1,t:"13:33:57"},{iv:40751.85,t:"13:33:58"},{iv:40751.85,t:"13:33:59"},{iv:40759.75,t:"13:34:00"},{iv:40761.65,t:"13:34:01"},{iv:40758.4,t:"13:34:02"},{iv:40774.9,t:"13:34:03"},{iv:40771.05,t:"13:34:04"},{iv:40771.85,t:"13:34:05"},{iv:40773.55,t:"13:34:06"},{iv:40775.35,t:"13:34:07"},{iv:40774.8,t:"13:34:08"},{iv:40775.45,t:"13:34:09"},{iv:40772.55,t:"13:34:10"},{iv:40775.75,t:"13:34:11"},{iv:40773.5,t:"13:34:12"},{iv:40777.35,t:"13:34:13"},{iv:40775.4,t:"13:34:14"},{iv:40776.5,t:"13:34:15"},{iv:40775.9,t:"13:34:16"},{iv:40775.35,t:"13:34:17"},{iv:40775.85,t:"13:34:18"},{iv:40776.75,t:"13:34:19"},{iv:40777.35,t:"13:34:20"},{iv:40775.6,t:"13:34:21"},{iv:40776.8,t:"13:34:22"},{iv:40774.6,t:"13:34:23"},{iv:40776.1,t:"13:34:24"},{iv:40774.75,t:"13:34:25"},{iv:40772.7,t:"13:34:26"},{iv:40771.25,t:"13:34:27"},{iv:40774.95,t:"13:34:28"},{iv:40774.2,t:"13:34:29"},{iv:40773.5,t:"13:34:30"},{iv:40774,t:"13:34:31"},{iv:40770,t:"13:34:32"},{iv:40771.25,t:"13:34:33"},{iv:40771.35,t:"13:34:34"},{iv:40768.75,t:"13:34:35"},{iv:40771.05,t:"13:34:36"},{iv:40773.4,t:"13:34:37"},{iv:40774.65,t:"13:34:38"},{iv:40773.45,t:"13:34:39"},{iv:40770.95,t:"13:34:40"},{iv:40771.65,t:"13:34:41"},{iv:40771.25,t:"13:34:42"},{iv:40774.4,t:"13:34:43"},{iv:40772.3,t:"13:34:44"},{iv:40771.25,t:"13:34:45"},{iv:40773.05,t:"13:34:46"},{iv:40776.65,t:"13:34:47"},{iv:40774.05,t:"13:34:48"},{iv:40778.45,t:"13:34:49"},{iv:40772.7,t:"13:34:50"},{iv:40779.4,t:"13:34:51"},{iv:40777.7,t:"13:34:52"},{iv:40780.2,t:"13:34:53"},{iv:40779.5,t:"13:34:54"},{iv:40782.65,t:"13:34:55"},{iv:40782.3,t:"13:34:56"},{iv:40782.35,t:"13:34:57"},{iv:40780.55,t:"13:34:58"},{iv:40781.2,t:"13:34:59"},{iv:40783.3,t:"13:35:00"},{iv:40784.9,t:"13:35:01"},{iv:40785.2,t:"13:35:02"},{iv:40787.45,t:"13:35:03"},{iv:40785.5,t:"13:35:04"},{iv:40788,t:"13:35:05"},{iv:40784.5,t:"13:35:06"},{iv:40787.2,t:"13:35:07"},{iv:40786.5,t:"13:35:08"},{iv:40785.2,t:"13:35:09"},{iv:40790.2,t:"13:35:10"},{iv:40794.8,t:"13:35:11"},{iv:40794.9,t:"13:35:12"},{iv:40799.5,t:"13:35:13"},{iv:40798.25,t:"13:35:14"},{iv:40798.65,t:"13:35:15"},{iv:40799.45,t:"13:35:16"},{iv:40802.2,t:"13:35:17"},{iv:40803.55,t:"13:35:18"},{iv:40804.4,t:"13:35:19"},{iv:40802.45,t:"13:35:20"},{iv:40804.6,t:"13:35:21"},{iv:40802.7,t:"13:35:22"},{iv:40803.75,t:"13:35:23"},{iv:40801.4,t:"13:35:24"},{iv:40801.2,t:"13:35:25"},{iv:40800.65,t:"13:35:26"},{iv:40799.95,t:"13:35:27"},{iv:40800.45,t:"13:35:28"},{iv:40798.55,t:"13:35:29"},{iv:40795.4,t:"13:35:30"},{iv:40797.75,t:"13:35:31"},{iv:40794.2,t:"13:35:32"},{iv:40786.35,t:"13:35:33"},{iv:40784,t:"13:35:34"},{iv:40783.85,t:"13:35:35"},{iv:40787.1,t:"13:35:36"},{iv:40787,t:"13:35:37"},{iv:40783.6,t:"13:35:38"},{iv:40785.95,t:"13:35:39"},{iv:40783.4,t:"13:35:40"},{iv:40784.15,t:"13:35:41"},{iv:40780.95,t:"13:35:42"},{iv:40769.1,t:"13:35:43"},{iv:40769.8,t:"13:35:44"},{iv:40768.9,t:"13:35:45"},{iv:40769.3,t:"13:35:46"},{iv:40773.3,t:"13:35:47"},{iv:40769.2,t:"13:35:48"},{iv:40773.25,t:"13:35:49"},{iv:40770.5,t:"13:35:50"},{iv:40771.4,t:"13:35:51"},{iv:40766.9,t:"13:35:52"},{iv:40767.9,t:"13:35:53"},{iv:40767.65,t:"13:35:54"},{iv:40765.35,t:"13:35:55"},{iv:40766.2,t:"13:35:56"},{iv:40765.75,t:"13:35:57"},{iv:40768.25,t:"13:35:58"},{iv:40768.6,t:"13:35:59"},{iv:40765.6,t:"13:36:00"},{iv:40764.55,t:"13:36:01"},{iv:40763.05,t:"13:36:02"},{iv:40764.55,t:"13:36:03"},{iv:40764.5,t:"13:36:04"},{iv:40765.6,t:"13:36:05"},{iv:40759.15,t:"13:36:06"},{iv:40765.5,t:"13:36:07"},{iv:40763.75,t:"13:36:08"},{iv:40760.1,t:"13:36:09"},{iv:40759.45,t:"13:36:10"},{iv:40763.95,t:"13:36:11"},{iv:40764.7,t:"13:36:12"},{iv:40760.4,t:"13:36:13"},{iv:40761.85,t:"13:36:14"},{iv:40762.05,t:"13:36:15"},{iv:40761.45,t:"13:36:16"},{iv:40755.2,t:"13:36:17"},{iv:40759.55,t:"13:36:18"},{iv:40764,t:"13:36:19"},{iv:40762.45,t:"13:36:20"},{iv:40761.45,t:"13:36:21"},{iv:40762.25,t:"13:36:22"},{iv:40760.45,t:"13:36:23"},{iv:40759.9,t:"13:36:24"},{iv:40754.35,t:"13:36:25"},{iv:40749.7,t:"13:36:26"},{iv:40755.4,t:"13:36:27"},{iv:40755.5,t:"13:36:28"},{iv:40751.45,t:"13:36:29"},{iv:40752.2,t:"13:36:30"},{iv:40755.75,t:"13:36:31"},{iv:40753.1,t:"13:36:32"},{iv:40754.6,t:"13:36:33"},{iv:40750.35,t:"13:36:34"},{iv:40754.1,t:"13:36:35"},{iv:40759.35,t:"13:36:36"},{iv:40757.7,t:"13:36:37"},{iv:40754.5,t:"13:36:38"},{iv:40755.15,t:"13:36:39"},{iv:40754,t:"13:36:40"},{iv:40757.65,t:"13:36:41"},{iv:40753.45,t:"13:36:42"},{iv:40749.35,t:"13:36:43"},{iv:40749.4,t:"13:36:44"},{iv:40749.7,t:"13:36:45"},{iv:40752.2,t:"13:36:46"},{iv:40754.1,t:"13:36:47"},{iv:40753.25,t:"13:36:48"},{iv:40754.9,t:"13:36:49"},{iv:40757.25,t:"13:36:50"},{iv:40759.7,t:"13:36:51"},{iv:40759,t:"13:36:52"},{iv:40762.15,t:"13:36:53"},{iv:40760.8,t:"13:36:54"},{iv:40759.9,t:"13:36:55"},{iv:40760.1,t:"13:36:56"},{iv:40759.9,t:"13:36:57"},{iv:40762,t:"13:36:58"},{iv:40761.75,t:"13:36:59"},{iv:40758.35,t:"13:37:00"},{iv:40758.85,t:"13:37:01"},{iv:40759.45,t:"13:37:02"},{iv:40759.2,t:"13:37:03"},{iv:40759.2,t:"13:37:04"},{iv:40758.85,t:"13:37:05"},{iv:40753.05,t:"13:37:06"},{iv:40755.1,t:"13:37:07"},{iv:40754.1,t:"13:37:08"},{iv:40753,t:"13:37:09"},{iv:40753.1,t:"13:37:10"},{iv:40757.75,t:"13:37:11"},{iv:40759.75,t:"13:37:12"},{iv:40761.5,t:"13:37:13"},{iv:40756.25,t:"13:37:14"},{iv:40753.35,t:"13:37:15"},{iv:40757.9,t:"13:37:16"},{iv:40755.65,t:"13:37:17"},{iv:40758.65,t:"13:37:18"},{iv:40755.1,t:"13:37:19"},{iv:40756.3,t:"13:37:20"},{iv:40756.75,t:"13:37:21"},{iv:40755.65,t:"13:37:22"},{iv:40754.15,t:"13:37:23"},{iv:40753.2,t:"13:37:24"},{iv:40754.6,t:"13:37:25"},{iv:40753.4,t:"13:37:26"},{iv:40756.3,t:"13:37:27"},{iv:40757.1,t:"13:37:28"},{iv:40755.8,t:"13:37:29"},{iv:40753.9,t:"13:37:30"},{iv:40752.8,t:"13:37:31"},{iv:40753.45,t:"13:37:32"},{iv:40754.8,t:"13:37:33"},{iv:40753.6,t:"13:37:34"},{iv:40753.35,t:"13:37:35"},{iv:40756.4,t:"13:37:36"},{iv:40758.65,t:"13:37:37"},{iv:40755.65,t:"13:37:38"},{iv:40756.5,t:"13:37:39"},{iv:40758.3,t:"13:37:40"},{iv:40757.65,t:"13:37:41"},{iv:40755.85,t:"13:37:42"},{iv:40757.6,t:"13:37:43"},{iv:40755.95,t:"13:37:44"},{iv:40755.3,t:"13:37:45"},{iv:40755.5,t:"13:37:46"},{iv:40754.25,t:"13:37:47"},{iv:40753.95,t:"13:37:48"},{iv:40758.5,t:"13:37:49"},{iv:40756.05,t:"13:37:50"},{iv:40759.2,t:"13:37:51"},{iv:40757.95,t:"13:37:52"},{iv:40757.55,t:"13:37:53"},{iv:40755.4,t:"13:37:54"},{iv:40755.65,t:"13:37:55"},{iv:40755.5,t:"13:37:56"},{iv:40755.55,t:"13:37:57"},{iv:40756.5,t:"13:37:58"},{iv:40756.45,t:"13:37:59"},{iv:40758.6,t:"13:38:00"},{iv:40756.65,t:"13:38:01"},{iv:40753.75,t:"13:38:02"},{iv:40753.85,t:"13:38:03"},{iv:40756.1,t:"13:38:04"},{iv:40756.6,t:"13:38:05"},{iv:40754.95,t:"13:38:06"},{iv:40756.1,t:"13:38:07"},{iv:40756.6,t:"13:38:08"},{iv:40757.05,t:"13:38:09"},{iv:40752.6,t:"13:38:10"},{iv:40755,t:"13:38:11"},{iv:40755.35,t:"13:38:12"},{iv:40755.6,t:"13:38:13"},{iv:40757.9,t:"13:38:14"},{iv:40756.3,t:"13:38:15"},{iv:40755.65,t:"13:38:16"},{iv:40756.25,t:"13:38:17"},{iv:40760.6,t:"13:38:18"},{iv:40763.3,t:"13:38:19"},{iv:40765.35,t:"13:38:20"},{iv:40770.15,t:"13:38:21"},{iv:40772.1,t:"13:38:22"},{iv:40773.35,t:"13:38:23"},{iv:40773.5,t:"13:38:24"},{iv:40773.7,t:"13:38:25"},{iv:40775.95,t:"13:38:26"},{iv:40775.6,t:"13:38:27"},{iv:40775.55,t:"13:38:28"},{iv:40771.6,t:"13:38:29"},{iv:40770.55,t:"13:38:30"},{iv:40773.25,t:"13:38:31"},{iv:40768.95,t:"13:38:32"},{iv:40772.95,t:"13:38:33"},{iv:40771.45,t:"13:38:34"},{iv:40769.45,t:"13:38:35"},{iv:40772,t:"13:38:36"},{iv:40773.15,t:"13:38:37"},{iv:40772.7,t:"13:38:38"},{iv:40763.05,t:"13:38:39"},{iv:40764.25,t:"13:38:40"},{iv:40763.75,t:"13:38:41"},{iv:40766.95,t:"13:38:42"},{iv:40767.25,t:"13:38:43"},{iv:40763.75,t:"13:38:44"},{iv:40765.9,t:"13:38:45"},{iv:40766.55,t:"13:38:46"},{iv:40764.5,t:"13:38:47"},{iv:40764.1,t:"13:38:48"},{iv:40764.2,t:"13:38:49"},{iv:40761,t:"13:38:50"},{iv:40764,t:"13:38:51"},{iv:40764.6,t:"13:38:52"},{iv:40763.4,t:"13:38:53"},{iv:40762.3,t:"13:38:54"},{iv:40753.1,t:"13:38:55"},{iv:40753.75,t:"13:38:56"},{iv:40757.8,t:"13:38:57"},{iv:40751.75,t:"13:38:58"},{iv:40751.15,t:"13:38:59"},{iv:40750.85,t:"13:39:00"},{iv:40753.4,t:"13:39:01"},{iv:40754.35,t:"13:39:02"},{iv:40756.6,t:"13:39:03"},{iv:40757.45,t:"13:39:04"},{iv:40754.85,t:"13:39:05"},{iv:40754.15,t:"13:39:06"},{iv:40755.05,t:"13:39:07"},{iv:40754.85,t:"13:39:08"},{iv:40757.45,t:"13:39:09"},{iv:40753.3,t:"13:39:10"},{iv:40756.25,t:"13:39:11"},{iv:40756.55,t:"13:39:12"},{iv:40752.75,t:"13:39:13"},{iv:40754.95,t:"13:39:14"},{iv:40754.45,t:"13:39:15"},{iv:40752.25,t:"13:39:16"},{iv:40751.9,t:"13:39:17"},{iv:40750.15,t:"13:39:18"},{iv:40751.3,t:"13:39:19"},{iv:40757.4,t:"13:39:20"},{iv:40757.15,t:"13:39:21"},{iv:40758.25,t:"13:39:22"},{iv:40757.2,t:"13:39:23"},{iv:40759.25,t:"13:39:24"},{iv:40760.65,t:"13:39:25"},{iv:40764.65,t:"13:39:26"},{iv:40767.35,t:"13:39:27"},{iv:40766.7,t:"13:39:28"},{iv:40767.5,t:"13:39:29"},{iv:40763.35,t:"13:39:30"},{iv:40766.95,t:"13:39:31"},{iv:40767.3,t:"13:39:32"},{iv:40763.95,t:"13:39:33"},{iv:40767.6,t:"13:39:34"},{iv:40765.75,t:"13:39:35"},{iv:40763.35,t:"13:39:36"},{iv:40765.85,t:"13:39:37"},{iv:40765.1,t:"13:39:38"},{iv:40764.5,t:"13:39:39"},{iv:40758.35,t:"13:39:40"},{iv:40762.65,t:"13:39:41"},{iv:40760.55,t:"13:39:42"},{iv:40756.1,t:"13:39:43"},{iv:40755.6,t:"13:39:44"},{iv:40758.1,t:"13:39:45"},{iv:40755.6,t:"13:39:46"},{iv:40756.95,t:"13:39:47"},{iv:40753.6,t:"13:39:48"},{iv:40759.6,t:"13:39:49"},{iv:40760.6,t:"13:39:50"},{iv:40760.5,t:"13:39:51"},{iv:40763.15,t:"13:39:52"},{iv:40763.75,t:"13:39:53"},{iv:40760.05,t:"13:39:54"},{iv:40760.9,t:"13:39:55"},{iv:40764.1,t:"13:39:56"},{iv:40762.25,t:"13:39:57"},{iv:40761.35,t:"13:39:58"},{iv:40760.55,t:"13:39:59"},{iv:40758.65,t:"13:40:00"},{iv:40759.05,t:"13:40:01"},{iv:40757.15,t:"13:40:02"},{iv:40759.65,t:"13:40:03"},{iv:40758.6,t:"13:40:04"},{iv:40759.45,t:"13:40:05"},{iv:40764.25,t:"13:40:06"},{iv:40766.45,t:"13:40:07"},{iv:40765.2,t:"13:40:08"},{iv:40767.05,t:"13:40:09"},{iv:40764.65,t:"13:40:10"},{iv:40766.15,t:"13:40:11"},{iv:40769.05,t:"13:40:12"},{iv:40771.25,t:"13:40:13"},{iv:40773.4,t:"13:40:14"},{iv:40772.9,t:"13:40:15"},{iv:40774.25,t:"13:40:16"},{iv:40774.4,t:"13:40:17"},{iv:40776.35,t:"13:40:18"},{iv:40777.5,t:"13:40:19"},{iv:40774.3,t:"13:40:20"},{iv:40776.9,t:"13:40:21"},{iv:40777.05,t:"13:40:22"},{iv:40780.55,t:"13:40:23"},{iv:40781.8,t:"13:40:24"},{iv:40781.45,t:"13:40:25"},{iv:40778.95,t:"13:40:26"},{iv:40779.85,t:"13:40:27"},{iv:40783.65,t:"13:40:28"},{iv:40785.45,t:"13:40:29"},{iv:40783.55,t:"13:40:30"},{iv:40784.05,t:"13:40:31"},{iv:40782.8,t:"13:40:32"},{iv:40785.85,t:"13:40:33"},{iv:40784.1,t:"13:40:34"},{iv:40785.25,t:"13:40:35"},{iv:40793.85,t:"13:40:36"},{iv:40795.15,t:"13:40:37"},{iv:40796.1,t:"13:40:38"},{iv:40794.85,t:"13:40:39"},{iv:40792.55,t:"13:40:40"},{iv:40794.25,t:"13:40:41"},{iv:40794.5,t:"13:40:42"},{iv:40793.5,t:"13:40:43"},{iv:40795.2,t:"13:40:44"},{iv:40795.45,t:"13:40:45"},{iv:40795.85,t:"13:40:46"},{iv:40793.7,t:"13:40:47"},{iv:40793.95,t:"13:40:48"},{iv:40795.25,t:"13:40:49"},{iv:40783.6,t:"13:40:50"},{iv:40787.25,t:"13:40:51"},{iv:40787,t:"13:40:52"},{iv:40782.95,t:"13:40:53"},{iv:40782.75,t:"13:40:54"},{iv:40780.95,t:"13:40:55"},{iv:40782.35,t:"13:40:56"},{iv:40785.05,t:"13:40:57"},{iv:40782.4,t:"13:40:58"},{iv:40782.7,t:"13:40:59"},{iv:40784.05,t:"13:41:00"},{iv:40785.1,t:"13:41:01"},{iv:40781.4,t:"13:41:02"},{iv:40783.3,t:"13:41:03"},{iv:40783.85,t:"13:41:04"},{iv:40782.75,t:"13:41:05"},{iv:40781.55,t:"13:41:06"},{iv:40779.7,t:"13:41:07"},{iv:40774.45,t:"13:41:08"},{iv:40781.05,t:"13:41:09"},{iv:40780.2,t:"13:41:10"},{iv:40777.5,t:"13:41:11"},{iv:40776.8,t:"13:41:12"},{iv:40777.8,t:"13:41:13"},{iv:40774.6,t:"13:41:14"},{iv:40772.35,t:"13:41:15"},{iv:40774.65,t:"13:41:16"},{iv:40768.65,t:"13:41:17"},{iv:40768.95,t:"13:41:18"},{iv:40769.8,t:"13:41:19"},{iv:40771.25,t:"13:41:20"},{iv:40774.2,t:"13:41:21"},{iv:40772.95,t:"13:41:22"},{iv:40775,t:"13:41:23"},{iv:40773.45,t:"13:41:24"},{iv:40772.4,t:"13:41:25"},{iv:40774.8,t:"13:41:26"},{iv:40774.65,t:"13:41:27"},{iv:40779.55,t:"13:41:28"},{iv:40780.75,t:"13:41:29"},{iv:40779.85,t:"13:41:30"},{iv:40780.7,t:"13:41:31"},{iv:40784.95,t:"13:41:32"},{iv:40788.7,t:"13:41:33"},{iv:40785.1,t:"13:41:34"},{iv:40783.9,t:"13:41:35"},{iv:40782.1,t:"13:41:36"},{iv:40784.7,t:"13:41:37"},{iv:40778.5,t:"13:41:38"},{iv:40775.2,t:"13:41:39"},{iv:40779.15,t:"13:41:40"},{iv:40778.3,t:"13:41:41"},{iv:40778.3,t:"13:41:42"},{iv:40774.65,t:"13:41:43"},{iv:40777.55,t:"13:41:44"},{iv:40774.15,t:"13:41:45"},{iv:40774.35,t:"13:41:46"},{iv:40775.55,t:"13:41:47"},{iv:40774.4,t:"13:41:48"},{iv:40775.05,t:"13:41:49"},{iv:40776.1,t:"13:41:50"},{iv:40778.15,t:"13:41:51"},{iv:40779.5,t:"13:41:52"},{iv:40779.75,t:"13:41:53"},{iv:40779,t:"13:41:54"},{iv:40779,t:"13:41:55"},{iv:40778.4,t:"13:41:56"},{iv:40775.55,t:"13:41:57"},{iv:40775.3,t:"13:41:58"},{iv:40769.4,t:"13:41:59"},{iv:40765.25,t:"13:42:00"},{iv:40767,t:"13:42:01"},{iv:40764.05,t:"13:42:02"},{iv:40764.1,t:"13:42:03"},{iv:40764.35,t:"13:42:04"},{iv:40758.9,t:"13:42:05"},{iv:40763.1,t:"13:42:06"},{iv:40767.1,t:"13:42:07"},{iv:40765.35,t:"13:42:08"},{iv:40765.7,t:"13:42:09"},{iv:40762.6,t:"13:42:10"},{iv:40763.15,t:"13:42:11"},{iv:40762.25,t:"13:42:12"},{iv:40761.7,t:"13:42:13"},{iv:40762.55,t:"13:42:14"},{iv:40762.3,t:"13:42:15"},{iv:40763.45,t:"13:42:16"},{iv:40765.05,t:"13:42:17"},{iv:40763.1,t:"13:42:18"},{iv:40764.05,t:"13:42:19"},{iv:40761.75,t:"13:42:20"},{iv:40763.65,t:"13:42:21"},{iv:40766.15,t:"13:42:22"},{iv:40774.15,t:"13:42:23"},{iv:40771.65,t:"13:42:24"},{iv:40770.45,t:"13:42:25"},{iv:40768.25,t:"13:42:26"},{iv:40771.1,t:"13:42:27"},{iv:40772.35,t:"13:42:28"},{iv:40768.35,t:"13:42:29"},{iv:40771.6,t:"13:42:30"},{iv:40771.45,t:"13:42:31"},{iv:40769.55,t:"13:42:32"},{iv:40776.85,t:"13:42:33"},{iv:40770.8,t:"13:42:34"},{iv:40767.95,t:"13:42:35"},{iv:40770.3,t:"13:42:36"},{iv:40768.3,t:"13:42:37"},{iv:40768.05,t:"13:42:38"},{iv:40767.35,t:"13:42:39"},{iv:40768.5,t:"13:42:40"},{iv:40769.75,t:"13:42:41"},{iv:40771,t:"13:42:42"},{iv:40771.75,t:"13:42:43"},{iv:40772.45,t:"13:42:44"},{iv:40770.1,t:"13:42:45"},{iv:40775.9,t:"13:42:46"},{iv:40775.35,t:"13:42:47"},{iv:40774.35,t:"13:42:48"},{iv:40773.8,t:"13:42:49"},{iv:40772.7,t:"13:42:50"},{iv:40773.2,t:"13:42:51"},{iv:40774.35,t:"13:42:52"},{iv:40766.8,t:"13:42:53"},{iv:40769.05,t:"13:42:54"},{iv:40766.35,t:"13:42:55"},{iv:40768.1,t:"13:42:56"},{iv:40766.25,t:"13:42:57"},{iv:40768.65,t:"13:42:58"},{iv:40765.1,t:"13:42:59"},{iv:40762.75,t:"13:43:00"},{iv:40763.5,t:"13:43:01"},{iv:40763,t:"13:43:02"},{iv:40760.15,t:"13:43:03"},{iv:40761,t:"13:43:04"},{iv:40759.5,t:"13:43:05"},{iv:40759,t:"13:43:06"},{iv:40760.2,t:"13:43:07"},{iv:40760.95,t:"13:43:08"},{iv:40758.3,t:"13:43:09"},{iv:40758.25,t:"13:43:10"},{iv:40758.3,t:"13:43:11"},{iv:40751.4,t:"13:43:12"},{iv:40753.65,t:"13:43:13"},{iv:40753.95,t:"13:43:14"},{iv:40753.15,t:"13:43:15"},{iv:40752.75,t:"13:43:16"},{iv:40755.5,t:"13:43:17"},{iv:40756.55,t:"13:43:18"},{iv:40755.25,t:"13:43:19"},{iv:40755.1,t:"13:43:20"},{iv:40755.35,t:"13:43:21"},{iv:40756.25,t:"13:43:22"},{iv:40756.5,t:"13:43:23"},{iv:40757.9,t:"13:43:24"},{iv:40755.35,t:"13:43:25"},{iv:40755,t:"13:43:26"},{iv:40755.7,t:"13:43:27"},{iv:40755.4,t:"13:43:28"},{iv:40753.4,t:"13:43:29"},{iv:40752.45,t:"13:43:30"},{iv:40746.9,t:"13:43:31"},{iv:40747.8,t:"13:43:32"},{iv:40745.5,t:"13:43:33"},{iv:40740.3,t:"13:43:34"},{iv:40737.05,t:"13:43:35"},{iv:40737.5,t:"13:43:36"},{iv:40735.1,t:"13:43:37"},{iv:40735.3,t:"13:43:38"},{iv:40736.15,t:"13:43:39"},{iv:40730.1,t:"13:43:40"},{iv:40730.8,t:"13:43:41"},{iv:40729.7,t:"13:43:42"},{iv:40729.75,t:"13:43:43"},{iv:40730.05,t:"13:43:44"},{iv:40729.3,t:"13:43:45"},{iv:40728.65,t:"13:43:46"},{iv:40727.1,t:"13:43:47"},{iv:40726.75,t:"13:43:48"},{iv:40729.65,t:"13:43:49"},{iv:40726.95,t:"13:43:50"},{iv:40730.3,t:"13:43:51"},{iv:40730.2,t:"13:43:52"},{iv:40734.25,t:"13:43:53"},{iv:40732.05,t:"13:43:54"},{iv:40729,t:"13:43:55"},{iv:40728.1,t:"13:43:56"},{iv:40730.1,t:"13:43:57"},{iv:40731.35,t:"13:43:58"},{iv:40729.7,t:"13:43:59"},{iv:40734.1,t:"13:44:00"},{iv:40732.7,t:"13:44:01"},{iv:40731.3,t:"13:44:02"},{iv:40726.9,t:"13:44:03"},{iv:40733,t:"13:44:04"},{iv:40726.15,t:"13:44:05"},{iv:40726.25,t:"13:44:06"},{iv:40727.15,t:"13:44:07"},{iv:40725.25,t:"13:44:08"},{iv:40728.2,t:"13:44:09"},{iv:40718.2,t:"13:44:10"},{iv:40724.25,t:"13:44:11"},{iv:40725.9,t:"13:44:12"},{iv:40723.2,t:"13:44:13"},{iv:40721.85,t:"13:44:14"},{iv:40721.7,t:"13:44:15"},{iv:40721.2,t:"13:44:16"},{iv:40719,t:"13:44:17"},{iv:40719,t:"13:44:18"},{iv:40723.8,t:"13:44:19"},{iv:40723.65,t:"13:44:20"},{iv:40722.35,t:"13:44:21"},{iv:40725.05,t:"13:44:22"},{iv:40721.65,t:"13:44:23"},{iv:40722.65,t:"13:44:24"},{iv:40718.7,t:"13:44:25"},{iv:40721.3,t:"13:44:26"},{iv:40724,t:"13:44:27"},{iv:40721.45,t:"13:44:28"},{iv:40719.15,t:"13:44:29"},{iv:40721.65,t:"13:44:30"},{iv:40721.45,t:"13:44:31"},{iv:40729.65,t:"13:44:32"},{iv:40732,t:"13:44:33"},{iv:40729.9,t:"13:44:34"},{iv:40728.95,t:"13:44:35"},{iv:40733.75,t:"13:44:36"},{iv:40734.25,t:"13:44:37"},{iv:40744.7,t:"13:44:38"},{iv:40740.55,t:"13:44:39"},{iv:40740.4,t:"13:44:40"},{iv:40740.8,t:"13:44:41"},{iv:40740.2,t:"13:44:42"},{iv:40741.3,t:"13:44:43"},{iv:40741.15,t:"13:44:44"},{iv:40740.55,t:"13:44:45"},{iv:40740.3,t:"13:44:46"},{iv:40739.45,t:"13:44:47"},{iv:40738.4,t:"13:44:48"},{iv:40736.9,t:"13:44:49"},{iv:40736.5,t:"13:44:50"},{iv:40738.7,t:"13:44:51"},{iv:40734.75,t:"13:44:52"},{iv:40732.65,t:"13:44:53"},{iv:40732.15,t:"13:44:54"},{iv:40726.35,t:"13:44:55"},{iv:40727.6,t:"13:44:56"},{iv:40727,t:"13:44:57"},{iv:40726.95,t:"13:44:58"},{iv:40723.3,t:"13:44:59"},{iv:40724.9,t:"13:45:00"},{iv:40722.95,t:"13:45:01"},{iv:40727.15,t:"13:45:02"},{iv:40730.55,t:"13:45:03"},{iv:40735.55,t:"13:45:04"},{iv:40734.7,t:"13:45:05"},{iv:40732.45,t:"13:45:06"},{iv:40733.95,t:"13:45:07"},{iv:40736.3,t:"13:45:08"},{iv:40738.6,t:"13:45:09"},{iv:40737.95,t:"13:45:10"},{iv:40738.4,t:"13:45:11"},{iv:40735.55,t:"13:45:12"},{iv:40737.25,t:"13:45:13"},{iv:40738.95,t:"13:45:14"},{iv:40738.2,t:"13:45:15"},{iv:40738.4,t:"13:45:16"},{iv:40739.95,t:"13:45:17"},{iv:40739.35,t:"13:45:18"},{iv:40739.55,t:"13:45:19"},{iv:40738.8,t:"13:45:20"},{iv:40737.5,t:"13:45:21"},{iv:40738.6,t:"13:45:22"},{iv:40737.35,t:"13:45:23"},{iv:40739.65,t:"13:45:24"},{iv:40737.05,t:"13:45:25"},{iv:40734.35,t:"13:45:26"},{iv:40734.95,t:"13:45:27"},{iv:40733.65,t:"13:45:28"},{iv:40734.9,t:"13:45:29"},{iv:40734.8,t:"13:45:30"},{iv:40735.7,t:"13:45:31"},{iv:40736.75,t:"13:45:32"},{iv:40734.3,t:"13:45:33"},{iv:40737.45,t:"13:45:34"},{iv:40735.6,t:"13:45:35"},{iv:40736.15,t:"13:45:36"},{iv:40733.05,t:"13:45:37"},{iv:40734.15,t:"13:45:38"},{iv:40735.2,t:"13:45:39"},{iv:40736.4,t:"13:45:40"},{iv:40737.05,t:"13:45:41"},{iv:40736.15,t:"13:45:42"},{iv:40736.25,t:"13:45:43"},{iv:40736.9,t:"13:45:44"},{iv:40735.4,t:"13:45:45"},{iv:40735.4,t:"13:45:46"},{iv:40735.7,t:"13:45:47"},{iv:40736.15,t:"13:45:48"},{iv:40737.05,t:"13:45:49"},{iv:40736.1,t:"13:45:50"},{iv:40740.4,t:"13:45:51"},{iv:40738.85,t:"13:45:52"},{iv:40739.75,t:"13:45:53"},{iv:40743.7,t:"13:45:54"},{iv:40744.35,t:"13:45:55"},{iv:40746.85,t:"13:45:56"},{iv:40748.05,t:"13:45:57"},{iv:40747.5,t:"13:45:58"},{iv:40747.45,t:"13:45:59"},{iv:40750.05,t:"13:46:00"},{iv:40757.2,t:"13:46:01"},{iv:40757.15,t:"13:46:02"},{iv:40756.8,t:"13:46:03"},{iv:40761.85,t:"13:46:04"},{iv:40759.35,t:"13:46:05"},{iv:40764.4,t:"13:46:06"},{iv:40762.35,t:"13:46:07"},{iv:40762.2,t:"13:46:08"},{iv:40761.95,t:"13:46:09"},{iv:40757.25,t:"13:46:10"},{iv:40758.55,t:"13:46:11"},{iv:40754.55,t:"13:46:12"},{iv:40758.4,t:"13:46:13"},{iv:40757.9,t:"13:46:14"},{iv:40756.75,t:"13:46:15"},{iv:40756.4,t:"13:46:16"},{iv:40756.45,t:"13:46:17"},{iv:40757.2,t:"13:46:18"},{iv:40759.2,t:"13:46:19"},{iv:40759.5,t:"13:46:20"},{iv:40762.8,t:"13:46:21"},{iv:40762.8,t:"13:46:22"},{iv:40762.55,t:"13:46:23"},{iv:40767.3,t:"13:46:24"},{iv:40763.7,t:"13:46:25"},{iv:40770.1,t:"13:46:26"},{iv:40771.8,t:"13:46:27"},{iv:40770.45,t:"13:46:28"},{iv:40776.1,t:"13:46:29"},{iv:40772.55,t:"13:46:30"},{iv:40774,t:"13:46:31"},{iv:40777.35,t:"13:46:32"},{iv:40780.1,t:"13:46:33"},{iv:40783.25,t:"13:46:34"},{iv:40783.45,t:"13:46:35"},{iv:40785.15,t:"13:46:36"},{iv:40784.05,t:"13:46:37"},{iv:40785.9,t:"13:46:38"},{iv:40787.7,t:"13:46:39"},{iv:40782.85,t:"13:46:40"},{iv:40782.9,t:"13:46:41"},{iv:40783.7,t:"13:46:42"},{iv:40779.6,t:"13:46:43"},{iv:40782.9,t:"13:46:44"},{iv:40780.1,t:"13:46:45"},{iv:40781.6,t:"13:46:46"},{iv:40782.9,t:"13:46:47"},{iv:40782.75,t:"13:46:48"},{iv:40785.85,t:"13:46:49"},{iv:40783.1,t:"13:46:50"},{iv:40786.45,t:"13:46:51"},{iv:40787.2,t:"13:46:52"},{iv:40785,t:"13:46:53"},{iv:40785.3,t:"13:46:54"},{iv:40782.95,t:"13:46:55"},{iv:40786.55,t:"13:46:56"},{iv:40788.45,t:"13:46:57"},{iv:40786.3,t:"13:46:58"},{iv:40786.7,t:"13:46:59"},{iv:40786.55,t:"13:47:00"},{iv:40785.6,t:"13:47:01"},{iv:40785.75,t:"13:47:02"},{iv:40783.3,t:"13:47:03"},{iv:40788.75,t:"13:47:04"},{iv:40787.15,t:"13:47:05"},{iv:40785.6,t:"13:47:06"},{iv:40786.15,t:"13:47:07"},{iv:40785.55,t:"13:47:08"},{iv:40781.35,t:"13:47:09"},{iv:40782.65,t:"13:47:10"},{iv:40781.2,t:"13:47:11"},{iv:40782.6,t:"13:47:12"},{iv:40781.35,t:"13:47:13"},{iv:40781.3,t:"13:47:14"},{iv:40777,t:"13:47:15"},{iv:40777.25,t:"13:47:16"},{iv:40778.2,t:"13:47:17"},{iv:40780,t:"13:47:18"},{iv:40780.2,t:"13:47:19"},{iv:40779.5,t:"13:47:20"},{iv:40777.75,t:"13:47:21"},{iv:40779.55,t:"13:47:22"},{iv:40778.15,t:"13:47:23"},{iv:40781.25,t:"13:47:24"},{iv:40780.45,t:"13:47:25"},{iv:40778.9,t:"13:47:26"},{iv:40784.2,t:"13:47:27"},{iv:40783.1,t:"13:47:28"},{iv:40781.6,t:"13:47:29"},{iv:40785.15,t:"13:47:30"},{iv:40782,t:"13:47:31"},{iv:40785.3,t:"13:47:32"},{iv:40784.2,t:"13:47:33"},{iv:40785.55,t:"13:47:34"},{iv:40786.3,t:"13:47:35"},{iv:40784.85,t:"13:47:36"},{iv:40784.8,t:"13:47:37"},{iv:40792.3,t:"13:47:38"},{iv:40790.2,t:"13:47:39"},{iv:40790.55,t:"13:47:40"},{iv:40792.6,t:"13:47:41"},{iv:40793.9,t:"13:47:42"},{iv:40791.75,t:"13:47:43"},{iv:40793.5,t:"13:47:44"},{iv:40791.25,t:"13:47:45"},{iv:40791.8,t:"13:47:46"},{iv:40788.4,t:"13:47:47"},{iv:40790.55,t:"13:47:48"},{iv:40789.5,t:"13:47:49"},{iv:40791.65,t:"13:47:50"},{iv:40793.35,t:"13:47:51"},{iv:40795.35,t:"13:47:52"},{iv:40794.75,t:"13:47:53"},{iv:40796.3,t:"13:47:54"},{iv:40794.15,t:"13:47:55"},{iv:40793.2,t:"13:47:56"},{iv:40797.6,t:"13:47:57"},{iv:40797.3,t:"13:47:58"},{iv:40796.45,t:"13:47:59"},{iv:40799.4,t:"13:48:00"},{iv:40800.6,t:"13:48:01"},{iv:40796.55,t:"13:48:02"},{iv:40800.65,t:"13:48:03"},{iv:40799.5,t:"13:48:04"},{iv:40797.6,t:"13:48:05"},{iv:40799.75,t:"13:48:06"},{iv:40801.8,t:"13:48:07"},{iv:40801.8,t:"13:48:08"},{iv:40796.2,t:"13:48:09"},{iv:40798.55,t:"13:48:10"},{iv:40799.1,t:"13:48:11"},{iv:40799.35,t:"13:48:12"},{iv:40799.4,t:"13:48:13"},{iv:40799.35,t:"13:48:14"},{iv:40795.6,t:"13:48:15"},{iv:40792.25,t:"13:48:16"},{iv:40792.65,t:"13:48:17"},{iv:40786.1,t:"13:48:18"},{iv:40784.9,t:"13:48:19"},{iv:40784.5,t:"13:48:20"},{iv:40787,t:"13:48:21"},{iv:40787.05,t:"13:48:22"},{iv:40784.9,t:"13:48:23"},{iv:40784.75,t:"13:48:24"},{iv:40781.7,t:"13:48:25"},{iv:40781.1,t:"13:48:26"},{iv:40779.75,t:"13:48:27"},{iv:40780.55,t:"13:48:28"},{iv:40778.05,t:"13:48:29"},{iv:40781,t:"13:48:30"},{iv:40780.1,t:"13:48:31"},{iv:40778.25,t:"13:48:32"},{iv:40779.95,t:"13:48:33"},{iv:40780.05,t:"13:48:34"},{iv:40780.3,t:"13:48:35"},{iv:40781.1,t:"13:48:36"},{iv:40779.85,t:"13:48:37"},{iv:40783.75,t:"13:48:38"},{iv:40780.45,t:"13:48:39"},{iv:40781.85,t:"13:48:40"},{iv:40780,t:"13:48:41"},{iv:40777.95,t:"13:48:42"},{iv:40782.1,t:"13:48:43"},{iv:40779.9,t:"13:48:44"},{iv:40779.1,t:"13:48:45"},{iv:40780,t:"13:48:46"},{iv:40785.1,t:"13:48:47"},{iv:40784.45,t:"13:48:48"},{iv:40783.1,t:"13:48:49"},{iv:40781.95,t:"13:48:50"},{iv:40779.95,t:"13:48:51"},{iv:40781.55,t:"13:48:52"},{iv:40782.65,t:"13:48:53"},{iv:40783.25,t:"13:48:54"},{iv:40780.05,t:"13:48:55"},{iv:40777.8,t:"13:48:56"},{iv:40776.45,t:"13:48:57"},{iv:40778.7,t:"13:48:58"},{iv:40776.8,t:"13:48:59"},{iv:40779.95,t:"13:49:00"},{iv:40781.25,t:"13:49:01"},{iv:40786.5,t:"13:49:02"},{iv:40789.55,t:"13:49:03"},{iv:40792.75,t:"13:49:04"},{iv:40791.75,t:"13:49:05"},{iv:40791.6,t:"13:49:06"},{iv:40795.05,t:"13:49:07"},{iv:40794.35,t:"13:49:08"},{iv:40795.5,t:"13:49:10"},{iv:40795.5,t:"13:49:10"},{iv:40795,t:"13:49:11"},{iv:40798.05,t:"13:49:13"},{iv:40798.05,t:"13:49:13"},{iv:40799.95,t:"13:49:14"},{iv:40796.6,t:"13:49:15"},{iv:40797.35,t:"13:49:16"},{iv:40799.1,t:"13:49:17"},{iv:40798.5,t:"13:49:18"},{iv:40799.65,t:"13:49:19"},{iv:40798.1,t:"13:49:20"},{iv:40800.9,t:"13:49:21"},{iv:40797.1,t:"13:49:22"},{iv:40799.1,t:"13:49:23"},{iv:40799.8,t:"13:49:24"},{iv:40802.35,t:"13:49:25"},{iv:40803.95,t:"13:49:26"},{iv:40806.2,t:"13:49:27"},{iv:40807.5,t:"13:49:28"},{iv:40803.8,t:"13:49:29"},{iv:40804.35,t:"13:49:30"},{iv:40803.9,t:"13:49:31"},{iv:40804.1,t:"13:49:32"},{iv:40805.1,t:"13:49:33"},{iv:40806.05,t:"13:49:34"},{iv:40802.4,t:"13:49:35"},{iv:40804.3,t:"13:49:36"},{iv:40801.65,t:"13:49:37"},{iv:40802.7,t:"13:49:38"},{iv:40803.35,t:"13:49:39"},{iv:40802.95,t:"13:49:40"},{iv:40802.35,t:"13:49:41"},{iv:40796.8,t:"13:49:42"},{iv:40801.15,t:"13:49:43"},{iv:40795.1,t:"13:49:44"},{iv:40799.25,t:"13:49:45"},{iv:40795.15,t:"13:49:46"},{iv:40797.35,t:"13:49:47"},{iv:40798.75,t:"13:49:48"},{iv:40799.1,t:"13:49:49"},{iv:40798.05,t:"13:49:50"},{iv:40801.65,t:"13:49:51"},{iv:40802.8,t:"13:49:52"},{iv:40803.3,t:"13:49:53"},{iv:40805.35,t:"13:49:54"},{iv:40807.45,t:"13:49:55"},{iv:40808.2,t:"13:49:56"},{iv:40807.6,t:"13:49:57"},{iv:40810.25,t:"13:49:58"},{iv:40813.85,t:"13:50:00"},{iv:40813.85,t:"13:50:00"},{iv:40815.15,t:"13:50:02"},{iv:40817.7,t:"13:50:03"},{iv:40817.7,t:"13:50:03"},{iv:40823.1,t:"13:50:04"},{iv:40822.25,t:"13:50:05"},{iv:40824.25,t:"13:50:06"},{iv:40821.85,t:"13:50:08"},{iv:40821.85,t:"13:50:08"},{iv:40824.4,t:"13:50:09"},{iv:40828.25,t:"13:50:11"},{iv:40828.25,t:"13:50:11"},{iv:40826.7,t:"13:50:12"},{iv:40828.75,t:"13:50:13"},{iv:40832.55,t:"13:50:14"},{iv:40831.05,t:"13:50:15"},{iv:40832.25,t:"13:50:16"},{iv:40831.4,t:"13:50:17"},{iv:40833.4,t:"13:50:18"},{iv:40833.4,t:"13:50:19"},{iv:40835.5,t:"13:50:20"},{iv:40836.85,t:"13:50:21"},{iv:40843.25,t:"13:50:22"},{iv:40841.4,t:"13:50:23"},{iv:40843.15,t:"13:50:24"},{iv:40844.5,t:"13:50:25"},{iv:40846.5,t:"13:50:26"},{iv:40846.4,t:"13:50:27"},{iv:40847.6,t:"13:50:28"},{iv:40851.85,t:"13:50:29"},{iv:40853.9,t:"13:50:30"},{iv:40855.15,t:"13:50:31"},{iv:40860.35,t:"13:50:32"},{iv:40862,t:"13:50:33"},{iv:40865.25,t:"13:50:34"},{iv:40865.45,t:"13:50:36"},{iv:40860.55,t:"13:50:37"},{iv:40860.55,t:"13:50:37"},{iv:40860.35,t:"13:50:38"},{iv:40863.4,t:"13:50:39"},{iv:40865.2,t:"13:50:40"},{iv:40863.65,t:"13:50:41"},{iv:40861.3,t:"13:50:42"},{iv:40863.55,t:"13:50:43"},{iv:40863.55,t:"13:50:44"},{iv:40858.25,t:"13:50:45"},{iv:40862.9,t:"13:50:46"},{iv:40858.35,t:"13:50:47"},{iv:40857.55,t:"13:50:48"},{iv:40858.65,t:"13:50:49"},{iv:40861.05,t:"13:50:50"},{iv:40851.3,t:"13:50:51"},{iv:40851.35,t:"13:50:52"},{iv:40847.95,t:"13:50:53"},{iv:40848.25,t:"13:50:54"},{iv:40847.25,t:"13:50:55"},{iv:40850.55,t:"13:50:56"},{iv:40846.95,t:"13:50:57"},{iv:40846.9,t:"13:50:58"},{iv:40847.1,t:"13:50:59"},{iv:40851.35,t:"13:51:00"},{iv:40857.15,t:"13:51:01"},{iv:40857.65,t:"13:51:02"},{iv:40855.7,t:"13:51:04"},{iv:40858.05,t:"13:51:04"},{iv:40857.1,t:"13:51:05"},{iv:40856.05,t:"13:51:06"},{iv:40858.6,t:"13:51:07"},{iv:40865.45,t:"13:51:08"},{iv:40865.75,t:"13:51:09"},{iv:40866.1,t:"13:51:10"},{iv:40866.5,t:"13:51:11"},{iv:40866.45,t:"13:51:12"},{iv:40870.15,t:"13:51:13"},{iv:40867.1,t:"13:51:14"},{iv:40862.45,t:"13:51:16"},{iv:40864.2,t:"13:51:17"},{iv:40864.2,t:"13:51:17"},{iv:40863.25,t:"13:51:18"},{iv:40863.25,t:"13:51:19"},{iv:40866.05,t:"13:51:20"},{iv:40867.05,t:"13:51:21"},{iv:40864.9,t:"13:51:22"},{iv:40867.65,t:"13:51:23"},{iv:40863.65,t:"13:51:24"},{iv:40864.15,t:"13:51:25"},{iv:40862.05,t:"13:51:26"},{iv:40864,t:"13:51:27"},{iv:40865.7,t:"13:51:28"},{iv:40865.5,t:"13:51:29"},{iv:40865.4,t:"13:51:30"},{iv:40863.8,t:"13:51:31"},{iv:40861.1,t:"13:51:32"},{iv:40861.9,t:"13:51:33"},{iv:40862.5,t:"13:51:34"},{iv:40861.15,t:"13:51:35"},{iv:40862.55,t:"13:51:36"},{iv:40861.45,t:"13:51:37"},{iv:40860.65,t:"13:51:38"},{iv:40861.4,t:"13:51:39"},{iv:40862.25,t:"13:51:40"},{iv:40862.75,t:"13:51:41"},{iv:40860.85,t:"13:51:42"},{iv:40863.7,t:"13:51:43"},{iv:40862.1,t:"13:51:44"},{iv:40863.25,t:"13:51:45"},{iv:40863.3,t:"13:51:46"},{iv:40861.1,t:"13:51:47"},{iv:40862.35,t:"13:51:48"},{iv:40863.15,t:"13:51:49"},{iv:40864.85,t:"13:51:50"},{iv:40865.5,t:"13:51:51"},{iv:40865.45,t:"13:51:52"},{iv:40867.5,t:"13:51:53"},{iv:40868.5,t:"13:51:54"},{iv:40866.8,t:"13:51:55"},{iv:40868.3,t:"13:51:56"},{iv:40868.75,t:"13:51:57"},{iv:40869.3,t:"13:51:58"},{iv:40870.25,t:"13:51:59"},{iv:40868.05,t:"13:52:00"},{iv:40867.7,t:"13:52:01"},{iv:40866.15,t:"13:52:02"},{iv:40867.5,t:"13:52:03"},{iv:40873.1,t:"13:52:04"},{iv:40873.3,t:"13:52:05"},{iv:40877.85,t:"13:52:06"},{iv:40876.7,t:"13:52:07"},{iv:40876.05,t:"13:52:08"},{iv:40876.3,t:"13:52:09"},{iv:40875.9,t:"13:52:10"},{iv:40877.05,t:"13:52:11"},{iv:40875.05,t:"13:52:12"},{iv:40876.05,t:"13:52:13"},{iv:40880.95,t:"13:52:14"},{iv:40878.35,t:"13:52:15"},{iv:40879.15,t:"13:52:16"},{iv:40875.85,t:"13:52:17"},{iv:40878.25,t:"13:52:18"},{iv:40877.55,t:"13:52:19"},{iv:40877.3,t:"13:52:20"},{iv:40878.85,t:"13:52:21"},{iv:40876.5,t:"13:52:22"},{iv:40879.65,t:"13:52:23"},{iv:40877.25,t:"13:52:24"},{iv:40877.55,t:"13:52:25"},{iv:40876.6,t:"13:52:28"},{iv:40876.5,t:"13:52:29"},{iv:40870.9,t:"13:52:30"},{iv:40871.9,t:"13:52:31"},{iv:40863.35,t:"13:52:32"},{iv:40858.25,t:"13:52:33"},{iv:40863.65,t:"13:52:34"},{iv:40851.9,t:"13:52:35"},{iv:40859.2,t:"13:52:36"},{iv:40860.45,t:"13:52:37"},{iv:40863.65,t:"13:52:38"},{iv:40861.35,t:"13:52:39"},{iv:40860.4,t:"13:52:40"},{iv:40860.7,t:"13:52:41"},{iv:40858.4,t:"13:52:42"},{iv:40859.85,t:"13:52:43"},{iv:40860.3,t:"13:52:44"},{iv:40863.95,t:"13:52:45"},{iv:40860.85,t:"13:52:46"},{iv:40860.2,t:"13:52:47"},{iv:40859.95,t:"13:52:48"},{iv:40860.05,t:"13:52:49"},{iv:40858.6,t:"13:52:50"},{iv:40859.55,t:"13:52:51"},{iv:40857.05,t:"13:52:52"},{iv:40861.1,t:"13:52:53"},{iv:40859.75,t:"13:52:54"},{iv:40859.1,t:"13:52:55"},{iv:40858.3,t:"13:52:56"},{iv:40858.3,t:"13:52:57"},{iv:40857.75,t:"13:52:58"},{iv:40859.45,t:"13:52:59"},{iv:40857.4,t:"13:53:00"},{iv:40860.6,t:"13:53:01"},{iv:40858.7,t:"13:53:02"},{iv:40860.9,t:"13:53:03"},{iv:40858.2,t:"13:53:04"},{iv:40856.9,t:"13:53:05"},{iv:40862.3,t:"13:53:06"},{iv:40861.25,t:"13:53:07"},{iv:40862.15,t:"13:53:08"},{iv:40863.05,t:"13:53:09"},{iv:40860.65,t:"13:53:10"},{iv:40863.7,t:"13:53:11"},{iv:40862.05,t:"13:53:12"},{iv:40862.55,t:"13:53:13"},{iv:40860.6,t:"13:53:14"},{iv:40863.5,t:"13:53:15"},{iv:40864.7,t:"13:53:16"},{iv:40865.4,t:"13:53:17"},{iv:40862.45,t:"13:53:18"},{iv:40865.45,t:"13:53:19"},{iv:40864.3,t:"13:53:20"},{iv:40863.9,t:"13:53:21"},{iv:40862.8,t:"13:53:22"},{iv:40863.9,t:"13:53:23"},{iv:40859.55,t:"13:53:24"},{iv:40863.5,t:"13:53:25"},{iv:40863.1,t:"13:53:26"},{iv:40859.9,t:"13:53:27"},{iv:40861.7,t:"13:53:28"},{iv:40859,t:"13:53:29"},{iv:40857.3,t:"13:53:30"},{iv:40855.9,t:"13:53:31"},{iv:40852.4,t:"13:53:32"},{iv:40848.7,t:"13:53:33"},{iv:40849.25,t:"13:53:34"},{iv:40850.85,t:"13:53:35"},{iv:40854.4,t:"13:53:36"},{iv:40850.7,t:"13:53:37"},{iv:40852.75,t:"13:53:38"},{iv:40854.05,t:"13:53:39"},{iv:40853.6,t:"13:53:40"},{iv:40853.85,t:"13:53:41"},{iv:40852.05,t:"13:53:42"},{iv:40852,t:"13:53:44"},{iv:40852,t:"13:53:44"},{iv:40854.7,t:"13:53:45"},{iv:40853.15,t:"13:53:46"},{iv:40852.45,t:"13:53:47"},{iv:40852.1,t:"13:53:48"},{iv:40848.8,t:"13:53:49"},{iv:40848.5,t:"13:53:50"},{iv:40849.15,t:"13:53:52"},{iv:40852.75,t:"13:53:53"},{iv:40852.75,t:"13:53:53"},{iv:40849.4,t:"13:53:54"},{iv:40848.75,t:"13:53:55"},{iv:40854,t:"13:53:56"},{iv:40852.85,t:"13:53:57"},{iv:40852.95,t:"13:53:58"},{iv:40851.45,t:"13:53:59"},{iv:40851.25,t:"13:54:00"},{iv:40851.2,t:"13:54:01"},{iv:40850.7,t:"13:54:02"},{iv:40850.5,t:"13:54:03"},{iv:40851.55,t:"13:54:04"},{iv:40851.7,t:"13:54:05"},{iv:40852.9,t:"13:54:06"},{iv:40855.95,t:"13:54:07"},{iv:40852.65,t:"13:54:08"},{iv:40854.5,t:"13:54:09"},{iv:40855.95,t:"13:54:10"},{iv:40857.9,t:"13:54:11"},{iv:40856.05,t:"13:54:12"},{iv:40855.4,t:"13:54:13"},{iv:40857.35,t:"13:54:14"},{iv:40858.85,t:"13:54:15"},{iv:40860.3,t:"13:54:16"},{iv:40864.25,t:"13:54:17"},{iv:40862.4,t:"13:54:18"},{iv:40866.7,t:"13:54:20"},{iv:40866.7,t:"13:54:20"},{iv:40870.6,t:"13:54:21"},{iv:40869.4,t:"13:54:22"},{iv:40868.35,t:"13:54:23"},{iv:40867.9,t:"13:54:24"},{iv:40871.9,t:"13:54:25"},{iv:40869.05,t:"13:54:26"},{iv:40868.1,t:"13:54:27"},{iv:40871,t:"13:54:28"},{iv:40868.6,t:"13:54:29"},{iv:40870.8,t:"13:54:30"},{iv:40870.45,t:"13:54:31"},{iv:40870.15,t:"13:54:32"},{iv:40867.85,t:"13:54:33"},{iv:40868.15,t:"13:54:34"},{iv:40870.1,t:"13:54:35"},{iv:40867.55,t:"13:54:36"},{iv:40867,t:"13:54:37"},{iv:40869.95,t:"13:54:38"},{iv:40868.3,t:"13:54:39"},{iv:40867.8,t:"13:54:40"},{iv:40867.35,t:"13:54:41"},{iv:40867,t:"13:54:42"},{iv:40864.35,t:"13:54:43"},{iv:40865.9,t:"13:54:44"},{iv:40863.5,t:"13:54:45"},{iv:40867,t:"13:54:46"},{iv:40865.8,t:"13:54:47"},{iv:40867.15,t:"13:54:48"},{iv:40868.35,t:"13:54:49"},{iv:40868.6,t:"13:54:50"},{iv:40870.75,t:"13:54:51"},{iv:40872.75,t:"13:54:52"},{iv:40873.65,t:"13:54:53"},{iv:40876.95,t:"13:54:54"},{iv:40877.85,t:"13:54:55"},{iv:40880.6,t:"13:54:56"},{iv:40877.1,t:"13:54:57"},{iv:40877.7,t:"13:54:58"},{iv:40876.4,t:"13:54:59"},{iv:40875.2,t:"13:55:00"},{iv:40879.9,t:"13:55:02"},{iv:40879.9,t:"13:55:02"},{iv:40882.2,t:"13:55:03"},{iv:40883.25,t:"13:55:04"},{iv:40884,t:"13:55:05"},{iv:40885.15,t:"13:55:06"},{iv:40885.25,t:"13:55:07"},{iv:40886.35,t:"13:55:08"},{iv:40889.75,t:"13:55:09"},{iv:40889.8,t:"13:55:10"},{iv:40890.75,t:"13:55:11"},{iv:40890.05,t:"13:55:12"},{iv:40887.6,t:"13:55:13"},{iv:40886.4,t:"13:55:14"},{iv:40890.45,t:"13:55:15"},{iv:40887.3,t:"13:55:16"},{iv:40892.95,t:"13:55:17"},{iv:40892.25,t:"13:55:18"},{iv:40894.85,t:"13:55:19"},{iv:40897.75,t:"13:55:20"},{iv:40896.75,t:"13:55:21"},{iv:40891.35,t:"13:55:22"},{iv:40893.45,t:"13:55:23"},{iv:40892.35,t:"13:55:24"},{iv:40891.9,t:"13:55:25"},{iv:40893.15,t:"13:55:26"},{iv:40890.75,t:"13:55:27"},{iv:40887.35,t:"13:55:28"},{iv:40886.55,t:"13:55:29"},{iv:40881.7,t:"13:55:30"},{iv:40880.55,t:"13:55:31"},{iv:40878.05,t:"13:55:32"},{iv:40878.45,t:"13:55:33"},{iv:40876.65,t:"13:55:34"},{iv:40877.95,t:"13:55:35"},{iv:40876.25,t:"13:55:36"},{iv:40876.85,t:"13:55:37"},{iv:40876.05,t:"13:55:38"},{iv:40869.75,t:"13:55:39"},{iv:40870.1,t:"13:55:40"},{iv:40875.8,t:"13:55:41"},{iv:40870.35,t:"13:55:42"},{iv:40877.75,t:"13:55:43"},{iv:40871.45,t:"13:55:44"},{iv:40876.3,t:"13:55:45"},{iv:40872.15,t:"13:55:46"},{iv:40875.3,t:"13:55:47"},{iv:40875.1,t:"13:55:48"},{iv:40875.95,t:"13:55:49"},{iv:40877.05,t:"13:55:50"},{iv:40878.05,t:"13:55:51"},{iv:40876.7,t:"13:55:52"},{iv:40876.65,t:"13:55:53"},{iv:40876.1,t:"13:55:54"},{iv:40873.85,t:"13:55:55"},{iv:40876.4,t:"13:55:56"},{iv:40876.95,t:"13:55:57"},{iv:40877.15,t:"13:55:58"},{iv:40874.25,t:"13:55:59"},{iv:40874.6,t:"13:56:00"},{iv:40873.85,t:"13:56:01"},{iv:40868.75,t:"13:56:02"},{iv:40878,t:"13:56:03"},{iv:40871.25,t:"13:56:04"},{iv:40873.9,t:"13:56:05"},{iv:40875.8,t:"13:56:06"},{iv:40868.65,t:"13:56:07"},{iv:40868.6,t:"13:56:08"},{iv:40866.85,t:"13:56:09"},{iv:40868.6,t:"13:56:10"},{iv:40868.55,t:"13:56:11"},{iv:40865.5,t:"13:56:12"},{iv:40869.65,t:"13:56:13"},{iv:40868.15,t:"13:56:14"},{iv:40867.3,t:"13:56:15"},{iv:40866.35,t:"13:56:16"},{iv:40867.25,t:"13:56:17"},{iv:40864.25,t:"13:56:18"},{iv:40865.75,t:"13:56:19"},{iv:40863.85,t:"13:56:20"},{iv:40863.05,t:"13:56:21"},{iv:40860.55,t:"13:56:22"},{iv:40862.95,t:"13:56:23"},{iv:40863.05,t:"13:56:24"},{iv:40864,t:"13:56:25"},{iv:40863.9,t:"13:56:26"},{iv:40863.25,t:"13:56:27"},{iv:40863.95,t:"13:56:28"},{iv:40863.2,t:"13:56:29"},{iv:40864.3,t:"13:56:30"},{iv:40863.55,t:"13:56:31"},{iv:40862.8,t:"13:56:32"},{iv:40861.15,t:"13:56:33"},{iv:40858.55,t:"13:56:34"},{iv:40858.45,t:"13:56:35"},{iv:40858.5,t:"13:56:36"},{iv:40859.95,t:"13:56:37"},{iv:40862.3,t:"13:56:38"},{iv:40857.05,t:"13:56:39"},{iv:40854.65,t:"13:56:40"},{iv:40856.15,t:"13:56:41"},{iv:40849.85,t:"13:56:42"},{iv:40851,t:"13:56:43"},{iv:40847.3,t:"13:56:44"},{iv:40846.15,t:"13:56:45"},{iv:40848.25,t:"13:56:46"},{iv:40846.95,t:"13:56:47"},{iv:40845.6,t:"13:56:48"},{iv:40846.65,t:"13:56:49"},{iv:40844.6,t:"13:56:50"},{iv:40843.6,t:"13:56:51"},{iv:40853.9,t:"13:56:52"},{iv:40852.4,t:"13:56:53"},{iv:40850.3,t:"13:56:54"},{iv:40861.1,t:"13:56:55"},{iv:40862.15,t:"13:56:56"},{iv:40863.45,t:"13:56:57"},{iv:40866.45,t:"13:56:58"},{iv:40868.5,t:"13:56:59"},{iv:40871.7,t:"13:57:00"},{iv:40874.05,t:"13:57:01"},{iv:40874.75,t:"13:57:02"},{iv:40873.6,t:"13:57:03"},{iv:40876.3,t:"13:57:04"},{iv:40875.3,t:"13:57:05"},{iv:40876.9,t:"13:57:06"},{iv:40878.75,t:"13:57:07"},{iv:40875.6,t:"13:57:08"},{iv:40873.15,t:"13:57:09"},{iv:40871.75,t:"13:57:10"},{iv:40874.3,t:"13:57:11"},{iv:40876.2,t:"13:57:12"},{iv:40876.5,t:"13:57:13"},{iv:40873.8,t:"13:57:14"},{iv:40873.15,t:"13:57:15"},{iv:40871.95,t:"13:57:16"},{iv:40873.45,t:"13:57:17"},{iv:40874.2,t:"13:57:18"},{iv:40875.5,t:"13:57:19"},{iv:40876.1,t:"13:57:20"},{iv:40873.5,t:"13:57:21"},{iv:40873.95,t:"13:57:22"},{iv:40873.5,t:"13:57:23"},{iv:40873.25,t:"13:57:24"},{iv:40872.15,t:"13:57:25"},{iv:40873.2,t:"13:57:26"},{iv:40874.25,t:"13:57:27"},{iv:40875.25,t:"13:57:28"},{iv:40872.9,t:"13:57:29"},{iv:40872.05,t:"13:57:30"},{iv:40871.4,t:"13:57:31"},{iv:40873,t:"13:57:32"},{iv:40871.95,t:"13:57:33"},{iv:40872.85,t:"13:57:34"},{iv:40872.7,t:"13:57:35"},{iv:40872.25,t:"13:57:36"},{iv:40873.8,t:"13:57:37"},{iv:40873.9,t:"13:57:38"},{iv:40871.8,t:"13:57:39"},{iv:40870.6,t:"13:57:40"},{iv:40868.5,t:"13:57:41"},{iv:40865.7,t:"13:57:42"},{iv:40862.35,t:"13:57:43"},{iv:40863.8,t:"13:57:44"},{iv:40860.85,t:"13:57:45"},{iv:40860.5,t:"13:57:46"},{iv:40859.5,t:"13:57:47"},{iv:40857.4,t:"13:57:48"},{iv:40861.1,t:"13:57:49"},{iv:40860.25,t:"13:57:50"},{iv:40860.65,t:"13:57:51"},{iv:40863.55,t:"13:57:52"},{iv:40857.1,t:"13:57:53"},{iv:40859.15,t:"13:57:54"},{iv:40853.85,t:"13:57:55"},{iv:40853.5,t:"13:57:56"},{iv:40852.1,t:"13:57:57"},{iv:40851.6,t:"13:57:58"},{iv:40850.8,t:"13:57:59"},{iv:40850.75,t:"13:58:00"},{iv:40849.15,t:"13:58:01"},{iv:40846.3,t:"13:58:02"},{iv:40848.15,t:"13:58:03"},{iv:40848.3,t:"13:58:04"},{iv:40846,t:"13:58:05"},{iv:40845,t:"13:58:06"},{iv:40843.9,t:"13:58:07"},{iv:40843.05,t:"13:58:08"},{iv:40842.85,t:"13:58:09"},{iv:40840.7,t:"13:58:10"},{iv:40843.75,t:"13:58:11"},{iv:40841.45,t:"13:58:12"},{iv:40843,t:"13:58:13"},{iv:40843.15,t:"13:58:14"},{iv:40841.4,t:"13:58:15"},{iv:40841.9,t:"13:58:16"},{iv:40842.2,t:"13:58:17"},{iv:40841.2,t:"13:58:18"},{iv:40844.65,t:"13:58:19"},{iv:40844.65,t:"13:58:20"},{iv:40849,t:"13:58:21"},{iv:40842.2,t:"13:58:22"},{iv:40845.4,t:"13:58:23"},{iv:40845.2,t:"13:58:24"},{iv:40842.25,t:"13:58:25"},{iv:40842.9,t:"13:58:26"},{iv:40843.35,t:"13:58:27"},{iv:40842.05,t:"13:58:28"},{iv:40842.25,t:"13:58:29"},{iv:40841.55,t:"13:58:30"},{iv:40841.1,t:"13:58:31"},{iv:40842.6,t:"13:58:32"},{iv:40841.7,t:"13:58:33"},{iv:40842.55,t:"13:58:34"},{iv:40841.45,t:"13:58:35"},{iv:40840.9,t:"13:58:36"},{iv:40842.65,t:"13:58:37"},{iv:40842.8,t:"13:58:38"},{iv:40842.3,t:"13:58:39"},{iv:40843.4,t:"13:58:40"},{iv:40844.1,t:"13:58:41"},{iv:40841,t:"13:58:42"},{iv:40839.55,t:"13:58:43"},{iv:40840.7,t:"13:58:44"},{iv:40839.4,t:"13:58:45"},{iv:40838.7,t:"13:58:46"},{iv:40835.1,t:"13:58:47"},{iv:40835.3,t:"13:58:48"},{iv:40835.25,t:"13:58:49"},{iv:40834.5,t:"13:58:50"},{iv:40834.9,t:"13:58:51"},{iv:40834.55,t:"13:58:52"},{iv:40833.6,t:"13:58:53"},{iv:40831.65,t:"13:58:54"},{iv:40830.85,t:"13:58:55"},{iv:40829.65,t:"13:58:56"},{iv:40830.65,t:"13:58:57"},{iv:40827.2,t:"13:58:58"},{iv:40827.65,t:"13:58:59"},{iv:40830.85,t:"13:59:00"},{iv:40827.8,t:"13:59:01"},{iv:40825.8,t:"13:59:02"},{iv:40827.2,t:"13:59:03"},{iv:40826.15,t:"13:59:04"},{iv:40825.45,t:"13:59:05"},{iv:40825.45,t:"13:59:06"},{iv:40826.95,t:"13:59:07"},{iv:40824.85,t:"13:59:08"},{iv:40823.95,t:"13:59:09"},{iv:40822.9,t:"13:59:10"},{iv:40824.6,t:"13:59:11"},{iv:40825.4,t:"13:59:12"},{iv:40827.9,t:"13:59:13"},{iv:40826.85,t:"13:59:14"},{iv:40825.5,t:"13:59:15"},{iv:40826.85,t:"13:59:16"},{iv:40826.6,t:"13:59:17"},{iv:40828.8,t:"13:59:18"},{iv:40832.3,t:"13:59:19"},{iv:40834.5,t:"13:59:20"},{iv:40832.45,t:"13:59:21"},{iv:40832.95,t:"13:59:22"},{iv:40829.75,t:"13:59:23"},{iv:40831.3,t:"13:59:24"},{iv:40829.85,t:"13:59:25"},{iv:40828.65,t:"13:59:26"},{iv:40832,t:"13:59:27"},{iv:40831.2,t:"13:59:28"},{iv:40833.3,t:"13:59:29"},{iv:40829.85,t:"13:59:30"},{iv:40829.15,t:"13:59:31"},{iv:40829.1,t:"13:59:32"},{iv:40833.55,t:"13:59:33"},{iv:40833.6,t:"13:59:34"},{iv:40831.75,t:"13:59:35"},{iv:40832.75,t:"13:59:36"},{iv:40836.3,t:"13:59:37"},{iv:40842.1,t:"13:59:38"},{iv:40843.3,t:"13:59:39"},{iv:40841.9,t:"13:59:40"},{iv:40842.8,t:"13:59:41"},{iv:40841.05,t:"13:59:42"},{iv:40842.05,t:"13:59:43"},{iv:40841.8,t:"13:59:44"},{iv:40844.25,t:"13:59:45"},{iv:40844.45,t:"13:59:46"},{iv:40842.55,t:"13:59:47"},{iv:40845.3,t:"13:59:48"},{iv:40844.3,t:"13:59:49"},{iv:40843.5,t:"13:59:50"},{iv:40846,t:"13:59:51"},{iv:40846.6,t:"13:59:52"},{iv:40853.05,t:"13:59:53"},{iv:40855.1,t:"13:59:54"},{iv:40852.3,t:"13:59:55"},{iv:40850.45,t:"13:59:56"},{iv:40854.65,t:"13:59:57"},{iv:40852.75,t:"13:59:58"},{iv:40854.25,t:"13:59:59"},{iv:40855.45,t:"14:00:00"},{iv:40857.8,t:"14:00:01"},{iv:40855.6,t:"14:00:02"},{iv:40859.2,t:"14:00:03"},{iv:40859.6,t:"14:00:04"},{iv:40855.8,t:"14:00:05"},{iv:40855.55,t:"14:00:07"},{iv:40855.55,t:"14:00:07"},{iv:40855.15,t:"14:00:08"},{iv:40855.1,t:"14:00:09"},{iv:40854.85,t:"14:00:10"},{iv:40854.8,t:"14:00:11"},{iv:40855,t:"14:00:12"},{iv:40857.15,t:"14:00:13"},{iv:40857.5,t:"14:00:14"},{iv:40858.35,t:"14:00:15"},{iv:40860.05,t:"14:00:16"},{iv:40863.45,t:"14:00:17"},{iv:40864.7,t:"14:00:18"},{iv:40862.95,t:"14:00:19"},{iv:40864.2,t:"14:00:20"},{iv:40867.1,t:"14:00:21"},{iv:40864.4,t:"14:00:22"},{iv:40866.55,t:"14:00:23"},{iv:40867.25,t:"14:00:24"},{iv:40866.7,t:"14:00:25"},{iv:40867.35,t:"14:00:26"},{iv:40864.6,t:"14:00:27"},{iv:40863.3,t:"14:00:28"},{iv:40864,t:"14:00:29"},{iv:40866.25,t:"14:00:30"},{iv:40864.15,t:"14:00:31"},{iv:40868.8,t:"14:00:32"},{iv:40870.45,t:"14:00:33"},{iv:40870.4,t:"14:00:34"},{iv:40868.55,t:"14:00:35"},{iv:40878.8,t:"14:00:36"},{iv:40877.35,t:"14:00:37"},{iv:40882.6,t:"14:00:38"},{iv:40885.5,t:"14:00:39"},{iv:40883.05,t:"14:00:40"},{iv:40884.2,t:"14:00:41"},{iv:40885.5,t:"14:00:42"},{iv:40883.65,t:"14:00:43"},{iv:40884.5,t:"14:00:44"},{iv:40884.35,t:"14:00:45"},{iv:40885.35,t:"14:00:46"},{iv:40888.15,t:"14:00:47"},{iv:40887.75,t:"14:00:48"},{iv:40890.4,t:"14:00:49"},{iv:40890.85,t:"14:00:50"},{iv:40891.9,t:"14:00:51"},{iv:40890,t:"14:00:52"},{iv:40891.15,t:"14:00:53"},{iv:40893.45,t:"14:00:54"},{iv:40891.15,t:"14:00:55"},{iv:40893.4,t:"14:00:56"},{iv:40892.6,t:"14:00:57"},{iv:40893.95,t:"14:00:58"},{iv:40894.2,t:"14:00:59"},{iv:40894.15,t:"14:01:00"},{iv:40898.55,t:"14:01:01"},{iv:40897.55,t:"14:01:03"},{iv:40897.55,t:"14:01:03"},{iv:40905.05,t:"14:01:04"},{iv:40907.6,t:"14:01:05"},{iv:40907.05,t:"14:01:06"},{iv:40912.05,t:"14:01:07"},{iv:40912.15,t:"14:01:08"},{iv:40919.05,t:"14:01:09"},{iv:40916.1,t:"14:01:10"},{iv:40919.75,t:"14:01:11"},{iv:40918.45,t:"14:01:12"},{iv:40912.05,t:"14:01:13"},{iv:40914.65,t:"14:01:14"},{iv:40905.85,t:"14:01:15"},{iv:40912.2,t:"14:01:16"},{iv:40917.25,t:"14:01:17"},{iv:40920.8,t:"14:01:18"},{iv:40918.5,t:"14:01:19"},{iv:40919.3,t:"14:01:20"},{iv:40919.55,t:"14:01:21"},{iv:40919.15,t:"14:01:22"},{iv:40919.7,t:"14:01:23"},{iv:40919.7,t:"14:01:24"},{iv:40919.45,t:"14:01:25"},{iv:40917.9,t:"14:01:26"},{iv:40918.15,t:"14:01:27"},{iv:40918.4,t:"14:01:28"},{iv:40919,t:"14:01:29"},{iv:40921.4,t:"14:01:30"},{iv:40920.3,t:"14:01:31"},{iv:40918.75,t:"14:01:32"},{iv:40911.45,t:"14:01:33"},{iv:40914.8,t:"14:01:34"},{iv:40914.1,t:"14:01:35"},{iv:40915.15,t:"14:01:36"},{iv:40913.55,t:"14:01:37"},{iv:40914,t:"14:01:38"},{iv:40911.4,t:"14:01:39"},{iv:40913.1,t:"14:01:40"},{iv:40912.1,t:"14:01:41"},{iv:40907.8,t:"14:01:42"},{iv:40908.05,t:"14:01:43"},{iv:40907.65,t:"14:01:44"},{iv:40905.45,t:"14:01:45"},{iv:40905,t:"14:01:46"},{iv:40903.95,t:"14:01:47"},{iv:40905.3,t:"14:01:48"},{iv:40905.05,t:"14:01:49"},{iv:40904.55,t:"14:01:50"},{iv:40904.6,t:"14:01:51"},{iv:40901.75,t:"14:01:52"},{iv:40900.9,t:"14:01:53"},{iv:40900.75,t:"14:01:54"},{iv:40900.35,t:"14:01:55"},{iv:40899.8,t:"14:01:56"},{iv:40903.45,t:"14:01:57"},{iv:40904.45,t:"14:01:58"},{iv:40902.75,t:"14:01:59"},{iv:40900.75,t:"14:02:00"},{iv:40900.45,t:"14:02:01"},{iv:40900.9,t:"14:02:02"},{iv:40898.7,t:"14:02:03"},{iv:40899.35,t:"14:02:04"},{iv:40893.85,t:"14:02:05"},{iv:40896.05,t:"14:02:06"},{iv:40899.35,t:"14:02:07"},{iv:40897,t:"14:02:08"},{iv:40899.2,t:"14:02:09"},{iv:40898.3,t:"14:02:10"},{iv:40897.7,t:"14:02:11"},{iv:40893.95,t:"14:02:12"},{iv:40894.1,t:"14:02:13"},{iv:40893.85,t:"14:02:14"},{iv:40894.4,t:"14:02:15"},{iv:40894.15,t:"14:02:16"},{iv:40894.4,t:"14:02:17"},{iv:40894.95,t:"14:02:18"},{iv:40897,t:"14:02:19"},{iv:40893.15,t:"14:02:20"},{iv:40894.5,t:"14:02:21"},{iv:40892.35,t:"14:02:22"},{iv:40893.05,t:"14:02:23"},{iv:40893.5,t:"14:02:24"},{iv:40893.75,t:"14:02:25"},{iv:40893.15,t:"14:02:26"},{iv:40894.2,t:"14:02:27"},{iv:40892.3,t:"14:02:28"},{iv:40891.5,t:"14:02:29"},{iv:40891.8,t:"14:02:30"},{iv:40891.3,t:"14:02:31"},{iv:40887.65,t:"14:02:32"},{iv:40891.5,t:"14:02:33"},{iv:40892.65,t:"14:02:34"},{iv:40890.05,t:"14:02:35"},{iv:40891.4,t:"14:02:36"},{iv:40891.4,t:"14:02:37"},{iv:40890.55,t:"14:02:38"},{iv:40888.95,t:"14:02:39"},{iv:40881.6,t:"14:02:40"},{iv:40882.05,t:"14:02:41"},{iv:40880.1,t:"14:02:42"},{iv:40878.75,t:"14:02:43"},{iv:40879.5,t:"14:02:44"},{iv:40875.9,t:"14:02:45"},{iv:40881.75,t:"14:02:46"},{iv:40876.85,t:"14:02:47"},{iv:40876.1,t:"14:02:48"},{iv:40882.05,t:"14:02:49"},{iv:40877.6,t:"14:02:50"},{iv:40880.75,t:"14:02:51"},{iv:40876.9,t:"14:02:52"},{iv:40877.45,t:"14:02:53"},{iv:40876.85,t:"14:02:54"},{iv:40873.55,t:"14:02:55"},{iv:40874.9,t:"14:02:56"},{iv:40869.3,t:"14:02:57"},{iv:40872.6,t:"14:02:58"},{iv:40869.15,t:"14:02:59"},{iv:40869.65,t:"14:03:00"},{iv:40867.3,t:"14:03:01"},{iv:40867.25,t:"14:03:02"},{iv:40867.2,t:"14:03:03"},{iv:40872.05,t:"14:03:04"},{iv:40869.5,t:"14:03:05"},{iv:40870.5,t:"14:03:06"},{iv:40868,t:"14:03:07"},{iv:40870.25,t:"14:03:08"},{iv:40869,t:"14:03:09"},{iv:40870.95,t:"14:03:10"},{iv:40873.6,t:"14:03:11"},{iv:40875.35,t:"14:03:12"},{iv:40875.25,t:"14:03:13"},{iv:40873.7,t:"14:03:14"},{iv:40878.7,t:"14:03:15"},{iv:40880.1,t:"14:03:16"},{iv:40885.15,t:"14:03:17"},{iv:40883.8,t:"14:03:18"},{iv:40884.9,t:"14:03:19"},{iv:40883.25,t:"14:03:20"},{iv:40885.05,t:"14:03:21"},{iv:40885.65,t:"14:03:22"},{iv:40886.45,t:"14:03:23"},{iv:40886.5,t:"14:03:24"},{iv:40889.35,t:"14:03:25"},{iv:40888.85,t:"14:03:26"},{iv:40889.3,t:"14:03:27"},{iv:40887.05,t:"14:03:28"},{iv:40885.5,t:"14:03:29"},{iv:40883.35,t:"14:03:30"},{iv:40884.1,t:"14:03:31"},{iv:40883.45,t:"14:03:32"},{iv:40885.45,t:"14:03:33"},{iv:40882.1,t:"14:03:34"},{iv:40881.35,t:"14:03:35"},{iv:40880,t:"14:03:36"},{iv:40881.55,t:"14:03:37"},{iv:40881.9,t:"14:03:38"},{iv:40882.65,t:"14:03:39"},{iv:40881.85,t:"14:03:40"},{iv:40882.55,t:"14:03:41"},{iv:40880.65,t:"14:03:42"},{iv:40884.7,t:"14:03:43"},{iv:40886.9,t:"14:03:44"},{iv:40885.85,t:"14:03:45"},{iv:40885.85,t:"14:03:46"},{iv:40886.25,t:"14:03:47"},{iv:40885.15,t:"14:03:48"},{iv:40885.05,t:"14:03:49"},{iv:40885.05,t:"14:03:50"},{iv:40888.3,t:"14:03:51"},{iv:40887.45,t:"14:03:52"},{iv:40888.45,t:"14:03:53"},{iv:40889.25,t:"14:03:54"},{iv:40887.5,t:"14:03:55"},{iv:40886.7,t:"14:03:56"},{iv:40886.7,t:"14:03:57"},{iv:40888.85,t:"14:03:58"},{iv:40887.8,t:"14:03:59"},{iv:40888.45,t:"14:04:00"},{iv:40887.1,t:"14:04:01"},{iv:40885.2,t:"14:04:02"},{iv:40888.25,t:"14:04:03"},{iv:40887.75,t:"14:04:04"},{iv:40887.15,t:"14:04:05"},{iv:40888.3,t:"14:04:06"},{iv:40890.35,t:"14:04:07"},{iv:40889.95,t:"14:04:08"},{iv:40889.25,t:"14:04:09"},{iv:40896.9,t:"14:04:10"},{iv:40899.25,t:"14:04:11"},{iv:40897.45,t:"14:04:12"},{iv:40898.6,t:"14:04:13"},{iv:40896.8,t:"14:04:14"},{iv:40895.2,t:"14:04:15"},{iv:40896.45,t:"14:04:16"},{iv:40897.5,t:"14:04:17"},{iv:40897.05,t:"14:04:18"},{iv:40897.95,t:"14:04:19"},{iv:40897.05,t:"14:04:20"},{iv:40898.6,t:"14:04:21"},{iv:40899.35,t:"14:04:22"},{iv:40900.85,t:"14:04:23"},{iv:40900.95,t:"14:04:24"},{iv:40898.75,t:"14:04:25"},{iv:40898.05,t:"14:04:26"},{iv:40898.2,t:"14:04:27"},{iv:40900.05,t:"14:04:28"},{iv:40899.6,t:"14:04:29"},{iv:40898.95,t:"14:04:30"},{iv:40900.1,t:"14:04:31"},{iv:40901.15,t:"14:04:32"},{iv:40902.55,t:"14:04:33"},{iv:40901.7,t:"14:04:34"},{iv:40901.95,t:"14:04:35"},{iv:40903.1,t:"14:04:36"},{iv:40903.75,t:"14:04:37"},{iv:40903.65,t:"14:04:38"},{iv:40902.45,t:"14:04:39"},{iv:40902.8,t:"14:04:40"},{iv:40903.55,t:"14:04:41"},{iv:40902.75,t:"14:04:42"},{iv:40902.6,t:"14:04:43"},{iv:40901.95,t:"14:04:44"},{iv:40903.1,t:"14:04:45"},{iv:40902.2,t:"14:04:46"},{iv:40903.05,t:"14:04:47"},{iv:40901.65,t:"14:04:48"},{iv:40903.65,t:"14:04:49"},{iv:40901.65,t:"14:04:50"},{iv:40903.55,t:"14:04:51"},{iv:40903.9,t:"14:04:52"},{iv:40903.55,t:"14:04:53"},{iv:40907.15,t:"14:04:54"},{iv:40912.8,t:"14:04:55"},{iv:40911.55,t:"14:04:56"},{iv:40911.95,t:"14:04:57"},{iv:40912.15,t:"14:04:58"},{iv:40908.45,t:"14:04:59"},{iv:40912.15,t:"14:05:00"},{iv:40917.2,t:"14:05:01"},{iv:40916.3,t:"14:05:02"},{iv:40917.15,t:"14:05:03"},{iv:40917.15,t:"14:05:04"},{iv:40919.3,t:"14:05:05"},{iv:40921.6,t:"14:05:06"},{iv:40922.85,t:"14:05:07"},{iv:40919.95,t:"14:05:08"},{iv:40923.35,t:"14:05:09"},{iv:40922.9,t:"14:05:10"},{iv:40923.8,t:"14:05:11"},{iv:40922,t:"14:05:12"},{iv:40923.95,t:"14:05:13"},{iv:40923.2,t:"14:05:14"},{iv:40922.5,t:"14:05:15"},{iv:40922.7,t:"14:05:16"},{iv:40921.95,t:"14:05:17"},{iv:40920.65,t:"14:05:18"},{iv:40924.6,t:"14:05:19"},{iv:40913.15,t:"14:05:20"},{iv:40911.5,t:"14:05:21"},{iv:40915.25,t:"14:05:22"},{iv:40914.35,t:"14:05:23"},{iv:40915.45,t:"14:05:24"},{iv:40915.2,t:"14:05:25"},{iv:40925.75,t:"14:05:26"},{iv:40923.2,t:"14:05:27"},{iv:40923.35,t:"14:05:28"},{iv:40918.8,t:"14:05:29"},{iv:40920.45,t:"14:05:30"},{iv:40923.7,t:"14:05:31"},{iv:40927.25,t:"14:05:32"},{iv:40924.6,t:"14:05:33"},{iv:40926.25,t:"14:05:34"},{iv:40925.75,t:"14:05:35"},{iv:40925.3,t:"14:05:36"},{iv:40926,t:"14:05:37"},{iv:40927.55,t:"14:05:38"},{iv:40927.25,t:"14:05:39"},{iv:40926.2,t:"14:05:40"},{iv:40925.2,t:"14:05:41"},{iv:40924.7,t:"14:05:42"},{iv:40923.95,t:"14:05:43"},{iv:40923.55,t:"14:05:44"},{iv:40923.7,t:"14:05:45"},{iv:40922.3,t:"14:05:46"},{iv:40923.35,t:"14:05:47"},{iv:40924.85,t:"14:05:48"},{iv:40922.85,t:"14:05:49"},{iv:40922.2,t:"14:05:50"},{iv:40924.25,t:"14:05:51"},{iv:40923.2,t:"14:05:52"},{iv:40923.3,t:"14:05:53"},{iv:40924.7,t:"14:05:54"},{iv:40924.2,t:"14:05:55"},{iv:40923.5,t:"14:05:56"},{iv:40923.75,t:"14:05:57"},{iv:40924.95,t:"14:05:58"},{iv:40926.25,t:"14:05:59"},{iv:40925.95,t:"14:06:00"},{iv:40926.7,t:"14:06:01"},{iv:40926.75,t:"14:06:02"},{iv:40930.2,t:"14:06:03"},{iv:40928.5,t:"14:06:04"},{iv:40928.2,t:"14:06:05"},{iv:40926.65,t:"14:06:06"},{iv:40926.4,t:"14:06:07"},{iv:40926,t:"14:06:08"},{iv:40923.65,t:"14:06:09"},{iv:40926,t:"14:06:11"},{iv:40926,t:"14:06:11"},{iv:40924.2,t:"14:06:12"},{iv:40920.15,t:"14:06:13"},{iv:40921.7,t:"14:06:14"},{iv:40917.9,t:"14:06:15"},{iv:40917.35,t:"14:06:16"},{iv:40919,t:"14:06:17"},{iv:40921.55,t:"14:06:18"},{iv:40923.1,t:"14:06:19"},{iv:40921.45,t:"14:06:20"},{iv:40922.25,t:"14:06:21"},{iv:40923.4,t:"14:06:22"},{iv:40919.9,t:"14:06:23"},{iv:40921.25,t:"14:06:24"},{iv:40920.9,t:"14:06:25"},{iv:40921.25,t:"14:06:26"},{iv:40921.75,t:"14:06:27"},{iv:40922.05,t:"14:06:28"},{iv:40924,t:"14:06:29"},{iv:40922.55,t:"14:06:30"},{iv:40920.6,t:"14:06:31"},{iv:40920.95,t:"14:06:32"},{iv:40913.85,t:"14:06:33"},{iv:40912,t:"14:06:34"},{iv:40918.15,t:"14:06:35"},{iv:40917.05,t:"14:06:36"},{iv:40913.7,t:"14:06:37"},{iv:40917.55,t:"14:06:38"},{iv:40915.3,t:"14:06:39"},{iv:40915,t:"14:06:40"},{iv:40912.15,t:"14:06:41"},{iv:40911.9,t:"14:06:42"},{iv:40913.35,t:"14:06:43"},{iv:40913.5,t:"14:06:44"},{iv:40912.8,t:"14:06:45"},{iv:40911.9,t:"14:06:46"},{iv:40911.45,t:"14:06:47"},{iv:40913.3,t:"14:06:48"},{iv:40911.4,t:"14:06:49"},{iv:40912.3,t:"14:06:50"},{iv:40909.4,t:"14:06:51"},{iv:40908.7,t:"14:06:52"},{iv:40910.65,t:"14:06:53"},{iv:40908.75,t:"14:06:54"},{iv:40908.3,t:"14:06:55"},{iv:40909.55,t:"14:06:56"},{iv:40909.7,t:"14:06:57"},{iv:40908.5,t:"14:06:58"},{iv:40911.95,t:"14:06:59"},{iv:40916.1,t:"14:07:00"},{iv:40916.95,t:"14:07:01"},{iv:40911.5,t:"14:07:02"},{iv:40915.5,t:"14:07:03"},{iv:40916.4,t:"14:07:04"},{iv:40914.55,t:"14:07:05"},{iv:40919.05,t:"14:07:06"},{iv:40918.8,t:"14:07:07"},{iv:40920.45,t:"14:07:08"},{iv:40921.05,t:"14:07:09"},{iv:40921.75,t:"14:07:10"},{iv:40922.25,t:"14:07:11"},{iv:40921.2,t:"14:07:13"},{iv:40921.2,t:"14:07:13"},{iv:40921.3,t:"14:07:14"},{iv:40922.9,t:"14:07:15"},{iv:40922.6,t:"14:07:16"},{iv:40923.4,t:"14:07:17"},{iv:40923.5,t:"14:07:18"},{iv:40922.3,t:"14:07:19"},{iv:40922.65,t:"14:07:20"},{iv:40920,t:"14:07:21"},{iv:40922.4,t:"14:07:22"},{iv:40921.1,t:"14:07:23"},{iv:40921.8,t:"14:07:24"},{iv:40925.6,t:"14:07:25"},{iv:40926.4,t:"14:07:26"},{iv:40928.5,t:"14:07:27"},{iv:40926.7,t:"14:07:28"},{iv:40928.2,t:"14:07:29"},{iv:40926.05,t:"14:07:30"},{iv:40921.35,t:"14:07:31"},{iv:40921.5,t:"14:07:32"},{iv:40925.25,t:"14:07:33"},{iv:40923.3,t:"14:07:34"},{iv:40921.8,t:"14:07:35"},{iv:40921.65,t:"14:07:36"},{iv:40919.1,t:"14:07:37"},{iv:40922,t:"14:07:38"},{iv:40918.7,t:"14:07:39"},{iv:40911.1,t:"14:07:40"},{iv:40915.85,t:"14:07:41"},{iv:40913.2,t:"14:07:42"},{iv:40914.6,t:"14:07:43"},{iv:40911.35,t:"14:07:45"},{iv:40911.35,t:"14:07:45"},{iv:40912.35,t:"14:07:46"},{iv:40908.55,t:"14:07:47"},{iv:40911.05,t:"14:07:48"},{iv:40910.2,t:"14:07:49"},{iv:40909.6,t:"14:07:50"},{iv:40909.45,t:"14:07:51"},{iv:40908.15,t:"14:07:52"},{iv:40908.55,t:"14:07:53"},{iv:40905.9,t:"14:07:54"},{iv:40905.75,t:"14:07:55"},{iv:40908.2,t:"14:07:56"},{iv:40908.55,t:"14:07:57"},{iv:40908.55,t:"14:07:58"},{iv:40908.15,t:"14:07:59"},{iv:40906.9,t:"14:08:00"},{iv:40907.1,t:"14:08:01"},{iv:40906.2,t:"14:08:02"},{iv:40906.8,t:"14:08:03"},{iv:40905.65,t:"14:08:05"},{iv:40905.65,t:"14:08:05"},{iv:40906.25,t:"14:08:07"},{iv:40906.25,t:"14:08:07"},{iv:40907.15,t:"14:08:08"},{iv:40906.15,t:"14:08:09"},{iv:40904.55,t:"14:08:10"},{iv:40904.25,t:"14:08:11"},{iv:40904.7,t:"14:08:12"},{iv:40907.85,t:"14:08:13"},{iv:40910.85,t:"14:08:14"},{iv:40907.05,t:"14:08:15"},{iv:40909,t:"14:08:16"},{iv:40905.8,t:"14:08:17"},{iv:40910.2,t:"14:08:18"},{iv:40908.25,t:"14:08:19"},{iv:40909.05,t:"14:08:20"},{iv:40908.55,t:"14:08:21"},{iv:40906.9,t:"14:08:22"},{iv:40908,t:"14:08:23"},{iv:40908.5,t:"14:08:24"},{iv:40908,t:"14:08:25"},{iv:40907.5,t:"14:08:26"},{iv:40906.85,t:"14:08:27"},{iv:40905.6,t:"14:08:28"},{iv:40906.7,t:"14:08:29"},{iv:40906.3,t:"14:08:30"},{iv:40902.8,t:"14:08:31"},{iv:40902.35,t:"14:08:32"},{iv:40903.4,t:"14:08:33"},{iv:40900.4,t:"14:08:34"},{iv:40898.95,t:"14:08:35"},{iv:40900.75,t:"14:08:36"},{iv:40905.1,t:"14:08:37"},{iv:40905.2,t:"14:08:38"},{iv:40901.85,t:"14:08:39"},{iv:40904.1,t:"14:08:40"},{iv:40904.1,t:"14:08:41"},{iv:40903.9,t:"14:08:42"},{iv:40904.75,t:"14:08:43"},{iv:40906.95,t:"14:08:44"},{iv:40908.1,t:"14:08:45"},{iv:40911.55,t:"14:08:46"},{iv:40913.5,t:"14:08:47"},{iv:40914.5,t:"14:08:48"},{iv:40915.05,t:"14:08:49"},{iv:40913.95,t:"14:08:50"},{iv:40914,t:"14:08:52"},{iv:40913.45,t:"14:08:53"},{iv:40913.45,t:"14:08:53"},{iv:40913.65,t:"14:08:55"},{iv:40913.65,t:"14:08:55"},{iv:40914.7,t:"14:08:56"},{iv:40914.7,t:"14:08:57"},{iv:40908.2,t:"14:08:58"},{iv:40910.65,t:"14:08:59"},{iv:40909.65,t:"14:09:00"},{iv:40911.1,t:"14:09:01"},{iv:40908.15,t:"14:09:02"},{iv:40912.5,t:"14:09:03"},{iv:40912.2,t:"14:09:04"},{iv:40910.35,t:"14:09:05"},{iv:40911.55,t:"14:09:06"},{iv:40912.3,t:"14:09:07"},{iv:40911,t:"14:09:08"},{iv:40910.2,t:"14:09:09"},{iv:40911.8,t:"14:09:10"},{iv:40912.75,t:"14:09:11"},{iv:40910.45,t:"14:09:12"},{iv:40911.8,t:"14:09:13"},{iv:40912.85,t:"14:09:14"},{iv:40912,t:"14:09:15"},{iv:40913.4,t:"14:09:16"},{iv:40912.1,t:"14:09:17"},{iv:40914.85,t:"14:09:18"},{iv:40916.7,t:"14:09:19"},{iv:40917.95,t:"14:09:20"},{iv:40917.15,t:"14:09:21"},{iv:40916.3,t:"14:09:22"},{iv:40917.9,t:"14:09:23"},{iv:40917.45,t:"14:09:24"},{iv:40913.8,t:"14:09:26"},{iv:40913.8,t:"14:09:27"},{iv:40914.55,t:"14:09:27"},{iv:40914.4,t:"14:09:28"},{iv:40915.45,t:"14:09:29"},{iv:40915.85,t:"14:09:30"},{iv:40913.1,t:"14:09:31"},{iv:40914.25,t:"14:09:32"},{iv:40915.9,t:"14:09:33"},{iv:40914.4,t:"14:09:34"},{iv:40916.3,t:"14:09:35"},{iv:40918.9,t:"14:09:36"},{iv:40917.3,t:"14:09:37"},{iv:40916.9,t:"14:09:38"},{iv:40917.45,t:"14:09:39"},{iv:40917.5,t:"14:09:40"},{iv:40917.15,t:"14:09:41"},{iv:40914.35,t:"14:09:42"},{iv:40910,t:"14:09:43"},{iv:40910.7,t:"14:09:44"},{iv:40908.2,t:"14:09:45"},{iv:40906.1,t:"14:09:46"},{iv:40903.4,t:"14:09:47"},{iv:40903.2,t:"14:09:48"},{iv:40904.15,t:"14:09:49"},{iv:40901.7,t:"14:09:50"},{iv:40905.45,t:"14:09:51"},{iv:40900.45,t:"14:09:52"},{iv:40902.15,t:"14:09:53"},{iv:40903.7,t:"14:09:54"},{iv:40908.45,t:"14:09:55"},{iv:40908.9,t:"14:09:56"},{iv:40909.05,t:"14:09:57"},{iv:40911,t:"14:09:58"},{iv:40912.05,t:"14:09:59"},{iv:40914.7,t:"14:10:00"},{iv:40912.25,t:"14:10:01"},{iv:40914.75,t:"14:10:02"},{iv:40922.75,t:"14:10:03"},{iv:40920.55,t:"14:10:04"},{iv:40918.35,t:"14:10:05"},{iv:40916.3,t:"14:10:06"},{iv:40919.35,t:"14:10:07"},{iv:40918.6,t:"14:10:08"},{iv:40919.15,t:"14:10:09"},{iv:40918.95,t:"14:10:10"},{iv:40916.45,t:"14:10:11"},{iv:40916.15,t:"14:10:12"},{iv:40914.95,t:"14:10:13"},{iv:40919.1,t:"14:10:14"},{iv:40916.55,t:"14:10:15"},{iv:40918.1,t:"14:10:16"},{iv:40918.75,t:"14:10:17"},{iv:40920.65,t:"14:10:18"},{iv:40924.9,t:"14:10:19"},{iv:40925.3,t:"14:10:20"},{iv:40926.2,t:"14:10:21"},{iv:40925.95,t:"14:10:22"},{iv:40927.05,t:"14:10:23"},{iv:40926.8,t:"14:10:24"},{iv:40927.15,t:"14:10:25"},{iv:40925.15,t:"14:10:26"},{iv:40925.25,t:"14:10:27"},{iv:40926.8,t:"14:10:28"},{iv:40929.1,t:"14:10:29"},{iv:40927.5,t:"14:10:30"},{iv:40926.15,t:"14:10:31"},{iv:40921.9,t:"14:10:32"},{iv:40926.15,t:"14:10:33"},{iv:40925.9,t:"14:10:34"},{iv:40923.8,t:"14:10:35"},{iv:40924.55,t:"14:10:36"},{iv:40924.85,t:"14:10:37"},{iv:40924.65,t:"14:10:38"},{iv:40923.4,t:"14:10:39"},{iv:40924.1,t:"14:10:40"},{iv:40925.85,t:"14:10:41"},{iv:40924.95,t:"14:10:42"},{iv:40924.5,t:"14:10:43"},{iv:40923.9,t:"14:10:44"},{iv:40921.4,t:"14:10:45"},{iv:40922.3,t:"14:10:46"},{iv:40918.55,t:"14:10:47"},{iv:40923.4,t:"14:10:48"},{iv:40922,t:"14:10:49"},{iv:40918.75,t:"14:10:50"},{iv:40916.7,t:"14:10:51"},{iv:40916.2,t:"14:10:52"},{iv:40916.8,t:"14:10:53"},{iv:40915.95,t:"14:10:54"},{iv:40916.75,t:"14:10:55"},{iv:40916.5,t:"14:10:56"},{iv:40917,t:"14:10:57"},{iv:40917.4,t:"14:10:58"},{iv:40915.1,t:"14:10:59"},{iv:40917.1,t:"14:11:00"},{iv:40918.5,t:"14:11:01"},{iv:40918.8,t:"14:11:03"},{iv:40918.8,t:"14:11:03"},{iv:40917.45,t:"14:11:04"},{iv:40918.75,t:"14:11:05"},{iv:40919.4,t:"14:11:06"},{iv:40917.1,t:"14:11:07"},{iv:40918.15,t:"14:11:08"},{iv:40918.95,t:"14:11:09"},{iv:40918.9,t:"14:11:10"},{iv:40918.7,t:"14:11:11"},{iv:40919,t:"14:11:12"},{iv:40919.65,t:"14:11:13"},{iv:40919.75,t:"14:11:14"},{iv:40918.75,t:"14:11:15"},{iv:40919.4,t:"14:11:16"},{iv:40919.95,t:"14:11:17"},{iv:40920.3,t:"14:11:18"},{iv:40919.4,t:"14:11:19"},{iv:40919,t:"14:11:20"},{iv:40919.5,t:"14:11:21"},{iv:40915.35,t:"14:11:22"},{iv:40913.4,t:"14:11:23"},{iv:40914.9,t:"14:11:24"},{iv:40915.85,t:"14:11:25"},{iv:40912.5,t:"14:11:26"},{iv:40911.75,t:"14:11:27"},{iv:40907.35,t:"14:11:28"},{iv:40910.95,t:"14:11:29"},{iv:40908.35,t:"14:11:30"},{iv:40907.5,t:"14:11:31"},{iv:40904.7,t:"14:11:32"},{iv:40907.95,t:"14:11:33"},{iv:40907.35,t:"14:11:34"},{iv:40907.15,t:"14:11:35"},{iv:40906.85,t:"14:11:36"},{iv:40908.6,t:"14:11:37"},{iv:40909.75,t:"14:11:38"},{iv:40906.3,t:"14:11:39"},{iv:40907,t:"14:11:40"},{iv:40907,t:"14:11:41"},{iv:40905.1,t:"14:11:42"},{iv:40907.35,t:"14:11:43"},{iv:40903.95,t:"14:11:44"},{iv:40905.15,t:"14:11:45"},{iv:40905.25,t:"14:11:46"},{iv:40904.4,t:"14:11:47"},{iv:40903.9,t:"14:11:48"},{iv:40904.8,t:"14:11:49"},{iv:40904.65,t:"14:11:50"},{iv:40904.7,t:"14:11:51"},{iv:40904.35,t:"14:11:52"},{iv:40905.3,t:"14:11:53"},{iv:40904,t:"14:11:54"},{iv:40902.9,t:"14:11:55"},{iv:40902.9,t:"14:11:56"},{iv:40898.45,t:"14:11:57"},{iv:40902.45,t:"14:11:58"},{iv:40899.2,t:"14:11:59"},{iv:40899.65,t:"14:12:00"},{iv:40898.85,t:"14:12:01"},{iv:40895.4,t:"14:12:02"},{iv:40898.2,t:"14:12:03"},{iv:40897.85,t:"14:12:04"},{iv:40899.05,t:"14:12:05"},{iv:40899.05,t:"14:12:06"},{iv:40901.6,t:"14:12:07"},{iv:40902,t:"14:12:08"},{iv:40901.35,t:"14:12:10"},{iv:40901.35,t:"14:12:10"},{iv:40902.3,t:"14:12:11"},{iv:40901.15,t:"14:12:12"},{iv:40903.75,t:"14:12:13"},{iv:40902.05,t:"14:12:14"},{iv:40902.2,t:"14:12:15"},{iv:40903.9,t:"14:12:16"},{iv:40901.75,t:"14:12:17"},{iv:40903.55,t:"14:12:18"},{iv:40902.8,t:"14:12:19"},{iv:40900.85,t:"14:12:20"},{iv:40901.9,t:"14:12:21"},{iv:40899.55,t:"14:12:22"},{iv:40900.85,t:"14:12:23"},{iv:40903.2,t:"14:12:24"},{iv:40903.05,t:"14:12:25"},{iv:40902.5,t:"14:12:26"},{iv:40902.7,t:"14:12:27"},{iv:40902.95,t:"14:12:28"},{iv:40902.45,t:"14:12:29"},{iv:40904.4,t:"14:12:30"},{iv:40903.95,t:"14:12:31"},{iv:40901.9,t:"14:12:32"},{iv:40903.1,t:"14:12:33"},{iv:40901.4,t:"14:12:34"},{iv:40892.95,t:"14:12:35"},{iv:40891.05,t:"14:12:36"},{iv:40889.75,t:"14:12:37"},{iv:40888.25,t:"14:12:38"},{iv:40888.65,t:"14:12:39"},{iv:40885.2,t:"14:12:40"},{iv:40885.9,t:"14:12:41"},{iv:40883.35,t:"14:12:42"},{iv:40880.8,t:"14:12:44"},{iv:40880.8,t:"14:12:44"},{iv:40875.7,t:"14:12:45"},{iv:40867.95,t:"14:12:46"},{iv:40871.4,t:"14:12:48"},{iv:40871.1,t:"14:12:49"},{iv:40871.1,t:"14:12:49"},{iv:40866.55,t:"14:12:50"},{iv:40867.95,t:"14:12:51"},{iv:40877.5,t:"14:12:52"},{iv:40878.85,t:"14:12:53"},{iv:40874.45,t:"14:12:54"},{iv:40876.4,t:"14:12:55"},{iv:40877.2,t:"14:12:56"},{iv:40883.35,t:"14:12:57"},{iv:40884.1,t:"14:12:58"},{iv:40885.65,t:"14:12:59"},{iv:40881.8,t:"14:13:00"},{iv:40882.1,t:"14:13:01"},{iv:40876.5,t:"14:13:02"},{iv:40885.7,t:"14:13:03"},{iv:40882.85,t:"14:13:04"},{iv:40882.7,t:"14:13:05"},{iv:40881.95,t:"14:13:06"},{iv:40875.8,t:"14:13:07"},{iv:40874.9,t:"14:13:08"},{iv:40875.95,t:"14:13:09"},{iv:40874.65,t:"14:13:10"},{iv:40874.45,t:"14:13:11"},{iv:40872.05,t:"14:13:12"},{iv:40872.2,t:"14:13:13"},{iv:40870.4,t:"14:13:14"},{iv:40874.9,t:"14:13:15"},{iv:40873.25,t:"14:13:16"},{iv:40872.95,t:"14:13:17"},{iv:40879.2,t:"14:13:18"},{iv:40876.55,t:"14:13:19"},{iv:40875.75,t:"14:13:20"},{iv:40876.75,t:"14:13:21"},{iv:40875.8,t:"14:13:22"},{iv:40876.25,t:"14:13:23"},{iv:40879.15,t:"14:13:24"},{iv:40879.55,t:"14:13:25"},{iv:40881.7,t:"14:13:26"},{iv:40878.4,t:"14:13:27"},{iv:40878.1,t:"14:13:28"},{iv:40882.35,t:"14:13:29"},{iv:40882.7,t:"14:13:30"},{iv:40877.5,t:"14:13:31"},{iv:40879.35,t:"14:13:32"},{iv:40881.35,t:"14:13:33"},{iv:40878.3,t:"14:13:34"},{iv:40875.65,t:"14:13:35"},{iv:40877.9,t:"14:13:36"},{iv:40877.85,t:"14:13:37"},{iv:40877.25,t:"14:13:38"},{iv:40875.75,t:"14:13:39"},{iv:40874.55,t:"14:13:40"},{iv:40863.4,t:"14:13:41"},{iv:40861.15,t:"14:13:42"},{iv:40863.45,t:"14:13:43"},{iv:40862.65,t:"14:13:44"},{iv:40859.3,t:"14:13:45"},{iv:40854.35,t:"14:13:46"},{iv:40853.1,t:"14:13:47"},{iv:40854.9,t:"14:13:48"},{iv:40847.25,t:"14:13:49"},{iv:40850.1,t:"14:13:50"},{iv:40848.95,t:"14:13:51"},{iv:40847.05,t:"14:13:52"},{iv:40841.7,t:"14:13:53"},{iv:40844.9,t:"14:13:54"},{iv:40840.4,t:"14:13:55"},{iv:40836.85,t:"14:13:56"},{iv:40838.65,t:"14:13:57"},{iv:40840.9,t:"14:13:58"},{iv:40843.75,t:"14:13:59"},{iv:40844.35,t:"14:14:00"},{iv:40844.5,t:"14:14:01"},{iv:40841.05,t:"14:14:02"},{iv:40848.05,t:"14:14:03"},{iv:40844.35,t:"14:14:04"},{iv:40842.25,t:"14:14:05"},{iv:40844.45,t:"14:14:06"},{iv:40845.75,t:"14:14:07"},{iv:40847.35,t:"14:14:08"},{iv:40847.55,t:"14:14:10"},{iv:40847.55,t:"14:14:10"},{iv:40843.7,t:"14:14:11"},{iv:40844.75,t:"14:14:12"},{iv:40846.4,t:"14:14:13"},{iv:40845.95,t:"14:14:14"},{iv:40843.85,t:"14:14:15"},{iv:40842.55,t:"14:14:16"},{iv:40842.35,t:"14:14:17"},{iv:40849.2,t:"14:14:18"},{iv:40841.9,t:"14:14:19"},{iv:40850.1,t:"14:14:20"},{iv:40851.1,t:"14:14:21"},{iv:40850.1,t:"14:14:22"},{iv:40849,t:"14:14:23"},{iv:40849.65,t:"14:14:24"},{iv:40850.3,t:"14:14:25"},{iv:40851.35,t:"14:14:26"},{iv:40850.45,t:"14:14:27"},{iv:40851.05,t:"14:14:28"},{iv:40849.1,t:"14:14:29"},{iv:40851.55,t:"14:14:30"},{iv:40852.85,t:"14:14:31"},{iv:40853.75,t:"14:14:32"},{iv:40855.35,t:"14:14:33"},{iv:40853.25,t:"14:14:34"},{iv:40853.1,t:"14:14:35"},{iv:40853.1,t:"14:14:36"},{iv:40852.8,t:"14:14:37"},{iv:40852.45,t:"14:14:38"},{iv:40852.4,t:"14:14:39"},{iv:40852.8,t:"14:14:40"},{iv:40853.6,t:"14:14:41"},{iv:40850.4,t:"14:14:42"},{iv:40850.3,t:"14:14:43"},{iv:40850.45,t:"14:14:44"},{iv:40850.8,t:"14:14:45"},{iv:40851.05,t:"14:14:46"},{iv:40849.95,t:"14:14:47"},{iv:40850.4,t:"14:14:48"},{iv:40850.6,t:"14:14:49"},{iv:40848.9,t:"14:14:50"},{iv:40850.85,t:"14:14:51"},{iv:40850.1,t:"14:14:52"},{iv:40850.65,t:"14:14:53"},{iv:40851.7,t:"14:14:54"},{iv:40853.45,t:"14:14:55"},{iv:40851.3,t:"14:14:56"},{iv:40852.75,t:"14:14:57"},{iv:40852.1,t:"14:14:58"},{iv:40852.15,t:"14:14:59"},{iv:40854.15,t:"14:15:00"},{iv:40850.6,t:"14:15:01"},{iv:40848.25,t:"14:15:02"},{iv:40850.4,t:"14:15:03"},{iv:40850.65,t:"14:15:04"},{iv:40850.3,t:"14:15:05"},{iv:40850.05,t:"14:15:06"},{iv:40848.4,t:"14:15:07"},{iv:40848,t:"14:15:08"},{iv:40851.2,t:"14:15:09"},{iv:40851.9,t:"14:15:10"},{iv:40851.3,t:"14:15:11"},{iv:40848.55,t:"14:15:12"},{iv:40851.2,t:"14:15:13"},{iv:40850.15,t:"14:15:14"},{iv:40850.3,t:"14:15:15"},{iv:40849.5,t:"14:15:16"},{iv:40849.35,t:"14:15:17"},{iv:40852.15,t:"14:15:18"},{iv:40851.05,t:"14:15:19"},{iv:40851.6,t:"14:15:20"},{iv:40848.4,t:"14:15:21"},{iv:40849.2,t:"14:15:22"},{iv:40850.75,t:"14:15:23"},{iv:40850.15,t:"14:15:24"},{iv:40851.75,t:"14:15:25"},{iv:40849.35,t:"14:15:26"},{iv:40850.8,t:"14:15:27"},{iv:40850.1,t:"14:15:28"},{iv:40852.1,t:"14:15:29"},{iv:40854.7,t:"14:15:30"},{iv:40857.6,t:"14:15:31"},{iv:40864.5,t:"14:15:32"},{iv:40867.05,t:"14:15:33"},{iv:40869.25,t:"14:15:34"},{iv:40867.3,t:"14:15:35"},{iv:40867.1,t:"14:15:37"},{iv:40871.85,t:"14:15:38"},{iv:40871.85,t:"14:15:38"},{iv:40873.55,t:"14:15:39"},{iv:40874,t:"14:15:40"},{iv:40874.65,t:"14:15:41"},{iv:40874.8,t:"14:15:42"},{iv:40879.7,t:"14:15:43"},{iv:40878.4,t:"14:15:44"},{iv:40878.65,t:"14:15:45"},{iv:40880.05,t:"14:15:46"},{iv:40882.6,t:"14:15:47"},{iv:40881.35,t:"14:15:48"},{iv:40878.15,t:"14:15:49"},{iv:40881,t:"14:15:50"},{iv:40885.1,t:"14:15:51"},{iv:40882.55,t:"14:15:52"},{iv:40892.15,t:"14:15:53"},{iv:40892.45,t:"14:15:54"},{iv:40892.75,t:"14:15:55"},{iv:40891.8,t:"14:15:56"},{iv:40893.4,t:"14:15:57"},{iv:40891.7,t:"14:15:58"},{iv:40897.15,t:"14:15:59"},{iv:40900.35,t:"14:16:00"},{iv:40902.7,t:"14:16:01"},{iv:40902.85,t:"14:16:02"},{iv:40910.7,t:"14:16:03"},{iv:40907.35,t:"14:16:04"},{iv:40910.25,t:"14:16:05"},{iv:40910.4,t:"14:16:06"},{iv:40910.1,t:"14:16:07"},{iv:40904.4,t:"14:16:08"},{iv:40905.4,t:"14:16:09"},{iv:40902.3,t:"14:16:10"},{iv:40902.1,t:"14:16:11"},{iv:40899.8,t:"14:16:12"},{iv:40902.95,t:"14:16:13"},{iv:40900.15,t:"14:16:14"},{iv:40900.1,t:"14:16:15"},{iv:40899.9,t:"14:16:16"},{iv:40898.1,t:"14:16:17"},{iv:40899.2,t:"14:16:18"},{iv:40901.65,t:"14:16:19"},{iv:40900.2,t:"14:16:20"},{iv:40900.25,t:"14:16:21"},{iv:40901.8,t:"14:16:22"},{iv:40897.35,t:"14:16:23"},{iv:40899.6,t:"14:16:24"},{iv:40899.9,t:"14:16:25"},{iv:40898.75,t:"14:16:26"},{iv:40899.2,t:"14:16:27"},{iv:40900.8,t:"14:16:28"},{iv:40902.15,t:"14:16:29"},{iv:40903.85,t:"14:16:30"},{iv:40904.65,t:"14:16:31"},{iv:40902.75,t:"14:16:32"},{iv:40906.8,t:"14:16:33"},{iv:40907.55,t:"14:16:34"},{iv:40905.15,t:"14:16:35"},{iv:40904.5,t:"14:16:36"},{iv:40904.9,t:"14:16:37"},{iv:40903.15,t:"14:16:38"},{iv:40902.9,t:"14:16:39"},{iv:40897.75,t:"14:16:40"},{iv:40894.05,t:"14:16:41"},{iv:40885.45,t:"14:16:42"},{iv:40879.2,t:"14:16:43"},{iv:40877.75,t:"14:16:44"},{iv:40879,t:"14:16:45"},{iv:40881.1,t:"14:16:46"},{iv:40884.1,t:"14:16:47"},{iv:40887.55,t:"14:16:48"},{iv:40891.3,t:"14:16:49"},{iv:40891.6,t:"14:16:50"},{iv:40895.8,t:"14:16:51"},{iv:40896.6,t:"14:16:52"},{iv:40898,t:"14:16:53"},{iv:40902.45,t:"14:16:54"},{iv:40900.5,t:"14:16:55"},{iv:40901.65,t:"14:16:56"},{iv:40903.8,t:"14:16:57"},{iv:40902.65,t:"14:16:58"},{iv:40902.25,t:"14:16:59"},{iv:40902.65,t:"14:17:00"},{iv:40902.3,t:"14:17:01"},{iv:40898,t:"14:17:02"},{iv:40900.45,t:"14:17:03"},{iv:40898.5,t:"14:17:04"},{iv:40885.9,t:"14:17:05"},{iv:40892.8,t:"14:17:06"},{iv:40896.4,t:"14:17:07"},{iv:40894.4,t:"14:17:08"},{iv:40880.55,t:"14:17:09"},{iv:40891.1,t:"14:17:10"},{iv:40893.15,t:"14:17:11"},{iv:40893.1,t:"14:17:12"},{iv:40894,t:"14:17:13"},{iv:40894.85,t:"14:17:14"},{iv:40894.2,t:"14:17:15"},{iv:40895.55,t:"14:17:16"},{iv:40894.55,t:"14:17:17"},{iv:40893.1,t:"14:17:18"},{iv:40896.95,t:"14:17:19"},{iv:40894.65,t:"14:17:20"},{iv:40893.55,t:"14:17:21"},{iv:40894.6,t:"14:17:22"},{iv:40896,t:"14:17:23"},{iv:40898.5,t:"14:17:24"},{iv:40897.5,t:"14:17:25"},{iv:40898.5,t:"14:17:26"},{iv:40895.15,t:"14:17:27"},{iv:40895.55,t:"14:17:28"},{iv:40891.4,t:"14:17:29"},{iv:40894.05,t:"14:17:30"},{iv:40892.4,t:"14:17:31"},{iv:40894.55,t:"14:17:32"},{iv:40897.95,t:"14:17:33"},{iv:40896.6,t:"14:17:34"},{iv:40896.6,t:"14:17:35"},{iv:40895.75,t:"14:17:36"},{iv:40893.8,t:"14:17:37"},{iv:40895.95,t:"14:17:38"},{iv:40895.65,t:"14:17:39"},{iv:40894.95,t:"14:17:40"},{iv:40894,t:"14:17:41"},{iv:40895,t:"14:17:42"},{iv:40895.9,t:"14:17:43"},{iv:40894.25,t:"14:17:44"},{iv:40895.2,t:"14:17:45"},{iv:40895.6,t:"14:17:46"},{iv:40895.5,t:"14:17:47"},{iv:40898.1,t:"14:17:48"},{iv:40903.55,t:"14:17:49"},{iv:40902.65,t:"14:17:50"},{iv:40904.5,t:"14:17:51"},{iv:40899.75,t:"14:17:52"},{iv:40899.75,t:"14:17:53"},{iv:40901.2,t:"14:17:54"},{iv:40901.25,t:"14:17:55"},{iv:40901.2,t:"14:17:56"},{iv:40900.5,t:"14:17:57"},{iv:40901.9,t:"14:17:58"},{iv:40902.35,t:"14:17:59"},{iv:40901.8,t:"14:18:00"},{iv:40901.85,t:"14:18:01"},{iv:40902.4,t:"14:18:02"},{iv:40903.4,t:"14:18:03"},{iv:40904.25,t:"14:18:04"},{iv:40905.95,t:"14:18:05"},{iv:40903.55,t:"14:18:07"},{iv:40903.55,t:"14:18:07"},{iv:40903.3,t:"14:18:08"},{iv:40910.65,t:"14:18:09"},{iv:40909.5,t:"14:18:10"},{iv:40907.85,t:"14:18:11"},{iv:40904.85,t:"14:18:12"},{iv:40906.35,t:"14:18:13"},{iv:40913.2,t:"14:18:14"},{iv:40912.45,t:"14:18:15"},{iv:40912.45,t:"14:18:16"},{iv:40914.05,t:"14:18:17"},{iv:40911.9,t:"14:18:18"},{iv:40911.8,t:"14:18:19"},{iv:40912.65,t:"14:18:20"},{iv:40909.95,t:"14:18:21"},{iv:40909.25,t:"14:18:22"},{iv:40912.35,t:"14:18:23"},{iv:40911.75,t:"14:18:24"},{iv:40911.2,t:"14:18:25"},{iv:40899.75,t:"14:18:26"},{iv:40899.1,t:"14:18:27"},{iv:40898.8,t:"14:18:28"},{iv:40901.4,t:"14:18:29"},{iv:40900.25,t:"14:18:30"},{iv:40900.95,t:"14:18:31"},{iv:40898.95,t:"14:18:32"},{iv:40901.35,t:"14:18:33"},{iv:40902.05,t:"14:18:34"},{iv:40901.05,t:"14:18:35"},{iv:40894.95,t:"14:18:36"},{iv:40892.1,t:"14:18:37"},{iv:40892.4,t:"14:18:38"},{iv:40893.95,t:"14:18:39"},{iv:40892.6,t:"14:18:40"},{iv:40892.5,t:"14:18:41"},{iv:40890.3,t:"14:18:42"},{iv:40889.05,t:"14:18:43"},{iv:40890.4,t:"14:18:44"},{iv:40885.55,t:"14:18:45"},{iv:40886.05,t:"14:18:46"},{iv:40883.05,t:"14:18:47"},{iv:40889,t:"14:18:48"},{iv:40889.95,t:"14:18:50"},{iv:40889.95,t:"14:18:50"},{iv:40887.65,t:"14:18:51"},{iv:40888.15,t:"14:18:52"},{iv:40891.15,t:"14:18:53"},{iv:40891.9,t:"14:18:54"},{iv:40886.55,t:"14:18:55"},{iv:40884.1,t:"14:18:56"},{iv:40882.85,t:"14:18:57"},{iv:40884.1,t:"14:18:58"},{iv:40883.95,t:"14:18:59"},{iv:40883.2,t:"14:19:00"},{iv:40884.6,t:"14:19:01"},{iv:40884.8,t:"14:19:02"},{iv:40888.95,t:"14:19:03"},{iv:40890.35,t:"14:19:05"},{iv:40890.35,t:"14:19:05"},{iv:40890.35,t:"14:19:06"},{iv:40890.3,t:"14:19:07"},{iv:40887.7,t:"14:19:08"},{iv:40884.95,t:"14:19:09"},{iv:40887.15,t:"14:19:10"},{iv:40886.8,t:"14:19:11"},{iv:40887.45,t:"14:19:12"},{iv:40884.5,t:"14:19:13"},{iv:40885.85,t:"14:19:14"},{iv:40889.05,t:"14:19:15"},{iv:40889,t:"14:19:16"},{iv:40887.65,t:"14:19:17"},{iv:40889.3,t:"14:19:18"},{iv:40888.4,t:"14:19:19"},{iv:40888.25,t:"14:19:20"},{iv:40888.8,t:"14:19:21"},{iv:40886.2,t:"14:19:22"},{iv:40889.9,t:"14:19:23"},{iv:40882.25,t:"14:19:24"},{iv:40888.25,t:"14:19:25"},{iv:40889.05,t:"14:19:26"},{iv:40884.7,t:"14:19:27"},{iv:40884.6,t:"14:19:28"},{iv:40886.05,t:"14:19:29"},{iv:40887.65,t:"14:19:30"},{iv:40885.8,t:"14:19:31"},{iv:40886.1,t:"14:19:32"},{iv:40888.6,t:"14:19:33"},{iv:40887.05,t:"14:19:34"},{iv:40887.65,t:"14:19:35"},{iv:40887.2,t:"14:19:36"},{iv:40890.4,t:"14:19:37"},{iv:40888.65,t:"14:19:38"},{iv:40891.4,t:"14:19:39"},{iv:40892.05,t:"14:19:40"},{iv:40891.7,t:"14:19:41"},{iv:40884.6,t:"14:19:42"},{iv:40889.8,t:"14:19:43"},{iv:40887.35,t:"14:19:44"},{iv:40885.9,t:"14:19:45"},{iv:40885.7,t:"14:19:46"},{iv:40885.55,t:"14:19:47"},{iv:40889.3,t:"14:19:48"},{iv:40889,t:"14:19:49"},{iv:40887.65,t:"14:19:50"},{iv:40887.2,t:"14:19:51"},{iv:40886.45,t:"14:19:52"},{iv:40888.05,t:"14:19:53"},{iv:40889.55,t:"14:19:54"},{iv:40890,t:"14:19:55"},{iv:40889.7,t:"14:19:56"},{iv:40893.1,t:"14:19:57"},{iv:40894.75,t:"14:19:58"},{iv:40894.25,t:"14:19:59"},{iv:40896.25,t:"14:20:00"},{iv:40894.45,t:"14:20:01"},{iv:40894.45,t:"14:20:02"},{iv:40896.55,t:"14:20:03"},{iv:40897.4,t:"14:20:04"},{iv:40896.2,t:"14:20:05"},{iv:40896.85,t:"14:20:06"},{iv:40897,t:"14:20:07"},{iv:40896.9,t:"14:20:08"},{iv:40897.45,t:"14:20:09"},{iv:40893.65,t:"14:20:10"},{iv:40890.5,t:"14:20:11"},{iv:40889.25,t:"14:20:12"},{iv:40890.05,t:"14:20:13"},{iv:40889.05,t:"14:20:14"},{iv:40889.05,t:"14:20:15"},{iv:40886.25,t:"14:20:16"},{iv:40874.3,t:"14:20:17"},{iv:40878.25,t:"14:20:18"},{iv:40880.5,t:"14:20:19"},{iv:40880.05,t:"14:20:20"},{iv:40881.1,t:"14:20:21"},{iv:40876.05,t:"14:20:22"},{iv:40877.75,t:"14:20:23"},{iv:40877.3,t:"14:20:24"},{iv:40880.35,t:"14:20:25"},{iv:40879.2,t:"14:20:26"},{iv:40884.8,t:"14:20:27"},{iv:40883.5,t:"14:20:28"},{iv:40886.3,t:"14:20:29"},{iv:40884.7,t:"14:20:30"},{iv:40885.1,t:"14:20:31"},{iv:40879.6,t:"14:20:32"},{iv:40883.3,t:"14:20:33"},{iv:40884.3,t:"14:20:34"},{iv:40882.75,t:"14:20:35"},{iv:40884.3,t:"14:20:36"},{iv:40882.2,t:"14:20:37"},{iv:40881.65,t:"14:20:38"},{iv:40881.5,t:"14:20:39"},{iv:40880.85,t:"14:20:40"},{iv:40879.7,t:"14:20:41"},{iv:40881.55,t:"14:20:42"},{iv:40881.4,t:"14:20:43"},{iv:40880.7,t:"14:20:44"},{iv:40876.55,t:"14:20:45"},{iv:40878.1,t:"14:20:46"},{iv:40877.15,t:"14:20:47"},{iv:40876.3,t:"14:20:48"},{iv:40878,t:"14:20:49"},{iv:40876.75,t:"14:20:50"},{iv:40873.8,t:"14:20:51"},{iv:40875.65,t:"14:20:52"},{iv:40875.2,t:"14:20:53"},{iv:40875.3,t:"14:20:54"},{iv:40874.45,t:"14:20:55"},{iv:40874.5,t:"14:20:56"},{iv:40875.45,t:"14:20:57"},{iv:40873.4,t:"14:20:58"},{iv:40869.45,t:"14:20:59"},{iv:40872.15,t:"14:21:00"},{iv:40872,t:"14:21:01"},{iv:40867.1,t:"14:21:02"},{iv:40872.55,t:"14:21:03"},{iv:40872.75,t:"14:21:04"},{iv:40871.8,t:"14:21:05"},{iv:40871.55,t:"14:21:06"},{iv:40871.3,t:"14:21:07"},{iv:40871.2,t:"14:21:08"},{iv:40871.4,t:"14:21:09"},{iv:40869.6,t:"14:21:10"},{iv:40873.45,t:"14:21:11"},{iv:40867.35,t:"14:21:12"},{iv:40874.6,t:"14:21:13"},{iv:40875.25,t:"14:21:14"},{iv:40875.4,t:"14:21:15"},{iv:40874.95,t:"14:21:16"},{iv:40876.4,t:"14:21:17"},{iv:40878.2,t:"14:21:18"},{iv:40879.05,t:"14:21:19"},{iv:40878.4,t:"14:21:20"},{iv:40873.55,t:"14:21:21"},{iv:40875.55,t:"14:21:22"},{iv:40871.65,t:"14:21:23"},{iv:40872.9,t:"14:21:24"},{iv:40872.1,t:"14:21:25"},{iv:40874.4,t:"14:21:26"},{iv:40873.4,t:"14:21:27"},{iv:40875.4,t:"14:21:28"},{iv:40873.5,t:"14:21:29"},{iv:40874.6,t:"14:21:30"},{iv:40875.2,t:"14:21:31"},{iv:40874.35,t:"14:21:32"},{iv:40872.8,t:"14:21:33"},{iv:40873.9,t:"14:21:34"},{iv:40875.5,t:"14:21:35"},{iv:40875,t:"14:21:36"},{iv:40880.2,t:"14:21:37"},{iv:40877.6,t:"14:21:38"},{iv:40877.25,t:"14:21:39"},{iv:40877.55,t:"14:21:40"},{iv:40874.75,t:"14:21:41"},{iv:40872.9,t:"14:21:42"},{iv:40865.7,t:"14:21:43"},{iv:40868.3,t:"14:21:44"},{iv:40867.85,t:"14:21:45"},{iv:40866,t:"14:21:46"},{iv:40862,t:"14:21:47"},{iv:40861.15,t:"14:21:48"},{iv:40860,t:"14:21:49"},{iv:40858.8,t:"14:21:50"},{iv:40859.4,t:"14:21:51"},{iv:40855.95,t:"14:21:52"},{iv:40853.4,t:"14:21:53"},{iv:40843.15,t:"14:21:54"},{iv:40844.7,t:"14:21:55"},{iv:40842.1,t:"14:21:56"},{iv:40843.05,t:"14:21:57"},{iv:40838.8,t:"14:21:58"},{iv:40838,t:"14:21:59"},{iv:40837.55,t:"14:22:00"},{iv:40838.45,t:"14:22:01"},{iv:40832.25,t:"14:22:02"},{iv:40830.15,t:"14:22:04"},{iv:40834.3,t:"14:22:05"},{iv:40835.55,t:"14:22:06"},{iv:40833.85,t:"14:22:07"},{iv:40831.9,t:"14:22:08"},{iv:40831.6,t:"14:22:09"},{iv:40834.1,t:"14:22:10"},{iv:40831.9,t:"14:22:11"},{iv:40832,t:"14:22:12"},{iv:40830.3,t:"14:22:13"},{iv:40828.2,t:"14:22:14"},{iv:40830,t:"14:22:15"},{iv:40830.6,t:"14:22:16"},{iv:40838.1,t:"14:22:17"},{iv:40843.45,t:"14:22:18"},{iv:40848.7,t:"14:22:19"},{iv:40853,t:"14:22:20"},{iv:40855.4,t:"14:22:21"},{iv:40852.9,t:"14:22:22"},{iv:40859,t:"14:22:23"},{iv:40855.85,t:"14:22:24"},{iv:40857.1,t:"14:22:25"},{iv:40854.05,t:"14:22:26"},{iv:40856.3,t:"14:22:27"},{iv:40848.6,t:"14:22:28"},{iv:40851.25,t:"14:22:29"},{iv:40852.35,t:"14:22:30"},{iv:40853.4,t:"14:22:31"},{iv:40851.2,t:"14:22:32"},{iv:40853.6,t:"14:22:33"},{iv:40855.45,t:"14:22:34"},{iv:40858.95,t:"14:22:35"},{iv:40858.15,t:"14:22:36"},{iv:40854.3,t:"14:22:37"},{iv:40857.15,t:"14:22:38"},{iv:40854.8,t:"14:22:39"},{iv:40859.55,t:"14:22:40"},{iv:40858.75,t:"14:22:41"},{iv:40857.85,t:"14:22:42"},{iv:40854.85,t:"14:22:43"},{iv:40856.5,t:"14:22:44"},{iv:40854.75,t:"14:22:45"},{iv:40854.05,t:"14:22:46"},{iv:40856.1,t:"14:22:47"},{iv:40857.3,t:"14:22:48"},{iv:40856.3,t:"14:22:49"},{iv:40857.2,t:"14:22:50"},{iv:40859.65,t:"14:22:51"},{iv:40856.6,t:"14:22:52"},{iv:40858.75,t:"14:22:53"},{iv:40857.25,t:"14:22:54"},{iv:40857.85,t:"14:22:55"},{iv:40857.85,t:"14:22:56"},{iv:40858.15,t:"14:22:57"},{iv:40855.9,t:"14:22:58"},{iv:40856.5,t:"14:22:59"},{iv:40854,t:"14:23:00"},{iv:40855.65,t:"14:23:01"},{iv:40859.35,t:"14:23:02"},{iv:40868.95,t:"14:23:03"},{iv:40866.45,t:"14:23:04"},{iv:40860.1,t:"14:23:05"},{iv:40868,t:"14:23:06"},{iv:40869.95,t:"14:23:07"},{iv:40864.95,t:"14:23:08"},{iv:40866.3,t:"14:23:09"},{iv:40870.35,t:"14:23:10"},{iv:40871.25,t:"14:23:11"},{iv:40869.3,t:"14:23:12"},{iv:40870.5,t:"14:23:13"},{iv:40868.8,t:"14:23:14"},{iv:40868.85,t:"14:23:15"},{iv:40868.15,t:"14:23:16"},{iv:40870.6,t:"14:23:17"},{iv:40875.4,t:"14:23:18"},{iv:40879,t:"14:23:19"},{iv:40880.8,t:"14:23:20"},{iv:40884.6,t:"14:23:21"},{iv:40884.2,t:"14:23:22"},{iv:40886,t:"14:23:23"},{iv:40885.95,t:"14:23:24"},{iv:40885.95,t:"14:23:25"},{iv:40886.9,t:"14:23:26"},{iv:40887.8,t:"14:23:27"},{iv:40891.4,t:"14:23:28"},{iv:40889.45,t:"14:23:29"},{iv:40889.65,t:"14:23:30"},{iv:40893.05,t:"14:23:31"},{iv:40886.1,t:"14:23:32"},{iv:40888.35,t:"14:23:33"},{iv:40886.5,t:"14:23:34"},{iv:40887.5,t:"14:23:35"},{iv:40891.2,t:"14:23:36"},{iv:40888.85,t:"14:23:37"},{iv:40887.4,t:"14:23:38"},{iv:40888.75,t:"14:23:39"},{iv:40888.2,t:"14:23:40"},{iv:40887.8,t:"14:23:41"},{iv:40879.5,t:"14:23:42"},{iv:40879.2,t:"14:23:43"},{iv:40876.05,t:"14:23:44"},{iv:40879.55,t:"14:23:45"},{iv:40879.85,t:"14:23:46"},{iv:40876.05,t:"14:23:47"},{iv:40880.25,t:"14:23:48"},{iv:40878.9,t:"14:23:49"},{iv:40880.05,t:"14:23:50"},{iv:40881.2,t:"14:23:51"},{iv:40878.45,t:"14:23:52"},{iv:40880.3,t:"14:23:53"},{iv:40881.7,t:"14:23:54"},{iv:40883,t:"14:23:55"},{iv:40883.2,t:"14:23:56"},{iv:40879.8,t:"14:23:57"},{iv:40881.05,t:"14:23:58"},{iv:40882.25,t:"14:23:59"},{iv:40882.85,t:"14:24:00"},{iv:40883.2,t:"14:24:01"},{iv:40881.8,t:"14:24:02"},{iv:40885.65,t:"14:24:03"},{iv:40884.35,t:"14:24:04"},{iv:40882.25,t:"14:24:05"},{iv:40881.65,t:"14:24:06"},{iv:40882,t:"14:24:07"},{iv:40879.85,t:"14:24:08"},{iv:40878.8,t:"14:24:09"},{iv:40878.55,t:"14:24:10"},{iv:40876.3,t:"14:24:11"},{iv:40876.5,t:"14:24:12"},{iv:40874.8,t:"14:24:13"},{iv:40877.05,t:"14:24:14"},{iv:40876.25,t:"14:24:15"},{iv:40874.95,t:"14:24:16"},{iv:40875.25,t:"14:24:17"},{iv:40878.25,t:"14:24:18"},{iv:40873.45,t:"14:24:19"},{iv:40874.85,t:"14:24:20"},{iv:40877.15,t:"14:24:21"},{iv:40875.3,t:"14:24:22"},{iv:40875.8,t:"14:24:23"},{iv:40875.55,t:"14:24:24"},{iv:40876.35,t:"14:24:25"},{iv:40876.4,t:"14:24:26"},{iv:40874.6,t:"14:24:27"},{iv:40872.45,t:"14:24:28"},{iv:40874.75,t:"14:24:29"},{iv:40873,t:"14:24:30"},{iv:40871.9,t:"14:24:32"},{iv:40871.9,t:"14:24:32"},{iv:40875.3,t:"14:24:33"},{iv:40874.7,t:"14:24:34"},{iv:40873.85,t:"14:24:35"},{iv:40872.25,t:"14:24:36"},{iv:40872.3,t:"14:24:37"},{iv:40873.8,t:"14:24:38"},{iv:40875.15,t:"14:24:39"},{iv:40873.15,t:"14:24:40"},{iv:40874.3,t:"14:24:41"},{iv:40873.45,t:"14:24:42"},{iv:40874.8,t:"14:24:43"},{iv:40874.45,t:"14:24:44"},{iv:40872.9,t:"14:24:45"},{iv:40875.5,t:"14:24:46"},{iv:40873.1,t:"14:24:47"},{iv:40874.1,t:"14:24:48"},{iv:40872.55,t:"14:24:49"},{iv:40871.85,t:"14:24:50"},{iv:40867.45,t:"14:24:51"},{iv:40870.8,t:"14:24:52"},{iv:40871.75,t:"14:24:53"},{iv:40870.15,t:"14:24:54"},{iv:40869.65,t:"14:24:55"},{iv:40869,t:"14:24:56"},{iv:40870.4,t:"14:24:57"},{iv:40870.5,t:"14:24:58"},{iv:40869.7,t:"14:24:59"},{iv:40869.8,t:"14:25:00"},{iv:40870.4,t:"14:25:01"},{iv:40870.4,t:"14:25:02"},{iv:40870.95,t:"14:25:03"},{iv:40870.8,t:"14:25:04"},{iv:40868.5,t:"14:25:05"},{iv:40866.25,t:"14:25:06"},{iv:40867.2,t:"14:25:07"},{iv:40864.3,t:"14:25:08"},{iv:40868.25,t:"14:25:09"},{iv:40866,t:"14:25:10"},{iv:40866.1,t:"14:25:11"},{iv:40862.4,t:"14:25:12"},{iv:40865.1,t:"14:25:13"},{iv:40863.9,t:"14:25:14"},{iv:40864.45,t:"14:25:15"},{iv:40861.75,t:"14:25:16"},{iv:40861.05,t:"14:25:17"},{iv:40863.8,t:"14:25:18"},{iv:40864.65,t:"14:25:19"},{iv:40864.4,t:"14:25:20"},{iv:40864.75,t:"14:25:21"},{iv:40863.35,t:"14:25:22"},{iv:40863,t:"14:25:23"},{iv:40863.75,t:"14:25:24"},{iv:40864.65,t:"14:25:25"},{iv:40865.2,t:"14:25:26"},{iv:40863.5,t:"14:25:27"},{iv:40862.35,t:"14:25:28"},{iv:40860.15,t:"14:25:29"},{iv:40862.2,t:"14:25:30"},{iv:40861.2,t:"14:25:31"},{iv:40860.95,t:"14:25:32"},{iv:40861.7,t:"14:25:33"},{iv:40861.9,t:"14:25:34"},{iv:40859.6,t:"14:25:35"},{iv:40858.05,t:"14:25:36"},{iv:40852.3,t:"14:25:38"},{iv:40852.3,t:"14:25:38"},{iv:40851.6,t:"14:25:39"},{iv:40851.15,t:"14:25:40"},{iv:40850.6,t:"14:25:41"},{iv:40849.1,t:"14:25:42"},{iv:40849.95,t:"14:25:43"},{iv:40850.25,t:"14:25:44"},{iv:40851.05,t:"14:25:46"},{iv:40851.05,t:"14:25:46"},{iv:40848.85,t:"14:25:47"},{iv:40852.4,t:"14:25:48"},{iv:40852.15,t:"14:25:49"},{iv:40851.3,t:"14:25:50"},{iv:40853.25,t:"14:25:51"},{iv:40852.9,t:"14:25:52"},{iv:40853.65,t:"14:25:53"},{iv:40850.15,t:"14:25:54"},{iv:40852.4,t:"14:25:55"},{iv:40854.4,t:"14:25:56"},{iv:40851.5,t:"14:25:57"},{iv:40850.9,t:"14:25:58"},{iv:40851,t:"14:25:59"},{iv:40851.95,t:"14:26:00"},{iv:40849.95,t:"14:26:01"},{iv:40851.25,t:"14:26:02"},{iv:40854.75,t:"14:26:03"},{iv:40852.05,t:"14:26:04"},{iv:40852.85,t:"14:26:06"},{iv:40852.85,t:"14:26:06"},{iv:40850.35,t:"14:26:07"},{iv:40850.65,t:"14:26:08"},{iv:40849.65,t:"14:26:09"},{iv:40852.15,t:"14:26:10"},{iv:40849.8,t:"14:26:11"},{iv:40848.7,t:"14:26:12"},{iv:40851.95,t:"14:26:13"},{iv:40850.4,t:"14:26:14"},{iv:40850.4,t:"14:26:15"},{iv:40849.75,t:"14:26:16"},{iv:40847.45,t:"14:26:17"},{iv:40847.55,t:"14:26:18"},{iv:40845.75,t:"14:26:19"},{iv:40846.4,t:"14:26:20"},{iv:40845.55,t:"14:26:21"},{iv:40846.1,t:"14:26:22"},{iv:40847.4,t:"14:26:23"},{iv:40845.05,t:"14:26:24"},{iv:40846.25,t:"14:26:25"},{iv:40846.75,t:"14:26:26"},{iv:40844.1,t:"14:26:27"},{iv:40841.3,t:"14:26:28"},{iv:40840.7,t:"14:26:29"},{iv:40843.8,t:"14:26:30"},{iv:40842.4,t:"14:26:31"},{iv:40843.05,t:"14:26:32"},{iv:40842.65,t:"14:26:33"},{iv:40842.4,t:"14:26:34"},{iv:40840.75,t:"14:26:35"},{iv:40842.8,t:"14:26:36"},{iv:40841.75,t:"14:26:37"},{iv:40841.05,t:"14:26:38"},{iv:40842.35,t:"14:26:39"},{iv:40839.25,t:"14:26:40"},{iv:40839.2,t:"14:26:41"},{iv:40838.5,t:"14:26:42"},{iv:40837,t:"14:26:43"},{iv:40838.6,t:"14:26:44"},{iv:40838.35,t:"14:26:45"},{iv:40836.45,t:"14:26:46"},{iv:40839.55,t:"14:26:47"},{iv:40840.1,t:"14:26:48"},{iv:40841.15,t:"14:26:49"},{iv:40840.5,t:"14:26:50"},{iv:40842.35,t:"14:26:51"},{iv:40841.1,t:"14:26:52"},{iv:40843,t:"14:26:53"},{iv:40844.15,t:"14:26:54"},{iv:40843.55,t:"14:26:55"},{iv:40842.35,t:"14:26:56"},{iv:40842.75,t:"14:26:57"},{iv:40844.4,t:"14:26:58"},{iv:40841.5,t:"14:26:59"},{iv:40841.75,t:"14:27:00"},{iv:40842.65,t:"14:27:01"},{iv:40835.95,t:"14:27:02"},{iv:40836.1,t:"14:27:03"},{iv:40835.45,t:"14:27:04"},{iv:40833.85,t:"14:27:05"},{iv:40834.2,t:"14:27:06"},{iv:40832.85,t:"14:27:07"},{iv:40831,t:"14:27:08"},{iv:40832.15,t:"14:27:09"},{iv:40829.15,t:"14:27:10"},{iv:40829.35,t:"14:27:11"},{iv:40830.5,t:"14:27:12"},{iv:40828.75,t:"14:27:13"},{iv:40828.1,t:"14:27:14"},{iv:40827.5,t:"14:27:15"},{iv:40825.7,t:"14:27:16"},{iv:40826.85,t:"14:27:17"},{iv:40827.5,t:"14:27:18"},{iv:40825.25,t:"14:27:19"},{iv:40825.15,t:"14:27:20"},{iv:40825.2,t:"14:27:21"},{iv:40824.15,t:"14:27:22"},{iv:40815.35,t:"14:27:23"},{iv:40816.55,t:"14:27:24"},{iv:40812.3,t:"14:27:25"},{iv:40808.4,t:"14:27:26"},{iv:40809.8,t:"14:27:27"},{iv:40808.2,t:"14:27:28"},{iv:40801.1,t:"14:27:29"},{iv:40804.7,t:"14:27:30"},{iv:40803.05,t:"14:27:31"},{iv:40793.55,t:"14:27:32"},{iv:40797.3,t:"14:27:33"},{iv:40796,t:"14:27:34"},{iv:40796.05,t:"14:27:35"},{iv:40795.6,t:"14:27:36"},{iv:40794.15,t:"14:27:37"},{iv:40794,t:"14:27:38"},{iv:40792.55,t:"14:27:39"},{iv:40803.1,t:"14:27:40"},{iv:40808.65,t:"14:27:41"},{iv:40799.5,t:"14:27:42"},{iv:40803.3,t:"14:27:43"},{iv:40803.35,t:"14:27:44"},{iv:40801.9,t:"14:27:45"},{iv:40803.65,t:"14:27:46"},{iv:40803.25,t:"14:27:47"},{iv:40800,t:"14:27:48"},{iv:40799.65,t:"14:27:50"},{iv:40799.65,t:"14:27:50"},{iv:40797.3,t:"14:27:51"},{iv:40801.75,t:"14:27:52"},{iv:40801.45,t:"14:27:53"},{iv:40798.85,t:"14:27:54"},{iv:40803.95,t:"14:27:55"},{iv:40804.75,t:"14:27:56"},{iv:40806.8,t:"14:27:57"},{iv:40806.25,t:"14:27:58"},{iv:40808.05,t:"14:27:59"},{iv:40802.05,t:"14:28:00"},{iv:40800.25,t:"14:28:01"},{iv:40795,t:"14:28:02"},{iv:40796.55,t:"14:28:03"},{iv:40801,t:"14:28:04"},{iv:40797.2,t:"14:28:05"},{iv:40798.05,t:"14:28:06"},{iv:40798.65,t:"14:28:07"},{iv:40797.45,t:"14:28:08"},{iv:40795.55,t:"14:28:09"},{iv:40794,t:"14:28:10"},{iv:40793.8,t:"14:28:11"},{iv:40795.85,t:"14:28:12"},{iv:40794.85,t:"14:28:13"},{iv:40795.9,t:"14:28:14"},{iv:40796.3,t:"14:28:15"},{iv:40794.25,t:"14:28:16"},{iv:40800.35,t:"14:28:17"},{iv:40804.8,t:"14:28:18"},{iv:40806.3,t:"14:28:19"},{iv:40808.05,t:"14:28:20"},{iv:40813.3,t:"14:28:21"},{iv:40814.4,t:"14:28:22"},{iv:40824.3,t:"14:28:23"},{iv:40823.75,t:"14:28:24"},{iv:40819.6,t:"14:28:25"},{iv:40823.65,t:"14:28:26"},{iv:40823.75,t:"14:28:27"},{iv:40827.25,t:"14:28:28"},{iv:40822.85,t:"14:28:29"},{iv:40825.75,t:"14:28:30"},{iv:40822.35,t:"14:28:31"},{iv:40822.75,t:"14:28:32"},{iv:40823.35,t:"14:28:33"},{iv:40820.5,t:"14:28:34"},{iv:40818.3,t:"14:28:35"},{iv:40817.5,t:"14:28:36"},{iv:40821.05,t:"14:28:37"},{iv:40819,t:"14:28:38"},{iv:40818.45,t:"14:28:39"},{iv:40817.1,t:"14:28:40"},{iv:40816.1,t:"14:28:41"},{iv:40817.65,t:"14:28:42"},{iv:40817.2,t:"14:28:43"},{iv:40816.15,t:"14:28:44"},{iv:40811.95,t:"14:28:45"},{iv:40809.2,t:"14:28:46"},{iv:40809.2,t:"14:28:47"},{iv:40809.55,t:"14:28:48"},{iv:40804.9,t:"14:28:49"},{iv:40809.2,t:"14:28:50"},{iv:40804.4,t:"14:28:52"},{iv:40804.4,t:"14:28:52"},{iv:40806.65,t:"14:28:53"},{iv:40805.85,t:"14:28:54"},{iv:40807.25,t:"14:28:55"},{iv:40806.85,t:"14:28:56"},{iv:40806.4,t:"14:28:57"},{iv:40810.95,t:"14:28:58"},{iv:40806.55,t:"14:28:59"},{iv:40810.4,t:"14:29:00"},{iv:40810.35,t:"14:29:01"},{iv:40812.1,t:"14:29:02"},{iv:40812.25,t:"14:29:03"},{iv:40807.4,t:"14:29:04"},{iv:40815.85,t:"14:29:06"},{iv:40815.85,t:"14:29:06"},{iv:40817.05,t:"14:29:07"},{iv:40813.25,t:"14:29:08"},{iv:40816,t:"14:29:09"},{iv:40814.5,t:"14:29:10"},{iv:40812.75,t:"14:29:11"},{iv:40810.95,t:"14:29:12"},{iv:40809.05,t:"14:29:13"},{iv:40809.7,t:"14:29:14"},{iv:40811.65,t:"14:29:15"},{iv:40811.65,t:"14:29:16"},{iv:40811.9,t:"14:29:17"},{iv:40814.05,t:"14:29:18"},{iv:40810.6,t:"14:29:19"},{iv:40811.7,t:"14:29:20"},{iv:40814.2,t:"14:29:21"},{iv:40812.15,t:"14:29:22"},{iv:40810.75,t:"14:29:23"},{iv:40812.3,t:"14:29:24"},{iv:40811.2,t:"14:29:25"},{iv:40809.8,t:"14:29:26"},{iv:40810.05,t:"14:29:27"},{iv:40806.25,t:"14:29:28"},{iv:40806.6,t:"14:29:29"},{iv:40811.6,t:"14:29:30"},{iv:40810.4,t:"14:29:31"},{iv:40811.1,t:"14:29:32"},{iv:40814.05,t:"14:29:33"},{iv:40813.2,t:"14:29:34"},{iv:40815.45,t:"14:29:35"},{iv:40813.1,t:"14:29:36"},{iv:40813.2,t:"14:29:37"},{iv:40811.1,t:"14:29:38"},{iv:40813.7,t:"14:29:39"},{iv:40808.85,t:"14:29:40"},{iv:40811.45,t:"14:29:41"},{iv:40808.15,t:"14:29:42"},{iv:40811.15,t:"14:29:43"},{iv:40807.6,t:"14:29:44"},{iv:40808.2,t:"14:29:45"},{iv:40809.75,t:"14:29:46"},{iv:40810.4,t:"14:29:47"},{iv:40810.9,t:"14:29:48"},{iv:40807.75,t:"14:29:49"},{iv:40809.3,t:"14:29:50"},{iv:40810.3,t:"14:29:51"},{iv:40809.95,t:"14:29:52"},{iv:40808.3,t:"14:29:53"},{iv:40808.9,t:"14:29:54"},{iv:40806.85,t:"14:29:55"},{iv:40805.65,t:"14:29:56"},{iv:40810,t:"14:29:57"},{iv:40809.9,t:"14:29:58"},{iv:40808.75,t:"14:29:59"},{iv:40804.55,t:"14:30:00"},{iv:40807.95,t:"14:30:02"},{iv:40807.95,t:"14:30:02"},{iv:40812.65,t:"14:30:03"},{iv:40809.65,t:"14:30:04"},{iv:40809.55,t:"14:30:05"},{iv:40816.6,t:"14:30:06"},{iv:40819.6,t:"14:30:07"},{iv:40816.5,t:"14:30:08"},{iv:40818.65,t:"14:30:09"},{iv:40819.8,t:"14:30:10"},{iv:40817.05,t:"14:30:11"},{iv:40818.75,t:"14:30:12"},{iv:40817.45,t:"14:30:13"},{iv:40819.95,t:"14:30:14"},{iv:40817.55,t:"14:30:16"},{iv:40817.55,t:"14:30:16"},{iv:40815.15,t:"14:30:17"},{iv:40818.1,t:"14:30:18"},{iv:40819.25,t:"14:30:19"},{iv:40820.4,t:"14:30:20"},{iv:40821.3,t:"14:30:21"},{iv:40824.9,t:"14:30:22"},{iv:40834.3,t:"14:30:24"},{iv:40834.3,t:"14:30:24"},{iv:40833.1,t:"14:30:26"},{iv:40829.05,t:"14:30:27"},{iv:40829.05,t:"14:30:27"},{iv:40830.15,t:"14:30:28"},{iv:40828.2,t:"14:30:29"},{iv:40830.65,t:"14:30:30"},{iv:40836.4,t:"14:30:31"},{iv:40832.35,t:"14:30:32"},{iv:40831.9,t:"14:30:33"},{iv:40832,t:"14:30:34"},{iv:40831.15,t:"14:30:35"},{iv:40830.6,t:"14:30:36"},{iv:40833.7,t:"14:30:37"},{iv:40834.3,t:"14:30:38"},{iv:40833,t:"14:30:39"},{iv:40836.6,t:"14:30:40"},{iv:40834.1,t:"14:30:41"},{iv:40831.85,t:"14:30:42"},{iv:40833.65,t:"14:30:43"},{iv:40830.5,t:"14:30:44"},{iv:40833.55,t:"14:30:45"},{iv:40830.9,t:"14:30:46"},{iv:40829.85,t:"14:30:47"},{iv:40833,t:"14:30:48"},{iv:40830.9,t:"14:30:49"},{iv:40831.35,t:"14:30:50"},{iv:40833.4,t:"14:30:51"},{iv:40840.1,t:"14:30:52"},{iv:40842.3,t:"14:30:53"},{iv:40836.05,t:"14:30:54"},{iv:40833.5,t:"14:30:55"},{iv:40832.15,t:"14:30:57"},{iv:40832.15,t:"14:30:57"},{iv:40835.75,t:"14:30:58"},{iv:40834.55,t:"14:30:59"},{iv:40834.5,t:"14:31:00"},{iv:40833.35,t:"14:31:01"},{iv:40831.1,t:"14:31:02"},{iv:40831,t:"14:31:03"},{iv:40830.95,t:"14:31:04"},{iv:40830.45,t:"14:31:05"},{iv:40829.9,t:"14:31:06"},{iv:40827.15,t:"14:31:07"},{iv:40821.45,t:"14:31:08"},{iv:40818.35,t:"14:31:09"},{iv:40818.85,t:"14:31:10"},{iv:40821.05,t:"14:31:11"},{iv:40816.05,t:"14:31:12"},{iv:40816.8,t:"14:31:13"},{iv:40817.1,t:"14:31:14"},{iv:40817.85,t:"14:31:15"},{iv:40813.7,t:"14:31:16"},{iv:40814.9,t:"14:31:17"},{iv:40813.1,t:"14:31:18"},{iv:40811.05,t:"14:31:19"},{iv:40810.95,t:"14:31:20"},{iv:40809.1,t:"14:31:22"},{iv:40809.1,t:"14:31:22"},{iv:40808,t:"14:31:23"},{iv:40806.55,t:"14:31:24"},{iv:40804.9,t:"14:31:25"},{iv:40802.65,t:"14:31:26"},{iv:40805.5,t:"14:31:27"},{iv:40803.8,t:"14:31:28"},{iv:40799.25,t:"14:31:29"},{iv:40792.7,t:"14:31:30"},{iv:40796.1,t:"14:31:31"},{iv:40799.8,t:"14:31:32"},{iv:40795.15,t:"14:31:33"},{iv:40797.45,t:"14:31:34"},{iv:40797.25,t:"14:31:35"},{iv:40795.65,t:"14:31:36"},{iv:40791.7,t:"14:31:37"},{iv:40792,t:"14:31:38"},{iv:40789.95,t:"14:31:39"},{iv:40794.1,t:"14:31:40"},{iv:40796.3,t:"14:31:41"},{iv:40795.25,t:"14:31:42"},{iv:40791,t:"14:31:43"},{iv:40789.45,t:"14:31:44"},{iv:40790.7,t:"14:31:45"},{iv:40790.3,t:"14:31:46"},{iv:40787.15,t:"14:31:47"},{iv:40789.3,t:"14:31:48"},{iv:40786.8,t:"14:31:49"},{iv:40787.2,t:"14:31:50"},{iv:40789.65,t:"14:31:52"},{iv:40789.65,t:"14:31:52"},{iv:40790.95,t:"14:31:53"},{iv:40793.3,t:"14:31:54"},{iv:40792.95,t:"14:31:55"},{iv:40794,t:"14:31:56"},{iv:40792.2,t:"14:31:58"},{iv:40792.2,t:"14:31:58"},{iv:40795.9,t:"14:31:59"},{iv:40794.75,t:"14:32:00"},{iv:40798.35,t:"14:32:01"},{iv:40795.95,t:"14:32:02"},{iv:40800.55,t:"14:32:03"},{iv:40799.1,t:"14:32:04"},{iv:40797.55,t:"14:32:05"},{iv:40794.85,t:"14:32:06"},{iv:40793.3,t:"14:32:07"},{iv:40794.3,t:"14:32:08"},{iv:40796.05,t:"14:32:09"},{iv:40794.6,t:"14:32:10"},{iv:40797.45,t:"14:32:11"},{iv:40797.45,t:"14:32:12"},{iv:40796.7,t:"14:32:13"},{iv:40796.45,t:"14:32:14"},{iv:40797.5,t:"14:32:15"},{iv:40791.9,t:"14:32:16"},{iv:40792.65,t:"14:32:17"},{iv:40794.3,t:"14:32:18"},{iv:40791.8,t:"14:32:19"},{iv:40792.75,t:"14:32:20"},{iv:40789.3,t:"14:32:21"},{iv:40786.7,t:"14:32:22"},{iv:40789.8,t:"14:32:23"},{iv:40789.95,t:"14:32:24"},{iv:40789.95,t:"14:32:25"},{iv:40788.05,t:"14:32:26"},{iv:40787.35,t:"14:32:27"},{iv:40785.85,t:"14:32:28"},{iv:40788.1,t:"14:32:29"},{iv:40789.75,t:"14:32:30"},{iv:40788.7,t:"14:32:31"},{iv:40775.75,t:"14:32:32"},{iv:40783.95,t:"14:32:33"},{iv:40778.35,t:"14:32:34"},{iv:40779.35,t:"14:32:35"},{iv:40777.75,t:"14:32:36"},{iv:40776.7,t:"14:32:37"},{iv:40774.7,t:"14:32:38"},{iv:40776.75,t:"14:32:39"},{iv:40780.05,t:"14:32:40"},{iv:40779.6,t:"14:32:41"},{iv:40776.1,t:"14:32:42"},{iv:40776,t:"14:32:43"},{iv:40775.3,t:"14:32:44"},{iv:40777.15,t:"14:32:45"},{iv:40775.25,t:"14:32:46"},{iv:40775.8,t:"14:32:47"},{iv:40774.75,t:"14:32:48"},{iv:40771.15,t:"14:32:49"},{iv:40773.1,t:"14:32:50"},{iv:40764.45,t:"14:32:51"},{iv:40767.45,t:"14:32:52"},{iv:40770.4,t:"14:32:53"},{iv:40767.4,t:"14:32:54"},{iv:40772.4,t:"14:32:55"},{iv:40769.9,t:"14:32:56"},{iv:40770.25,t:"14:32:57"},{iv:40769.4,t:"14:32:58"},{iv:40770,t:"14:32:59"},{iv:40769.25,t:"14:33:00"},{iv:40767.25,t:"14:33:01"},{iv:40771.2,t:"14:33:02"},{iv:40769.4,t:"14:33:03"},{iv:40767.25,t:"14:33:04"},{iv:40767.05,t:"14:33:05"},{iv:40763.6,t:"14:33:06"},{iv:40767.15,t:"14:33:07"},{iv:40764.4,t:"14:33:08"},{iv:40762.7,t:"14:33:09"},{iv:40766.15,t:"14:33:10"},{iv:40766,t:"14:33:11"},{iv:40766.2,t:"14:33:12"},{iv:40766.75,t:"14:33:13"},{iv:40766.1,t:"14:33:14"},{iv:40767,t:"14:33:15"},{iv:40767.3,t:"14:33:16"},{iv:40769.85,t:"14:33:17"},{iv:40771.5,t:"14:33:18"},{iv:40777.3,t:"14:33:19"},{iv:40780.05,t:"14:33:20"},{iv:40781.9,t:"14:33:21"},{iv:40779.9,t:"14:33:22"},{iv:40784.3,t:"14:33:23"},{iv:40784.25,t:"14:33:24"},{iv:40783.7,t:"14:33:25"},{iv:40782.55,t:"14:33:26"},{iv:40785.3,t:"14:33:27"},{iv:40786.3,t:"14:33:28"},{iv:40782.55,t:"14:33:29"},{iv:40785.45,t:"14:33:30"},{iv:40784.75,t:"14:33:31"},{iv:40783.95,t:"14:33:32"},{iv:40780.8,t:"14:33:33"},{iv:40780.7,t:"14:33:34"},{iv:40778.2,t:"14:33:35"},{iv:40779.05,t:"14:33:36"},{iv:40778.7,t:"14:33:37"},{iv:40777.85,t:"14:33:38"},{iv:40776.8,t:"14:33:39"},{iv:40773,t:"14:33:40"},{iv:40775.05,t:"14:33:41"},{iv:40772.9,t:"14:33:42"},{iv:40774.75,t:"14:33:43"},{iv:40773.95,t:"14:33:44"},{iv:40774.95,t:"14:33:45"},{iv:40774.6,t:"14:33:46"},{iv:40773.45,t:"14:33:47"},{iv:40773.5,t:"14:33:48"},{iv:40773.05,t:"14:33:49"},{iv:40771.7,t:"14:33:50"},{iv:40774.9,t:"14:33:51"},{iv:40775,t:"14:33:52"},{iv:40773.45,t:"14:33:53"},{iv:40773.3,t:"14:33:54"},{iv:40772.6,t:"14:33:55"},{iv:40775.25,t:"14:33:56"},{iv:40774.95,t:"14:33:57"},{iv:40774.8,t:"14:33:58"},{iv:40775.25,t:"14:33:59"},{iv:40774.55,t:"14:34:00"},{iv:40773.7,t:"14:34:01"},{iv:40774.15,t:"14:34:02"},{iv:40774.8,t:"14:34:05"},{iv:40774.8,t:"14:34:05"},{iv:40774.8,t:"14:34:05"},{iv:40776,t:"14:34:06"},{iv:40777.2,t:"14:34:07"},{iv:40776.4,t:"14:34:08"},{iv:40776.5,t:"14:34:09"},{iv:40775.9,t:"14:34:10"},{iv:40776.3,t:"14:34:11"},{iv:40773.3,t:"14:34:12"},{iv:40775,t:"14:34:13"},{iv:40773.55,t:"14:34:14"},{iv:40775.15,t:"14:34:15"},{iv:40775.45,t:"14:34:16"},{iv:40773.85,t:"14:34:17"},{iv:40774.15,t:"14:34:18"},{iv:40773.95,t:"14:34:19"},{iv:40773.1,t:"14:34:20"},{iv:40773.85,t:"14:34:21"},{iv:40775.25,t:"14:34:22"},{iv:40775,t:"14:34:23"},{iv:40775,t:"14:34:24"},{iv:40781.45,t:"14:34:25"},{iv:40782,t:"14:34:26"},{iv:40781.3,t:"14:34:27"},{iv:40789.25,t:"14:34:28"},{iv:40793.4,t:"14:34:29"},{iv:40795.55,t:"14:34:30"},{iv:40798.2,t:"14:34:31"},{iv:40797.35,t:"14:34:32"},{iv:40799.5,t:"14:34:33"},{iv:40800.05,t:"14:34:34"},{iv:40797.5,t:"14:34:35"},{iv:40797.85,t:"14:34:36"},{iv:40798.95,t:"14:34:37"},{iv:40800.3,t:"14:34:38"},{iv:40797.9,t:"14:34:39"},{iv:40798.2,t:"14:34:40"},{iv:40795,t:"14:34:41"},{iv:40791.9,t:"14:34:42"},{iv:40793.3,t:"14:34:43"},{iv:40791.55,t:"14:34:44"},{iv:40793.45,t:"14:34:45"},{iv:40792.65,t:"14:34:46"},{iv:40790,t:"14:34:47"},{iv:40794.6,t:"14:34:48"},{iv:40790.6,t:"14:34:49"},{iv:40792.55,t:"14:34:50"},{iv:40791.65,t:"14:34:51"},{iv:40795.3,t:"14:34:52"},{iv:40799,t:"14:34:53"},{iv:40796.15,t:"14:34:54"},{iv:40798.2,t:"14:34:55"},{iv:40797.75,t:"14:34:56"},{iv:40799.8,t:"14:34:57"},{iv:40800.1,t:"14:34:58"},{iv:40798.55,t:"14:34:59"},{iv:40799.05,t:"14:35:00"},{iv:40801.1,t:"14:35:01"},{iv:40800.35,t:"14:35:02"},{iv:40806.65,t:"14:35:03"},{iv:40802.8,t:"14:35:04"},{iv:40803.3,t:"14:35:05"},{iv:40806,t:"14:35:06"},{iv:40802.2,t:"14:35:07"},{iv:40802.75,t:"14:35:08"},{iv:40802.45,t:"14:35:09"},{iv:40806.85,t:"14:35:10"},{iv:40807.9,t:"14:35:11"},{iv:40809.25,t:"14:35:12"},{iv:40812.85,t:"14:35:13"},{iv:40809.15,t:"14:35:14"},{iv:40810.6,t:"14:35:15"},{iv:40810.05,t:"14:35:16"},{iv:40807.55,t:"14:35:17"},{iv:40810.7,t:"14:35:18"},{iv:40800.15,t:"14:35:37"},{iv:40797.6,t:"14:35:38"},{iv:40797.6,t:"14:35:38"},{iv:40797.45,t:"14:35:40"},{iv:40796.95,t:"14:35:41"},{iv:40798.05,t:"14:35:42"},{iv:40798.05,t:"14:35:42"},{iv:40797.05,t:"14:35:43"},{iv:40795.05,t:"14:35:44"},{iv:40794.35,t:"14:35:46"},{iv:40794.35,t:"14:35:47"},{iv:40799.1,t:"14:35:48"},{iv:40798.9,t:"14:35:49"},{iv:40796.2,t:"14:35:50"},{iv:40798.35,t:"14:35:51"},{iv:40798.35,t:"14:35:51"},{iv:40800.3,t:"14:35:53"},{iv:40800.45,t:"14:35:54"},{iv:40800.8,t:"14:35:55"},{iv:40800.9,t:"14:35:56"},{iv:40801.7,t:"14:35:57"},{iv:40801.7,t:"14:35:57"},{iv:40797.85,t:"14:35:59"},{iv:40799.55,t:"14:36:00"},{iv:40797.7,t:"14:36:01"},{iv:40786.7,t:"14:36:02"},{iv:40790.85,t:"14:36:03"},{iv:40790.2,t:"14:36:04"},{iv:40790.2,t:"14:36:04"},{iv:40789.15,t:"14:36:05"},{iv:40789.9,t:"14:36:07"},{iv:40788.65,t:"14:36:08"},{iv:40788.65,t:"14:36:08"},{iv:40788.7,t:"14:36:09"},{iv:40797.55,t:"14:36:11"},{iv:40797.55,t:"14:36:11"},{iv:40795.35,t:"14:36:12"},{iv:40796.45,t:"14:36:14"},{iv:40798.75,t:"14:36:15"},{iv:40798.75,t:"14:36:16"},{iv:40801.05,t:"14:36:17"},{iv:40801.8,t:"14:36:18"},{iv:40798.65,t:"14:36:19"},{iv:40802.45,t:"14:36:20"},{iv:40799.8,t:"14:36:21"},{iv:40802.85,t:"14:36:22"},{iv:40803.25,t:"14:36:23"},{iv:40801.25,t:"14:36:24"},{iv:40801.15,t:"14:36:25"},{iv:40800.9,t:"14:36:26"},{iv:40801.65,t:"14:36:27"},{iv:40801.95,t:"14:36:28"},{iv:40803.85,t:"14:36:29"},{iv:40805.05,t:"14:36:30"},{iv:40804.8,t:"14:36:31"},{iv:40804.1,t:"14:36:32"},{iv:40818.05,t:"14:36:35"},{iv:40821.05,t:"14:36:36"},{iv:40818.35,t:"14:36:37"},{iv:40818.35,t:"14:36:37"},{iv:40817.65,t:"14:36:38"},{iv:40821.6,t:"14:36:39"},{iv:40818.6,t:"14:36:40"},{iv:40820.5,t:"14:36:41"},{iv:40817.65,t:"14:36:42"},{iv:40818.95,t:"14:36:43"},{iv:40821.4,t:"14:36:44"},{iv:40822.8,t:"14:36:45"},{iv:40820.5,t:"14:36:46"},{iv:40821.2,t:"14:36:47"},{iv:40820.1,t:"14:36:48"},{iv:40809.8,t:"14:36:49"},{iv:40810.35,t:"14:36:50"},{iv:40813.15,t:"14:36:51"},{iv:40809.05,t:"14:36:52"},{iv:40804.85,t:"14:36:53"},{iv:40804.5,t:"14:36:54"},{iv:40804.35,t:"14:36:55"},{iv:40805.6,t:"14:36:56"},{iv:40806.9,t:"14:36:57"},{iv:40806.9,t:"14:36:58"},{iv:40801,t:"14:36:59"},{iv:40808.4,t:"14:37:01"},{iv:40808.4,t:"14:37:01"},{iv:40804.2,t:"14:37:02"},{iv:40812.25,t:"14:37:04"},{iv:40812.25,t:"14:37:04"},{iv:40812.1,t:"14:37:05"},{iv:40815.9,t:"14:37:06"},{iv:40814.25,t:"14:37:07"},{iv:40815,t:"14:37:08"},{iv:40813.15,t:"14:37:09"},{iv:40815.45,t:"14:37:10"},{iv:40813.6,t:"14:37:11"},{iv:40814.65,t:"14:37:12"},{iv:40815.15,t:"14:37:13"},{iv:40807.3,t:"14:37:14"},{iv:40804.35,t:"14:37:15"},{iv:40802.8,t:"14:37:16"},{iv:40803.15,t:"14:37:17"},{iv:40804.65,t:"14:37:18"},{iv:40804.95,t:"14:37:19"},{iv:40805.25,t:"14:37:20"},{iv:40803.9,t:"14:37:21"},{iv:40804.6,t:"14:37:22"},{iv:40804.45,t:"14:37:23"},{iv:40804.05,t:"14:37:24"},{iv:40804.05,t:"14:37:24"},{iv:40804.9,t:"14:37:26"},{iv:40802.95,t:"14:37:27"},{iv:40802.45,t:"14:37:28"},{iv:40800.7,t:"14:37:29"},{iv:40801.35,t:"14:37:30"},{iv:40800.6,t:"14:37:31"},{iv:40800.2,t:"14:37:32"},{iv:40802.65,t:"14:37:33"},{iv:40802.65,t:"14:37:33"},{iv:40799.65,t:"14:37:35"},{iv:40800.75,t:"14:37:36"},{iv:40800.45,t:"14:37:37"},{iv:40802.3,t:"14:37:38"},{iv:40800.45,t:"14:37:39"},{iv:40802,t:"14:37:40"},{iv:40801.7,t:"14:37:41"},{iv:40801.35,t:"14:37:42"},{iv:40801.05,t:"14:37:43"},{iv:40802.05,t:"14:37:44"},{iv:40802.55,t:"14:37:45"},{iv:40801.7,t:"14:37:46"},{iv:40801.9,t:"14:37:47"},{iv:40801.9,t:"14:37:47"},{iv:40801.75,t:"14:37:49"},{iv:40801.75,t:"14:37:49"},{iv:40800.1,t:"14:37:51"},{iv:40797.9,t:"14:37:52"},{iv:40800.8,t:"14:37:53"},{iv:40800.8,t:"14:37:53"},{iv:40798.25,t:"14:37:55"},{iv:40798.25,t:"14:37:55"},{iv:40799.3,t:"14:37:56"},{iv:40800,t:"14:37:58"},{iv:40796.6,t:"14:37:59"},{iv:40797,t:"14:38:00"},{iv:40795.6,t:"14:38:01"},{iv:40792.1,t:"14:38:02"},{iv:40793.65,t:"14:38:03"},{iv:40790.75,t:"14:38:04"},{iv:40791.85,t:"14:38:05"},{iv:40788.6,t:"14:38:06"},{iv:40787.55,t:"14:38:07"},{iv:40784.85,t:"14:38:08"},{iv:40779.8,t:"14:38:09"},{iv:40779.8,t:"14:38:10"},{iv:40778.7,t:"14:38:10"},{iv:40772.9,t:"14:38:12"},{iv:40772.9,t:"14:38:12"},{iv:40772.1,t:"14:38:14"},{iv:40768.15,t:"14:38:15"},{iv:40769.45,t:"14:38:16"},{iv:40771.1,t:"14:38:17"},{iv:40773.25,t:"14:38:18"},{iv:40773.25,t:"14:38:19"},{iv:40769.05,t:"14:38:20"},{iv:40771.3,t:"14:38:21"},{iv:40769.45,t:"14:38:22"},{iv:40772.05,t:"14:38:23"},{iv:40774.2,t:"14:38:24"},{iv:40771.1,t:"14:38:25"},{iv:40771.05,t:"14:38:26"},{iv:40770.45,t:"14:38:27"},{iv:40770.45,t:"14:38:27"},{iv:40767.05,t:"14:38:29"},{iv:40768.95,t:"14:38:30"},{iv:40768.5,t:"14:38:31"},{iv:40768.25,t:"14:38:32"},{iv:40770.5,t:"14:38:33"},{iv:40767.55,t:"14:38:34"},{iv:40766.6,t:"14:38:35"},{iv:40767.85,t:"14:38:36"},{iv:40767.85,t:"14:38:37"},{iv:40768.3,t:"14:38:38"},{iv:40768.05,t:"14:38:39"},{iv:40767.4,t:"14:38:40"},{iv:40768.6,t:"14:38:41"},{iv:40767,t:"14:38:42"},{iv:40766.2,t:"14:38:43"},{iv:40766.2,t:"14:38:43"},{iv:40767.5,t:"14:38:45"},{iv:40764,t:"14:38:46"},{iv:40764,t:"14:38:46"},{iv:40767.8,t:"14:38:48"},{iv:40767.2,t:"14:38:49"},{iv:40767.2,t:"14:38:50"},{iv:40769.55,t:"14:38:51"},{iv:40769.3,t:"14:38:52"},{iv:40769.3,t:"14:38:53"},{iv:40775.25,t:"14:38:54"},{iv:40782.35,t:"14:38:55"},{iv:40785.8,t:"14:38:56"},{iv:40785.5,t:"14:38:57"},{iv:40787.15,t:"14:38:58"},{iv:40784.35,t:"14:38:59"},{iv:40784.6,t:"14:39:00"},{iv:40783.9,t:"14:39:01"},{iv:40777.7,t:"14:39:02"},{iv:40777.15,t:"14:39:03"},{iv:40776.7,t:"14:39:04"},{iv:40770.95,t:"14:39:05"},{iv:40773.35,t:"14:39:06"},{iv:40772.6,t:"14:39:07"},{iv:40771.75,t:"14:39:08"},{iv:40776.85,t:"14:39:09"},{iv:40779.95,t:"14:39:10"},{iv:40778.75,t:"14:39:11"},{iv:40772.55,t:"14:39:12"},{iv:40772.55,t:"14:39:12"},{iv:40774.05,t:"14:39:13"},{iv:40769.05,t:"14:39:15"},{iv:40769.05,t:"14:39:16"},{iv:40769.05,t:"14:39:17"},{iv:40773.05,t:"14:39:18"},{iv:40769.45,t:"14:39:19"},{iv:40766.95,t:"14:39:20"},{iv:40765.85,t:"14:39:21"},{iv:40763.85,t:"14:39:22"},{iv:40763.85,t:"14:39:23"},{iv:40761.3,t:"14:39:24"},{iv:40763.6,t:"14:39:25"},{iv:40761.75,t:"14:39:26"},{iv:40761.1,t:"14:39:27"},{iv:40760.85,t:"14:39:28"},{iv:40761.05,t:"14:39:29"},{iv:40761.55,t:"14:39:30"},{iv:40761.55,t:"14:39:31"},{iv:40761.4,t:"14:39:32"},{iv:40763,t:"14:39:33"},{iv:40762.5,t:"14:39:34"},{iv:40761.7,t:"14:39:35"},{iv:40761.7,t:"14:39:36"},{iv:40761.4,t:"14:39:37"},{iv:40761.25,t:"14:39:38"},{iv:40761.25,t:"14:39:39"},{iv:40766.7,t:"14:39:40"},{iv:40769.2,t:"14:39:41"},{iv:40764.65,t:"14:39:42"},{iv:40765.35,t:"14:39:43"},{iv:40765.35,t:"14:39:44"},{iv:40769.35,t:"14:39:45"},{iv:40767.8,t:"14:39:46"},{iv:40767.8,t:"14:39:46"},{iv:40767.15,t:"14:39:47"},{iv:40769.9,t:"14:39:49"},{iv:40776.45,t:"14:39:50"},{iv:40781,t:"14:39:51"},{iv:40781,t:"14:39:52"},{iv:40784.2,t:"14:39:53"},{iv:40783.2,t:"14:39:54"},{iv:40785.3,t:"14:39:55"},{iv:40786.85,t:"14:39:56"},{iv:40788.55,t:"14:39:57"},{iv:40789.75,t:"14:39:58"},{iv:40793.5,t:"14:39:59"},{iv:40795.8,t:"14:40:00"},{iv:40795.8,t:"14:40:01"},{iv:40795.6,t:"14:40:02"},{iv:40799.15,t:"14:40:03"},{iv:40798.25,t:"14:40:04"},{iv:40798.65,t:"14:40:05"},{iv:40802.55,t:"14:40:06"},{iv:40802.95,t:"14:40:07"},{iv:40798.1,t:"14:40:08"},{iv:40798.1,t:"14:40:09"},{iv:40794.65,t:"14:40:10"},{iv:40796.95,t:"14:40:11"},{iv:40795.25,t:"14:40:12"},{iv:40798.6,t:"14:40:13"},{iv:40795.65,t:"14:40:14"},{iv:40796.2,t:"14:40:15"},{iv:40794.75,t:"14:40:16"},{iv:40793.85,t:"14:40:17"},{iv:40793.85,t:"14:40:18"},{iv:40797.35,t:"14:40:18"},{iv:40798.65,t:"14:40:20"},{iv:40800.65,t:"14:40:21"},{iv:40798.75,t:"14:40:22"},{iv:40800.5,t:"14:40:23"},{iv:40801.8,t:"14:40:24"},{iv:40798.25,t:"14:40:25"},{iv:40798.25,t:"14:40:26"},{iv:40801.5,t:"14:40:27"},{iv:40801.5,t:"14:40:28"},{iv:40799.4,t:"14:40:29"},{iv:40798.8,t:"14:40:30"},{iv:40798.8,t:"14:40:30"},{iv:40790.3,t:"14:40:32"},{iv:40794.5,t:"14:40:33"},{iv:40792.45,t:"14:40:34"},{iv:40792.45,t:"14:40:34"},{iv:40792.05,t:"14:40:36"},{iv:40791.45,t:"14:40:37"},{iv:40793.9,t:"14:40:38"},{iv:40797.45,t:"14:40:39"},{iv:40793.7,t:"14:40:40"},{iv:40794.1,t:"14:40:41"},{iv:40794.1,t:"14:40:42"},{iv:40793,t:"14:40:43"},{iv:40791.4,t:"14:40:44"},{iv:40792.9,t:"14:40:45"},{iv:40792.9,t:"14:40:46"},{iv:40792.8,t:"14:40:47"},{iv:40781.3,t:"14:40:48"},{iv:40777.35,t:"14:40:49"},{iv:40781.15,t:"14:40:50"},{iv:40784.5,t:"14:40:51"},{iv:40779.7,t:"14:40:52"},{iv:40779.7,t:"14:40:53"},{iv:40781.05,t:"14:40:54"},{iv:40781.05,t:"14:40:54"},{iv:40776.45,t:"14:40:56"},{iv:40777.75,t:"14:40:57"},{iv:40777.35,t:"14:40:58"},{iv:40777.25,t:"14:40:59"},{iv:40777.25,t:"14:41:00"},{iv:40776.25,t:"14:41:01"},{iv:40775.7,t:"14:41:02"},{iv:40778.45,t:"14:41:03"},{iv:40775.8,t:"14:41:04"},{iv:40775.4,t:"14:41:05"},{iv:40774.95,t:"14:41:06"},{iv:40774.95,t:"14:41:06"},{iv:40773.8,t:"14:41:08"},{iv:40774.8,t:"14:41:09"},{iv:40773.85,t:"14:41:10"},{iv:40775.9,t:"14:41:11"},{iv:40774.85,t:"14:41:12"},{iv:40776.7,t:"14:41:13"},{iv:40776.7,t:"14:41:14"},{iv:40775.65,t:"14:41:15"},{iv:40775.5,t:"14:41:16"},{iv:40769.05,t:"14:41:17"},{iv:40768.1,t:"14:41:18"},{iv:40766.15,t:"14:41:19"},{iv:40768.65,t:"14:41:20"},{iv:40766.15,t:"14:41:21"},{iv:40766.05,t:"14:41:22"},{iv:40767.2,t:"14:41:23"},{iv:40767.2,t:"14:41:24"},{iv:40766.7,t:"14:41:25"},{iv:40764.45,t:"14:41:26"},{iv:40764.45,t:"14:41:27"},{iv:40760.15,t:"14:41:28"},{iv:40759.9,t:"14:41:29"},{iv:40760.75,t:"14:41:30"},{iv:40760.2,t:"14:41:31"},{iv:40760.3,t:"14:41:32"},{iv:40760.3,t:"14:41:33"},{iv:40761.6,t:"14:41:34"},{iv:40759.9,t:"14:41:35"},{iv:40758.7,t:"14:41:36"},{iv:40761.05,t:"14:41:37"},{iv:40763.35,t:"14:41:38"},{iv:40761.6,t:"14:41:39"},{iv:40763.85,t:"14:41:40"},{iv:40763.5,t:"14:41:41"},{iv:40763.35,t:"14:41:42"},{iv:40763.35,t:"14:41:43"},{iv:40763.7,t:"14:41:44"},{iv:40763.7,t:"14:41:45"},{iv:40763.6,t:"14:41:46"},{iv:40762.25,t:"14:41:47"},{iv:40762.25,t:"14:41:47"},{iv:40765.35,t:"14:41:49"},{iv:40765.35,t:"14:41:49"},{iv:40765.35,t:"14:41:50"},{iv:40768.6,t:"14:41:52"},{iv:40769.7,t:"14:41:53"},{iv:40769.25,t:"14:41:54"},{iv:40769.45,t:"14:41:55"},{iv:40764.2,t:"14:41:56"},{iv:40764.2,t:"14:41:57"},{iv:40766.2,t:"14:41:58"},{iv:40765.95,t:"14:41:59"},{iv:40763.15,t:"14:42:00"},{iv:40763.15,t:"14:42:01"},{iv:40760.65,t:"14:42:02"},{iv:40763.85,t:"14:42:03"},{iv:40763.5,t:"14:42:04"},{iv:40765.25,t:"14:42:05"},{iv:40764.6,t:"14:42:06"},{iv:40763.15,t:"14:42:07"},{iv:40764.05,t:"14:42:08"},{iv:40764.05,t:"14:42:08"},{iv:40764.7,t:"14:42:09"},{iv:40762.7,t:"14:42:11"},{iv:40762.65,t:"14:42:12"},{iv:40765.3,t:"14:42:13"},{iv:40764,t:"14:42:14"},{iv:40763.5,t:"14:42:15"},{iv:40764.7,t:"14:42:16"},{iv:40764.4,t:"14:42:17"},{iv:40765.1,t:"14:42:18"},{iv:40766.65,t:"14:42:19"},{iv:40765.6,t:"14:42:20"},{iv:40768.2,t:"14:42:21"},{iv:40770.45,t:"14:42:22"},{iv:40769.35,t:"14:42:23"},{iv:40769.35,t:"14:42:24"},{iv:40767.95,t:"14:42:25"},{iv:40767.9,t:"14:42:26"},{iv:40770.55,t:"14:42:27"},{iv:40767.85,t:"14:42:28"},{iv:40768.2,t:"14:42:29"},{iv:40768.2,t:"14:42:30"},{iv:40766.4,t:"14:42:31"},{iv:40766.6,t:"14:42:33"},{iv:40767.5,t:"14:42:34"},{iv:40767.5,t:"14:42:34"},{iv:40765.2,t:"14:42:35"},{iv:40765.2,t:"14:42:36"},{iv:40765,t:"14:42:37"},{iv:40766.5,t:"14:42:38"},{iv:40762.95,t:"14:42:39"},{iv:40762.95,t:"14:42:40"},{iv:40763.75,t:"14:42:41"},{iv:40763.75,t:"14:42:42"},{iv:40762.15,t:"14:42:43"},{iv:40765.6,t:"14:42:44"},{iv:40766.4,t:"14:42:45"},{iv:40767.5,t:"14:42:46"},{iv:40765.85,t:"14:42:47"},{iv:40767.8,t:"14:42:48"},{iv:40768.85,t:"14:42:49"},{iv:40769.85,t:"14:42:50"},{iv:40770.35,t:"14:42:51"},{iv:40771.35,t:"14:42:52"},{iv:40771.15,t:"14:42:53"},{iv:40771.1,t:"14:42:54"},{iv:40770.8,t:"14:42:55"},{iv:40771.05,t:"14:42:56"},{iv:40769.25,t:"14:42:57"},{iv:40769,t:"14:42:58"},{iv:40768,t:"14:42:59"},{iv:40768,t:"14:42:59"},{iv:40766.8,t:"14:43:01"},{iv:40767.3,t:"14:43:02"},{iv:40767.35,t:"14:43:03"},{iv:40764.15,t:"14:43:04"},{iv:40765.3,t:"14:43:05"},{iv:40766.55,t:"14:43:06"},{iv:40765.9,t:"14:43:07"},{iv:40765.3,t:"14:43:08"},{iv:40766.3,t:"14:43:09"},{iv:40764.85,t:"14:43:10"},{iv:40765.5,t:"14:43:11"},{iv:40766.95,t:"14:43:12"},{iv:40764.35,t:"14:43:13"},{iv:40765.3,t:"14:43:14"},{iv:40765.55,t:"14:43:15"},{iv:40766.65,t:"14:43:18"},{iv:40766.65,t:"14:43:18"},{iv:40765.25,t:"14:43:19"},{iv:40767.35,t:"14:43:20"},{iv:40767.95,t:"14:43:21"},{iv:40766.35,t:"14:43:22"},{iv:40767.9,t:"14:43:23"},{iv:40769.65,t:"14:43:24"},{iv:40768.65,t:"14:43:25"},{iv:40768.8,t:"14:43:26"},{iv:40770.2,t:"14:43:27"},{iv:40770.4,t:"14:43:28"},{iv:40769,t:"14:43:29"},{iv:40770.85,t:"14:43:30"},{iv:40770.15,t:"14:43:31"},{iv:40774.15,t:"14:43:32"},{iv:40778,t:"14:43:33"},{iv:40782.6,t:"14:43:35"},{iv:40783,t:"14:43:35"},{iv:40786.05,t:"14:43:37"},{iv:40786.05,t:"14:43:37"},{iv:40784,t:"14:43:38"},{iv:40784.8,t:"14:43:39"},{iv:40783.5,t:"14:43:40"},{iv:40786.15,t:"14:43:41"},{iv:40785.1,t:"14:43:42"},{iv:40785.35,t:"14:43:45"},{iv:40786.75,t:"14:43:46"},{iv:40786.75,t:"14:43:46"},{iv:40788.3,t:"14:43:47"},{iv:40790.3,t:"14:43:48"},{iv:40789.7,t:"14:43:49"},{iv:40786.7,t:"14:43:50"},{iv:40789.95,t:"14:43:51"},{iv:40788.35,t:"14:43:52"},{iv:40791.45,t:"14:43:53"},{iv:40790.2,t:"14:43:54"},{iv:40790.25,t:"14:43:55"},{iv:40790.7,t:"14:43:56"},{iv:40795.25,t:"14:43:57"},{iv:40798.15,t:"14:43:58"},{iv:40794.3,t:"14:43:59"},{iv:40798.25,t:"14:44:00"},{iv:40798.9,t:"14:44:01"},{iv:40796.4,t:"14:44:02"},{iv:40800.4,t:"14:44:03"},{iv:40797.25,t:"14:44:04"},{iv:40796.75,t:"14:44:05"},{iv:40796.15,t:"14:44:06"},{iv:40796.3,t:"14:44:07"},{iv:40791.95,t:"14:44:08"},{iv:40791,t:"14:44:09"},{iv:40793.8,t:"14:44:10"},{iv:40791.05,t:"14:44:11"},{iv:40791.3,t:"14:44:12"},{iv:40793.3,t:"14:44:13"},{iv:40792.65,t:"14:44:14"},{iv:40791.5,t:"14:44:15"},{iv:40790.9,t:"14:44:16"},{iv:40791.5,t:"14:44:17"},{iv:40791.9,t:"14:44:18"},{iv:40793.6,t:"14:44:19"},{iv:40792.85,t:"14:44:20"},{iv:40793.45,t:"14:44:21"},{iv:40791.9,t:"14:44:22"},{iv:40789.75,t:"14:44:23"},{iv:40790.6,t:"14:44:24"},{iv:40790.8,t:"14:44:25"},{iv:40791.35,t:"14:44:26"},{iv:40793.05,t:"14:44:27"},{iv:40792.7,t:"14:44:28"},{iv:40792.9,t:"14:44:29"},{iv:40794.6,t:"14:44:30"},{iv:40793.1,t:"14:44:31"},{iv:40793.6,t:"14:44:32"},{iv:40795.1,t:"14:44:33"},{iv:40791.1,t:"14:44:34"},{iv:40792,t:"14:44:35"},{iv:40793.65,t:"14:44:36"},{iv:40791.9,t:"14:44:37"},{iv:40791.45,t:"14:44:38"},{iv:40792.7,t:"14:44:39"},{iv:40790.35,t:"14:44:40"},{iv:40792.85,t:"14:44:41"},{iv:40792.65,t:"14:44:42"},{iv:40791.9,t:"14:44:43"},{iv:40792.45,t:"14:44:44"},{iv:40791.65,t:"14:44:45"},{iv:40790.75,t:"14:44:46"},{iv:40791.1,t:"14:44:47"},{iv:40792.1,t:"14:44:48"},{iv:40792.05,t:"14:44:49"},{iv:40791.85,t:"14:44:50"},{iv:40792.85,t:"14:44:51"},{iv:40791.8,t:"14:44:52"},{iv:40792.55,t:"14:44:53"},{iv:40794.1,t:"14:44:54"},{iv:40792.4,t:"14:44:55"},{iv:40792,t:"14:44:56"},{iv:40785.75,t:"14:44:57"},{iv:40786.9,t:"14:44:58"},{iv:40785.85,t:"14:44:59"},{iv:40785.6,t:"14:45:00"},{iv:40785,t:"14:45:01"},{iv:40783.45,t:"14:45:02"},{iv:40786.2,t:"14:45:03"},{iv:40785.45,t:"14:45:04"},{iv:40783.55,t:"14:45:05"},{iv:40788.05,t:"14:45:06"},{iv:40791.35,t:"14:45:07"},{iv:40788.35,t:"14:45:08"},{iv:40791.05,t:"14:45:09"},{iv:40794.5,t:"14:45:10"},{iv:40793.85,t:"14:45:11"},{iv:40793.35,t:"14:45:12"},{iv:40796.3,t:"14:45:13"},{iv:40796.05,t:"14:45:14"},{iv:40794.7,t:"14:45:15"},{iv:40796.25,t:"14:45:16"},{iv:40795.85,t:"14:45:17"},{iv:40795.85,t:"14:45:18"},{iv:40795.6,t:"14:45:19"},{iv:40793.3,t:"14:45:20"},{iv:40793.15,t:"14:45:21"},{iv:40792.75,t:"14:45:22"},{iv:40793.75,t:"14:45:23"},{iv:40792.95,t:"14:45:24"},{iv:40793.9,t:"14:45:25"},{iv:40796,t:"14:45:26"},{iv:40795.05,t:"14:45:27"},{iv:40793.95,t:"14:45:28"},{iv:40794.9,t:"14:45:29"},{iv:40796.8,t:"14:45:30"},{iv:40794.6,t:"14:45:31"},{iv:40796.9,t:"14:45:32"},{iv:40804.85,t:"14:45:33"},{iv:40802.6,t:"14:45:34"},{iv:40801.85,t:"14:45:35"},{iv:40803.8,t:"14:45:36"},{iv:40805.6,t:"14:45:37"},{iv:40805.05,t:"14:45:38"},{iv:40807.6,t:"14:45:39"},{iv:40809.85,t:"14:45:40"},{iv:40807.85,t:"14:45:42"},{iv:40807.85,t:"14:45:42"},{iv:40813.15,t:"14:45:43"},{iv:40812.7,t:"14:45:44"},{iv:40812.55,t:"14:45:45"},{iv:40815.45,t:"14:45:46"},{iv:40815.95,t:"14:45:47"},{iv:40819.8,t:"14:45:48"},{iv:40820.6,t:"14:45:49"},{iv:40821.1,t:"14:45:50"},{iv:40821.5,t:"14:45:51"},{iv:40821.75,t:"14:45:52"},{iv:40821.9,t:"14:45:53"},{iv:40821.9,t:"14:45:54"},{iv:40821.9,t:"14:45:55"},{iv:40822.5,t:"14:45:56"},{iv:40825.95,t:"14:45:57"},{iv:40826.2,t:"14:45:58"},{iv:40826.6,t:"14:45:59"},{iv:40827.55,t:"14:46:00"},{iv:40826.45,t:"14:46:01"},{iv:40832.05,t:"14:46:03"},{iv:40829.6,t:"14:46:04"},{iv:40829.6,t:"14:46:04"},{iv:40828.35,t:"14:46:05"},{iv:40830.05,t:"14:46:06"},{iv:40832.95,t:"14:46:07"},{iv:40828.7,t:"14:46:08"},{iv:40834.65,t:"14:46:09"},{iv:40829.9,t:"14:46:10"},{iv:40832,t:"14:46:11"},{iv:40830.95,t:"14:46:12"},{iv:40834.4,t:"14:46:13"},{iv:40835,t:"14:46:14"},{iv:40834.3,t:"14:46:15"},{iv:40834.1,t:"14:46:16"},{iv:40835.1,t:"14:46:17"},{iv:40836.9,t:"14:46:18"},{iv:40836,t:"14:46:19"},{iv:40836.75,t:"14:46:20"},{iv:40838.55,t:"14:46:21"},{iv:40834.95,t:"14:46:22"},{iv:40838.15,t:"14:46:23"},{iv:40837.6,t:"14:46:24"},{iv:40838,t:"14:46:25"},{iv:40838.9,t:"14:46:26"},{iv:40838.6,t:"14:46:27"},{iv:40838.4,t:"14:46:28"},{iv:40836.3,t:"14:46:29"},{iv:40836.9,t:"14:46:30"},{iv:40838.1,t:"14:46:31"},{iv:40839.3,t:"14:46:32"},{iv:40829.55,t:"14:46:33"},{iv:40821.6,t:"14:46:34"},{iv:40819,t:"14:46:35"},{iv:40821.9,t:"14:46:36"},{iv:40821.55,t:"14:46:37"},{iv:40820.3,t:"14:46:38"},{iv:40823.85,t:"14:46:39"},{iv:40821.95,t:"14:46:40"},{iv:40823,t:"14:46:41"},{iv:40820.8,t:"14:46:42"},{iv:40821.25,t:"14:46:43"},{iv:40820.3,t:"14:46:44"},{iv:40817.7,t:"14:46:45"},{iv:40815.6,t:"14:46:47"},{iv:40815.6,t:"14:46:47"},{iv:40814.65,t:"14:46:49"},{iv:40814.65,t:"14:46:49"},{iv:40813,t:"14:46:50"},{iv:40816.6,t:"14:46:51"},{iv:40815.15,t:"14:46:52"},{iv:40814.8,t:"14:46:53"},{iv:40814.55,t:"14:46:54"},{iv:40816.25,t:"14:46:55"},{iv:40819.05,t:"14:46:57"},{iv:40818.4,t:"14:46:58"},{iv:40821.35,t:"14:46:59"},{iv:40821.35,t:"14:46:59"},{iv:40819.65,t:"14:47:00"},{iv:40820.45,t:"14:47:01"},{iv:40818.55,t:"14:47:02"},{iv:40821,t:"14:47:03"},{iv:40819.2,t:"14:47:04"},{iv:40808.45,t:"14:47:05"},{iv:40805,t:"14:47:06"},{iv:40809.45,t:"14:47:07"},{iv:40805.5,t:"14:47:08"},{iv:40801.5,t:"14:47:09"},{iv:40803.05,t:"14:47:10"},{iv:40800.95,t:"14:47:11"},{iv:40797.25,t:"14:47:12"},{iv:40801,t:"14:47:13"},{iv:40800.6,t:"14:47:14"},{iv:40799.85,t:"14:47:15"},{iv:40799.85,t:"14:47:16"},{iv:40790.95,t:"14:47:17"},{iv:40792.7,t:"14:47:18"},{iv:40785.85,t:"14:47:19"},{iv:40787.45,t:"14:47:20"},{iv:40790,t:"14:47:21"},{iv:40784.85,t:"14:47:22"},{iv:40782.15,t:"14:47:23"},{iv:40778.25,t:"14:47:24"},{iv:40778.25,t:"14:47:25"},{iv:40776.2,t:"14:47:26"},{iv:40780.1,t:"14:47:27"},{iv:40782.75,t:"14:47:28"},{iv:40782.8,t:"14:47:29"},{iv:40782.8,t:"14:47:30"},{iv:40782.45,t:"14:47:31"},{iv:40781.2,t:"14:47:32"},{iv:40782.05,t:"14:47:33"},{iv:40780.8,t:"14:47:34"},{iv:40782.5,t:"14:47:35"},{iv:40783.45,t:"14:47:36"},{iv:40783.4,t:"14:47:37"},{iv:40782.45,t:"14:47:38"},{iv:40781.35,t:"14:47:39"},{iv:40782.95,t:"14:47:40"},{iv:40782,t:"14:47:41"},{iv:40783.15,t:"14:47:42"},{iv:40780.85,t:"14:47:43"},{iv:40769.1,t:"14:47:44"},{iv:40770.35,t:"14:47:45"},{iv:40766.05,t:"14:47:46"},{iv:40763.45,t:"14:47:47"},{iv:40761.8,t:"14:47:48"},{iv:40762.5,t:"14:47:49"},{iv:40762.5,t:"14:47:50"},{iv:40762.65,t:"14:47:51"},{iv:40761.45,t:"14:47:52"},{iv:40761.5,t:"14:47:53"},{iv:40761.55,t:"14:47:54"},{iv:40758.8,t:"14:47:55"},{iv:40761.65,t:"14:47:56"},{iv:40761.95,t:"14:47:57"},{iv:40760.7,t:"14:47:58"},{iv:40757.35,t:"14:47:59"},{iv:40754.05,t:"14:48:00"},{iv:40752.2,t:"14:48:01"},{iv:40751.65,t:"14:48:03"},{iv:40750.75,t:"14:48:03"},{iv:40748.4,t:"14:48:04"},{iv:40751.65,t:"14:48:05"},{iv:40753.7,t:"14:48:06"},{iv:40752.65,t:"14:48:07"},{iv:40747,t:"14:48:08"},{iv:40748.15,t:"14:48:09"},{iv:40748,t:"14:48:10"},{iv:40749.5,t:"14:48:11"},{iv:40747.2,t:"14:48:12"},{iv:40748,t:"14:48:13"},{iv:40747.8,t:"14:48:14"},{iv:40746.8,t:"14:48:15"},{iv:40745.35,t:"14:48:16"},{iv:40744,t:"14:48:17"},{iv:40748.1,t:"14:48:18"},{iv:40748.65,t:"14:48:19"},{iv:40748.9,t:"14:48:20"},{iv:40749.3,t:"14:48:21"},{iv:40747.05,t:"14:48:22"},{iv:40748.65,t:"14:48:23"},{iv:40746.9,t:"14:48:24"},{iv:40747.05,t:"14:48:25"},{iv:40747.6,t:"14:48:26"},{iv:40746.2,t:"14:48:27"},{iv:40745.35,t:"14:48:28"},{iv:40749.2,t:"14:48:29"},{iv:40745.05,t:"14:48:30"},{iv:40745.2,t:"14:48:31"},{iv:40745.9,t:"14:48:32"},{iv:40748.55,t:"14:48:33"},{iv:40747.65,t:"14:48:34"},{iv:40748.9,t:"14:48:35"},{iv:40759.2,t:"14:48:36"},{iv:40761.8,t:"14:48:37"},{iv:40765.7,t:"14:48:38"},{iv:40762.1,t:"14:48:39"},{iv:40767.05,t:"14:48:40"},{iv:40765.85,t:"14:48:41"},{iv:40762.8,t:"14:48:42"},{iv:40759.2,t:"14:48:43"},{iv:40756.2,t:"14:48:44"},{iv:40757.45,t:"14:48:45"},{iv:40757.9,t:"14:48:46"},{iv:40754.1,t:"14:48:47"},{iv:40759.15,t:"14:48:48"},{iv:40758.35,t:"14:48:49"},{iv:40749.55,t:"14:48:50"},{iv:40755.55,t:"14:48:51"},{iv:40752.9,t:"14:48:52"},{iv:40754.9,t:"14:48:53"},{iv:40751.85,t:"14:48:54"},{iv:40752.3,t:"14:48:55"},{iv:40751,t:"14:48:56"},{iv:40747.1,t:"14:48:57"},{iv:40747.6,t:"14:48:58"},{iv:40747.95,t:"14:48:59"},{iv:40749.55,t:"14:49:00"},{iv:40749.15,t:"14:49:01"},{iv:40747.5,t:"14:49:02"},{iv:40754.05,t:"14:49:03"},{iv:40749.1,t:"14:49:04"},{iv:40747.75,t:"14:49:05"},{iv:40751.3,t:"14:49:06"},{iv:40753.6,t:"14:49:07"},{iv:40753.3,t:"14:49:08"},{iv:40753,t:"14:49:09"},{iv:40753,t:"14:49:10"},{iv:40752.15,t:"14:49:11"},{iv:40746.55,t:"14:49:12"},{iv:40747.6,t:"14:49:13"},{iv:40744.95,t:"14:49:14"},{iv:40745.95,t:"14:49:15"},{iv:40745.85,t:"14:49:17"},{iv:40745.85,t:"14:49:17"},{iv:40747.25,t:"14:49:19"},{iv:40747.25,t:"14:49:19"},{iv:40748.25,t:"14:49:20"},{iv:40750.75,t:"14:49:21"},{iv:40750.15,t:"14:49:22"},{iv:40747.55,t:"14:49:23"},{iv:40747.85,t:"14:49:24"},{iv:40748.4,t:"14:49:25"},{iv:40748.85,t:"14:49:26"},{iv:40745.2,t:"14:49:27"},{iv:40748.75,t:"14:49:28"},{iv:40748.15,t:"14:49:29"},{iv:40747.2,t:"14:49:30"},{iv:40746,t:"14:49:31"},{iv:40745.1,t:"14:49:32"},{iv:40746.25,t:"14:49:33"},{iv:40740.7,t:"14:49:34"},{iv:40739.85,t:"14:49:35"},{iv:40739.9,t:"14:49:36"},{iv:40742,t:"14:49:37"},{iv:40737.25,t:"14:49:38"},{iv:40735.55,t:"14:49:39"},{iv:40735.2,t:"14:49:40"},{iv:40736.05,t:"14:49:41"},{iv:40732.05,t:"14:49:42"},{iv:40731.2,t:"14:49:43"},{iv:40730.95,t:"14:49:44"},{iv:40728.75,t:"14:49:45"},{iv:40728.7,t:"14:49:46"},{iv:40723.75,t:"14:49:47"},{iv:40728,t:"14:49:48"},{iv:40728.85,t:"14:49:49"},{iv:40729.95,t:"14:49:50"},{iv:40730,t:"14:49:51"},{iv:40724.15,t:"14:49:52"},{iv:40725.75,t:"14:49:53"},{iv:40723.65,t:"14:49:54"},{iv:40722.9,t:"14:49:55"},{iv:40727,t:"14:49:56"},{iv:40727.55,t:"14:49:57"},{iv:40722.4,t:"14:49:58"},{iv:40722.5,t:"14:49:59"},{iv:40722.1,t:"14:50:00"},{iv:40724.25,t:"14:50:01"},{iv:40724.25,t:"14:50:01"},{iv:40723.8,t:"14:50:03"},{iv:40723.8,t:"14:50:04"},{iv:40723.1,t:"14:50:05"},{iv:40722.6,t:"14:50:06"},{iv:40722.6,t:"14:50:07"},{iv:40728.3,t:"14:50:08"},{iv:40726.35,t:"14:50:09"},{iv:40726.55,t:"14:50:10"},{iv:40724.55,t:"14:50:11"},{iv:40724.55,t:"14:50:12"},{iv:40722.9,t:"14:50:13"},{iv:40722.55,t:"14:50:14"},{iv:40723.3,t:"14:50:15"},{iv:40723.3,t:"14:50:16"},{iv:40722.2,t:"14:50:17"},{iv:40722.2,t:"14:50:17"},{iv:40719,t:"14:50:19"},{iv:40718.3,t:"14:50:20"},{iv:40720.1,t:"14:50:21"},{iv:40717.15,t:"14:50:22"},{iv:40719.6,t:"14:50:23"},{iv:40720.35,t:"14:50:24"},{iv:40718.95,t:"14:50:25"},{iv:40720.3,t:"14:50:26"},{iv:40718.35,t:"14:50:27"},{iv:40718.1,t:"14:50:28"},{iv:40717.25,t:"14:50:29"},{iv:40718.5,t:"14:50:30"},{iv:40718,t:"14:50:31"},{iv:40716.3,t:"14:50:32"},{iv:40719.1,t:"14:50:33"},{iv:40722.25,t:"14:50:34"},{iv:40723.05,t:"14:50:35"},{iv:40727,t:"14:50:36"},{iv:40732.3,t:"14:50:37"},{iv:40728.5,t:"14:50:38"},{iv:40732.45,t:"14:50:39"},{iv:40729,t:"14:50:40"},{iv:40733.2,t:"14:50:41"},{iv:40734.6,t:"14:50:42"},{iv:40734.15,t:"14:50:43"},{iv:40733.35,t:"14:50:44"},{iv:40734.1,t:"14:50:45"},{iv:40731.65,t:"14:50:46"},{iv:40731.65,t:"14:50:46"},{iv:40727.4,t:"14:50:47"},{iv:40726.85,t:"14:50:49"},{iv:40726.85,t:"14:50:50"},{iv:40731.7,t:"14:50:51"},{iv:40728.6,t:"14:50:52"},{iv:40733,t:"14:50:53"},{iv:40731.2,t:"14:50:54"},{iv:40730.05,t:"14:50:55"},{iv:40731,t:"14:50:56"},{iv:40728.55,t:"14:50:57"},{iv:40733.3,t:"14:50:58"},{iv:40733.3,t:"14:50:58"},{iv:40731.55,t:"14:51:00"},{iv:40730.9,t:"14:51:01"},{iv:40726.55,t:"14:51:02"},{iv:40730.1,t:"14:51:03"},{iv:40731.5,t:"14:51:04"},{iv:40728.9,t:"14:51:05"},{iv:40730.7,t:"14:51:06"},{iv:40731.5,t:"14:51:07"},{iv:40730.35,t:"14:51:08"},{iv:40732.85,t:"14:51:09"},{iv:40733.5,t:"14:51:10"},{iv:40732.85,t:"14:51:11"},{iv:40737.65,t:"14:51:12"},{iv:40737.65,t:"14:51:12"},{iv:40737.4,t:"14:51:13"},{iv:40739.5,t:"14:51:16"},{iv:40739.5,t:"14:51:16"},{iv:40739.25,t:"14:51:17"},{iv:40739.45,t:"14:51:18"},{iv:40737.85,t:"14:51:19"},{iv:40736.45,t:"14:51:20"},{iv:40732.8,t:"14:51:21"},{iv:40732.4,t:"14:51:22"},{iv:40736.7,t:"14:51:23"},{iv:40736.95,t:"14:51:24"},{iv:40737,t:"14:51:25"},{iv:40734.95,t:"14:51:26"},{iv:40734.95,t:"14:51:27"},{iv:40729.75,t:"14:51:28"},{iv:40730.3,t:"14:51:29"},{iv:40730.3,t:"14:51:30"},{iv:40728.15,t:"14:51:31"},{iv:40724.7,t:"14:51:32"},{iv:40725.3,t:"14:51:33"},{iv:40725.3,t:"14:51:34"},{iv:40725.45,t:"14:51:35"},{iv:40725.45,t:"14:51:35"},{iv:40726.05,t:"14:51:36"},{iv:40721.55,t:"14:51:38"},{iv:40724.35,t:"14:51:39"},{iv:40724.35,t:"14:51:39"},{iv:40721.1,t:"14:51:41"},{iv:40717.95,t:"14:51:42"},{iv:40719.45,t:"14:51:43"},{iv:40718.5,t:"14:51:44"},{iv:40710.35,t:"14:51:45"},{iv:40712.95,t:"14:51:46"},{iv:40708.7,t:"14:51:47"},{iv:40710.55,t:"14:51:48"},{iv:40715.4,t:"14:51:49"},{iv:40713.75,t:"14:51:50"},{iv:40715.85,t:"14:51:51"},{iv:40715.85,t:"14:51:52"},{iv:40715.5,t:"14:51:53"},{iv:40715.05,t:"14:51:54"},{iv:40715.05,t:"14:51:54"},{iv:40716.45,t:"14:51:56"},{iv:40716.45,t:"14:51:56"},{iv:40712.35,t:"14:51:58"},{iv:40706.05,t:"14:51:59"},{iv:40710.05,t:"14:52:00"},{iv:40708.85,t:"14:52:01"},{iv:40707.65,t:"14:52:02"},{iv:40708.35,t:"14:52:03"},{iv:40706.85,t:"14:52:04"},{iv:40704.95,t:"14:52:05"},{iv:40704.95,t:"14:52:05"},{iv:40710.4,t:"14:52:07"},{iv:40707.5,t:"14:52:08"},{iv:40708.3,t:"14:52:09"},{iv:40713.65,t:"14:52:10"},{iv:40713.4,t:"14:52:11"},{iv:40713.7,t:"14:52:12"},{iv:40713.7,t:"14:52:12"},{iv:40732.45,t:"14:52:14"},{iv:40732.45,t:"14:52:15"},{iv:40728.25,t:"14:52:16"},{iv:40724.6,t:"14:52:17"},{iv:40726,t:"14:52:18"},{iv:40725.25,t:"14:52:19"},{iv:40723.3,t:"14:52:20"},{iv:40723.3,t:"14:52:20"},{iv:40726.2,t:"14:52:22"},{iv:40723.8,t:"14:52:23"},{iv:40722.15,t:"14:52:24"},{iv:40721.8,t:"14:52:25"},{iv:40721.8,t:"14:52:26"},{iv:40724.55,t:"14:52:26"},{iv:40722.45,t:"14:52:28"},{iv:40723.05,t:"14:52:29"},{iv:40720.9,t:"14:52:30"},{iv:40716.35,t:"14:52:31"},{iv:40715.7,t:"14:52:32"},{iv:40720.6,t:"14:52:33"},{iv:40719.6,t:"14:52:34"},{iv:40718.1,t:"14:52:35"},{iv:40720.3,t:"14:52:36"},{iv:40724.8,t:"14:52:37"},{iv:40724.95,t:"14:52:38"},{iv:40723.8,t:"14:52:39"},{iv:40723.8,t:"14:52:39"},{iv:40725.7,t:"14:52:41"},{iv:40725.7,t:"14:52:41"},{iv:40725.75,t:"14:52:43"},{iv:40718.9,t:"14:52:44"},{iv:40717.7,t:"14:52:45"},{iv:40715.25,t:"14:52:46"},{iv:40714.2,t:"14:52:47"},{iv:40714.2,t:"14:52:48"},{iv:40717.6,t:"14:52:49"},{iv:40721.35,t:"14:52:50"},{iv:40721.35,t:"14:52:50"},{iv:40719.4,t:"14:52:52"},{iv:40719.1,t:"14:52:53"},{iv:40718.75,t:"14:52:54"},{iv:40718.8,t:"14:52:55"},{iv:40719.35,t:"14:52:56"},{iv:40719.35,t:"14:52:56"},{iv:40721.45,t:"14:52:58"},{iv:40722.65,t:"14:52:59"},{iv:40719.5,t:"14:53:00"},{iv:40719.5,t:"14:53:00"},{iv:40718,t:"14:53:02"},{iv:40721.45,t:"14:53:03"},{iv:40722.35,t:"14:53:04"},{iv:40722.35,t:"14:53:04"},{iv:40720.2,t:"14:53:06"},{iv:40722.2,t:"14:53:07"},{iv:40722.2,t:"14:53:07"},{iv:40722.3,t:"14:53:09"},{iv:40722.3,t:"14:53:09"},{iv:40725.75,t:"14:53:11"},{iv:40727.65,t:"14:53:12"},{iv:40727.65,t:"14:53:13"},{iv:40727.65,t:"14:53:14"},{iv:40728.25,t:"14:53:15"},{iv:40732.9,t:"14:53:16"},{iv:40734.95,t:"14:53:17"},{iv:40738.5,t:"14:53:18"},{iv:40737.5,t:"14:53:19"},{iv:40736.05,t:"14:53:20"},{iv:40734.5,t:"14:53:21"},{iv:40737.3,t:"14:53:22"},{iv:40737.35,t:"14:53:23"},{iv:40737.35,t:"14:53:23"},{iv:40736.7,t:"14:53:25"},{iv:40735.35,t:"14:53:26"},{iv:40735.2,t:"14:53:27"},{iv:40732.55,t:"14:53:28"},{iv:40732.5,t:"14:53:29"},{iv:40731.65,t:"14:53:30"},{iv:40731.65,t:"14:53:31"},{iv:40726.85,t:"14:53:32"},{iv:40726.7,t:"14:53:33"},{iv:40724.5,t:"14:53:34"},{iv:40722.35,t:"14:53:35"},{iv:40721.35,t:"14:53:36"},{iv:40719.5,t:"14:53:37"},{iv:40719.6,t:"14:53:38"},{iv:40717.8,t:"14:53:39"},{iv:40719.9,t:"14:53:40"},{iv:40720,t:"14:53:41"},{iv:40719.45,t:"14:53:42"},{iv:40718.9,t:"14:53:43"},{iv:40718.7,t:"14:53:44"},{iv:40717.1,t:"14:53:45"},{iv:40714.85,t:"14:53:46"},{iv:40714.85,t:"14:53:46"},{iv:40714,t:"14:53:48"},{iv:40714,t:"14:53:49"},{iv:40710.45,t:"14:53:50"},{iv:40709.9,t:"14:53:51"},{iv:40705.9,t:"14:53:52"},{iv:40706.25,t:"14:53:53"},{iv:40707.1,t:"14:53:54"},{iv:40707.15,t:"14:53:55"},{iv:40704.8,t:"14:53:56"},{iv:40706.9,t:"14:53:57"},{iv:40704,t:"14:53:58"},{iv:40704.25,t:"14:53:59"},{iv:40703.75,t:"14:54:00"},{iv:40703.75,t:"14:54:01"},{iv:40703.75,t:"14:54:01"},{iv:40703.45,t:"14:54:03"},{iv:40703.45,t:"14:54:04"},{iv:40708.75,t:"14:54:05"},{iv:40710.15,t:"14:54:06"},{iv:40708.4,t:"14:54:07"},{iv:40706.15,t:"14:54:08"},{iv:40711.15,t:"14:54:09"},{iv:40709.05,t:"14:54:10"},{iv:40712.55,t:"14:54:11"},{iv:40711.7,t:"14:54:12"},{iv:40712.8,t:"14:54:13"},{iv:40710.25,t:"14:54:14"},{iv:40710.25,t:"14:54:15"},{iv:40719.35,t:"14:54:16"},{iv:40718.85,t:"14:54:17"},{iv:40716.4,t:"14:54:18"},{iv:40721.05,t:"14:54:19"},{iv:40718.4,t:"14:54:20"},{iv:40718.5,t:"14:54:21"},{iv:40717.6,t:"14:54:22"},{iv:40714.75,t:"14:54:23"},{iv:40719.1,t:"14:54:24"},{iv:40719.6,t:"14:54:25"},{iv:40711.85,t:"14:54:26"},{iv:40712.6,t:"14:54:27"},{iv:40712.2,t:"14:54:28"},{iv:40712.75,t:"14:54:29"},{iv:40712.05,t:"14:54:30"},{iv:40708.3,t:"14:54:31"},{iv:40707.55,t:"14:54:32"},{iv:40709.35,t:"14:54:33"},{iv:40707.7,t:"14:54:34"},{iv:40708.5,t:"14:54:35"},{iv:40708.6,t:"14:54:36"},{iv:40707.7,t:"14:54:37"},{iv:40706.65,t:"14:54:38"},{iv:40708.2,t:"14:54:39"},{iv:40706.55,t:"14:54:40"},{iv:40705.4,t:"14:54:41"},{iv:40703.9,t:"14:54:42"},{iv:40703.35,t:"14:54:43"},{iv:40706.4,t:"14:54:44"},{iv:40704.35,t:"14:54:45"},{iv:40703.8,t:"14:54:46"},{iv:40705.35,t:"14:54:47"},{iv:40704.25,t:"14:54:48"},{iv:40703.8,t:"14:54:49"},{iv:40701.4,t:"14:54:50"},{iv:40703,t:"14:54:51"},{iv:40701.35,t:"14:54:52"},{iv:40701.3,t:"14:54:53"},{iv:40702,t:"14:54:54"},{iv:40701.15,t:"14:54:55"},{iv:40703.15,t:"14:54:56"},{iv:40701.35,t:"14:54:57"},{iv:40700.5,t:"14:54:58"},{iv:40698.8,t:"14:54:59"},{iv:40699.2,t:"14:55:00"},{iv:40695.8,t:"14:55:01"},{iv:40694.8,t:"14:55:02"},{iv:40695.5,t:"14:55:03"},{iv:40692.4,t:"14:55:05"},{iv:40694.5,t:"14:55:06"},{iv:40691.8,t:"14:55:07"},{iv:40688.65,t:"14:55:08"},{iv:40692.15,t:"14:55:09"},{iv:40689.45,t:"14:55:10"},{iv:40689.45,t:"14:55:10"},{iv:40687.75,t:"14:55:11"},{iv:40684.6,t:"14:55:12"},{iv:40682.4,t:"14:55:13"},{iv:40680.85,t:"14:55:14"},{iv:40681.8,t:"14:55:15"},{iv:40680.2,t:"14:55:16"},{iv:40682.85,t:"14:55:17"},{iv:40684.9,t:"14:55:18"},{iv:40687,t:"14:55:19"},{iv:40687,t:"14:55:19"},{iv:40694.45,t:"14:55:21"},{iv:40695.6,t:"14:55:22"},{iv:40700.45,t:"14:55:23"},{iv:40700.45,t:"14:55:24"},{iv:40701.05,t:"14:55:25"},{iv:40701.05,t:"14:55:25"},{iv:40690.7,t:"14:55:27"},{iv:40687.95,t:"14:55:28"},{iv:40693.45,t:"14:55:29"},{iv:40689.8,t:"14:55:30"},{iv:40689.8,t:"14:55:30"},{iv:40692.75,t:"14:55:32"},{iv:40694.45,t:"14:55:33"},{iv:40691.6,t:"14:55:34"},{iv:40691.6,t:"14:55:35"},{iv:40697.95,t:"14:55:36"},{iv:40696.15,t:"14:55:37"},{iv:40692.65,t:"14:55:38"},{iv:40692.65,t:"14:55:39"},{iv:40694.4,t:"14:55:40"},{iv:40692,t:"14:55:41"},{iv:40694.45,t:"14:55:42"},{iv:40694.45,t:"14:55:43"},{iv:40690.5,t:"14:55:44"},{iv:40696,t:"14:55:45"},{iv:40690.3,t:"14:55:46"},{iv:40690.3,t:"14:55:47"},{iv:40694.9,t:"14:55:48"},{iv:40693.75,t:"14:55:49"},{iv:40693.3,t:"14:55:50"},{iv:40693.9,t:"14:55:51"},{iv:40693.9,t:"14:55:52"},{iv:40693,t:"14:55:53"},{iv:40693,t:"14:55:54"},{iv:40691.25,t:"14:55:55"},{iv:40682.4,t:"14:55:56"},{iv:40682.4,t:"14:55:57"},{iv:40681,t:"14:55:58"},{iv:40678.85,t:"14:55:59"},{iv:40679,t:"14:56:00"},{iv:40678.35,t:"14:56:01"},{iv:40678.35,t:"14:56:02"},{iv:40678.45,t:"14:56:03"},{iv:40678.45,t:"14:56:04"},{iv:40678.3,t:"14:56:05"},{iv:40676.75,t:"14:56:06"},{iv:40677,t:"14:56:07"},{iv:40675.3,t:"14:56:08"},{iv:40677.5,t:"14:56:09"},{iv:40677.85,t:"14:56:10"},{iv:40676.5,t:"14:56:11"},{iv:40676.5,t:"14:56:11"},{iv:40675.5,t:"14:56:13"},{iv:40675.6,t:"14:56:14"},{iv:40676.75,t:"14:56:15"},{iv:40678.65,t:"14:56:16"},{iv:40673.55,t:"14:56:17"},{iv:40673.65,t:"14:56:18"},{iv:40669.6,t:"14:56:19"},{iv:40668.9,t:"14:56:20"},{iv:40668.15,t:"14:56:21"},{iv:40668.05,t:"14:56:22"},{iv:40666.95,t:"14:56:23"},{iv:40665.25,t:"14:56:24"},{iv:40666.85,t:"14:56:25"},{iv:40666.95,t:"14:56:26"},{iv:40667.8,t:"14:56:27"},{iv:40666.4,t:"14:56:28"},{iv:40665.7,t:"14:56:29"},{iv:40669.35,t:"14:56:30"},{iv:40665.6,t:"14:56:31"},{iv:40672.05,t:"14:56:32"},{iv:40679.2,t:"14:56:33"},{iv:40677.4,t:"14:56:34"},{iv:40676.25,t:"14:56:35"},{iv:40679.15,t:"14:56:36"},{iv:40679.15,t:"14:56:36"},{iv:40681.4,t:"14:56:38"},{iv:40690.55,t:"14:56:39"},{iv:40698.6,t:"14:56:40"},{iv:40697.85,t:"14:56:41"},{iv:40691.8,t:"14:56:42"},{iv:40692.7,t:"14:56:43"},{iv:40694.25,t:"14:56:44"},{iv:40692.7,t:"14:56:45"},{iv:40697.65,t:"14:56:46"},{iv:40698.6,t:"14:56:47"},{iv:40700.3,t:"14:56:48"},{iv:40701.7,t:"14:56:49"},{iv:40702.55,t:"14:56:50"},{iv:40704.1,t:"14:56:51"},{iv:40704.75,t:"14:56:52"},{iv:40701.15,t:"14:56:53"},{iv:40703.35,t:"14:56:54"},{iv:40703.8,t:"14:56:55"},{iv:40707.05,t:"14:56:56"},{iv:40702.85,t:"14:56:57"},{iv:40702.15,t:"14:56:58"},{iv:40703.95,t:"14:56:59"},{iv:40702.45,t:"14:57:00"},{iv:40703.75,t:"14:57:01"},{iv:40701.6,t:"14:57:02"},{iv:40707.2,t:"14:57:03"},{iv:40708.55,t:"14:57:04"},{iv:40710.65,t:"14:57:05"},{iv:40709.9,t:"14:57:06"},{iv:40708.25,t:"14:57:07"},{iv:40708.1,t:"14:57:08"},{iv:40712.75,t:"14:57:09"},{iv:40720.7,t:"14:57:10"},{iv:40722.35,t:"14:57:11"},{iv:40722.7,t:"14:57:12"},{iv:40718.8,t:"14:57:13"},{iv:40722.65,t:"14:57:14"},{iv:40725.4,t:"14:57:15"},{iv:40727.1,t:"14:57:16"},{iv:40728.45,t:"14:57:17"},{iv:40728.25,t:"14:57:18"},{iv:40730.25,t:"14:57:19"},{iv:40734.45,t:"14:57:20"},{iv:40733.1,t:"14:57:21"},{iv:40731.05,t:"14:57:22"},{iv:40732.75,t:"14:57:23"},{iv:40736.8,t:"14:57:24"},{iv:40735.15,t:"14:57:25"},{iv:40736.25,t:"14:57:26"},{iv:40740.35,t:"14:57:27"},{iv:40739.4,t:"14:57:28"},{iv:40742,t:"14:57:29"},{iv:40741.7,t:"14:57:30"},{iv:40741.45,t:"14:57:31"},{iv:40741.3,t:"14:57:32"},{iv:40742.6,t:"14:57:33"},{iv:40741.7,t:"14:57:34"},{iv:40742,t:"14:57:35"},{iv:40734.5,t:"14:57:36"},{iv:40735.1,t:"14:57:37"},{iv:40735.5,t:"14:57:38"},{iv:40734.35,t:"14:57:39"},{iv:40734.65,t:"14:57:40"},{iv:40732.95,t:"14:57:41"},{iv:40730.75,t:"14:57:42"},{iv:40729.65,t:"14:57:43"},{iv:40727.65,t:"14:57:44"},{iv:40727.2,t:"14:57:45"},{iv:40725.8,t:"14:57:46"},{iv:40722.45,t:"14:57:47"},{iv:40724.4,t:"14:57:48"},{iv:40724.35,t:"14:57:49"},{iv:40725.8,t:"14:57:50"},{iv:40730.05,t:"14:57:51"},{iv:40725.15,t:"14:57:52"},{iv:40726.1,t:"14:57:53"},{iv:40725.65,t:"14:57:54"},{iv:40725,t:"14:57:55"},{iv:40727.65,t:"14:57:56"},{iv:40726.25,t:"14:57:57"},{iv:40729.35,t:"14:57:58"},{iv:40729.45,t:"14:57:59"},{iv:40734.95,t:"14:58:00"},{iv:40731.35,t:"14:58:01"},{iv:40732.4,t:"14:58:02"},{iv:40738.15,t:"14:58:03"},{iv:40737.55,t:"14:58:04"},{iv:40734,t:"14:58:05"},{iv:40734.75,t:"14:58:06"},{iv:40737.2,t:"14:58:07"},{iv:40732.25,t:"14:58:08"},{iv:40738.05,t:"14:58:09"},{iv:40739.3,t:"14:58:10"},{iv:40739.55,t:"14:58:11"},{iv:40737.4,t:"14:58:12"},{iv:40745.5,t:"14:58:13"},{iv:40742.85,t:"14:58:14"},{iv:40739.2,t:"14:58:15"},{iv:40738.9,t:"14:58:16"},{iv:40740.95,t:"14:58:17"},{iv:40741.7,t:"14:58:18"},{iv:40740.75,t:"14:58:19"},{iv:40741.8,t:"14:58:20"},{iv:40740.25,t:"14:58:21"},{iv:40739.4,t:"14:58:22"},{iv:40739.75,t:"14:58:23"},{iv:40736.2,t:"14:58:24"},{iv:40737.65,t:"14:58:25"},{iv:40737.3,t:"14:58:26"},{iv:40729.8,t:"14:58:29"},{iv:40729.8,t:"14:58:29"},{iv:40729.8,t:"14:58:29"},{iv:40727.3,t:"14:58:30"},{iv:40728.25,t:"14:58:31"},{iv:40726.75,t:"14:58:32"},{iv:40728.55,t:"14:58:33"},{iv:40725.05,t:"14:58:34"},{iv:40727,t:"14:58:35"},{iv:40725.8,t:"14:58:36"},{iv:40726.7,t:"14:58:37"},{iv:40724.85,t:"14:58:38"},{iv:40722.8,t:"14:58:39"},{iv:40724.65,t:"14:58:40"},{iv:40724.65,t:"14:58:41"},{iv:40724.35,t:"14:58:42"},{iv:40724.45,t:"14:58:43"},{iv:40724.75,t:"14:58:44"},{iv:40726.15,t:"14:58:45"},{iv:40725.2,t:"14:58:46"},{iv:40723.5,t:"14:58:47"},{iv:40723.75,t:"14:58:48"},{iv:40723.25,t:"14:58:49"},{iv:40723.25,t:"14:58:50"},{iv:40726.35,t:"14:58:51"},{iv:40722.15,t:"14:58:52"},{iv:40724.3,t:"14:58:53"},{iv:40723.55,t:"14:58:54"},{iv:40722.35,t:"14:58:55"},{iv:40722.65,t:"14:58:56"},{iv:40722.45,t:"14:58:57"},{iv:40720.45,t:"14:58:58"},{iv:40722.95,t:"14:58:59"},{iv:40723.9,t:"14:59:00"},{iv:40723.65,t:"14:59:01"},{iv:40725.5,t:"14:59:03"},{iv:40725.95,t:"14:59:04"},{iv:40725.95,t:"14:59:04"},{iv:40717.55,t:"14:59:05"},{iv:40719.55,t:"14:59:06"},{iv:40720.45,t:"14:59:07"},{iv:40714.85,t:"14:59:08"},{iv:40718.3,t:"14:59:09"},{iv:40713.9,t:"14:59:10"},{iv:40716.75,t:"14:59:11"},{iv:40712.65,t:"14:59:12"},{iv:40711.4,t:"14:59:13"},{iv:40714.7,t:"14:59:14"},{iv:40711.15,t:"14:59:15"},{iv:40713.45,t:"14:59:16"},{iv:40713.8,t:"14:59:17"},{iv:40717.75,t:"14:59:18"},{iv:40714.25,t:"14:59:19"},{iv:40715.4,t:"14:59:20"},{iv:40714.3,t:"14:59:21"},{iv:40711.4,t:"14:59:22"},{iv:40712.3,t:"14:59:23"},{iv:40712.95,t:"14:59:24"},{iv:40716.1,t:"14:59:25"},{iv:40718.3,t:"14:59:26"},{iv:40720.65,t:"14:59:27"},{iv:40721.25,t:"14:59:29"},{iv:40720.1,t:"14:59:30"},{iv:40720.1,t:"14:59:30"},{iv:40720.95,t:"14:59:32"},{iv:40720.95,t:"14:59:32"},{iv:40720.2,t:"14:59:33"},{iv:40717.25,t:"14:59:34"},{iv:40717,t:"14:59:35"},{iv:40713.8,t:"14:59:36"},{iv:40715.1,t:"14:59:37"},{iv:40714.75,t:"14:59:38"},{iv:40715.85,t:"14:59:39"},{iv:40715.7,t:"14:59:40"},{iv:40716.45,t:"14:59:41"},{iv:40715.05,t:"14:59:42"},{iv:40716.05,t:"14:59:43"},{iv:40719.7,t:"14:59:44"},{iv:40719.6,t:"14:59:45"},{iv:40715.4,t:"14:59:46"},{iv:40717.5,t:"14:59:47"},{iv:40714.7,t:"14:59:48"},{iv:40713.55,t:"14:59:49"},{iv:40715.35,t:"14:59:50"},{iv:40715.35,t:"14:59:51"},{iv:40715.75,t:"14:59:52"},{iv:40714.9,t:"14:59:53"},{iv:40712.65,t:"14:59:54"},{iv:40717.8,t:"14:59:55"},{iv:40719,t:"14:59:56"},{iv:40717.95,t:"14:59:57"},{iv:40719.4,t:"14:59:58"},{iv:40715.3,t:"14:59:59"},{iv:40716,t:"15:00:00"},{iv:40709.1,t:"15:00:01"},{iv:40705.65,t:"15:00:02"},{iv:40706.3,t:"15:00:03"},{iv:40705.9,t:"15:00:04"},{iv:40707.4,t:"15:00:05"},{iv:40706.9,t:"15:00:06"},{iv:40703.6,t:"15:00:07"},{iv:40705.15,t:"15:00:08"},{iv:40710.3,t:"15:00:09"},{iv:40724.55,t:"15:00:10"},{iv:40731.7,t:"15:00:11"},{iv:40736.35,t:"15:00:12"},{iv:40736.35,t:"15:00:13"},{iv:40732.65,t:"15:00:14"},{iv:40730.8,t:"15:00:15"},{iv:40728.35,t:"15:00:16"},{iv:40726.45,t:"15:00:17"},{iv:40716.35,t:"15:00:18"},{iv:40716.35,t:"15:00:18"},{iv:40719.15,t:"15:00:20"},{iv:40726.3,t:"15:00:21"},{iv:40723,t:"15:00:22"},{iv:40725.55,t:"15:00:23"},{iv:40726.85,t:"15:00:24"},{iv:40726.5,t:"15:00:25"},{iv:40727.05,t:"15:00:26"},{iv:40727.5,t:"15:00:27"},{iv:40726.75,t:"15:00:28"},{iv:40725.85,t:"15:00:29"},{iv:40727,t:"15:00:30"},{iv:40728.15,t:"15:00:31"},{iv:40726.15,t:"15:00:32"},{iv:40728.6,t:"15:00:33"},{iv:40727.3,t:"15:00:34"},{iv:40727.75,t:"15:00:35"},{iv:40727.75,t:"15:00:36"},{iv:40729.05,t:"15:00:37"},{iv:40729.05,t:"15:00:37"},{iv:40728.75,t:"15:00:39"},{iv:40729.35,t:"15:00:40"},{iv:40732.7,t:"15:00:41"},{iv:40733.5,t:"15:00:42"},{iv:40734.55,t:"15:00:43"},{iv:40735.9,t:"15:00:44"},{iv:40737.9,t:"15:00:45"},{iv:40737.9,t:"15:00:46"},{iv:40735.25,t:"15:00:47"},{iv:40736.15,t:"15:00:48"},{iv:40736.5,t:"15:00:49"},{iv:40737,t:"15:00:50"},{iv:40738.3,t:"15:00:51"},{iv:40739.5,t:"15:00:52"},{iv:40739.4,t:"15:00:53"},{iv:40738.7,t:"15:00:54"},{iv:40738.7,t:"15:00:55"},{iv:40737.3,t:"15:00:56"},{iv:40737.3,t:"15:00:56"},{iv:40738.25,t:"15:00:57"},{iv:40736.6,t:"15:00:59"},{iv:40736.6,t:"15:01:00"},{iv:40736.2,t:"15:01:01"},{iv:40736.3,t:"15:01:02"},{iv:40738.95,t:"15:01:03"},{iv:40738.2,t:"15:01:04"},{iv:40736.55,t:"15:01:05"},{iv:40736.25,t:"15:01:06"},{iv:40741.35,t:"15:01:08"},{iv:40741.35,t:"15:01:08"},{iv:40741.25,t:"15:01:09"},{iv:40742.3,t:"15:01:10"},{iv:40742.3,t:"15:01:10"},{iv:40753.65,t:"15:01:12"},{iv:40754.2,t:"15:01:13"},{iv:40757.75,t:"15:01:14"},{iv:40755.9,t:"15:01:15"},{iv:40759,t:"15:01:16"},{iv:40760.45,t:"15:01:17"},{iv:40755.55,t:"15:01:18"},{iv:40757.05,t:"15:01:19"},{iv:40757.1,t:"15:01:20"},{iv:40759.2,t:"15:01:21"},{iv:40760.2,t:"15:01:22"},{iv:40757.1,t:"15:01:23"},{iv:40757.1,t:"15:01:23"},{iv:40754.45,t:"15:01:25"},{iv:40754.65,t:"15:01:26"},{iv:40762.8,t:"15:01:27"},{iv:40762.8,t:"15:01:28"},{iv:40760.8,t:"15:01:29"},{iv:40759.85,t:"15:01:30"},{iv:40759.75,t:"15:01:31"},{iv:40759.75,t:"15:01:31"},{iv:40762.25,t:"15:01:33"},{iv:40759.75,t:"15:01:34"},{iv:40759.4,t:"15:01:35"},{iv:40759.35,t:"15:01:36"},{iv:40760.1,t:"15:01:37"},{iv:40759.05,t:"15:01:38"},{iv:40759.4,t:"15:01:39"},{iv:40759.4,t:"15:01:40"},{iv:40757.45,t:"15:01:41"},{iv:40757.45,t:"15:01:41"},{iv:40761.7,t:"15:01:43"},{iv:40761.45,t:"15:01:44"},{iv:40760.75,t:"15:01:45"},{iv:40759.5,t:"15:01:46"},{iv:40758.1,t:"15:01:47"},{iv:40756.05,t:"15:01:48"},{iv:40748.55,t:"15:01:49"},{iv:40745.4,t:"15:01:50"},{iv:40744.15,t:"15:01:51"},{iv:40743.65,t:"15:01:52"},{iv:40741.35,t:"15:01:53"},{iv:40742.4,t:"15:01:54"},{iv:40740.3,t:"15:01:55"},{iv:40740.3,t:"15:01:55"},{iv:40741.85,t:"15:01:57"},{iv:40738.05,t:"15:01:58"},{iv:40741.9,t:"15:01:59"},{iv:40741.9,t:"15:01:59"},{iv:40740.85,t:"15:02:01"},{iv:40744.45,t:"15:02:02"},{iv:40743.3,t:"15:02:03"},{iv:40743.3,t:"15:02:04"},{iv:40742.9,t:"15:02:05"},{iv:40741.9,t:"15:02:06"},{iv:40743.7,t:"15:02:07"},{iv:40742.9,t:"15:02:08"},{iv:40743.45,t:"15:02:09"},{iv:40743.6,t:"15:02:10"},{iv:40743.95,t:"15:02:11"},{iv:40743.95,t:"15:02:12"},{iv:40740.35,t:"15:02:13"},{iv:40741.5,t:"15:02:14"},{iv:40739.95,t:"15:02:15"},{iv:40740.4,t:"15:02:16"},{iv:40739.85,t:"15:02:17"},{iv:40739.85,t:"15:02:18"},{iv:40736.45,t:"15:02:19"},{iv:40736.95,t:"15:02:19"},{iv:40738.75,t:"15:02:21"},{iv:40732.5,t:"15:02:22"},{iv:40729.15,t:"15:02:23"},{iv:40729.15,t:"15:02:24"},{iv:40729.15,t:"15:02:25"},{iv:40729.8,t:"15:02:26"},{iv:40726.2,t:"15:02:27"},{iv:40727.2,t:"15:02:28"},{iv:40726.95,t:"15:02:29"},{iv:40722.35,t:"15:02:30"},{iv:40723.35,t:"15:02:31"},{iv:40723.35,t:"15:02:31"},{iv:40723.6,t:"15:02:33"},{iv:40723.15,t:"15:02:34"},{iv:40715.3,t:"15:02:35"},{iv:40715.3,t:"15:02:36"},{iv:40714.6,t:"15:02:37"},{iv:40710.45,t:"15:02:38"},{iv:40712,t:"15:02:39"},{iv:40712.8,t:"15:02:40"},{iv:40713.9,t:"15:02:41"},{iv:40707.75,t:"15:02:42"},{iv:40705.15,t:"15:02:43"},{iv:40705.15,t:"15:02:43"},{iv:40707.3,t:"15:02:45"},{iv:40707.3,t:"15:02:46"},{iv:40703.95,t:"15:02:47"},{iv:40701.5,t:"15:02:48"},{iv:40700.35,t:"15:02:49"},{iv:40696,t:"15:02:50"},{iv:40697,t:"15:02:51"},{iv:40697.95,t:"15:02:52"},{iv:40697.55,t:"15:02:53"},{iv:40703,t:"15:02:54"},{iv:40702.55,t:"15:02:55"},{iv:40707.55,t:"15:02:56"},{iv:40718.8,t:"15:02:58"},{iv:40718.8,t:"15:02:58"},{iv:40718.35,t:"15:02:59"},{iv:40720.45,t:"15:03:00"},{iv:40732,t:"15:03:01"},{iv:40728.3,t:"15:03:02"},{iv:40732.65,t:"15:03:03"},{iv:40731.6,t:"15:03:04"},{iv:40723.55,t:"15:03:05"},{iv:40720.25,t:"15:03:06"},{iv:40721.4,t:"15:03:07"},{iv:40721.4,t:"15:03:08"},{iv:40726.95,t:"15:03:09"},{iv:40726.95,t:"15:03:09"},{iv:40724.4,t:"15:03:11"},{iv:40730.3,t:"15:03:12"},{iv:40728.9,t:"15:03:13"},{iv:40727.5,t:"15:03:14"},{iv:40724.65,t:"15:03:15"},{iv:40726.6,t:"15:03:16"},{iv:40726.45,t:"15:03:17"},{iv:40726.45,t:"15:03:17"},{iv:40729.75,t:"15:03:19"},{iv:40730.4,t:"15:03:20"},{iv:40731.3,t:"15:03:21"},{iv:40733.45,t:"15:03:22"},{iv:40730.2,t:"15:03:23"},{iv:40735.9,t:"15:03:24"},{iv:40736.4,t:"15:03:25"},{iv:40736.4,t:"15:03:26"},{iv:40733.95,t:"15:03:27"},{iv:40729.65,t:"15:03:28"},{iv:40734.3,t:"15:03:29"},{iv:40730.2,t:"15:03:30"},{iv:40730.2,t:"15:03:30"},{iv:40732.35,t:"15:03:32"},{iv:40733.55,t:"15:03:33"},{iv:40732.65,t:"15:03:34"},{iv:40732.65,t:"15:03:35"},{iv:40732.4,t:"15:03:36"},{iv:40732.45,t:"15:03:37"},{iv:40732.1,t:"15:03:38"},{iv:40731.25,t:"15:03:39"},{iv:40731.15,t:"15:03:40"},{iv:40728.9,t:"15:03:41"},{iv:40726.1,t:"15:03:42"},{iv:40729,t:"15:03:43"},{iv:40729.65,t:"15:03:44"},{iv:40728.2,t:"15:03:45"},{iv:40728.8,t:"15:03:46"},{iv:40727.5,t:"15:03:47"},{iv:40727.25,t:"15:03:48"},{iv:40726.5,t:"15:03:49"},{iv:40726.5,t:"15:03:50"},{iv:40724.8,t:"15:03:51"},{iv:40724.8,t:"15:03:52"},{iv:40723.9,t:"15:03:53"},{iv:40722.8,t:"15:03:54"},{iv:40722.8,t:"15:03:54"},{iv:40722.95,t:"15:03:56"},{iv:40721,t:"15:03:57"},{iv:40721.3,t:"15:03:58"},{iv:40722.65,t:"15:03:59"},{iv:40720.2,t:"15:04:00"},{iv:40720.2,t:"15:04:01"},{iv:40722.5,t:"15:04:02"},{iv:40732.05,t:"15:04:03"},{iv:40732.05,t:"15:04:04"},{iv:40729.25,t:"15:04:05"},{iv:40726.45,t:"15:04:06"},{iv:40727.05,t:"15:04:07"},{iv:40725.55,t:"15:04:08"},{iv:40723.9,t:"15:04:09"},{iv:40720.05,t:"15:04:10"},{iv:40724.3,t:"15:04:11"},{iv:40719.65,t:"15:04:12"},{iv:40719.1,t:"15:04:13"},{iv:40719.1,t:"15:04:14"},{iv:40720.35,t:"15:04:14"},{iv:40722.2,t:"15:04:16"},{iv:40720.35,t:"15:04:17"},{iv:40718.35,t:"15:04:18"},{iv:40716.85,t:"15:04:19"},{iv:40715.55,t:"15:04:20"},{iv:40715.35,t:"15:04:21"},{iv:40710.85,t:"15:04:22"},{iv:40713.2,t:"15:04:23"},{iv:40712.5,t:"15:04:24"},{iv:40710.4,t:"15:04:25"},{iv:40710.05,t:"15:04:26"},{iv:40707.4,t:"15:04:27"},{iv:40707.25,t:"15:04:28"},{iv:40709.35,t:"15:04:29"},{iv:40708,t:"15:04:30"},{iv:40708.25,t:"15:04:31"},{iv:40707.45,t:"15:04:32"},{iv:40710.45,t:"15:04:33"},{iv:40710,t:"15:04:34"},{iv:40707.15,t:"15:04:35"},{iv:40708.4,t:"15:04:36"},{iv:40707.65,t:"15:04:37"},{iv:40707.65,t:"15:04:38"},{iv:40706.85,t:"15:04:39"},{iv:40704.1,t:"15:04:40"},{iv:40702.15,t:"15:04:41"},{iv:40700.15,t:"15:04:42"},{iv:40700.75,t:"15:04:43"},{iv:40701.35,t:"15:04:44"},{iv:40700.45,t:"15:04:45"},{iv:40701.05,t:"15:04:46"},{iv:40698.3,t:"15:04:47"},{iv:40697.25,t:"15:04:48"},{iv:40698.85,t:"15:04:49"},{iv:40698.3,t:"15:04:50"},{iv:40698.25,t:"15:04:51"},{iv:40698.15,t:"15:04:52"},{iv:40698,t:"15:04:53"},{iv:40698.1,t:"15:04:54"},{iv:40695.75,t:"15:04:55"},{iv:40697,t:"15:04:56"},{iv:40697,t:"15:04:57"},{iv:40699.75,t:"15:04:58"},{iv:40700.6,t:"15:04:59"},{iv:40700.3,t:"15:05:00"},{iv:40701.15,t:"15:05:01"},{iv:40699.7,t:"15:05:02"},{iv:40700.9,t:"15:05:03"},{iv:40701.1,t:"15:05:04"},{iv:40699.7,t:"15:05:05"},{iv:40700.35,t:"15:05:06"},{iv:40700.05,t:"15:05:07"},{iv:40700.8,t:"15:05:08"},{iv:40700.7,t:"15:05:09"},{iv:40700.7,t:"15:05:10"},{iv:40702.1,t:"15:05:11"},{iv:40702.1,t:"15:05:12"},{iv:40702.6,t:"15:05:13"},{iv:40703,t:"15:05:14"},{iv:40703.6,t:"15:05:15"},{iv:40702.4,t:"15:05:16"},{iv:40701.65,t:"15:05:17"},{iv:40702.35,t:"15:05:18"},{iv:40699.9,t:"15:05:19"},{iv:40701.65,t:"15:05:20"},{iv:40702.35,t:"15:05:21"},{iv:40699.4,t:"15:05:22"},{iv:40698.25,t:"15:05:23"},{iv:40700.65,t:"15:05:24"},{iv:40691.25,t:"15:05:25"},{iv:40695.15,t:"15:05:26"},{iv:40690.75,t:"15:05:27"},{iv:40691.6,t:"15:05:28"},{iv:40690.4,t:"15:05:29"},{iv:40691.55,t:"15:05:30"},{iv:40689.2,t:"15:05:31"},{iv:40689.05,t:"15:05:32"},{iv:40688.4,t:"15:05:33"},{iv:40685.3,t:"15:05:34"},{iv:40686.7,t:"15:05:35"},{iv:40686.9,t:"15:05:36"},{iv:40684.65,t:"15:05:37"},{iv:40684.6,t:"15:05:38"},{iv:40683.35,t:"15:05:39"},{iv:40680.6,t:"15:05:40"},{iv:40680.1,t:"15:05:41"},{iv:40680.5,t:"15:05:42"},{iv:40679.65,t:"15:05:43"},{iv:40679.4,t:"15:05:44"},{iv:40680.7,t:"15:05:45"},{iv:40677.45,t:"15:05:46"},{iv:40678.75,t:"15:05:47"},{iv:40676.6,t:"15:05:48"},{iv:40677.4,t:"15:05:49"},{iv:40674.65,t:"15:05:50"},{iv:40675.05,t:"15:05:51"},{iv:40676.6,t:"15:05:52"},{iv:40673.25,t:"15:05:53"},{iv:40680.1,t:"15:05:54"},{iv:40680.45,t:"15:05:55"},{iv:40678.05,t:"15:05:56"},{iv:40677.5,t:"15:05:57"},{iv:40681.45,t:"15:05:58"},{iv:40680.4,t:"15:05:59"},{iv:40680.7,t:"15:06:00"},{iv:40681.05,t:"15:06:01"},{iv:40680.4,t:"15:06:02"},{iv:40683.75,t:"15:06:03"},{iv:40682.3,t:"15:06:04"},{iv:40681.1,t:"15:06:05"},{iv:40681.45,t:"15:06:06"},{iv:40681.8,t:"15:06:07"},{iv:40680.15,t:"15:06:08"},{iv:40680.3,t:"15:06:09"},{iv:40680,t:"15:06:10"},{iv:40676.15,t:"15:06:11"},{iv:40674.65,t:"15:06:12"},{iv:40679.85,t:"15:06:13"},{iv:40679.45,t:"15:06:14"},{iv:40674.9,t:"15:06:15"},{iv:40674.45,t:"15:06:16"},{iv:40675.45,t:"15:06:17"},{iv:40677.2,t:"15:06:18"},{iv:40680.1,t:"15:06:19"},{iv:40684.85,t:"15:06:20"},{iv:40683.75,t:"15:06:21"},{iv:40686.75,t:"15:06:22"},{iv:40685.7,t:"15:06:23"},{iv:40686.35,t:"15:06:24"},{iv:40683.85,t:"15:06:25"},{iv:40685,t:"15:06:26"},{iv:40682.35,t:"15:06:27"},{iv:40682.3,t:"15:06:28"},{iv:40681.7,t:"15:06:29"},{iv:40684.3,t:"15:06:30"},{iv:40683.6,t:"15:06:31"},{iv:40679.75,t:"15:06:32"},{iv:40681.1,t:"15:06:33"},{iv:40681.25,t:"15:06:34"},{iv:40673.8,t:"15:06:35"},{iv:40673.45,t:"15:06:36"},{iv:40676.7,t:"15:06:37"},{iv:40675.6,t:"15:06:38"},{iv:40678.3,t:"15:06:39"},{iv:40676,t:"15:06:40"},{iv:40675.7,t:"15:06:41"},{iv:40672.85,t:"15:06:42"},{iv:40670.6,t:"15:06:43"},{iv:40668.85,t:"15:06:44"},{iv:40671.3,t:"15:06:45"},{iv:40669.8,t:"15:06:46"},{iv:40670.75,t:"15:06:47"},{iv:40668.3,t:"15:06:48"},{iv:40669.25,t:"15:06:49"},{iv:40669,t:"15:06:50"},{iv:40668.4,t:"15:06:51"},{iv:40668.9,t:"15:06:52"},{iv:40668.8,t:"15:06:53"},{iv:40667.15,t:"15:06:54"},{iv:40667.1,t:"15:06:55"},{iv:40666.05,t:"15:06:56"},{iv:40664.1,t:"15:06:57"},{iv:40660.75,t:"15:06:58"},{iv:40664.9,t:"15:06:59"},{iv:40663,t:"15:07:00"},{iv:40661.15,t:"15:07:01"},{iv:40662.2,t:"15:07:02"},{iv:40663.65,t:"15:07:03"},{iv:40661.4,t:"15:07:04"},{iv:40656.75,t:"15:07:05"},{iv:40658.85,t:"15:07:06"},{iv:40656.9,t:"15:07:07"},{iv:40653.15,t:"15:07:08"},{iv:40657.25,t:"15:07:09"},{iv:40651.55,t:"15:07:10"},{iv:40648.3,t:"15:07:11"},{iv:40650.15,t:"15:07:12"},{iv:40652.4,t:"15:07:13"},{iv:40650.05,t:"15:07:14"},{iv:40650.3,t:"15:07:15"},{iv:40649.8,t:"15:07:16"},{iv:40649.55,t:"15:07:17"},{iv:40649.8,t:"15:07:18"},{iv:40648.65,t:"15:07:19"},{iv:40652,t:"15:07:20"},{iv:40647.7,t:"15:07:21"},{iv:40648.45,t:"15:07:22"},{iv:40652.45,t:"15:07:23"},{iv:40652.45,t:"15:07:24"},{iv:40648.15,t:"15:07:25"},{iv:40652.65,t:"15:07:26"},{iv:40651.35,t:"15:07:27"},{iv:40649.9,t:"15:07:28"},{iv:40649.4,t:"15:07:29"},{iv:40645.8,t:"15:07:30"},{iv:40646.15,t:"15:07:31"},{iv:40645.55,t:"15:07:32"},{iv:40647.85,t:"15:07:33"},{iv:40647.3,t:"15:07:34"},{iv:40645.45,t:"15:07:35"},{iv:40643.2,t:"15:07:36"},{iv:40649.35,t:"15:07:37"},{iv:40644.45,t:"15:07:38"},{iv:40646.4,t:"15:07:39"},{iv:40644,t:"15:07:40"},{iv:40644.4,t:"15:07:41"},{iv:40641.75,t:"15:07:42"},{iv:40642.4,t:"15:07:43"},{iv:40642.9,t:"15:07:44"},{iv:40642.7,t:"15:07:45"},{iv:40641.9,t:"15:07:46"},{iv:40642,t:"15:07:47"},{iv:40641.65,t:"15:07:48"},{iv:40637.85,t:"15:07:49"},{iv:40638.45,t:"15:07:50"},{iv:40642.3,t:"15:07:51"},{iv:40642.6,t:"15:07:52"},{iv:40641.3,t:"15:07:53"},{iv:40641.5,t:"15:07:54"},{iv:40641.4,t:"15:07:55"},{iv:40640.3,t:"15:07:56"},{iv:40642.15,t:"15:07:57"},{iv:40645.4,t:"15:07:58"},{iv:40642.25,t:"15:07:59"},{iv:40644.25,t:"15:08:00"},{iv:40642.25,t:"15:08:01"},{iv:40639.5,t:"15:08:02"},{iv:40640.9,t:"15:08:03"},{iv:40639.1,t:"15:08:04"},{iv:40637.6,t:"15:08:05"},{iv:40635.2,t:"15:08:06"},{iv:40633.25,t:"15:08:07"},{iv:40633.9,t:"15:08:08"},{iv:40632.15,t:"15:08:09"},{iv:40631.6,t:"15:08:10"},{iv:40634,t:"15:08:11"},{iv:40631.9,t:"15:08:12"},{iv:40631,t:"15:08:13"},{iv:40627.4,t:"15:08:14"},{iv:40629.2,t:"15:08:15"},{iv:40630.7,t:"15:08:16"},{iv:40630.7,t:"15:08:17"},{iv:40629.7,t:"15:08:18"},{iv:40628.15,t:"15:08:19"},{iv:40626.5,t:"15:08:20"},{iv:40630.05,t:"15:08:21"},{iv:40628.45,t:"15:08:22"},{iv:40627.65,t:"15:08:23"},{iv:40628.05,t:"15:08:24"},{iv:40628.25,t:"15:08:25"},{iv:40627.95,t:"15:08:26"},{iv:40627.95,t:"15:08:27"},{iv:40625.95,t:"15:08:28"},{iv:40627.05,t:"15:08:29"},{iv:40624.75,t:"15:08:30"},{iv:40628,t:"15:08:31"},{iv:40626.4,t:"15:08:32"},{iv:40626.7,t:"15:08:33"},{iv:40626.5,t:"15:08:34"},{iv:40624.75,t:"15:08:35"},{iv:40623.3,t:"15:08:36"},{iv:40622.75,t:"15:08:37"},{iv:40620.2,t:"15:08:38"},{iv:40621,t:"15:08:40"},{iv:40621,t:"15:08:40"},{iv:40623.5,t:"15:08:41"},{iv:40623.2,t:"15:08:42"},{iv:40620,t:"15:08:43"},{iv:40622.3,t:"15:08:44"},{iv:40621.2,t:"15:08:45"},{iv:40620,t:"15:08:46"},{iv:40617.65,t:"15:08:47"},{iv:40615.6,t:"15:08:48"},{iv:40619.35,t:"15:08:49"},{iv:40618.55,t:"15:08:50"},{iv:40617.8,t:"15:08:51"},{iv:40612.3,t:"15:08:52"},{iv:40613.1,t:"15:08:53"},{iv:40613.9,t:"15:08:54"},{iv:40611.35,t:"15:08:55"},{iv:40611.3,t:"15:08:56"},{iv:40609.6,t:"15:08:57"},{iv:40611.45,t:"15:08:58"},{iv:40609.05,t:"15:08:59"},{iv:40609.45,t:"15:09:00"},{iv:40610.4,t:"15:09:01"},{iv:40610.9,t:"15:09:02"},{iv:40609.15,t:"15:09:03"},{iv:40609.1,t:"15:09:04"},{iv:40609.95,t:"15:09:05"},{iv:40609.05,t:"15:09:06"},{iv:40609.15,t:"15:09:07"},{iv:40605.25,t:"15:09:08"},{iv:40604.25,t:"15:09:09"},{iv:40607.6,t:"15:09:10"},{iv:40607.7,t:"15:09:11"},{iv:40607.85,t:"15:09:12"},{iv:40602.5,t:"15:09:13"},{iv:40600.3,t:"15:09:14"},{iv:40599.9,t:"15:09:15"},{iv:40600.8,t:"15:09:16"},{iv:40600.1,t:"15:09:17"},{iv:40599.55,t:"15:09:18"},{iv:40599.25,t:"15:09:20"},{iv:40600.1,t:"15:09:20"},{iv:40601.1,t:"15:09:21"},{iv:40596.7,t:"15:09:22"},{iv:40595.95,t:"15:09:23"},{iv:40597,t:"15:09:24"},{iv:40595.05,t:"15:09:25"},{iv:40595.25,t:"15:09:26"},{iv:40592.3,t:"15:09:27"},{iv:40593.65,t:"15:09:28"},{iv:40592.75,t:"15:09:29"},{iv:40591.85,t:"15:09:31"},{iv:40591.85,t:"15:09:31"},{iv:40589.2,t:"15:09:32"},{iv:40590.55,t:"15:09:33"},{iv:40588.1,t:"15:09:34"},{iv:40589.1,t:"15:09:35"},{iv:40584.15,t:"15:09:36"},{iv:40583.55,t:"15:09:37"},{iv:40580.7,t:"15:09:38"},{iv:40583.95,t:"15:09:39"},{iv:40582.45,t:"15:09:40"},{iv:40583.6,t:"15:09:41"},{iv:40582.4,t:"15:09:42"},{iv:40581.45,t:"15:09:43"},{iv:40584.8,t:"15:09:44"},{iv:40585.9,t:"15:09:45"},{iv:40585.8,t:"15:09:46"},{iv:40586.45,t:"15:09:47"},{iv:40582.8,t:"15:09:48"},{iv:40582.35,t:"15:09:49"},{iv:40588.5,t:"15:09:50"},{iv:40599.05,t:"15:09:51"},{iv:40602.25,t:"15:09:52"},{iv:40607.5,t:"15:09:53"},{iv:40610.2,t:"15:09:54"},{iv:40609,t:"15:09:55"},{iv:40604.9,t:"15:09:56"},{iv:40603.1,t:"15:09:57"},{iv:40602,t:"15:09:58"},{iv:40603.75,t:"15:09:59"},{iv:40603.7,t:"15:10:00"},{iv:40609.3,t:"15:10:01"},{iv:40607,t:"15:10:02"},{iv:40603.1,t:"15:10:03"},{iv:40605.6,t:"15:10:04"},{iv:40603.25,t:"15:10:05"},{iv:40603.2,t:"15:10:06"},{iv:40602,t:"15:10:07"},{iv:40600.6,t:"15:10:08"},{iv:40602.35,t:"15:10:09"},{iv:40601.25,t:"15:10:10"},{iv:40602,t:"15:10:11"},{iv:40600.05,t:"15:10:12"},{iv:40601.55,t:"15:10:13"},{iv:40600,t:"15:10:14"},{iv:40603.2,t:"15:10:15"},{iv:40604.7,t:"15:10:16"},{iv:40603.1,t:"15:10:17"},{iv:40605.65,t:"15:10:18"},{iv:40604.4,t:"15:10:19"},{iv:40602.15,t:"15:10:20"},{iv:40601.85,t:"15:10:21"},{iv:40601.05,t:"15:10:22"},{iv:40601.05,t:"15:10:22"},{iv:40606.15,t:"15:10:24"},{iv:40606.1,t:"15:10:25"},{iv:40604.6,t:"15:10:26"},{iv:40606.6,t:"15:10:27"},{iv:40606.2,t:"15:10:28"},{iv:40606.2,t:"15:10:29"},{iv:40606.9,t:"15:10:30"},{iv:40605.9,t:"15:10:31"},{iv:40605.9,t:"15:10:32"},{iv:40608,t:"15:10:32"},{iv:40609.05,t:"15:10:34"},{iv:40609,t:"15:10:35"},{iv:40609,t:"15:10:35"},{iv:40611.05,t:"15:10:37"},{iv:40613.15,t:"15:10:38"},{iv:40613.15,t:"15:10:39"},{iv:40616.95,t:"15:10:40"},{iv:40618.6,t:"15:10:41"},{iv:40616.6,t:"15:10:42"},{iv:40616.55,t:"15:10:43"},{iv:40614.25,t:"15:10:44"},{iv:40614.25,t:"15:10:45"},{iv:40615,t:"15:10:46"},{iv:40614.95,t:"15:10:47"},{iv:40613.2,t:"15:10:48"},{iv:40612.85,t:"15:10:49"},{iv:40614.2,t:"15:10:50"},{iv:40613.65,t:"15:10:51"},{iv:40612.1,t:"15:10:52"},{iv:40614.2,t:"15:10:53"},{iv:40614.85,t:"15:10:54"},{iv:40615.5,t:"15:10:55"},{iv:40615.55,t:"15:10:56"},{iv:40615.05,t:"15:10:57"},{iv:40613.5,t:"15:10:58"},{iv:40613.7,t:"15:10:59"},{iv:40616.2,t:"15:11:00"},{iv:40615.2,t:"15:11:01"},{iv:40614.05,t:"15:11:02"},{iv:40612.1,t:"15:11:03"},{iv:40613.9,t:"15:11:04"},{iv:40613.3,t:"15:11:05"},{iv:40612.3,t:"15:11:06"},{iv:40612.05,t:"15:11:07"},{iv:40613.15,t:"15:11:08"},{iv:40613.3,t:"15:11:09"},{iv:40615.45,t:"15:11:10"},{iv:40614.45,t:"15:11:11"},{iv:40614.8,t:"15:11:12"},{iv:40615.35,t:"15:11:13"},{iv:40611.95,t:"15:11:14"},{iv:40612.55,t:"15:11:15"},{iv:40612.5,t:"15:11:16"},{iv:40612.65,t:"15:11:17"},{iv:40610.2,t:"15:11:18"},{iv:40612.6,t:"15:11:19"},{iv:40613.45,t:"15:11:20"},{iv:40611.35,t:"15:11:21"},{iv:40610.25,t:"15:11:22"},{iv:40611.4,t:"15:11:23"},{iv:40615.15,t:"15:11:24"},{iv:40614.05,t:"15:11:25"},{iv:40614.7,t:"15:11:26"},{iv:40611,t:"15:11:27"},{iv:40612.9,t:"15:11:28"},{iv:40614.55,t:"15:11:29"},{iv:40615.45,t:"15:11:30"},{iv:40613.5,t:"15:11:31"},{iv:40610.25,t:"15:11:32"},{iv:40614.65,t:"15:11:33"},{iv:40612.75,t:"15:11:34"},{iv:40610.3,t:"15:11:35"},{iv:40613.55,t:"15:11:36"},{iv:40609.85,t:"15:11:37"},{iv:40609.95,t:"15:11:38"},{iv:40610.55,t:"15:11:39"},{iv:40612.1,t:"15:11:40"},{iv:40610.8,t:"15:11:41"},{iv:40609.75,t:"15:11:42"},{iv:40610.35,t:"15:11:43"},{iv:40609.4,t:"15:11:44"},{iv:40608.2,t:"15:11:45"},{iv:40609,t:"15:11:46"},{iv:40608.45,t:"15:11:47"},{iv:40605.75,t:"15:11:48"},{iv:40607.6,t:"15:11:49"},{iv:40605.6,t:"15:11:50"},{iv:40604.95,t:"15:11:51"},{iv:40605.7,t:"15:11:52"},{iv:40604.25,t:"15:11:53"},{iv:40604.25,t:"15:11:54"},{iv:40600.85,t:"15:11:55"},{iv:40604.1,t:"15:11:56"},{iv:40603.15,t:"15:11:57"},{iv:40600,t:"15:11:58"},{iv:40598.95,t:"15:11:59"},{iv:40597.75,t:"15:12:00"},{iv:40592.75,t:"15:12:01"},{iv:40591.2,t:"15:12:02"},{iv:40592.25,t:"15:12:03"},{iv:40591.85,t:"15:12:04"},{iv:40592.7,t:"15:12:05"},{iv:40590.2,t:"15:12:06"},{iv:40590.6,t:"15:12:07"},{iv:40587.55,t:"15:12:08"},{iv:40588.5,t:"15:12:09"},{iv:40585.65,t:"15:12:10"},{iv:40585.75,t:"15:12:11"},{iv:40585.75,t:"15:12:11"},{iv:40581.7,t:"15:12:13"},{iv:40581.7,t:"15:12:13"},{iv:40581.25,t:"15:12:15"},{iv:40580.15,t:"15:12:16"},{iv:40577.65,t:"15:12:17"},{iv:40579.45,t:"15:12:18"},{iv:40579.45,t:"15:12:18"},{iv:40574.25,t:"15:12:20"},{iv:40575.15,t:"15:12:21"},{iv:40575.35,t:"15:12:22"},{iv:40575.1,t:"15:12:23"},{iv:40574.15,t:"15:12:24"},{iv:40573.65,t:"15:12:25"},{iv:40572.55,t:"15:12:26"},{iv:40572.35,t:"15:12:27"},{iv:40571.5,t:"15:12:28"},{iv:40571.1,t:"15:12:29"},{iv:40571.9,t:"15:12:30"},{iv:40570.4,t:"15:12:31"},{iv:40571.4,t:"15:12:32"},{iv:40572.3,t:"15:12:33"},{iv:40572.8,t:"15:12:34"},{iv:40572.95,t:"15:12:35"},{iv:40571.75,t:"15:12:36"},{iv:40570.15,t:"15:12:37"},{iv:40572,t:"15:12:38"},{iv:40573.05,t:"15:12:39"},{iv:40572.75,t:"15:12:40"},{iv:40583.4,t:"15:12:41"},{iv:40580.4,t:"15:12:42"},{iv:40580.4,t:"15:12:43"},{iv:40581.5,t:"15:12:44"},{iv:40583.35,t:"15:12:45"},{iv:40584.95,t:"15:12:46"},{iv:40582.3,t:"15:12:47"},{iv:40578.35,t:"15:12:48"},{iv:40579.6,t:"15:12:49"},{iv:40578.45,t:"15:12:50"},{iv:40579.55,t:"15:12:51"},{iv:40581.2,t:"15:12:52"},{iv:40581.2,t:"15:12:53"},{iv:40585.55,t:"15:12:54"},{iv:40583.3,t:"15:12:55"},{iv:40584.15,t:"15:12:56"},{iv:40584.2,t:"15:12:57"},{iv:40582.6,t:"15:12:58"},{iv:40582.45,t:"15:12:59"},{iv:40586.85,t:"15:13:01"},{iv:40586.85,t:"15:13:01"},{iv:40584.75,t:"15:13:02"},{iv:40585.55,t:"15:13:03"},{iv:40586.2,t:"15:13:04"},{iv:40583.45,t:"15:13:05"},{iv:40584.85,t:"15:13:06"},{iv:40583.1,t:"15:13:07"},{iv:40582,t:"15:13:08"},{iv:40583.4,t:"15:13:09"},{iv:40585.15,t:"15:13:10"},{iv:40585.4,t:"15:13:11"},{iv:40584.75,t:"15:13:12"},{iv:40586.15,t:"15:13:13"},{iv:40585.1,t:"15:13:14"},{iv:40586.8,t:"15:13:15"},{iv:40585.75,t:"15:13:16"},{iv:40587.35,t:"15:13:17"},{iv:40584.55,t:"15:13:18"},{iv:40583.9,t:"15:13:19"},{iv:40583.9,t:"15:13:20"},{iv:40586.25,t:"15:13:21"},{iv:40586.25,t:"15:13:22"},{iv:40583.35,t:"15:13:23"},{iv:40583.35,t:"15:13:24"},{iv:40584.75,t:"15:13:25"},{iv:40584.85,t:"15:13:26"},{iv:40581.65,t:"15:13:27"},{iv:40582.6,t:"15:13:28"},{iv:40584,t:"15:13:29"},{iv:40583.35,t:"15:13:30"},{iv:40582.65,t:"15:13:31"},{iv:40582.65,t:"15:13:32"},{iv:40583.55,t:"15:13:33"},{iv:40583.4,t:"15:13:34"},{iv:40583.5,t:"15:13:35"},{iv:40583.5,t:"15:13:36"},{iv:40581.75,t:"15:13:37"},{iv:40581.5,t:"15:13:38"},{iv:40580.6,t:"15:13:39"},{iv:40580.6,t:"15:13:40"},{iv:40582.3,t:"15:13:41"},{iv:40580.6,t:"15:13:42"},{iv:40579.65,t:"15:13:43"},{iv:40579.45,t:"15:13:44"},{iv:40579.45,t:"15:13:45"},{iv:40580.5,t:"15:13:46"},{iv:40575.1,t:"15:13:47"},{iv:40583.05,t:"15:13:48"},{iv:40579.05,t:"15:13:49"},{iv:40580.6,t:"15:13:50"},{iv:40581.05,t:"15:13:51"},{iv:40581.45,t:"15:13:52"},{iv:40581.55,t:"15:13:53"},{iv:40580.95,t:"15:13:54"},{iv:40578.4,t:"15:13:55"},{iv:40580,t:"15:13:56"},{iv:40583.15,t:"15:13:57"},{iv:40580.85,t:"15:13:58"},{iv:40582.2,t:"15:13:59"},{iv:40576.75,t:"15:14:00"},{iv:40582.3,t:"15:14:01"},{iv:40581.45,t:"15:14:02"},{iv:40580.45,t:"15:14:03"},{iv:40578.6,t:"15:14:04"},{iv:40580.25,t:"15:14:05"},{iv:40580.05,t:"15:14:06"},{iv:40580.5,t:"15:14:07"},{iv:40576.7,t:"15:14:08"},{iv:40579.7,t:"15:14:09"},{iv:40579.05,t:"15:14:10"},{iv:40577.95,t:"15:14:11"},{iv:40576.2,t:"15:14:12"},{iv:40574.3,t:"15:14:15"},{iv:40574.3,t:"15:14:15"},{iv:40574.3,t:"15:14:15"},{iv:40573.35,t:"15:14:16"},{iv:40575.8,t:"15:14:17"},{iv:40569.15,t:"15:14:18"},{iv:40572,t:"15:14:19"},{iv:40566.65,t:"15:14:20"},{iv:40571.8,t:"15:14:21"},{iv:40569.7,t:"15:14:22"},{iv:40571.8,t:"15:14:23"},{iv:40571.15,t:"15:14:24"},{iv:40571.85,t:"15:14:25"},{iv:40580,t:"15:14:26"},{iv:40579.95,t:"15:14:27"},{iv:40578.1,t:"15:14:28"},{iv:40581.2,t:"15:14:29"},{iv:40581.85,t:"15:14:30"},{iv:40582.85,t:"15:14:31"},{iv:40584.35,t:"15:14:32"},{iv:40583.3,t:"15:14:33"},{iv:40585.95,t:"15:14:34"},{iv:40584.1,t:"15:14:35"},{iv:40587.25,t:"15:14:36"},{iv:40586.7,t:"15:14:37"},{iv:40589.1,t:"15:14:38"},{iv:40591.05,t:"15:14:39"},{iv:40587.15,t:"15:14:40"},{iv:40588.8,t:"15:14:41"},{iv:40590.3,t:"15:14:42"},{iv:40590.3,t:"15:14:42"},{iv:40596.7,t:"15:14:44"},{iv:40597.25,t:"15:14:45"},{iv:40599.65,t:"15:14:46"},{iv:40599.55,t:"15:14:47"},{iv:40601,t:"15:14:48"},{iv:40603.25,t:"15:14:49"},{iv:40598.8,t:"15:14:50"},{iv:40604.45,t:"15:14:51"},{iv:40602.55,t:"15:14:52"},{iv:40605.5,t:"15:14:53"},{iv:40604.75,t:"15:14:54"},{iv:40604.75,t:"15:14:54"},{iv:40603.85,t:"15:14:56"},{iv:40603.15,t:"15:14:57"},{iv:40604.1,t:"15:14:58"},{iv:40604.5,t:"15:14:59"},{iv:40603.65,t:"15:15:00"},{iv:40606.75,t:"15:15:01"},{iv:40605.3,t:"15:15:02"},{iv:40610.85,t:"15:15:03"},{iv:40612.4,t:"15:15:04"},{iv:40612.5,t:"15:15:05"},{iv:40617.1,t:"15:15:06"},{iv:40617.1,t:"15:15:07"},{iv:40612.7,t:"15:15:08"},{iv:40612.45,t:"15:15:09"},{iv:40616.8,t:"15:15:10"},{iv:40616.7,t:"15:15:11"},{iv:40616.3,t:"15:15:12"},{iv:40621.65,t:"15:15:13"},{iv:40625.15,t:"15:15:14"},{iv:40626.25,t:"15:15:15"},{iv:40623.95,t:"15:15:16"},{iv:40627.65,t:"15:15:17"},{iv:40624.3,t:"15:15:18"},{iv:40622.9,t:"15:15:19"},{iv:40623.3,t:"15:15:20"},{iv:40627.8,t:"15:15:21"},{iv:40625.5,t:"15:15:22"},{iv:40627.9,t:"15:15:23"},{iv:40625.15,t:"15:15:24"},{iv:40626.05,t:"15:15:25"},{iv:40626.05,t:"15:15:26"},{iv:40624.8,t:"15:15:27"},{iv:40623.25,t:"15:15:28"},{iv:40625,t:"15:15:29"},{iv:40625,t:"15:15:29"},{iv:40625.45,t:"15:15:31"},{iv:40628.15,t:"15:15:32"},{iv:40630.65,t:"15:15:33"},{iv:40630.65,t:"15:15:34"},{iv:40629.3,t:"15:15:35"},{iv:40630.2,t:"15:15:36"},{iv:40632.15,t:"15:15:37"},{iv:40631.7,t:"15:15:38"},{iv:40631.65,t:"15:15:39"},{iv:40631.65,t:"15:15:39"},{iv:40630.5,t:"15:15:41"},{iv:40630.3,t:"15:15:42"},{iv:40633.25,t:"15:15:43"},{iv:40631.05,t:"15:15:44"},{iv:40634.6,t:"15:15:45"},{iv:40634.8,t:"15:15:46"},{iv:40635.6,t:"15:15:47"},{iv:40634.5,t:"15:15:48"},{iv:40633.5,t:"15:15:49"},{iv:40634.4,t:"15:15:50"},{iv:40633.3,t:"15:15:51"},{iv:40636.35,t:"15:15:52"},{iv:40635,t:"15:15:53"},{iv:40634.8,t:"15:15:54"},{iv:40634.8,t:"15:15:54"},{iv:40638.7,t:"15:15:56"},{iv:40640.45,t:"15:15:57"},{iv:40639.4,t:"15:15:58"},{iv:40639,t:"15:15:59"},{iv:40638.05,t:"15:16:00"},{iv:40638.3,t:"15:16:01"},{iv:40635.3,t:"15:16:02"},{iv:40634.9,t:"15:16:03"},{iv:40634.7,t:"15:16:04"},{iv:40635.05,t:"15:16:05"},{iv:40633.35,t:"15:16:06"},{iv:40633.1,t:"15:16:07"},{iv:40632.95,t:"15:16:08"},{iv:40633.6,t:"15:16:09"},{iv:40632.8,t:"15:16:10"},{iv:40633.85,t:"15:16:11"},{iv:40632.7,t:"15:16:12"},{iv:40632.7,t:"15:16:13"},{iv:40631.55,t:"15:16:14"},{iv:40629.3,t:"15:16:15"},{iv:40629.65,t:"15:16:16"},{iv:40630,t:"15:16:17"},{iv:40625.85,t:"15:16:18"},{iv:40625.95,t:"15:16:19"},{iv:40624.9,t:"15:16:20"},{iv:40622.15,t:"15:16:21"},{iv:40622.15,t:"15:16:22"},{iv:40621.6,t:"15:16:23"},{iv:40618.15,t:"15:16:24"},{iv:40613.45,t:"15:16:25"},{iv:40612.9,t:"15:16:26"},{iv:40608.2,t:"15:16:27"},{iv:40609.55,t:"15:16:28"},{iv:40605.65,t:"15:16:29"},{iv:40604.1,t:"15:16:30"},{iv:40602.1,t:"15:16:31"},{iv:40606.6,t:"15:16:32"},{iv:40608.7,t:"15:16:33"},{iv:40608.45,t:"15:16:34"},{iv:40605.25,t:"15:16:35"},{iv:40609.1,t:"15:16:36"},{iv:40611.05,t:"15:16:37"},{iv:40609,t:"15:16:38"},{iv:40613.2,t:"15:16:39"},{iv:40613.1,t:"15:16:40"},{iv:40614.8,t:"15:16:41"},{iv:40617.85,t:"15:16:42"},{iv:40622.5,t:"15:16:43"},{iv:40624,t:"15:16:44"},{iv:40618.8,t:"15:16:46"},{iv:40618.8,t:"15:16:46"},{iv:40627.15,t:"15:16:47"},{iv:40626.95,t:"15:16:48"},{iv:40623.1,t:"15:16:49"},{iv:40626.3,t:"15:16:50"},{iv:40629.45,t:"15:16:51"},{iv:40626.85,t:"15:16:52"},{iv:40630.95,t:"15:16:53"},{iv:40631.9,t:"15:16:54"},{iv:40629,t:"15:16:55"},{iv:40629.4,t:"15:16:56"},{iv:40630.8,t:"15:16:57"},{iv:40627.75,t:"15:16:58"},{iv:40629.55,t:"15:16:59"},{iv:40631.65,t:"15:17:00"},{iv:40633.55,t:"15:17:01"},{iv:40633.9,t:"15:17:02"},{iv:40632.8,t:"15:17:03"},{iv:40633.3,t:"15:17:04"},{iv:40633.55,t:"15:17:05"},{iv:40635,t:"15:17:06"},{iv:40629.55,t:"15:17:07"},{iv:40625.95,t:"15:17:08"},{iv:40630.5,t:"15:17:09"},{iv:40633.45,t:"15:17:10"},{iv:40629.8,t:"15:17:11"},{iv:40629.2,t:"15:17:12"},{iv:40627.3,t:"15:17:13"},{iv:40623.95,t:"15:17:14"},{iv:40624.85,t:"15:17:15"},{iv:40626.25,t:"15:17:16"},{iv:40627.6,t:"15:17:17"},{iv:40624.25,t:"15:17:18"},{iv:40625.2,t:"15:17:19"},{iv:40623.7,t:"15:17:20"},{iv:40624.1,t:"15:17:21"},{iv:40622.55,t:"15:17:22"},{iv:40621.95,t:"15:17:23"},{iv:40620.85,t:"15:17:24"},{iv:40620.45,t:"15:17:25"},{iv:40617.25,t:"15:17:26"},{iv:40614.8,t:"15:17:27"},{iv:40617.75,t:"15:17:28"},{iv:40614.05,t:"15:17:29"},{iv:40612.5,t:"15:17:30"},{iv:40611.2,t:"15:17:31"},{iv:40610.2,t:"15:17:32"},{iv:40610.6,t:"15:17:33"},{iv:40611.05,t:"15:17:34"},{iv:40610.75,t:"15:17:35"},{iv:40608.85,t:"15:17:36"},{iv:40611.1,t:"15:17:37"},{iv:40609.25,t:"15:17:38"},{iv:40604.8,t:"15:17:39"},{iv:40605.7,t:"15:17:40"},{iv:40608.2,t:"15:17:41"},{iv:40606,t:"15:17:42"},{iv:40607.4,t:"15:17:43"},{iv:40604.7,t:"15:17:44"},{iv:40605.95,t:"15:17:45"},{iv:40600.75,t:"15:17:46"},{iv:40600.05,t:"15:17:47"},{iv:40601.4,t:"15:17:48"},{iv:40603.7,t:"15:17:49"},{iv:40604.1,t:"15:17:50"},{iv:40603.95,t:"15:17:51"},{iv:40602.35,t:"15:17:52"},{iv:40602.45,t:"15:17:53"},{iv:40602.8,t:"15:17:54"},{iv:40604.05,t:"15:17:55"},{iv:40603.2,t:"15:17:56"},{iv:40601.9,t:"15:17:57"},{iv:40601.7,t:"15:17:58"},{iv:40599.9,t:"15:17:59"},{iv:40595.25,t:"15:18:00"},{iv:40597.95,t:"15:18:01"},{iv:40595.35,t:"15:18:02"},{iv:40597.5,t:"15:18:03"},{iv:40596.9,t:"15:18:04"},{iv:40594.05,t:"15:18:05"},{iv:40593.85,t:"15:18:06"},{iv:40595.3,t:"15:18:07"},{iv:40594.95,t:"15:18:08"},{iv:40594.3,t:"15:18:09"},{iv:40593.5,t:"15:18:10"},{iv:40595,t:"15:18:11"},{iv:40592.95,t:"15:18:12"},{iv:40590.95,t:"15:18:13"},{iv:40591.65,t:"15:18:14"},{iv:40591.05,t:"15:18:15"},{iv:40588.35,t:"15:18:16"},{iv:40589.7,t:"15:18:17"},{iv:40589,t:"15:18:18"},{iv:40587.75,t:"15:18:19"},{iv:40582.05,t:"15:18:20"},{iv:40579.5,t:"15:18:21"},{iv:40578.75,t:"15:18:22"},{iv:40578.05,t:"15:18:23"},{iv:40575.15,t:"15:18:24"},{iv:40576,t:"15:18:25"},{iv:40578,t:"15:18:26"},{iv:40577.9,t:"15:18:27"},{iv:40574.75,t:"15:18:28"},{iv:40577.2,t:"15:18:29"},{iv:40578.65,t:"15:18:30"},{iv:40577.3,t:"15:18:31"},{iv:40574.6,t:"15:18:32"},{iv:40578.4,t:"15:18:33"},{iv:40576.3,t:"15:18:34"},{iv:40574.2,t:"15:18:35"},{iv:40577.6,t:"15:18:36"},{iv:40576.45,t:"15:18:37"},{iv:40573.95,t:"15:18:38"},{iv:40576,t:"15:18:39"},{iv:40575.7,t:"15:18:40"},{iv:40581.05,t:"15:18:41"},{iv:40580.1,t:"15:18:42"},{iv:40580,t:"15:18:43"},{iv:40581.7,t:"15:18:44"},{iv:40579.8,t:"15:18:45"},{iv:40578.85,t:"15:18:46"},{iv:40575.9,t:"15:18:47"},{iv:40577.1,t:"15:18:48"},{iv:40577.95,t:"15:18:49"},{iv:40575.3,t:"15:18:50"},{iv:40576.35,t:"15:18:51"},{iv:40576.55,t:"15:18:52"},{iv:40576.8,t:"15:18:53"},{iv:40575.9,t:"15:18:54"},{iv:40573.4,t:"15:18:55"},{iv:40573.3,t:"15:18:56"},{iv:40574.1,t:"15:18:57"},{iv:40575.05,t:"15:18:58"},{iv:40573.55,t:"15:18:59"},{iv:40575.9,t:"15:19:00"},{iv:40577.2,t:"15:19:01"},{iv:40576.2,t:"15:19:02"},{iv:40577.5,t:"15:19:03"},{iv:40577.3,t:"15:19:04"},{iv:40577.95,t:"15:19:05"},{iv:40578,t:"15:19:06"},{iv:40578.05,t:"15:19:07"},{iv:40574.05,t:"15:19:08"},{iv:40577.1,t:"15:19:09"},{iv:40577.1,t:"15:19:10"},{iv:40578.75,t:"15:19:11"},{iv:40577.2,t:"15:19:12"},{iv:40575.65,t:"15:19:13"},{iv:40575.9,t:"15:19:14"},{iv:40577.25,t:"15:19:15"},{iv:40579.45,t:"15:19:16"},{iv:40577.45,t:"15:19:17"},{iv:40589.05,t:"15:19:18"},{iv:40585.7,t:"15:19:19"},{iv:40593.6,t:"15:19:20"},{iv:40593,t:"15:19:21"},{iv:40593.25,t:"15:19:22"},{iv:40594.05,t:"15:19:23"},{iv:40594.1,t:"15:19:24"},{iv:40595.3,t:"15:19:26"},{iv:40595.3,t:"15:19:26"},{iv:40594.4,t:"15:19:27"},{iv:40592.45,t:"15:19:28"},{iv:40596.05,t:"15:19:29"},{iv:40595.05,t:"15:19:30"},{iv:40595.15,t:"15:19:31"},{iv:40599.65,t:"15:19:32"},{iv:40602.8,t:"15:19:33"},{iv:40603.3,t:"15:19:34"},{iv:40600.7,t:"15:19:35"},{iv:40601.9,t:"15:19:36"},{iv:40599.15,t:"15:19:37"},{iv:40596.05,t:"15:19:38"},{iv:40600.7,t:"15:19:39"},{iv:40597.7,t:"15:19:40"},{iv:40597.55,t:"15:19:41"},{iv:40600.45,t:"15:19:42"},{iv:40602.55,t:"15:19:43"},{iv:40602.3,t:"15:19:44"},{iv:40598.8,t:"15:19:45"},{iv:40599.55,t:"15:19:46"},{iv:40598.55,t:"15:19:47"},{iv:40597.85,t:"15:19:48"},{iv:40597.65,t:"15:19:49"},{iv:40598.7,t:"15:19:50"},{iv:40599.5,t:"15:19:51"},{iv:40599,t:"15:19:52"},{iv:40599.1,t:"15:19:53"},{iv:40601.35,t:"15:19:54"},{iv:40601.15,t:"15:19:55"},{iv:40601.4,t:"15:19:56"},{iv:40602.6,t:"15:19:57"},{iv:40601.55,t:"15:19:58"},{iv:40602.15,t:"15:19:59"},{iv:40601.9,t:"15:20:00"},{iv:40602.55,t:"15:20:01"},{iv:40600.95,t:"15:20:02"},{iv:40601.85,t:"15:20:03"},{iv:40600.25,t:"15:20:04"},{iv:40602.15,t:"15:20:05"},{iv:40602,t:"15:20:06"},{iv:40600,t:"15:20:07"},{iv:40598.85,t:"15:20:08"},{iv:40604,t:"15:20:09"},{iv:40604.4,t:"15:20:10"},{iv:40599.95,t:"15:20:11"},{iv:40600.15,t:"15:20:12"},{iv:40599.4,t:"15:20:13"},{iv:40600.6,t:"15:20:14"},{iv:40598.85,t:"15:20:15"},{iv:40601.5,t:"15:20:16"},{iv:40599.85,t:"15:20:17"},{iv:40599.9,t:"15:20:18"},{iv:40599.75,t:"15:20:19"},{iv:40600.25,t:"15:20:20"},{iv:40599.4,t:"15:20:21"},{iv:40600.85,t:"15:20:22"},{iv:40599.4,t:"15:20:23"},{iv:40600.65,t:"15:20:24"},{iv:40601.3,t:"15:20:25"},{iv:40600.85,t:"15:20:26"},{iv:40603.5,t:"15:20:27"},{iv:40602.4,t:"15:20:28"},{iv:40600.85,t:"15:20:29"},{iv:40601.8,t:"15:20:30"},{iv:40600.85,t:"15:20:31"},{iv:40603.3,t:"15:20:32"},{iv:40604.1,t:"15:20:33"},{iv:40604.1,t:"15:20:34"},{iv:40602.55,t:"15:20:35"},{iv:40605.4,t:"15:20:36"},{iv:40607.4,t:"15:20:37"},{iv:40605.85,t:"15:20:38"},{iv:40607.75,t:"15:20:39"},{iv:40601.45,t:"15:20:40"},{iv:40597.45,t:"15:20:41"},{iv:40602.3,t:"15:20:42"},{iv:40601.4,t:"15:20:43"},{iv:40604.2,t:"15:20:44"},{iv:40612.9,t:"15:20:45"},{iv:40609.85,t:"15:20:46"},{iv:40608.95,t:"15:20:47"},{iv:40610.45,t:"15:20:48"},{iv:40614.3,t:"15:20:49"},{iv:40619.6,t:"15:20:50"},{iv:40615.3,t:"15:20:51"},{iv:40614,t:"15:20:52"},{iv:40611.15,t:"15:20:53"},{iv:40594.8,t:"15:20:54"},{iv:40605.3,t:"15:20:55"},{iv:40606.8,t:"15:20:56"},{iv:40611.8,t:"15:20:57"},{iv:40617.2,t:"15:20:58"},{iv:40618.75,t:"15:20:59"},{iv:40617.5,t:"15:21:00"},{iv:40620.25,t:"15:21:01"},{iv:40623.8,t:"15:21:02"},{iv:40624.3,t:"15:21:03"},{iv:40622.15,t:"15:21:04"},{iv:40622.9,t:"15:21:05"},{iv:40623.15,t:"15:21:06"},{iv:40620.8,t:"15:21:07"},{iv:40622.1,t:"15:21:08"},{iv:40620.5,t:"15:21:09"},{iv:40619.9,t:"15:21:10"},{iv:40618.3,t:"15:21:11"},{iv:40620.3,t:"15:21:12"},{iv:40616.9,t:"15:21:13"},{iv:40618.55,t:"15:21:14"},{iv:40613.5,t:"15:21:15"},{iv:40614.15,t:"15:21:16"},{iv:40612.85,t:"15:21:17"},{iv:40613.9,t:"15:21:18"},{iv:40613.25,t:"15:21:19"},{iv:40614.9,t:"15:21:20"},{iv:40616.05,t:"15:21:21"},{iv:40617.95,t:"15:21:22"},{iv:40617.05,t:"15:21:23"},{iv:40615.15,t:"15:21:24"},{iv:40616.15,t:"15:21:25"},{iv:40613.45,t:"15:21:26"},{iv:40618.45,t:"15:21:27"},{iv:40621.85,t:"15:21:53"},{iv:40623,t:"15:21:54"},{iv:40622.9,t:"15:21:55"},{iv:40623.15,t:"15:21:56"},{iv:40622.8,t:"15:21:57"},{iv:40621.7,t:"15:21:58"},{iv:40622.7,t:"15:21:59"},{iv:40623.4,t:"15:22:00"},{iv:40625.45,t:"15:22:01"},{iv:40624.15,t:"15:22:02"},{iv:40625.55,t:"15:22:03"},{iv:40622.6,t:"15:22:04"},{iv:40623.7,t:"15:22:05"},{iv:40624.05,t:"15:22:06"},{iv:40620.65,t:"15:22:07"},{iv:40626.05,t:"15:22:08"},{iv:40626.05,t:"15:22:09"},{iv:40625.3,t:"15:22:10"},{iv:40626.6,t:"15:22:11"},{iv:40625.35,t:"15:22:12"},{iv:40625.3,t:"15:22:13"},{iv:40623.85,t:"15:22:14"},{iv:40624.65,t:"15:22:15"},{iv:40626.1,t:"15:22:16"},{iv:40625.05,t:"15:22:17"},{iv:40625.25,t:"15:22:18"},{iv:40624.45,t:"15:22:19"},{iv:40625.5,t:"15:22:20"},{iv:40625.5,t:"15:22:20"},{iv:40619.95,t:"15:22:22"},{iv:40621.6,t:"15:22:23"},{iv:40622.45,t:"15:22:24"},{iv:40620.75,t:"15:22:25"},{iv:40623.15,t:"15:22:26"},{iv:40620.05,t:"15:22:27"},{iv:40621.7,t:"15:22:28"},{iv:40624.75,t:"15:22:29"},{iv:40623.2,t:"15:22:30"},{iv:40623.6,t:"15:22:31"},{iv:40622.6,t:"15:22:32"},{iv:40622.5,t:"15:22:33"},{iv:40622,t:"15:22:34"},{iv:40620.9,t:"15:22:35"},{iv:40622.1,t:"15:22:36"},{iv:40621.7,t:"15:22:37"},{iv:40621.6,t:"15:22:38"},{iv:40619.55,t:"15:22:39"},{iv:40619.55,t:"15:22:40"},{iv:40619.55,t:"15:22:41"},{iv:40622.55,t:"15:22:42"},{iv:40620.5,t:"15:22:43"},{iv:40620.2,t:"15:22:44"},{iv:40620.2,t:"15:22:45"},{iv:40625.35,t:"15:22:46"},{iv:40622.9,t:"15:22:47"},{iv:40622.85,t:"15:22:48"},{iv:40623.05,t:"15:22:49"},{iv:40621.3,t:"15:22:50"},{iv:40622.7,t:"15:22:51"},{iv:40622.2,t:"15:22:52"},{iv:40620.1,t:"15:22:53"},{iv:40620.05,t:"15:22:54"},{iv:40623.6,t:"15:22:55"},{iv:40624.5,t:"15:22:56"},{iv:40621.95,t:"15:22:57"},{iv:40623,t:"15:22:58"},{iv:40620.7,t:"15:22:59"},{iv:40621.75,t:"15:23:00"},{iv:40622.2,t:"15:23:01"},{iv:40623.5,t:"15:23:02"},{iv:40622.05,t:"15:23:03"},{iv:40623.3,t:"15:23:04"},{iv:40622.75,t:"15:23:05"},{iv:40622.75,t:"15:23:06"},{iv:40617.55,t:"15:23:07"},{iv:40620.25,t:"15:23:08"},{iv:40618.85,t:"15:23:09"},{iv:40618.85,t:"15:23:10"},{iv:40618.85,t:"15:23:11"},{iv:40619.95,t:"15:23:12"},{iv:40618.3,t:"15:23:13"},{iv:40616.8,t:"15:23:14"},{iv:40618,t:"15:23:15"},{iv:40619.4,t:"15:23:16"},{iv:40618.95,t:"15:23:17"},{iv:40619.35,t:"15:23:18"},{iv:40619.25,t:"15:23:19"},{iv:40618.2,t:"15:23:20"},{iv:40616.9,t:"15:23:21"},{iv:40618.65,t:"15:23:22"},{iv:40618,t:"15:23:24"},{iv:40618,t:"15:23:24"},{iv:40618.9,t:"15:23:25"},{iv:40617.65,t:"15:23:26"},{iv:40618.7,t:"15:23:27"},{iv:40618.25,t:"15:23:28"},{iv:40619,t:"15:23:29"},{iv:40619,t:"15:23:30"},{iv:40617.95,t:"15:23:31"},{iv:40618.35,t:"15:23:32"},{iv:40618.95,t:"15:23:33"},{iv:40618.45,t:"15:23:34"},{iv:40618.75,t:"15:23:35"},{iv:40618.95,t:"15:23:36"},{iv:40617.1,t:"15:23:37"},{iv:40617.05,t:"15:23:38"},{iv:40617.3,t:"15:23:39"},{iv:40616.5,t:"15:23:40"},{iv:40615.65,t:"15:23:41"},{iv:40616.4,t:"15:23:42"},{iv:40614.7,t:"15:23:43"},{iv:40614.95,t:"15:23:44"},{iv:40616.5,t:"15:23:45"},{iv:40612.6,t:"15:23:46"},{iv:40613.35,t:"15:23:47"},{iv:40616.75,t:"15:23:48"},{iv:40616.45,t:"15:23:49"},{iv:40616.35,t:"15:23:50"},{iv:40617.5,t:"15:23:51"},{iv:40618.2,t:"15:23:52"},{iv:40618.1,t:"15:23:53"},{iv:40616.95,t:"15:23:54"},{iv:40618.4,t:"15:23:55"},{iv:40618.1,t:"15:23:56"},{iv:40620.75,t:"15:23:57"},{iv:40620.05,t:"15:23:58"},{iv:40623,t:"15:23:59"},{iv:40622.3,t:"15:24:00"},{iv:40623,t:"15:24:01"},{iv:40623.95,t:"15:24:02"},{iv:40627.2,t:"15:24:03"},{iv:40626.15,t:"15:24:04"},{iv:40629.15,t:"15:24:05"},{iv:40628.1,t:"15:24:06"},{iv:40630.95,t:"15:24:07"},{iv:40631.4,t:"15:24:08"},{iv:40633.15,t:"15:24:09"},{iv:40633.2,t:"15:24:10"},{iv:40632.05,t:"15:24:12"},{iv:40631.35,t:"15:24:14"},{iv:40632.35,t:"15:24:15"},{iv:40625.35,t:"15:24:18"},{iv:40625.35,t:"15:24:18"},{iv:40625.35,t:"15:24:18"},{iv:40625.35,t:"15:24:18"},{iv:40626.05,t:"15:24:19"},{iv:40627.35,t:"15:24:20"},{iv:40628.4,t:"15:24:21"},{iv:40628.3,t:"15:24:22"},{iv:40626.45,t:"15:24:23"},{iv:40629.55,t:"15:24:24"},{iv:40628.85,t:"15:24:25"},{iv:40627.85,t:"15:24:26"},{iv:40627.15,t:"15:24:27"},{iv:40628.3,t:"15:24:28"},{iv:40626.8,t:"15:24:29"},{iv:40625.8,t:"15:24:30"},{iv:40625.3,t:"15:24:31"},{iv:40625.8,t:"15:24:32"},{iv:40627.35,t:"15:24:33"},{iv:40627.2,t:"15:24:34"},{iv:40627.1,t:"15:24:35"},{iv:40626.75,t:"15:24:36"},{iv:40625.15,t:"15:24:37"},{iv:40626.1,t:"15:24:38"},{iv:40625.8,t:"15:24:39"},{iv:40626.6,t:"15:24:40"},{iv:40625.9,t:"15:24:41"},{iv:40625.3,t:"15:24:42"},{iv:40625.65,t:"15:24:43"},{iv:40625.3,t:"15:24:44"},{iv:40624.55,t:"15:24:45"},{iv:40624.85,t:"15:24:46"},{iv:40625.7,t:"15:24:47"},{iv:40625.35,t:"15:24:48"},{iv:40626.95,t:"15:24:49"},{iv:40626.7,t:"15:24:50"},{iv:40627.65,t:"15:24:51"},{iv:40623.2,t:"15:24:52"},{iv:40626.7,t:"15:24:53"},{iv:40629.45,t:"15:24:54"},{iv:40627.9,t:"15:24:55"},{iv:40629.5,t:"15:24:56"},{iv:40626.95,t:"15:24:57"},{iv:40626.25,t:"15:24:58"},{iv:40627.6,t:"15:24:59"},{iv:40627.9,t:"15:25:00"},{iv:40629.9,t:"15:25:01"},{iv:40629.95,t:"15:25:02"},{iv:40631.65,t:"15:25:03"},{iv:40630.6,t:"15:25:04"},{iv:40632.55,t:"15:25:05"},{iv:40633.2,t:"15:25:06"},{iv:40630.65,t:"15:25:07"},{iv:40632.95,t:"15:25:08"},{iv:40633.6,t:"15:25:09"},{iv:40633.1,t:"15:25:10"},{iv:40634.9,t:"15:25:11"},{iv:40632.85,t:"15:25:12"},{iv:40634.7,t:"15:25:13"},{iv:40632.6,t:"15:25:14"},{iv:40633.9,t:"15:25:15"},{iv:40634.75,t:"15:25:16"},{iv:40636.55,t:"15:25:17"},{iv:40636.1,t:"15:25:18"},{iv:40637.3,t:"15:25:19"},{iv:40638.2,t:"15:25:20"},{iv:40638.15,t:"15:25:21"},{iv:40638.75,t:"15:25:22"},{iv:40637.2,t:"15:25:23"},{iv:40640.8,t:"15:25:24"},{iv:40639,t:"15:25:25"},{iv:40643.3,t:"15:25:26"},{iv:40641.25,t:"15:25:27"},{iv:40641.65,t:"15:25:28"},{iv:40643.15,t:"15:25:29"},{iv:40642.3,t:"15:25:30"},{iv:40642.8,t:"15:25:31"},{iv:40643.2,t:"15:25:32"},{iv:40643.95,t:"15:25:33"},{iv:40645.25,t:"15:25:34"},{iv:40647.35,t:"15:25:35"},{iv:40643.45,t:"15:25:36"},{iv:40642.65,t:"15:25:37"},{iv:40645.4,t:"15:25:38"},{iv:40641.95,t:"15:25:39"},{iv:40645.55,t:"15:25:40"},{iv:40646,t:"15:25:41"},{iv:40642.55,t:"15:25:42"},{iv:40640.8,t:"15:25:43"},{iv:40641.55,t:"15:25:44"},{iv:40643.5,t:"15:25:46"},{iv:40643.5,t:"15:25:46"},{iv:40637.9,t:"15:25:47"},{iv:40639.65,t:"15:25:48"},{iv:40639.9,t:"15:25:49"},{iv:40638.85,t:"15:25:50"},{iv:40639.75,t:"15:25:51"},{iv:40640.8,t:"15:25:52"},{iv:40638.65,t:"15:25:53"},{iv:40640.05,t:"15:25:54"},{iv:40636.6,t:"15:25:55"},{iv:40639.85,t:"15:25:56"},{iv:40640.25,t:"15:25:57"},{iv:40636.9,t:"15:25:58"},{iv:40636.3,t:"15:25:59"},{iv:40636.9,t:"15:26:00"},{iv:40638.35,t:"15:26:01"},{iv:40636.5,t:"15:26:02"},{iv:40639.2,t:"15:26:03"},{iv:40639,t:"15:26:04"},{iv:40638.6,t:"15:26:05"},{iv:40638.6,t:"15:26:06"},{iv:40638,t:"15:26:07"},{iv:40638.15,t:"15:26:08"},{iv:40641.75,t:"15:26:09"},{iv:40641.6,t:"15:26:10"},{iv:40642.2,t:"15:26:11"},{iv:40639.15,t:"15:26:12"},{iv:40638.35,t:"15:26:13"},{iv:40638.25,t:"15:26:14"},{iv:40637.65,t:"15:26:15"},{iv:40637.35,t:"15:26:16"},{iv:40639.3,t:"15:26:17"},{iv:40637.65,t:"15:26:18"},{iv:40643.1,t:"15:26:19"},{iv:40642,t:"15:26:20"},{iv:40642.15,t:"15:26:21"},{iv:40641.95,t:"15:26:22"},{iv:40642.7,t:"15:26:23"},{iv:40644.1,t:"15:26:24"},{iv:40644.2,t:"15:26:25"},{iv:40644.85,t:"15:26:26"},{iv:40642.6,t:"15:26:27"},{iv:40644.5,t:"15:26:28"},{iv:40645.05,t:"15:26:29"},{iv:40642.95,t:"15:26:30"},{iv:40644.7,t:"15:26:31"},{iv:40644.85,t:"15:26:32"},{iv:40645.15,t:"15:26:33"},{iv:40644.75,t:"15:26:34"},{iv:40644.55,t:"15:26:35"},{iv:40647,t:"15:26:36"},{iv:40643.1,t:"15:26:37"},{iv:40645.75,t:"15:26:38"},{iv:40645,t:"15:26:39"},{iv:40645.3,t:"15:26:40"},{iv:40646.9,t:"15:26:41"},{iv:40644.1,t:"15:26:42"},{iv:40644.95,t:"15:26:43"},{iv:40646.3,t:"15:26:44"},{iv:40643.35,t:"15:26:45"},{iv:40645.4,t:"15:26:46"},{iv:40644.7,t:"15:26:47"},{iv:40643.7,t:"15:26:48"},{iv:40643.7,t:"15:26:49"},{iv:40643.85,t:"15:26:50"},{iv:40644.2,t:"15:26:51"},{iv:40644,t:"15:26:52"},{iv:40644.6,t:"15:26:53"},{iv:40644.25,t:"15:26:54"},{iv:40643.05,t:"15:26:55"},{iv:40641.3,t:"15:26:56"},{iv:40641.85,t:"15:26:57"},{iv:40642.85,t:"15:26:58"},{iv:40643.05,t:"15:26:59"},{iv:40642.5,t:"15:27:01"},{iv:40642.5,t:"15:27:01"},{iv:40642.6,t:"15:27:02"},{iv:40642.15,t:"15:27:03"},{iv:40640.15,t:"15:27:04"},{iv:40639.45,t:"15:27:05"},{iv:40642.15,t:"15:27:06"},{iv:40641,t:"15:27:07"},{iv:40639.7,t:"15:27:08"},{iv:40640.75,t:"15:27:09"},{iv:40641.55,t:"15:27:10"},{iv:40642.2,t:"15:27:11"},{iv:40640.45,t:"15:27:12"},{iv:40641.65,t:"15:27:13"},{iv:40639.95,t:"15:27:14"},{iv:40638.1,t:"15:27:15"},{iv:40638.7,t:"15:27:16"},{iv:40638.85,t:"15:27:17"},{iv:40639.3,t:"15:27:18"},{iv:40640.65,t:"15:27:19"},{iv:40640.25,t:"15:27:20"},{iv:40641.2,t:"15:27:21"},{iv:40641.85,t:"15:27:22"},{iv:40641.4,t:"15:27:23"},{iv:40639.75,t:"15:27:24"},{iv:40640.7,t:"15:27:25"},{iv:40640.4,t:"15:27:26"},{iv:40639.2,t:"15:27:27"},{iv:40640.45,t:"15:27:28"},{iv:40640.05,t:"15:27:29"},{iv:40640.75,t:"15:27:30"},{iv:40640.25,t:"15:27:31"},{iv:40640.55,t:"15:27:32"},{iv:40640.8,t:"15:27:33"},{iv:40642.4,t:"15:27:34"},{iv:40640.95,t:"15:27:35"},{iv:40640.5,t:"15:27:36"},{iv:40637.05,t:"15:27:37"},{iv:40638.65,t:"15:27:38"},{iv:40635.15,t:"15:27:39"},{iv:40635.05,t:"15:27:40"},{iv:40639.4,t:"15:27:41"},{iv:40638.1,t:"15:27:42"},{iv:40639.15,t:"15:27:43"},{iv:40640.1,t:"15:27:44"},{iv:40641.05,t:"15:27:45"},{iv:40638.75,t:"15:27:46"},{iv:40641.25,t:"15:27:47"},{iv:40642.45,t:"15:27:48"},{iv:40644.8,t:"15:27:49"},{iv:40644.7,t:"15:27:50"},{iv:40646.6,t:"15:27:51"},{iv:40645.4,t:"15:27:52"},{iv:40646.45,t:"15:27:53"},{iv:40648.65,t:"15:27:54"},{iv:40644.85,t:"15:27:55"},{iv:40646.3,t:"15:27:56"},{iv:40646.05,t:"15:27:57"},{iv:40645.95,t:"15:27:58"},{iv:40646.4,t:"15:27:59"},{iv:40645.75,t:"15:28:00"},{iv:40648.3,t:"15:28:01"},{iv:40645.85,t:"15:28:03"},{iv:40647.25,t:"15:28:04"},{iv:40647.25,t:"15:28:04"},{iv:40645.85,t:"15:28:06"},{iv:40645.85,t:"15:28:06"},{iv:40647,t:"15:28:07"},{iv:40645.6,t:"15:28:08"},{iv:40646.3,t:"15:28:09"},{iv:40645.95,t:"15:28:10"},{iv:40644.6,t:"15:28:11"},{iv:40639.8,t:"15:29:02"},{iv:40639.5,t:"15:29:03"},{iv:40636.9,t:"15:29:04"},{iv:40634.85,t:"15:29:05"},{iv:40634.3,t:"15:29:06"},{iv:40632.9,t:"15:29:07"},{iv:40631.7,t:"15:29:08"},{iv:40632.85,t:"15:29:09"},{iv:40630.7,t:"15:29:10"},{iv:40635.25,t:"15:29:11"},{iv:40636.75,t:"15:29:12"},{iv:40633.05,t:"15:29:13"},{iv:40633.2,t:"15:29:14"},{iv:40635.3,t:"15:29:15"},{iv:40633.35,t:"15:29:16"},{iv:40633.35,t:"15:29:17"},{iv:40636.3,t:"15:29:18"},{iv:40633.95,t:"15:29:19"},{iv:40638,t:"15:29:20"},{iv:40637.6,t:"15:29:21"},{iv:40636.65,t:"15:29:22"},{iv:40633.3,t:"15:29:23"},{iv:40634.7,t:"15:29:24"},{iv:40634.75,t:"15:29:25"},{iv:40635.6,t:"15:29:26"},{iv:40637.75,t:"15:29:27"},{iv:40638.05,t:"15:29:28"},{iv:40636.2,t:"15:29:29"},{iv:40637.8,t:"15:29:30"},{iv:40635.55,t:"15:29:31"},{iv:40632.7,t:"15:29:32"},{iv:40637.85,t:"15:29:33"},{iv:40638.2,t:"15:29:34"},{iv:40637.55,t:"15:29:35"},{iv:40637.9,t:"15:29:36"},{iv:40638.45,t:"15:29:37"},{iv:40635.8,t:"15:29:39"},{iv:40635.8,t:"15:29:39"},{iv:40638.05,t:"15:29:40"},{iv:40639.6,t:"15:29:41"},{iv:40642.65,t:"15:29:42"},{iv:40645.45,t:"15:29:43"},{iv:40645.1,t:"15:29:44"},{iv:40647.95,t:"15:29:45"},{iv:40643.8,t:"15:29:46"},{iv:40643.6,t:"15:29:47"},{iv:40636.85,t:"15:29:48"},{iv:40634.7,t:"15:29:49"},{iv:40646.6,t:"15:29:50"},{iv:40648.65,t:"15:29:51"},{iv:40642.15,t:"15:29:52"},{iv:40640.55,t:"15:29:53"},{iv:40630.55,t:"15:29:54"},{iv:40650.45,t:"15:29:55"},{iv:40652.9,t:"15:29:56"},{iv:40650.65,t:"15:29:57"},{iv:40656.2,t:"15:29:58"},{iv:40637.3,t:"15:29:59"},{iv:40637.8,t:"15:30:00"},{iv:40641.15,t:"15:30:01"},{iv:40641.15,t:"15:30:02"},{iv:40641.15,t:"15:30:03"},{iv:40641.15,t:"15:30:04"},{iv:40641.15,t:"15:30:05"},{iv:40641.15,t:"15:30:06"},{iv:40641.15,t:"15:30:07"},{iv:40641.15,t:"15:30:08"},{iv:40641.15,t:"15:30:09"},{iv:40641.15,t:"15:30:10"},{iv:40641.15,t:"15:30:11"},{iv:40641.15,t:"15:30:12"},{iv:40641.15,t:"15:30:13"},{iv:40641.15,t:"15:30:14"},{iv:40641.15,t:"15:30:15"},{iv:40641.15,t:"15:30:16"},{iv:40641.15,t:"15:30:17"},{iv:40641.15,t:"15:30:18"},{iv:40641.15,t:"15:30:19"},{iv:40641.15,t:"15:30:20"},{iv:40641.15,t:"15:30:21"},{iv:40641.15,t:"15:30:22"},{iv:40641.15,t:"15:30:23"},{iv:40641.15,t:"15:30:24"},{iv:40641.15,t:"15:30:25"},{iv:40641.15,t:"15:30:26"},{iv:40641.15,t:"15:30:27"},{iv:40641.15,t:"15:30:28"},{iv:40641.15,t:"15:30:29"},{iv:40641.15,t:"15:30:30"},{iv:40641.15,t:"15:30:31"},{iv:40641.15,t:"15:30:32"},{iv:40641.15,t:"15:30:33"},{iv:40641.15,t:"15:30:34"},{iv:40641.15,t:"15:30:35"},{iv:40641.15,t:"15:30:36"},{iv:40641.15,t:"15:30:37"},{iv:40641.15,t:"15:30:38"},{iv:40641.15,t:"15:30:38"},{iv:40641.15,t:"15:30:40"},{iv:40641.15,t:"15:30:41"},{iv:40641.15,t:"15:30:42"},{iv:40641.15,t:"15:30:43"},{iv:40641.15,t:"15:30:44"},{iv:40641.15,t:"15:30:45"},{iv:40641.15,t:"15:30:46"},{iv:40641.15,t:"15:30:47"},{iv:40641.15,t:"15:30:48"},{iv:40641.15,t:"15:30:49"},{iv:40641.15,t:"15:30:50"},{iv:40641.15,t:"15:30:51"},{iv:40641.15,t:"15:30:52"},{iv:40641.15,t:"15:30:53"},{iv:40641.15,t:"15:30:54"},{iv:40641.15,t:"15:30:55"},{iv:40641.15,t:"15:30:56"},{iv:40641.15,t:"15:30:57"},{iv:40641.15,t:"15:30:58"},{iv:40641.15,t:"15:30:59"},{iv:40641.15,t:"15:31:00"},{iv:40641.15,t:"15:31:01"},{iv:40641.15,t:"15:31:02"},{iv:40641.15,t:"15:31:03"},{iv:40641.15,t:"15:31:04"},{iv:40641.15,t:"15:31:05"},{iv:40641.15,t:"15:31:06"},{iv:40641.15,t:"15:31:07"},{iv:40641.15,t:"15:31:08"},{iv:40641.15,t:"15:31:09"},{iv:40641.15,t:"15:31:10"},{iv:40641.15,t:"15:31:11"},{iv:40641.15,t:"15:31:12"},{iv:40641.15,t:"15:31:13"},{iv:40641.15,t:"15:31:14"},{iv:40641.15,t:"15:31:16"}])}},{key:"render",value:function(){this.state.cursor;return i.a.createElement(_.a,null)}}]),e}(i.a.Component),xn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.readCsv=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.addtowatchlist,n=JSON.parse(e),console.log(n.length),[],i={listName:a.state.selectedWatchlist,listItem:n},console.log("newjosnlist:",i),O.addIntoStaticData(i).then(function(t){var e=z(t,"noPop");a.setState({listName:e.listName,listCount:e.count})});case 7:case"end":return t.stop()}},t)})),a.resetCsv=function(){a.setState({addtowatchlist:"",resMessage:"",listCount:0})},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){var e=this.state.staticData[t.target.value];this.setState({addtowatchlist:JSON.stringify(e),listCount:e.length})})},a.getbnlatesttokens=function(){a.setState({getbnlatesttokensflag:!1}),O.get_quotes({token:26009,exchange:"NSE"}).then(function(t){var e=t.data;if(e&&e.lp){for(var n=parseInt(e.lp),i=n-15*n/100,r=n+15*n/100,l=r+r%100,o=[],s=i-i%100;s<=l;s+=100)o.push(s);console.log(o),O.getBankniftyLatestOption(o).then(function(t){a.setState({getbnlatesttokensflag:!0}),a.setState({addtowatchlist:JSON.stringify(t.data),listCount:t.data.length,selectedWatchlist:"NIFTYBANK_LATEST_OPTIONS"})})}})},a.downloadObjectAsJson=function(t,e){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",e+".json"),document.body.appendChild(n),n.click(),n.remove()},a.downloadMasterTokens=function(){fetch("https://margincalculator.angelbroking.com/OpenAPI_File/files/OpenAPIScripMaster.json").then(function(t){return t.json()}).then(function(t){a.downloadObjectAsJson(t,"OpenAPIScripMaster"),console.log("Checkout this JSON! ",t)}).catch(function(t){throw t})},a.state={products:[],stopnview:"",curnewdata:"",underlyingValue:"",timestamp:"",totalCOI:0,expiry:"",strike:"",FilteredBY:"",AllspTotalOI:[],PEoi:0,CEoi:0,scrollcount:0,resMessage:[],counter:0,listCount:0,selectedWatchlist:"",addtowatchlist:"",getbnlatesttokensflag:!0},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;O.getStaticData().then(function(e){var a=e.data;localStorage.setItem("staticData",JSON.stringify(a));var n=Object.keys(a);t.setState({totalWatchlist:n}),localStorage.setItem("totalWatchlist",JSON.stringify(n)),t.setState({staticData:a});var i=[];n.forEach(function(t){a[t].forEach(function(t){i.filter(function(e){return e.token===t.token}).length||i.push(t)})}),localStorage.setItem("watchList",JSON.stringify(i))});var e=localStorage.getItem("watchList")?JSON.parse(localStorage.getItem("watchList")):[];this.setState({watchlistCount:e.length})}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(Te.a,{style:{padding:"25px"}},i.a.createElement(R.a,{variant:"h6"},"Current Watchlist"),i.a.createElement(F.a,{justify:"space-between"},i.a.createElement(F.a,{item:!0},i.a.createElement(xe.a,{style:On.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)}))),"\xa0 \xa0",i.a.createElement("a",{href:"https://margincalculator.angelbroking.com/OpenAPI_File/files/OpenAPIScripMaster.json",target:"_blank"}," Download master tokens "),"\xa0 \xa0",this.state.getbnlatesttokensflag?i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return t.getbnlatesttokens()}}," get banknifty latest tokens"):i.a.createElement(pe.a,{size:"small"}))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("br",null),i.a.createElement(B.a,{variant:"outlined",multiline:!0,rows:20,fullwidth:!0,style:{width:"100%",autoflow:!0},label:"Paste only JSON to add into watchlist",value:this.state.addtowatchlist,name:"addtowatchlist",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:8,sm:8},i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return t.readCsv()}}," Add to Watchlist"),"    \xa0 \xa0",i.a.createElement(M.a,{variant:"contained",color:"secondary",onClick:function(){return t.resetCsv()}},"Reset"),"\xa0 \xa0   ",i.a.createElement("b",null,this.state.selectedWatchlist," (",this.state.listCount,")")),i.a.createElement(F.a,{item:!0,xs:8,sm:8},this.state.resMessage?this.state.resMessage.map(function(t){return i.a.createElement(i.a.Fragment,null,"  ",i.a.createElement("span",null," ",t," "),"  ",i.a.createElement("br",null)," ")}):"")))}}]),e}(i.a.Component),On={tableStyle:{display:"flex",justifyContent:"center"},selectStyle:{marginBottom:"0px",minWidth:240,maxWidth:240}},Dn=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(xn),In=a(225),Pn=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),Fn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){O.retrieveOrderBook().then(function(t){var e=z(t,"noPop");if(e&&e.data){var a=e.data;a.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),localStorage.setItem("oderbookData",JSON.stringify(a))}})},a.placeSLMOrder=function(t){var e={triggerprice:t.stopLossPrice,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,transactiontype:"BUY"===t.transactiontype?"SELL":"BUY",exchange:"NSE",producttype:"INTRADAY",duration:"DAY",price:0,squareoff:"0",stoploss:"0",ordertype:"STOPLOSS_MARKET",variety:"STOPLOSS"};console.log("SLM option data",e),O.placeOrder(e).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(a.setState({orderid:n.data&&n.data.orderid}),a.speckIt("hey Vijay, "+t.tradingsymbol+" buy order placed"),a.getTodayOrder(),document.getElementById("orderRefresh")&&document.getElementById("orderRefresh").click())})},a.placeOrderMethod=function(t){var e={transactiontype:t.transactiontype,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,quantity:t.quantity,ordertype:0===t.buyPrice?"MARKET":"LIMIT",price:t.buyPrice,producttype:"INTRADAY",duration:"DAY",squareoff:"0",stoploss:"0",exchange:"NSE",variety:"NORMAL"};console.log("place order option",e),O.placeOrder(e).then(function(e){var n=z(e);n.status&&"SUCCESS"===n.message&&(a.speckIt(t.tradingsymbol+" Added"),a.setState({orderid:n.data&&n.data.orderid}),t.stopLossPrice&&a.placeSLMOrder(t))})},a.getMinPriceAllowTick=function(t){t=t.toFixed(2);var e=parseInt(t.split(".")[0]),a=parseFloat(t.split(".")[1]);return t=parseFloat(e+"."+(a-a%5))},a.historyWiseOrderPlace=function(t,e,n,i){a.setState(Object(f.a)({},i,!0));var r=t.token,l=t.symbol;if("Automatic"==n||window.confirm(e+" "+l+" Are you sure ? ")){var o={exchange:"NSE",tradingsymbol:l,symboltoken:r};O.getLTP(o).then(function(t){var n=z(t,"noPop"),o=n&&n.data;console.log(l," ltd data ",o);var s=0;if(o&&o.ltp){var c=se.totalCapital*se.perTradeExposurePer/100;s=Math.floor(c/o.ltp)}if(s=s>0?1:0,console.log(l,"  quantity can be order ",s),s){var m="YYYY-MM-DD HH:mm",u=ce("9:15am","h:mma").format(m);console.log("beginningTime",u);var v=ce.duration("54:10:00"),g=ce(new Date).subtract(v),d={exchange:"NSE",symboltoken:r,interval:"FIVE_MINUTE",fromdate:ce(g).format(m),todate:ce(new Date).format(m)};O.getHistoryData(d).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var c=n.data,m=0,u=0,v=0,g=0,d=0;if(c.reverse(),g=c[0][3],v=c[0][2],c&&c.length>0){for(var h=0;h<20;h++)c[h]&&(m+=c[h][4],u+=c[h][3],d+=c[h][2],c[h][2]>v&&(console.log(h,v,c[h][2]),v=c[h][2]),c[h][3]<=g&&(g=c[h][3]));var p=c.length>20?20:c.length,y=m/p,b=u/p,S=d/p,E=0,k=0;"BUY"==e&&(E=b-3*(v-g)/100,E=a.getMinPriceAllowTick(E),k=100*(o.ltp-E)/o.ltp,console.log(l,e," LTP ",o.ltp),console.log(l+"highestHigh:",v,"lowestLow",g,"stoploss after tick:",E,"stoploss%",k),console.log(l+"  close avg middle ",y,"lowerest avg",b,"bbhigerValue",S)),"SELL"==e&&(E=S+3*(v-g)/100,k=100*((E=a.getMinPriceAllowTick(E))-o.ltp)/o.ltp,console.log(l,e," LTP ",o.ltp),console.log(l+"highestHigh:",v,"lowestLow",g,"stoploss after tick:",E,"stoploss%",k),console.log(l+"  close avg middle ",y,"lowerest avg",b,"bbhigerValue",S));var C={transactiontype:e,tradingsymbol:l,symboltoken:r,buyPrice:0,quantity:s,stopLossPrice:E};s?(a.placeOrderMethod(C),a.setState(Object(f.a)({},i,!1))):(q.showError(l+" stoploss is > 1.5% Rejected"),console.log(l+" its not fullfilled"))}}else q.showError(l+" candle data emply"),console.log(l+" candle data emply"),a.setState(Object(f.a)({},i,!0))})}else q.showError(s+"  quantity |  "+l+" "+e+" Rejected"),a.setState(Object(f.a)({},i,!1))}).catch(function(t){this.setState(Object(f.a)({},i,!0))})}},a.updateLTPMannually=function(t){var e=a.state.staticData[t];a.refreshSectorLtp(e,t)},a.refreshSectorLtp=function(){var t=Object(lt.a)(it.a.mark(function t(e,n){var i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({stockUpdate:n}),a.setState({refreshFlag:!1,failedCount:0}),i=[],a.state.sectorStockList,r=it.a.mark(function t(n){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={exchange:"NSE",tradingsymbol:e[n].symbol,symboltoken:e[n].token},O.getLTP(o).then(function(t){var a=z(t,"noPop"),r=a&&a.data;if(r.symboltoken==e[n].token){var l=100*(r.ltp-r.close)/r.close,o=e[n];o.ltp=r.ltp,o.nc=l,o.cng=r.ltp-r.close,o.ltt=(new Date).toLocaleString(),i.push(o)}}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),console.log(e[n].symbol,t)}),t.next=4,new Promise(function(t){return setTimeout(t,101)});case 4:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<e.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:n&&a.state.sectorList.forEach(function(t,e){if(t.index==n)return a.state.sectorList[e].stockList=i,a.state.sectorList[e].isStocksLtpUpdted=!0,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlag:!0});case 13:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),a.checkLast5MinMovement=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.staticData[e],a.setState({refreshFlagCandle:!1}),console.log("sectorStockList",e),i=it.a.mark(function t(e){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ce("9:15am","h:mma"),l=ce.duration("00:06:00"),o=ce(new Date).subtract(l),s={exchange:"NSE",symboltoken:n[e].token,interval:"ONE_MINUTE",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:e+1+". "+n&&n[e].symbol}),O.getHistoryData(s).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){console.log(n[e].symbol,"candle history",a.data);var i=a.data,r=[],l=[],o=[],s=[],c=[],m=[],u=[];i.forEach(function(t,e){r.push([t[0],t[1],t[2],t[3],t[4]]),l.push([t[5],(t[2]+t[3]+t[4])/3]),o.push(t[4]),s.push(t[2]),c.push(t[3]),m.push(t[3]),u.push(t[5])}),console.log(n[e].symbol,n[e])}else console.log(n[e].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(n[e].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<n.length)){t.next=10;break}return t.delegateYield(i(r),"t0",7);case 7:r++,t.next=5;break;case 10:e&&a.state.sectorList.forEach(function(t,i){if(t.index==e)return a.state.sectorList[i].stockList=n,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlagCandle:!0}),console.log("sectorStockswithcandle",n);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.refreshSectorCandleManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.staticData[e],a.setState({refreshFlagCandle:!1}),console.log("sectorStockList",e),i=it.a.mark(function t(e){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ce("9:15am","h:mma"),l=ce.duration("22:00:00"),o=ce(new Date).subtract(l),s={exchange:"NSE",symboltoken:n[e].token,interval:"FIFTEEN_MINUTE",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:e+1+". "+n&&n[e].symbol}),O.getHistoryData(s).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var i=a.data,r=[],l=[],o=[],s=[],c=[],m=[],u=[],v=[];i.forEach(function(t,e){r.push([t[0],t[1],t[2],t[3],t[4]]),l.push([t[5],(t[2]+t[3]+t[4])/3]),o.push(t[4]),s.push(t[2]),c.push(t[3]),m.push(t[3]),u.push(t[5]),v.push((t[2]+t[3]+t[4])/3)});var g={values:o,period:14},d=me.a.calculate(g);console.log(n[e].symbol,"lastRsiValue",d[d.length-1]);var h={open:m,high:s,low:c,close:o,volume:u},p={period:20,values:v,stdDev:2},f=ue.a.calculate(p);console.log(n[e].symbol,"BB",p,f),i.length>0&&(n[e].candleChartData=r,n[e].vwapValue=ge()(l),n[e].vwapDataChart=In.a.calculate(h),n[e].lastRsiValue=d[d.length-1]),console.log(n[e].symbol,n[e])}else console.log(n[e].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(n[e].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<n.length)){t.next=10;break}return t.delegateYield(i(r),"t0",7);case 7:r++,t.next=5;break;case 10:e&&a.state.sectorList.forEach(function(t,i){if(t.index==e)return a.state.sectorList[i].stockList=n,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlagCandle:!0}),console.log("sectorStockswithcandle",n);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.refreshSectorCandle=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({refreshFlagCandle:!1}),e=a.state.sectorStockList,console.log("sectorStockList",a.state.sectorStockList.length),n=it.a.mark(function t(n){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ce("9:15am","h:mma"),l=ce.duration("61:00:00"),ce(new Date).subtract(l),o={exchange:"NSE",symboltoken:a.state.sectorStockList[n].token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:n+1+". "+a.state.sectorStockList&&a.state.sectorStockList[n].symbol}),O.getHistoryData(o).then(function(t){var i=z(t,"noPop");if(i&&i.data&&i.data.length){var r=i.data,l=[];if(r.forEach(function(t){l.push([t[0],t[1],t[2],t[3],t[4]])}),r.length>0){e[n].candleChartData=l;var o=a.state.sectorList;a.state.sectorList&&a.state.sectorList.forEach(function(t,a){t.stockList&&t.stockList.forEach(function(t,n){var i=e.filter(function(e){return e.token==t.token});i.length&&(o[a].stockList[n].candleChartData=i[0].candleChartData)})}),a.setState({sectorList:o}),localStorage.setItem("sectorList",JSON.stringify(o))}}else console.log(a.state.sectorStockList[n].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(a.state.sectorStockList[n].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),i=0;case 5:if(!(i<a.state.sectorStockList.length)){t.next=10;break}return t.delegateYield(n(i),"t0",7);case 7:i++,t.next=5;break;case 10:a.setState({refreshFlagCandle:!0});case 11:case"end":return t.stop()}},t)})),a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.makeConnection=function(){var t='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Connection sectior top firstTime_req :- "+t),Pn&&(Pn.send(t),a.updateSocketWatch())},a.showCandleChart=function(t,e,a,n,i){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n),localStorage.setItem("vwapDataChart",i),t&&t.length>0&&document.getElementById("showCandleChart").click()},a.updateSocketWatch=function(){var t=[];if(a.state.sectorList.forEach(function(e){e.percentChange>=.75&&e.stockList&&e.stockList.forEach(function(e){t.push("nse_cm|"+e.token)})}),t&&t.length){var e={task:"mw",channel:t.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};console.log("update watch channel",e),Pn.send(JSON.stringify(e))}},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.get2DecimalNumber=function(t){return t?t.toFixed(2):t},a.state={stopnview:"",indexTimeStamp:"",refreshFlag:!0,topGLCount:0,refreshFlagCandle:!0,sectorStockList:localStorage.getItem("sectorStockList")&&JSON.parse(localStorage.getItem("sectorStockList"))||[],sectorList:localStorage.getItem("sectorList")&&JSON.parse(localStorage.getItem("sectorList"))||[],watchList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{}},a.refreshSectorCandle=a.refreshSectorCandle.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i});var r=ce("9:15am","h:mma"),l=ce("3:30pm","h:mma"),o=ce(new Date,"h:mma");ce().isoWeekday()<=5&&o.isBetween(r,l)&&(Pn.onopen=function(t){},Pn.onmessage=function(e){var a=window.atob(e.data),n=t.decodeWebsocketData(Ne.a.inflate(a)),i=JSON.parse(n);window.document.title="Sector Live WS: "+i.length,t.state.sectorList&&t.state.sectorList.forEach(function(e,a){e.stockList&&e.stockList.forEach(function(e,n){var r=i.filter(function(t){return t.tk==e.token});r.length>0&&r[0].ltp&&r[0].nc&&(t.state.sectorList[a].stockList[n].ltp=r[0].ltp,t.state.sectorList[a].stockList[n].nc=r[0].nc,t.state.sectorList[a].stockList[n].cng=r[0].cng,t.state.sectorList[a].stockList[n].ltt=r[0].ltt,t.state.sectorList[a].isStocksLtpUpdted=!0)})}),t.setState({sectorList:t.state.sectorList})},Pn.onerror=function(t){console.log("socket error",t),window.location.reload()},setInterval(function(){t.loadIndexesList()},12e4))}},{key:"loadIndexesList",value:function(){var t=this;this.setState({indexTimeStamp:"",refreshFlag:!1,failedCount:0,topGLCount:0}),O.allIndicesDirectJSON().then(function(e){if(e.data){var a=function(t){return new Promise(function(e){return setTimeout(e,t)})},n=(e.data&&e.data.data).sort(function(t,e){return e.percChange-t.percChange});console.log(n),t.setState({sectorList:[]}),function(){var e=Object(lt.a)(it.a.mark(function e(n,i){var r,l,o,s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],l=0;case 2:if(!(l<i.length)){e.next=13;break}return o=1,s=t.state.staticData[i[l].indexName],t.setState({stockUpdate:l+1+". "+i[l].indexName}),console.log(i[l].index,i[l].percChange,i[l]),i[l].percChange>=.75||i[l].percChange<=-.75?s&&s.length&&(i[l].stockList=s,o=s.length,s&&s.length&&n.refreshSectorLtp(s,i[l].indexName),t.setState({sectorList:[].concat(Object(rt.a)(t.state.sectorList),[i[l]]),topGLCount:t.state.topGLCount+1})):s&&s.length>=1&&(i[l].stockList=s,r.push(i[l])),e.next=10,a(o/10*150);case 10:l++,e.next=2;break;case 13:r.forEach(function(e){t.setState({sectorList:[].concat(Object(rt.a)(t.state.sectorList),[e])})});case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()(t,n)}}).catch(function(t){}),this.setState({refreshFlag:!0})}},{key:"render",value:function(){var t=this;this.state.sectorList&&this.state.sectorList.forEach(function(t,e){t.stockList&&t.stockList.sort(function(t,e){return e.nc-t.nc})});var e=ce("9:15am","h:mma"),a=ce("03:30pm","h:mma");return ce(new Date,"h:mma").isBetween(e,a)&&this.state.sectorList&&this.state.sectorList.forEach(function(e,a){e.percentChange>.75&&e.isStocksLtpUpdted&&e.stockList&&e.stockList.forEach(function(e,a){if(a<2){var n=localStorage.getItem("autoTradeTopList")&&JSON.parse(localStorage.getItem("autoTradeTopList"))||[];n.filter(function(t){return t.token===e.token}).length||(e.foundAt=(new Date).toLocaleString(),n.push(e),localStorage.setItem("autoTradeTopList",JSON.stringify(n)),console.log(e.name+" is on top  "+(a+1)+(new Date).toLocaleString()),t.speckIt(e.name+" is on top  "+(a+1)))}})}),i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary"},"Top Gainer/Looser Sectors(",this.state.topGLCount,") at ",this.state.indexTimeStamp,this.state.refreshFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.loadIndexesList()}},"Live Ltp"):i.a.createElement(i.a.Fragment,null," ",i.a.createElement(M.a,null," ",i.a.createElement(pe.a,null)," \xa0 ",this.state.stockUpdate,"  ")," "),this.state.failedCount?this.state.failedCount+"Failed":"","\xa0")),this.state.sectorList?this.state.sectorList.map(function(e,a){return i.a.createElement(F.a,{item:!0,xs:12,sm:t.state.topGLCount<=2?6:3==t.state.topGLCount?4:3},i.a.createElement(Te.a,{style:{padding:"10px",background:"lightgray",textAlign:"center"}},i.a.createElement(M.a,{size:"small",variant:"contained",title:"update ltp",onClick:function(){return t.updateLTPMannually(e.index)}},i.a.createElement("b",null," ",a+1,". ",e.index||e.indexName+" "+e.last,"(",e.percentChange||e.percChange,"%) ")),"\xa0",i.a.createElement(M.a,{size:"small",variant:"contained",title:"Candle refresh",onClick:function(){return t.refreshSectorCandleManually(e.index)}},i.a.createElement(Dt.a,null)),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1},e.stockList&&e.stockList.map(function(a,n){return i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(Te.a,{style:{textAlign:"center"}},i.a.createElement(R.a,{style:{background:t.getPercentageColor(a.cng),fontSize:"14px"}},n+1,". ",a.name," ",a.ltp," (",t.get2DecimalNumber(a.nc),"%)"),a.candleChartData?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.showCandleChart(a.candleChartData,a.name,a.ltp,a.nc,a.vwapDataChart)}},i.a.createElement(ae,{candleChartData:a.candleChartData,percentChange:a.nc,vwapDataChart:a.vwapDataChart})):"",a.vwapValue?i.a.createElement(R.a,null,a.vwapValue?i.a.createElement("span",{style:{background:a.ltp>a.vwapValue?"#00ff00":"red",fontSize:"14px"}},"VWAP:",i.a.createElement("b",null,a.vwapValue&&a.vwapValue.toFixed(2))," "):"","\xa0",a.lastRsiValue?i.a.createElement("span",{title:"OB means 'Overbought'",style:{background:a.lastRsiValue>=60?"#00ff00":a.lastRsiValue>=40&&a.lastRsiValue<60?"lightgray":"red",fontSize:"14px"}},"RSI:",i.a.createElement("b",null,a.lastRsiValue)," ",a.lastRsiValue>80?"OB":a.lastRsiValue>=60&&a.lastRsiValue<=80?"Buy":a.lastRsiValue>=40&&a.lastRsiValue<60?"NoTrade":"Sell"," "):""):"",i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},i.a.createElement(F.a,{item:!0},t.state["buyButtonClicked"+e.index+n]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return t.historyWiseOrderPlace(a,"BUY","","buyButtonClicked"+e.index+n)}},"Buy")),i.a.createElement(F.a,{item:!0},a.ltt&&new Date(a.ltt).toLocaleTimeString()),i.a.createElement(F.a,{item:!0},t.state["sellButtonClicked"+e.index+n]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return t.historyWiseOrderPlace(a,"SELL","","sellButtonClicked"+e.index+n)}},"Sell")))))}))))}):i.a.createElement(pe.a,null)))}}]),e}(i.a.Component),Nn=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(Fn),Mn=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),An=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),Bn=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function Yn(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=i.a.useState({data:[],candledata:{}}),o=Object(X.a)(l,2),s=(o[0],o[1],function(){r(!1)});return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"showLightCandleChart",color:"primary",style:{display:"none"},onClick:function(){r(!0)}},"Chart"),i.a.createElement(Jt.a,{maxWidth:"lg",onClose:s,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Mn,{id:"customized-dialog-title",onClose:s,style:{color:t.LightChartData.InstrumentLTP&&t.LightChartData.InstrumentLTP.change>0?"green":"red"}},t.LightChartData.selectedSymbol,"  ",t.LightChartData.InstrumentLTP&&t.LightChartData.InstrumentLTP.ltp,"    (",t.LightChartData.InstrumentLTP&&t.LightChartData.InstrumentLTP.change.toFixed(2),"%)",i.a.createElement("br",null)),i.a.createElement(An,{dividers:!0,id:"chart"},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement("br",null),t.LightChartData&&t.LightChartData.InstrumentLTP?i.a.createElement(F.a,{item:!0,xs:12,sm:3,style:{background:"#00000014"}},i.a.createElement("div",{style:{background:"#bdbdbd"}},i.a.createElement("b",null,"  Daily: ",t.LightChartData.selectedSymbol)," ",i.a.createElement("br",null),i.a.createElement("span",{title:"20SMA",item:!0,xs:12,sm:12,style:{color:t.LightChartData.InstrumentLTP.ltp>t.LightChartData.DailyBulishStatus?"green":"red",fontWeight:"bold"}},"Daily Avg Price: ",t.LightChartData.DailyBulishStatus&&t.LightChartData.DailyBulishStatus.toFixed(0)," ",t.LightChartData.DailyBulishStatus?t.LightChartData.InstrumentLTP.ltp>t.LightChartData.DailyBulishStatus?"BUY":"SELL":""),i.a.createElement("br",null),i.a.createElement("span",{title:"averge of showed candle volume",item:!0,xs:12,sm:12},i.a.createElement("b",null,"Daily Avg Volume:"),"  ",(t.LightChartData.dailyAvgValume/1e5).toFixed(2),"L"),i.a.createElement("br",null),i.a.createElement("span",{title:"averge of showed candle volume",item:!0,xs:12,sm:12},t.LightChartData.todayCurrentVolume>t.LightChartData.dailyAvgValume?i.a.createElement("b",{title:"if cossed avg volume then its green",style:{color:"green"}},"Today Volume: ",(t.LightChartData.todayCurrentVolume/1e5).toFixed(2),"L "):"Today Volume:"+(t.LightChartData.todayCurrentVolume/1e5).toFixed(2)+"L")),i.a.createElement("br",null),i.a.createElement("b",null,"  Intraday: ",t.LightChartData.timeFrame," : ",t.LightChartData.tradingsymbol)," ",i.a.createElement("br",null),t.LightChartData.bblastValue?i.a.createElement("span",{item:!0,xs:12,sm:12},i.a.createElement("span",{title:"Green color mean price running above upper bb band",style:{color:t.LightChartData.InstrumentLTP.ltp>=t.LightChartData.bblastValue.upper?"green":"",fontWeight:"bold"}},"BB Upper: ",t.LightChartData.bblastValue.upper.toFixed(2)),i.a.createElement("br",null),"BB Middle(20 SMA): ",t.LightChartData.bblastValue.middle.toFixed(2),i.a.createElement("br",null),i.a.createElement("span",{title:"Green red mean price running below lower bb band",style:{color:t.LightChartData.InstrumentLTP.ltp<=t.LightChartData.bblastValue.lower?"red":"",fontWeight:"bold"}},"BB Lower: ",t.LightChartData.bblastValue.lower.toFixed(2)),i.a.createElement("br",null)):"",i.a.createElement("span",{item:!0,xs:12,sm:12,style:{color:t.LightChartData.InstrumentLTP.ltp>t.LightChartData.vwapvalue?"green":"red",fontWeight:"bold"}},"VWAP:  ",t.LightChartData.vwapvalue&&t.LightChartData.vwapvalue.toFixed(2)),i.a.createElement("br",null),i.a.createElement("b",null," RSI: "),t.LightChartData.rsiValues&&t.LightChartData.rsiValues.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")}),i.a.createElement("br",null),i.a.createElement("b",null,"Vol:")," ",t.LightChartData.valumeData&&t.LightChartData.valumeData.map(function(e,a){return i.a.createElement("span",{style:{color:e>t.LightChartData.dailyAvgValume?"green":"",fontWeight:e>t.LightChartData.dailyAvgValume?"bold":""}}," ",(e/1e5).toFixed(2),"L \xa0")}),i.a.createElement("br",null),"  ",i.a.createElement("br",null)):"",i.a.createElement(F.a,{item:!0,xs:12,sm:9},localStorage.getItem("candleChartData")?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:350},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:t.LightChartData.chartStaticData}],type:"candlestick",width:500,height:350}):""))),i.a.createElement(Bn,null,i.a.createElement(M.a,{autoFocus:!0,onClick:s,color:"primary"},"Close"))))}var Hn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){O.retrieveOrderBook().then(function(t){var e=z(t,"noPop");if(e&&e.data){var n=e.data;n.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),a.setState({oderbookData:n}),localStorage.setItem("oderbookData",JSON.stringify(n))}})},a.onChangeWatchlist=function(t){clearInterval(a.state.findlast5minMovementInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.checkLiveBids()})},a.onChangeBackDate=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.getByDateBidHistory()})},a.backupData=function(){console.log(a.state.backupDeleverydata),O.saveDeliveryData({backupDeleverydata:a.state.backupDeleverydata}).then(function(t){console.log("storeRes",(new Date).toLocaleTimeString(),t)})},a.updatebidHistory=function(t){console.log("storeResData",t),a.state.liveBidsList.forEach(function(e){var a=t.length&&t.filter(function(t){return t.symbol==e.symbol}),n=[],i=[],r=0,l=0;a.forEach(function(t,e){r&&n.push((100*(t.totalBuyBid-r)/r).toFixed(2)),l&&i.push((100*(t.totalSellBid-l)/l).toFixed(2)),r=t.totalBuyBid,l=t.totalSellBid}),e.buybidHistory=n,e.sellbidHistory=i}),a.setState({liveBidsList:a.state.liveBidsList})},a.storeBidData=function(){console.log(a.state.backupBidata);var t={backupBiddata:a.state.backupBidata,dbUpdateTime:ce(new Date).format("YYYY-MM-DD HH:mm:ss")};O.saveBidData(t).then(function(t){var e=z(t,"noPop");a.updatebidHistory(e.result)})},a.checkLiveBids=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],a.setState({liveBidsList:[],backupDeleverydata:[],backupBidata:[]}),console.log("watchList",a.state.staticData),[],n=it.a.mark(function t(n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],O.checkLiveBids(i.name).then(function(t){if(t.data&&t.data.data.length){var i=t.data.data[0],r={quantityTraded:parseFloat(i.quantityTraded.split(",").join("")),deliveryQuantity:parseFloat(i.deliveryQuantity.split(",").join("")),deliveryToTradedQuantity:parseFloat(i.deliveryToTradedQuantity.split(",").join("")),symbol:i.symbol,todayChange:i.pChange,ltp:parseFloat(i.lastPrice.split(",").join("")),datetime:ce(i.secDate).format("YYYY-MM-DD HH:mm:ss"),averagePrice:parseFloat(i.averagePrice.split(",").join(""))},l={symbol:i.symbol,priceChangePer:i.pChange,ltp:parseFloat(i.lastPrice.split(",").join("")),updatedTime:ce(i.secDate).format("YYYY-MM-DD HH:mm:ss"),totalBuyBid:parseFloat(i.totalBuyQuantity.split(",").join(""))?parseFloat(i.totalBuyQuantity.split(",").join("")):0,totalSellBid:parseFloat(i.totalSellQuantity.split(",").join(""))?parseFloat(i.totalSellQuantity.split(",").join("")):0,quantityTraded:"-"!=i.quantityTraded?parseFloat(i.quantityTraded.split(",").join("")):0,deliveryToTradedQuantity:parseFloat(i.deliveryToTradedQuantity.split(",").join("")),deliveryQuantity:parseFloat(i.deliveryQuantity.split(",").join("")),averagePrice:parseFloat(i.averagePrice.split(",").join("")),buyPrice1:parseFloat(i.buyPrice1.split(",").join("")),buyPrice2:parseFloat(i.buyPrice2.split(",").join("")),buyPrice3:parseFloat(i.buyPrice3.split(",").join("")),buyPrice4:parseFloat(i.buyPrice4.split(",").join("")),buyPrice5:parseFloat(i.buyPrice5.split(",").join("")),buyQuantity1:parseFloat(i.buyQuantity1.split(",").join("")),buyQuantity2:parseFloat(i.buyQuantity2.split(",").join("")),buyQuantity3:parseFloat(i.buyQuantity3.split(",").join("")),buyQuantity4:parseFloat(i.buyQuantity4.split(",").join("")),buyQuantity5:parseFloat(i.buyQuantity5.split(",").join("")),sellPrice1:parseFloat(i.sellPrice1.split(",").join("")),sellPrice2:parseFloat(i.sellPrice2.split(",").join("")),sellPrice3:parseFloat(i.sellPrice3.split(",").join("")),sellPrice4:parseFloat(i.sellPrice4.split(",").join("")),sellPrice5:parseFloat(i.sellPrice5.split(",").join("")),sellQuantity1:parseFloat(i.sellQuantity1.split(",").join("")),sellQuantity2:parseFloat(i.sellQuantity2.split(",").join("")),sellQuantity3:parseFloat(i.sellQuantity3.split(",").join("")),sellQuantity4:parseFloat(i.sellQuantity4.split(",").join("")),sellQuantity5:parseFloat(i.sellQuantity5.split(",").join(""))};a.setState({backupBidata:[].concat(Object(rt.a)(a.state.backupBidata),[l])}),n===e.length-1&&setTimeout(function(){console.log("last loaggged"),a.storeBidData()},1e3),a.setState({backupDeleverydata:[].concat(Object(rt.a)(a.state.backupDeleverydata),[r])}),i.quantityTraded="-"!=i.quantityTraded?parseFloat(i.quantityTraded.split(",").join("")):"0",i.deliveryQuantity="-"!=i.deliveryQuantity?parseFloat(i.deliveryQuantity.split(",").join("")):"0",i.totalBuyQuantity="-"!=i.totalBuyQuantity?parseFloat(i.totalBuyQuantity.split(",").join("")):"0",i.totalSellQuantity="-"!=i.totalSellQuantity?parseFloat(i.totalSellQuantity.split(",").join("")):"0",i.totalTradedVolume="-"!=i.totalTradedVolume?parseFloat(i.totalTradedVolume.split(",").join("")):"0",i.totalTradedValue="-"!=i.totalTradedValue?parseFloat(i.totalTradedValue.split(",").join("")):"0",i.buytosellTime=i.totalBuyQuantity/i.totalSellQuantity,i.selltobuyTime=i.totalSellQuantity/i.totalBuyQuantity,a.state.liveBidsList.sort(function(t,e){return e.pChange-t.pChange}),i.totalBuyQuantity/i.totalSellQuantity>1.25&&(i.highlightbuy=!0),i.totalSellQuantity/i.totalBuyQuantity>1.25&&(i.highlightsell=!0),a.setState({liveBidsList:[].concat(Object(rt.a)(a.state.liveBidsList),[i]),lastUpdateTime:t.data.lastUpdateTime},function(){localStorage.setItem("liveBidsList",JSON.stringify(this.state.liveBidsList)),window.document.title="Del: "+this.state.liveBidsList[0].symbol})}}),t.next=4,new Promise(function(t){return setTimeout(t,200)});case 4:case"end":return t.stop()}},t)}),i=0;case 6:if(!(i<e.length)){t.next=11;break}return t.delegateYield(n(i),"t0",8);case 8:i++,t.next=6;break;case 11:case"end":return t.stop()}},t)})),a.getDeliveryHistory=function(){for(var t=function(t){var e=a.state.liveBidsList[t];O.getDeliveryDataFromDb(e.symbol).then(function(t){var n=z(t,"noPop");if(console.log("hist data",n.result),n&&n.result){var i=n.result;e.delHistory=i,console.log(e.symbol,i),a.setState({liveBidsList:a.state.liveBidsList})}})},e=0;e<a.state.liveBidsList.length;e++)t(e)},a.getByDateBidHistory=function(){a.setState({liveBidsList:[]});var t=a.state.staticData[a.state.selectedWatchlist],e=[];t.forEach(function(t){e.push("'"+t.name+"'")}),O.getBidDataFromDb(a.state.backDate,e.join(","),e.length).then(function(t){var e=z(t,"noPop");if(console.log("hist bidHistoty",e.result),e&&e.result){for(var n=e.result,i=0;i<n.length;i++){var r=n[i],l={quantityTraded:r.quantityTraded,deliveryQuantity:r.deliveryQuantity,totalBuyQuantity:r.totalBuyBid,totalSellQuantity:r.totalSellBid,lastPrice:r.ltp,pChange:r.priceChangePer,symbol:r.symbol,updatedTime:r.updatedTime};l.buytosellTime=r.totalBuyBid/r.totalSellBid,l.selltobuyTime=r.totalSellBid/r.totalBuyBid,r.totalBuyBid/r.totalSellBid>1.25&&(l.highlightbuy=!0),r.totalSellBid/r.totalBuyBid>1.25&&(l.highlightsell=!0),a.setState({liveBidsList:[].concat(Object(rt.a)(a.state.liveBidsList),[l]),lastUpdateTime:a.state.backDate},function(){this.state.liveBidsList.sort(function(t,e){return e.pChange-t.pChange})})}a.updatebidHistory(e.bidHistoty)}})},a.getBackUpDate=function(){O.getBackUpdateList().then(function(t){var e=z(t,"noPop");if(console.log(e),e&&e.result){var n=[];e.result.forEach(function(t){t.dbUpdateTime&&n.push(ce(t.dbUpdateTime).format("YYYY-MM-DD HH:mm:ss"))}),a.setState({backupDateList:n},function(){})}})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.convertToFloat=function(t){if(!isNaN(t))return"("+(t/1e5).toFixed(2)+"L)"},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.sortByColumn=function(t){a.state.liveBidsList.sort(function(e,a){return a[t]-e[t]}),a.setState({liveBidsList:a.state.liveBidsList,sortedType:t})},a.state={oderbookData:[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:localStorage.getItem("clickedIndexName")?localStorage.getItem("clickedIndexName"):"NIFTY BANK",totalStockToWatch:0,timeFrame:"TEN_MINUTE",chartStaticData:[],qtyToTake:"",BBBlastType:"BBBlastOnly",liveBidsList:[],sortedType:"pChange",backupDeleverydata:[],backupBidata:[],backupDateList:[],backDate:""},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");ce().isoWeekday()<=5&&n.isBetween(e,a)&&(console.log("setInterval"),setInterval(function(){t.checkLiveBids()},3e5)),this.checkLiveBids(),this.getBackUpDate(),console.log("ddd",this.state.selectedWatchlist)}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,"#/delivery"===window.location.hash?i.a.createElement(be,null):"",i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},this.state.selectedWatchlist," (",this.state.liveBidsList.length,") updated at ",this.state.lastUpdateTime),i.a.createElement("span",null,"Sorted By:  ",this.state.sortedType," ")),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:jn.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:3},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.checkLiveBids()}},"Refresh")),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.backupData()}},"BackUp")),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:jn.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Back Date"),i.a.createElement(Oe.a,{value:this.state.backDate,name:"backDate",onChange:this.onChangeBackDate},i.a.createElement(De.a,{value:""},"Select Date"),this.state.backupDateList&&this.state.backupDateList.map(function(t){return i.a.createElement(De.a,{value:t},t)}))))),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("pChange")}}," Symbol")," "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("buytosellTime")}},"buyTosell"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("selltobuyTime")}},"sellTobuy"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("totalBuyQuantity")}}," Total Buy Quantity"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("totalSellQuantity")}}," Total Sell Quantity"),"  "),i.a.createElement(Xt.a,{align:"center"},"Average Price"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("quantityTraded")}}," Quantity Traded"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("deliveryQuantity")}}," Delivery Quantity"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{title:"Delivery To Traded Quantity",onClick:function(){return t.sortByColumn("deliveryToTradedQuantity")}}," Del To Traded Qty%"),"  "),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.getDeliveryHistory()}},"Delivery History"),"  "))),i.a.createElement(Zt.a,null,this.state.liveBidsList?this.state.liveBidsList.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a,style:{background:t.getPercentageColor(e.pChange)}},i.a.createElement(Xt.a,{align:"left"},e.symbol," ",e.lastPrice," (",e.pChange,"%)"),i.a.createElement(Xt.a,{style:{background:e.highlightbuy?"lightgray":""},align:"center"},e.buytosellTime.toFixed(2)," time buy"),i.a.createElement(Xt.a,{style:{background:e.highlightsell?"lightgray":""},align:"center"},e.selltobuyTime.toFixed(2)," time sell"),i.a.createElement(Xt.a,{align:"center",style:{background:"#eceff1"}},e.buybidHistory&&e.buybidHistory.map(function(t){return i.a.createElement("span",{style:{color:t>0?"green":"red"}}," ",t,"% ")}),i.a.createElement("br",null),e.totalBuyQuantity," ",t.convertToFloat(e.totalBuyQuantity)),i.a.createElement(Xt.a,{align:"center",style:{background:"#eceff1"}},e.sellbidHistory&&e.sellbidHistory.map(function(t){return i.a.createElement("span",{style:{color:t>0?"green":"red"}}," ",t,"% ")}),i.a.createElement("br",null),e.totalSellQuantity," ",t.convertToFloat(e.totalSellQuantity)),i.a.createElement(Xt.a,{align:"left"},e.averagePrice),i.a.createElement(Xt.a,{align:"center"},e.quantityTraded," ",t.convertToFloat(e.quantityTraded)),i.a.createElement(Xt.a,{align:"center"},e.deliveryQuantity," ",t.convertToFloat(e.deliveryQuantity)),i.a.createElement(Xt.a,{align:"center"},e.deliveryToTradedQuantity,"%"),i.a.createElement(Xt.a,{style:{background:"#eceff1"},align:"center"},e.delHistory&&e.delHistory.map(function(t){return i.a.createElement("span",null," ",new Date(t.datetime).toLocaleDateString(),"  \xa0",i.a.createElement("span",{title:"quantityTraded "+t.quantityTraded}," ",(t.quantityTraded/1e5).toFixed(2),"L  "),"  \xa0",i.a.createElement("span",{title:"deliveryToTradedQuantity"}," ",t.deliveryToTradedQuantity,"%  "),"  \xa0",i.a.createElement("span",{title:"deliveryQuantity "+t.deliveryQuantity}," ",(t.deliveryQuantity/1e5).toFixed(2),"L  "),"  \xa0",i.a.createElement("span",{style:{color:t.todayChange>0?"green":"red"}}," (",t.todayChange,"%)   "),"\xa0  ",i.a.createElement("br",null))})))}):i.a.createElement(pe.a,null)))))))}}]),e}(i.a.Component),jn={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Rn=Hn;var Wn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.document.title="Index Charts",e=a.state.staticData[a.state.selectedWatchlist],a.setState({totalStockToWatch:e&&e.length}),n=ce("9:15am","h:mma"),i=ce("3:30pm","h:mma"),5,r=ce(new Date,"h:mma"),l=ce().isoWeekday(),o=setInterval(function(){var t=new Date;t.getMinutes()%10===0&&(console.log("search method call in with setTimeout 70sec",t.toLocaleTimeString()),setTimeout(function(){a.find10MinBBBlast()},7e4),a.setState({stop10bbSearch:setInterval(function(){console.log("search method call in with setInterval in 10min",t.toLocaleTimeString()),l<=5&&r.isBetween(n,i)&&a.find10MinBBBlast()},67e4)}),clearInterval(o))},1e3),a.find10MinBBBlast();case 10:case"end":return t.stop()}},t)})),a.stopSearching=function(){console.log("stop the search"),clearInterval(a.state.findlast5minMovementInterval),clearInterval(a.state.stop10bbSearch)},a.showCandleChart=function(t,e,a,n){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n.toFixed(2)),document.getElementById("showCandleChart").click()},a.onChangeWatchlist=function(t){clearInterval(a.state.findlast5minMovementInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.find10MinBBBlast()})},a.onChangeQty=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"200:00:00";case"FIVE_MINUTE":return"1000:00:00";case"TEN_MINUTE":return"1500:00:00";case"FIFTEEN_MINUTE":return"2160:00:00";case"THIRTY_MINUTE":return"4320:00:00";case"ONE_HOUR":return"8320:00:00";case"ONE_DAY":return"15000:00:00"}},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.getRSIBBString=function(t){var e="";return t.BB&&(t.ltp>=t.BB.upper?e+='<span style="color:green">BBupr:'+t.BB.upper+"</span>":e+='<span style="color:red">BBupr:'+t.BB.upper+"</span>",t.ltp<=t.BB.lower?e+=' <span style="color:green">BBlwr:'+t.BB.lower+"</span>":e+=' <span style="color:red">BBlwr:'+t.BB.lower+"</span>"),e+="<br/>RSI:",t.RSI.forEach(function(t){e+=t>=60?' <span style="color:green">'+t+"</span>":t>=40&&t<=59?' <span style="color:black">'+t+"</span>":' <span style="color:red">'+t+"</span>"}),e},a.createMultpleChart=function(t){var e=document.createElement("div");e.style.display="block",e.style.padding="10px",e.style.marginLeft="10px",e.style.marginTop="10px",e.style.border="2px solid "+de.getPercentageColor(t.perChange);var n=document.createElement("div");e.appendChild(n),n.style.display="block",n.style.left="3px",n.style.top="3px",t.perChange>0?n.style.color="green":n.style.color="red",n.innerHTML=t.name+" "+t.ltp+" ("+t.perChange+"%) <br />";var i=document.createElement("div");e.appendChild(i),i.style.fontSize="10px";var r=Object(Ie.a)(e,{width:a.state.chartSize,height:a.state.chartSize,timeVisible:!0,secondsVisible:!0});r.addCandlestickSeries({upColor:"green",downColor:"red",borderDownColor:"red",borderUpColor:"green",wickDownColor:"red",wickUpColor:"green"}).setData(t.lightChartData);var l=a.calculateSMA(t.lightChartData,20);r.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}).setData(l),r.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}}).setData(t.volumeSeriesData);n=document.createElement("div");e.append(n),n.style.display="block",n.innerHTML=a.getRSIBBString(t),document.getElementById("allchart")&&document.getElementById("allchart").append(e),r.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",r=!0,l=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var m=s.value;"object"==typeof m[1]?(a+=" O: <b>"+m[1].open+"</b>",a+=" H: <b>"+m[1].high+"</b>",a+=" L: <b>"+m[1].low+"</b>",a+=" C: <b>"+m[1].close+"</b>",a+=" CH: <b>"+(n=100*(m[1].close-m[1].open)/m[1].open).toFixed(2)+"%</b><br />"):a+=" "+m[1].toFixed(2)+" "}}catch(v){l=!0,o=v}finally{try{r||null==c.return||c.return()}finally{if(l)throw o}}t.time&&(a+=" Time:<b> "+new Date(t.time).toLocaleString()+"</b>");var u="<span style=color:green>"+a+"</span> ";n<0&&(u="<span style=color:red>"+a+"</span> "),i.innerHTML=u}),a.sortTheChart()},a.sortTheChart=function(){var t=document.getElementById("allchart"),e=[];function n(a){document.querySelector("#allchart").childNodes.forEach(function(n){n.innerText&&n.innerText.split(" ")[0]==a&&(console.log("item",a,n.innerText.split(" ")[0],n),t.appendChild(n),e.push(n))})}for(var i=0;i<a.state.findlast5minMovement.length;i++)n(a.state.findlast5minMovement[i].name)},a.updateToLocalStorage=function(t){var e=new Date(t.foundAt).toLocaleString(),n=a.state.fastMovementList.filter(function(a){return a.token==t.token&&a.foundAt==e});if(console.log("isfound",n),n.length)return!1;var i={token:t.token,foundAt:e,ltp:t.ltp,symbol:t.symbol,nc:t.perChange.toFixed(2),orderType:t.orderType};return a.state.fastMovementList.push(i),localStorage.setItem("fastMovementList",JSON.stringify(a.state.fastMovementList)),!0},a.find10MinBBBlast=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(document.getElementById("allchart")&&(document.getElementById("allchart").innerHTML=""),a.setState({findlast5minMovementUpdate:"",findlast5minMovement:[]}),e=a.state.staticData[a.state.selectedWatchlist],"gainerList"==a.state.selectedWatchlist&&(e=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))),"looserList"==a.state.selectedWatchlist&&(e=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))),"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({totalStockToWatch:e&&e.length}),!e||!e.length){t.next=17;break}n=it.a.mark(function t(n){var i,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({findlast5minMovementUpdate:n+1+". "+e[n].symbol+" At "+(new Date).toLocaleTimeString()}),i="YYYY-MM-DD HH:mm",ce("9:15am","h:mma").format(i),o=a.getTimeFrameValue(a.state.timeFrame),ce.duration("1000:00:00"),r=ce(new Date).subtract(o),l={exchange:e[n].exch_seg,symboltoken:e[n].token,interval:a.state.timeFrame,fromdate:ce(r).format(i),todate:ce(new Date).format(i)},O.getHistoryData(l).then(function(t){var i=z(t,"noPop");if(i&&i.data&&i.data.length){var r=i.data,l=[],o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[];r.forEach(function(t,e){l.push([t[0],t[1],t[2],t[3],t[4]]),o.push([t[5],(t[2]+t[3]+t[4])/3]),s.push(t[4]),c.push(t[2]),m.push(t[3]),u.push(t[3]),v.push(t[5]),g.push((t[2]+t[3]+t[4])/3),d.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});Me.a.calculate({period:20,values:s});var h={values:s,period:14},p=me.a.calculate(h),f={open:u,high:c,low:m,close:s,volume:v},y={period:20,values:g,stdDev:2},b=ue.a.calculate(y),S=(o=In.a.calculate(f),b[b.length-1]);S&&(S.upper=S.upper.toFixed(2),S.middle=S.middle.toFixed(2),S.lower=S.lower.toFixed(2));var E=r.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),k={exchange:"NSE",tradingsymbol:e[n].symbol,symboltoken:e[n].token};O.getLTP(k).then(function(t){var i=z(t,"noPop"),s=i&&i.data;if(s&&s.ltp){var c={symbol:e[n].symbol,token:e[n].token,RSIValue:p[p.length-1],RSI:p.slice(Math.max(p.length-8,1)),valumeData:v.slice(Math.max(v.length-8,1)),VWAP:o[o.length-1],BB:S,candleChartData:l,foundAt:r&&new Date(r[r.length-1][0]).toLocaleString(),name:e[n].name,lightChartData:E,volumeSeriesData:d};c.perChange=(100*(s.ltp-s.close)/s.close).toFixed(2),c.ltp=s.ltp,a.setState({findlast5minMovement:[].concat(Object(rt.a)(a.state.findlast5minMovement),[c])},function(){this.state.findlast5minMovement&&this.state.findlast5minMovement.sort(function(t,e){return e.perChange-t.perChange}),this.createMultpleChart(c)})}})}else console.log(e[n].symbol,"  emply candle found")}),t.next=10,new Promise(function(t){return setTimeout(t,600)});case 10:case"end":return t.stop()}},t)}),i=0;case 10:if(!(i<e.length)){t.next=15;break}return t.delegateYield(n(i),"t0",12);case 12:i++,t.next=10;break;case 15:t.next=18;break;case 17:q.showError("No Stock Found");case 18:case"end":return t.stop()}},t)})),a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.handleClick=function(t,e,n){if(console.log(t),t.token&&t.symbol){if("BUY"==e){a.setState(Object(f.a)({},n,!0));var i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};console.log(i),de.historyWiseOrderPlace(i,"BUY","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}if("SELL"==e){a.setState(Object(f.a)({},n,!0));i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};console.log(i),de.historyWiseOrderPlace(i,"SELL","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}}else q.showError(" Symbol Not found!!!")},a.state={staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:localStorage.getItem("clickedIndexName")?localStorage.getItem("clickedIndexName"):"NIFTY BANK",totalStockToWatch:0,chartSize:300,timeFrame:"FIFTEEN_MINUTE",chartStaticData:[],BBBlastType:"BBStrongBreakout",qtyToTake:"",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],findlast5minMovement:[],gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentWillUnmount",value:function(){}},{key:"shouldComponentUpdate",value:function(t,e,a){return t}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,"#/index-charts"===window.location.hash?i.a.createElement(be,null):"",i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"\xa0 ",this.state.selectedWatchlist," Stocks (",this.state.findlast5minMovement&&this.state.findlast5minMovement.length,")",i.a.createElement("span",{id:"stockTesting",style:{fontSize:"18px",color:"gray"}}," ",this.state.findlast5minMovementUpdate," "))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:_n.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Chart Size"),i.a.createElement(Oe.a,{value:this.state.chartSize,name:"chartSize",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:250},"250px"),i.a.createElement(De.a,{value:300},"300px"),i.a.createElement(De.a,{value:350},"350px"),i.a.createElement(De.a,{value:450},"450px"),i.a.createElement(De.a,{value:550},"550px"),i.a.createElement(De.a,{value:650},"650px")))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:_n.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"gainerList"},"Gainer List ("+this.state.gainerList.length+")"),i.a.createElement(De.a,{value:"looserList"},"Looser List ("+this.state.looserList.length+")"),i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:_n.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.find10MinBBBlast()}},"Start"),i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.stopSearching()}},"Stop"))),i.a.createElement(F.a,{container:!0,spacing:2,style:{padding:"10px"},id:"allchart"}))}}]),e}(i.a.Component),_n={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Jn=Wn,Un=(Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a)),Vn=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function qn(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=i.a.useState({data:[],candledata:{}}),o=Object(X.a)(l,2),s=(o[0],o[1],function(){r(!1)});return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"showCandleChart",color:"primary",style:{display:"visible"},onClick:function(){r(!0)}},"Add to OW"),i.a.createElement(Jt.a,{onClose:s,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Un,{dividers:!0,id:"chart"},i.a.createElement(ga,null)),i.a.createElement(Vn,null,i.a.createElement(M.a,{autoFocus:!0,onClick:s,color:"primary"},"Close"))))}var zn=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=Object(lt.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.document.title="Index Charts",e=a.state.staticData[a.state.selectedWatchlist],a.setState({totalStockToWatch:e&&e.length}),ce("9:15am","h:mma"),ce("3:30pm","h:mma"),5,ce(new Date,"h:mma"),ce().isoWeekday(),a.getUpdateIndexData();case 9:case"end":return t.stop()}},t)})),a.stopSearching=function(){clearInterval(a.state.strongChartListInterval),clearInterval(a.state.stop10bbSearch),a.setState({stopChart:!0})},a.showCandleChart=function(t,e,a,n){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n.toFixed(2)),document.getElementById("showCandleChart").click()},a.onChangeWatchlist=function(t){clearInterval(a.state.strongChartListInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.findStrongCharts()})},a.onChangeQty=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"200:00:00";case"FIVE_MINUTE":return"1000:00:00";case"TEN_MINUTE":return"1500:00:00";case"FIFTEEN_MINUTE":return"2160:00:00";case"THIRTY_MINUTE":return"4320:00:00";case"ONE_HOUR":return"8320:00:00";case"ONE_DAY":return"15000:00:00"}},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.getRSIBBString=function(t){var e="";return t.BB&&(t.ltp>=t.BB.upper?e+='<span style="color:green">BBupr:'+t.BB.upper+"</span>":e+='<span style="color:red">BBupr:'+t.BB.upper+"</span>",t.ltp<=t.BB.lower?e+=' <span style="color:green">BBlwr:'+t.BB.lower+"</span>":e+=' <span style="color:red">BBlwr:'+t.BB.lower+"</span>"),e+="<br/>RSI:",t.RSI.forEach(function(t){e+=t>=60?' <span style="color:green">'+t+"</span>":t>=40&&t<=59?' <span style="color:black">'+t+"</span>":' <span style="color:red">'+t+"</span>"}),e},a.createMultpleChart=function(t){var e=document.createElement("div");e.style.display="block",e.style.padding="10px",e.style.marginLeft="10px",e.style.marginTop="10px",e.style.border="2px solid "+de.getPercentageColor(t.perChange);var n=document.createElement("div");e.appendChild(n),n.style.display="block",n.style.left="3px",n.style.top="3px",t.perChange>0?n.style.color="green":n.style.color="red";var i=t.name+" "+t.ltp+" (<b>"+t.perChange+'%</b>)  &nbsp;&nbsp; <b title="previous volume broken count" >VBC:  '+t.candleVolBrokenCount+" </b><br />";i+='<span style="color:black">Emotions: </span> ',t.strongPer&&(t.strongPer>=75?i+='<span style="color:green"><b>Buying :'+t.strongPer.toFixed(2)+"%</b></span>":i+='<span  style="color:black">Buying:'+t.strongPer.toFixed(2)+"% </span>"),t.strongPer&&(t.strongPer<=25?i+='<span style="color:red"><b> Selling :'+(100-t.strongPer).toFixed(2)+"%</b></span>":i+='<span  style="color:black"> Selling:'+(100-t.strongPer).toFixed(2)+"%</span>"),i+="<br />",n.innerHTML=i;var r=document.createElement("div");e.appendChild(r),r.style.fontSize="10px";var l=Object(Ie.a)(e,{width:a.state.chartSize,height:a.state.chartSize,timeVisible:!0,secondsVisible:!0});l.addCandlestickSeries({upColor:"green",downColor:"red",borderDownColor:"red",borderUpColor:"green",wickDownColor:"red",wickUpColor:"green"}).setData(t.lightChartData);var o=a.calculateSMA(t.lightChartData,20);l.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}).setData(o),l.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}}).setData(t.volumeSeriesData);n=document.createElement("div");e.append(n),n.style.display="block",n.innerHTML=a.getRSIBBString(t),document.getElementById("allchart")&&document.getElementById("allchart").append(e),l.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,l=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var m=s.value;"object"==typeof m[1]?(a+=" O: <b>"+m[1].open+"</b>",a+=" H: <b>"+m[1].high+"</b>",a+=" L: <b>"+m[1].low+"</b>",a+=" C: <b>"+m[1].close+"</b>",a+=" CH: <b>"+(n=100*(m[1].close-m[1].open)/m[1].open).toFixed(2)+"%</b><br />"):a+=" "+m[1].toFixed(2)+" "}}catch(v){l=!0,o=v}finally{try{i||null==c.return||c.return()}finally{if(l)throw o}}t.time&&(a+=" Time:<b> "+ce(t.time).format("DD-MM-YYYY hh:mm A")+"</b>");var u="<span style=color:green>"+a+"</span> ";n<0&&(u="<span style=color:red>"+a+"</span> "),r.innerHTML=u})},a.sortTheChart=function(){var t=document.getElementById("allchart"),e=[];function n(a){document.querySelector("#allchart").childNodes.forEach(function(n){n.innerText&&n.innerText.split(" ")[0]==a&&(t.appendChild(n),e.push(n))})}for(var i=0;i<a.state.strongChartList.length;i++)n(a.state.strongChartList[i].name)},a.shortByVolume=function(t,e){a.state.strongChartList.sort(function(a,n){return"selling"===e?a[t]-n[t]:n[t]-a[t]}),a.setState({strongChartList:a.state.strongChartList,sortBy:t},function(){document.getElementById("allchart")&&(document.getElementById("allchart").innerHTML="");for(var t=0;t<this.state.strongChartList.length;t++){var e=this.state.strongChartList[t];this.createMultpleChart(e)}}),"strongPer"===t&&"selling"===e?a.setState({sortBy:"Selling%"}):"strongPer"===t&&a.setState({sortBy:"Buying%"}),a.setState({filterByCount:a.state.strongChartList.length+" Stocks Found"})},a.getUpdateIndexData=function(){a.setState({softedIndexList:[]}),O.allIndicesDirectJSON().then(function(t){if(t.data){var e=t.data&&t.data.data;e.sort(function(t,e){return e.percChange-t.percChange});for(var n=0;n<e.length;n++){var i=e[n];a.state.sluglist[i.indexName]&&a.setState({softedIndexList:[].concat(Object(rt.a)(a.state.softedIndexList),[i])},function(){})}a.findStrongCharts()}}).catch(function(t){}).finally(function(t){})},a.filterByVolumePrice=function(t){document.getElementById("allchart")&&(document.getElementById("allchart").innerHTML="");for(var e=[],n=0;n<a.state.strongChartList.length;n++){var i=a.state.strongChartList[n],r=i.candleChartData;if(i.candleChartData.length>=1){var l=r[r.length-1];if(l)var o=100*(l[4]-l[1])/l[1];var s=r[r.length-2];if(s)var c=100*(s[4]-s[1])/s[1];"Buy V+P"===t&&(console.log("Buy V+P section"),i.candleVolBrokenCount>9&&o>=.5&&(e.push(i),console.log(i.name,i.candleVolBrokenCount,o,c))),"Sell V+P"===t&&(console.log("Sell V+P section",o),i.candleVolBrokenCount>9&&o<=-.5&&(e.push(i),console.log(i.name,t,i.candleVolBrokenCount,o,c)))}}console.log("filteredList",e);for(var m=0;m<e.length;m++){var u=e[m];a.createMultpleChart(u)}a.setState({filterBy:t,filterByCount:e.length+" Stocks Found"})},a.updateToLocalStorage=function(t){var e=new Date(t.foundAt).toLocaleString();if(a.state.fastMovementList.filter(function(a){return a.token==t.token&&a.foundAt==e}).length)return!1;var n={token:t.token,foundAt:e,ltp:t.ltp,symbol:t.symbol,nc:t.perChange.toFixed(2),orderType:t.orderType};return a.state.fastMovementList.push(n),localStorage.setItem("fastMovementList",JSON.stringify(a.state.fastMovementList)),!0},a.findStrongCharts=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(document.getElementById("allchart")&&(document.getElementById("allchart").innerHTML=""),a.setState({strongChartListUpdate:"",strongChartList:[]}),e=a.state.staticData[a.state.selectedWatchlist],"gainerList"==a.state.selectedWatchlist&&(e=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))),"looserList"==a.state.selectedWatchlist&&(e=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))),"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({totalStockToWatch:e&&e.length,stopChart:!1}),console.log("select wathlist",e),!e||!e.length){t.next=21;break}n=it.a.mark(function t(n){var i,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({strongChartListUpdate:n+1+". "+e[n].symbol+" At "+(new Date).toLocaleTimeString()}),i="YYYY-MM-DD HH:mm",ce("9:15am","h:mma").format(i),o=a.getTimeFrameValue(a.state.timeFrame),ce.duration("1000:00:00"),r=ce(new Date).subtract(o),!a.state.stopChart){t.next=8;break}return t.abrupt("return","break");case 8:return l={exchange:e[n].exch_seg,symboltoken:e[n].token,interval:a.state.timeFrame,fromdate:ce(r).format(i),todate:ce(new Date).format(i)},O.getHistoryData(l).then(function(t){var i=z(t,"noPop");if(i&&i.data&&i.data.length){var r=i.data,l=[],o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=r[r.length-1],p=(h[4],h[1],h[1],h[2]-h[3]),f=100*(h[4]-h[3])/p;r.forEach(function(t,e){l.push([t[0],t[1],t[2],t[3],t[4]]),o.push([t[5],(t[2]+t[3]+t[4])/3]),s.push(t[4]),c.push(t[2]),m.push(t[3]),u.push(t[3]),v.push(t[5]),g.push((t[2]+t[3]+t[4])/3),d.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});Me.a.calculate({period:20,values:s});var y={values:s,period:14},b=me.a.calculate(y),S={open:u,high:c,low:m,close:s,volume:v},E={period:20,values:g,stdDev:2},k=ue.a.calculate(E),C=(o=In.a.calculate(S),k[k.length-1]);C&&(C.upper=C.upper.toFixed(2),C.middle=C.middle.toFixed(2),C.lower=C.lower.toFixed(2));var T=r.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),L=0,w=v[v.length-1];if(v&&v.length){v.reverse();for(var x=1;x<v.length;x++){if(!(v[x]<w))break;L++}}var D={exchange:"NSE",tradingsymbol:e[n].symbol,symboltoken:e[n].token};O.getLTP(D).then(function(t){var i=z(t,"noPop"),s=i&&i.data;if(s&&s.ltp){var c={symbol:e[n].symbol,token:e[n].token,RSIValue:b[b.length-1],RSI:b.slice(Math.max(b.length-8,1)),valumeData:v.slice(Math.max(v.length-8,1)),VWAP:o[o.length-1],BB:C,candleChartData:l,foundAt:r&&new Date(r[r.length-1][0]).toLocaleString(),name:e[n].name,lightChartData:T,volumeSeriesData:d,strongPer:f,candleVolBrokenCount:L};c.perChange=(100*(s.ltp-s.close)/s.close).toFixed(2),c.ltp=s.ltp;var m=a.state.sortBy;a.setState({strongChartList:[].concat(Object(rt.a)(a.state.strongChartList),[c])},function(){this.state.strongChartList&&this.state.strongChartList.sort(function(t,e){return e[m]-t[m]}),this.createMultpleChart(c)})}})}else console.log(e[n].symbol,"  emply candle found")}),t.next=12,new Promise(function(t){return setTimeout(t,600)});case 12:case"end":return t.stop()}},t)}),i=0;case 11:if(!(i<e.length)){t.next=19;break}return t.delegateYield(n(i),"t0",13);case 13:if("break"!==t.t0){t.next=16;break}return t.abrupt("break",19);case 16:i++,t.next=11;break;case 19:t.next=22;break;case 21:q.showError("No Stock Found");case 22:case"end":return t.stop()}},t)})),a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.handleClick=function(t,e,n){if(t.token&&t.symbol){if("BUY"==e){a.setState(Object(f.a)({},n,!0));var i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};de.historyWiseOrderPlace(i,"BUY","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}if("SELL"==e){a.setState(Object(f.a)({},n,!0));i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};de.historyWiseOrderPlace(i,"SELL","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}}else q.showError(" Symbol Not found!!!")},a.state={staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:localStorage.getItem("clickedIndexName")?localStorage.getItem("clickedIndexName"):"NIFTY BANK",totalStockToWatch:0,chartSize:300,timeFrame:"FIVE_MINUTE",chartStaticData:[],BBBlastType:"BBStrongBreakout",qtyToTake:"",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],strongChartList:[],gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[],sortBy:"perChange",softedIndexList:[],sluglist:{"NIFTY 50":"nifty","NIFTY AUTO":"cnxAuto","NIFTY BANK":"bankNifty","NIFTY ENERGY":"cnxEnergy","NIFTY FIN SERVICE":"cnxFinance","NIFTY FMCG":"cnxFMCG","NIFTY IT":"cnxit","NIFTY MEDIA":"cnxMedia","NIFTY METAL":"cnxMetal","NIFTY PHARMA":"cnxPharma","NIFTY PSU BANK":"cnxPSU","NIFTY REALTY":"cnxRealty","NIFTY PVT BANK":"niftyPvtBank","NIFTY CONSUMPTION":"cnxConsumption","NIFTY CPSE":"cpse","NIFTY INFRA":"cnxInfra","NIFTY MNC":"cnxMNC","NIFTY PSE":"cnxPSE"}},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentWillUnmount",value:function(){}},{key:"shouldComponentUpdate",value:function(t,e,a){return t}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:5},i.a.createElement(R.a,{color:"primary"},"\xa0 ",this.state.selectedWatchlist," (",this.state.strongChartList&&this.state.strongChartList.length,") \xa0 Sorted: ",i.a.createElement("span",{style:{color:"blue"}},this.state.sortBy," "),"\xa0 Filter: ",i.a.createElement("span",{style:{color:"blue"}},this.state.filterBy," "),i.a.createElement("span",{id:"stockTesting",style:{color:"gray"}}," ",this.state.strongChartListUpdate," ")),i.a.createElement(M.a,{style:{marginRight:"20px"},onClick:function(){return t.shortByVolume("perChange")}},"Chng%"),i.a.createElement(M.a,{title:"previous volume broken count",style:{marginRight:"20px"},onClick:function(){return t.shortByVolume("candleVolBrokenCount")}},"VBC"),i.a.createElement(M.a,{title:"Emotions: Buying%",style:{marginRight:"20px"},onClick:function(){return t.shortByVolume("strongPer")}},"Buying%"),i.a.createElement(M.a,{title:"Emotions: Selling%",style:{marginRight:"20px"},onClick:function(){return t.shortByVolume("strongPer","selling")}},"Selling%"),i.a.createElement(M.a,{title:" 9 or more candles volume with price >= 0.3 breakout ",style:{marginRight:"20px"},onClick:function(){return t.filterByVolumePrice("Buy V+P")}},"Buy V+P"),i.a.createElement(M.a,{title:" 9 or more candles volume with price <= -0.3 breakout ",style:{marginRight:"20px"},onClick:function(){return t.filterByVolumePrice("Sell V+P")}},"Sell V+P"),i.a.createElement("span",{style:{fontStyle:"italic",fontSize:"smaller",color:"gray"}},this.state.filterByCount)),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(qn,null)),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:Qn.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Chart Size"),i.a.createElement(Oe.a,{value:this.state.chartSize,name:"chartSize",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:250},"250px"),i.a.createElement(De.a,{value:300},"300px"),i.a.createElement(De.a,{value:350},"350px"),i.a.createElement(De.a,{value:450},"450px"),i.a.createElement(De.a,{value:550},"550px"),i.a.createElement(De.a,{value:650},"650px")))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Qn.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"gainerList"},"Gainer List ("+this.state.gainerList.length+")"),i.a.createElement(De.a,{value:"looserList"},"Looser List ("+this.state.looserList.length+")"),this.state.softedIndexList&&this.state.softedIndexList.map(function(t){return i.a.createElement(De.a,{style:{color:t.percChange>0?"green":"red"},value:t.indexName},t.indexName," (",t.percChange,"%)")}),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)}),i.a.createElement(De.a,{value:"Securities in F&O"},"Securities in F&O")))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:Qn.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.getUpdateIndexData()}},"Start"),i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.stopSearching()}},"Stop"))),i.a.createElement(F.a,{container:!0,spacing:2,style:{padding:"10px"},id:"allchart"}))}}]),e}(i.a.Component),Qn={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Kn=zn,Gn=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),Xn=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),Zn=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function $n(t){var e=i.a.useState(!1),a=Object(X.a)(e,2),n=a[0],r=a[1],l=i.a.useState({data:[],candledata:{}}),o=Object(X.a)(l,2),s=(o[0],o[1],function(){r(!1)});return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"fullModelId",color:"primary",onClick:function(){r(!0)}},"Chart"),i.a.createElement(Jt.a,{fullScreen:!0,onClose:s,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Gn,{id:"customized-dialog-title",onClose:s,onClick:s},i.a.createElement(M.a,{fullWidth:!0,autoFocus:!0,onClick:s,color:"primary"},localStorage.getItem("clickedIndexName")," ",localStorage.getItem("clickedIndexType"))),i.a.createElement(Xn,{dividers:!0,id:"chart"},i.a.createElement(Kn,null)),i.a.createElement(Zn,null,i.a.createElement(M.a,{autoFocus:!0,onClick:s,color:"primary"},"Close"))))}var ti=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),ei=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){O.retrieveOrderBook().then(function(t){var e=z(t,"noPop");if(e&&e.data){var a=e.data;a.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),localStorage.setItem("oderbookData",JSON.stringify(a))}})},a.updateTokenSymbol=function(t){t=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[];for(var e=function(e){var a=t[e];a.token||a.symbol||O.autoCompleteSearch(a.name).then(function(e){var n=e.data;if(n.length){var i=a.name.toUpperCase()+"-EQ",r=a.name.toUpperCase()+"-BE",l=n.filter(function(t){return t.name===a.name&&(t.symbol===i||t.symbol===r)});l.length&&(a.symbol=l[0].symbol,a.token=l[0].token,a.exch_seg=l[0].exch_seg,localStorage.setItem("gainerList",JSON.stringify(t)))}})},a=0;a<t.length;a++)e(a);var n=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[],i=function(t){var e=n[t];e.token||e.symbol||O.autoCompleteSearch(e.name).then(function(t){var a=t.data;if(a.length){var i=e.name.toUpperCase()+"-EQ",r=e.name.toUpperCase()+"-BE",l=a.filter(function(t){return t.name===e.name&&(t.symbol===i||t.symbol===r)});l.length&&(e.symbol=l[0].symbol,e.token=l[0].token,e.exch_seg=l[0].exch_seg,localStorage.setItem("looserList",JSON.stringify(n)))}})};for(a=0;a<n.length;a++)i(a)},a.updateLTPMannually=function(t){var e=a.state.staticData[t];a.refreshSectorLtp(e,t)},a.refreshSectorLtp=function(){var t=Object(lt.a)(it.a.mark(function t(e,n){var i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({stockUpdate:n}),a.setState({refreshFlag:!1,failedCount:0}),i=[],a.state.sectorStockList,r=it.a.mark(function t(n){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={exchange:"NSE",tradingsymbol:e[n].symbol,symboltoken:e[n].token},O.getLTP(o).then(function(t){var a=z(t,"noPop"),r=a&&a.data;if(r.symboltoken==e[n].token){var l=100*(r.ltp-r.close)/r.close,o=e[n];o.ltp=r.ltp,o.nc=l,o.cng=r.ltp-r.close,o.ltt=(new Date).toLocaleString(),i.push(o)}}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),console.log(e[n].symbol,t)}),t.next=4,new Promise(function(t){return setTimeout(t,101)});case 4:case"end":return t.stop()}},t)}),l=0;case 6:if(!(l<e.length)){t.next=11;break}return t.delegateYield(r(l),"t0",8);case 8:l++,t.next=6;break;case 11:n&&a.state.sectorList.forEach(function(t,e){if(t.index==n)return a.state.sectorList[e].stockList=i,a.state.sectorList[e].isStocksLtpUpdted=!0,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlag:!0});case 13:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),a.checkLast5MinMovement=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.staticData[e],a.setState({refreshFlagCandle:!1}),console.log("sectorStockList",e),i=it.a.mark(function t(e){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ce("9:15am","h:mma"),l=ce.duration("00:06:00"),o=ce(new Date).subtract(l),s={exchange:"NSE",symboltoken:n[e].token,interval:"ONE_MINUTE",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:e+1+". "+n&&n[e].symbol}),O.getHistoryData(s).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){console.log(n[e].symbol,"candle history",a.data);var i=a.data,r=[],l=[],o=[],s=[],c=[],m=[],u=[];i.forEach(function(t,e){r.push([t[0],t[1],t[2],t[3],t[4]]),l.push([t[5],(t[2]+t[3]+t[4])/3]),o.push(t[4]),s.push(t[2]),c.push(t[3]),m.push(t[3]),u.push(t[5])}),console.log(n[e].symbol,n[e])}else console.log(n[e].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(n[e].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<n.length)){t.next=10;break}return t.delegateYield(i(r),"t0",7);case 7:r++,t.next=5;break;case 10:e&&a.state.sectorList.forEach(function(t,i){if(t.index==e)return a.state.sectorList[i].stockList=n,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlagCandle:!0}),console.log("sectorStockswithcandle",n);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.refreshSectorCandleManually=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.staticData[e],a.setState({refreshFlagCandle:!1}),console.log("sectorStockList",e),i=it.a.mark(function t(e){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ce("9:15am","h:mma"),l=ce.duration("22:00:00"),o=ce(new Date).subtract(l),s={exchange:"NSE",symboltoken:n[e].token,interval:"FIFTEEN_MINUTE",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:e+1+". "+n&&n[e].symbol}),O.getHistoryData(s).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var i=a.data,r=[],l=[],o=[],s=[],c=[],m=[],u=[],v=[];i.forEach(function(t,e){r.push([t[0],t[1],t[2],t[3],t[4]]),l.push([t[5],(t[2]+t[3]+t[4])/3]),o.push(t[4]),s.push(t[2]),c.push(t[3]),m.push(t[3]),u.push(t[5]),v.push((t[2]+t[3]+t[4])/3)});var g={values:o,period:14},d=me.a.calculate(g);console.log(n[e].symbol,"lastRsiValue",d[d.length-1]);var h={open:m,high:s,low:c,close:o,volume:u},p={period:20,values:v,stdDev:2},f=ue.a.calculate(p);console.log(n[e].symbol,"BB",p,f),i.length>0&&(n[e].candleChartData=r,n[e].vwapValue=ge()(l),n[e].vwapDataChart=In.a.calculate(h),n[e].lastRsiValue=d[d.length-1]),console.log(n[e].symbol,n[e])}else console.log(n[e].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(n[e].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<n.length)){t.next=10;break}return t.delegateYield(i(r),"t0",7);case 7:r++,t.next=5;break;case 10:e&&a.state.sectorList.forEach(function(t,i){if(t.index==e)return a.state.sectorList[i].stockList=n,void a.setState({sectorList:a.state.sectorList})}),a.setState({refreshFlagCandle:!0}),console.log("sectorStockswithcandle",n);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.refreshSectorCandle=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({refreshFlagCandle:!1}),e=a.state.sectorStockList,console.log("sectorStockList",a.state.sectorStockList.length),n=it.a.mark(function t(n){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ce("9:15am","h:mma"),l=ce.duration("61:00:00"),ce(new Date).subtract(l),o={exchange:"NSE",symboltoken:a.state.sectorStockList[n].token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},a.setState({stockCandleUpdate:n+1+". "+a.state.sectorStockList&&a.state.sectorStockList[n].symbol}),O.getHistoryData(o).then(function(t){var i=z(t,"noPop");if(i&&i.data&&i.data.length){var r=i.data,l=[];if(r.forEach(function(t){l.push([t[0],t[1],t[2],t[3],t[4]])}),r.length>0){e[n].candleChartData=l;var o=a.state.sectorList;a.state.sectorList&&a.state.sectorList.forEach(function(t,a){t.stockList&&t.stockList.forEach(function(t,n){var i=e.filter(function(e){return e.token==t.token});i.length&&(o[a].stockList[n].candleChartData=i[0].candleChartData)})}),a.setState({sectorList:o}),localStorage.setItem("sectorList",JSON.stringify(o))}}else console.log(a.state.sectorStockList[n].symbol,"  emply candle found")}).catch(function(t){a.setState({failedCount:a.state.failedCount+1}),q.showError(a.state.sectorStockList[n].symbol+" candle failed!")}),t.next=8,new Promise(function(t){return setTimeout(t,350)});case 8:case"end":return t.stop()}},t)}),i=0;case 5:if(!(i<a.state.sectorStockList.length)){t.next=10;break}return t.delegateYield(n(i),"t0",7);case 7:i++,t.next=5;break;case 10:a.setState({refreshFlagCandle:!0});case 11:case"end":return t.stop()}},t)})),a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.showCandleChart=function(t,e,a,n,i){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n),localStorage.setItem("vwapDataChart",i),t&&t.length>0&&document.getElementById("showCandleChart").click()},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return(new Date).toLocaleTimeString()<"10:05:00"?"19:00:00":"01:00:00";case"FIVE_MINUTE":return(new Date).toLocaleTimeString()<"11:00:00"?"23:00:00":"03:00:00";case"TEN_MINUTE":return(new Date).toLocaleTimeString()<"12:35:00"?"24:21:00":"07:00:00";case"FIFTEEN_MINUTE":return(new Date).toLocaleTimeString()<"14:15:00"?"28:01:00":"10:01:00";case"THIRTY_MINUTE":return"100:01:00";case"ONE_HOUR":return"200:01:00";case"ONE_DAY":return"1000:01:00"}},a.dailyBasisInfoCheck=function(t,e){var n=a.getTimeFrameValue("ONE_DAY"),i=ce.duration(n),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(n){var i=z(n,"noPop"),r="";if(i&&i.data&&i.data.length){for(var l=i.data,o=[],s=0,c=l.length-20;c<l.length;c++){var m=l[c];m&&(o.push(m[4]),s+=m[5])}r=Me.a.calculate({period:20,values:o}),a.setState({dailyAvgValume:s/20});var u=r&&r[r.length-1];console.log(t,"DSMA",u),u&&a.setState({DailyBulishStatus:u,todayCurrentVolume:l[l.length-1][5]}),l[l.length-1][5]>s/20&&console.log("crosssed voliue",e)}})},a.showCandleChartPopUp=function(t){var e=(localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[]).filter(function(e){return e.name===t});if(e&&e.length){var n=e[0];a.dailyBasisInfoCheck(n.token);var i=ce("9:15am","h:mma"),r=(ce.duration("22:00:00"),{exchange:"NSE",symboltoken:n.token,interval:a.state.timeFrame,fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")});O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(console.log("candledata",e),e&&e.data){(f=e.data).map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}});var i=[],r=[],l=[],o=[],s=[],c=[],m=[],u=[],v=[];f.forEach(function(t,e){i.push([t[0],t[1],t[2],t[3],t[4]]),r.push([t[5],(t[2]+t[3]+t[4])/3]),l.push(t[4]),o.push(t[2]),s.push(t[3]),c.push(t[3]),m.push(t[5]),u.push((t[2]+t[3]+t[4])/3),v.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var g={period:20,values:u,stdDev:2},d=ue.a.calculate(g);console.log(n.symbol,"Bolinger band",g,d);d=ue.a.calculate(g);console.log(n.symbol,"Bolinger band",g,d);var h={values:l,period:14},p=me.a.calculate(h);console.log(n.symbol,"Rsi",h,p),console.log(n.symbol,"vwap",r,ge()(r));var f={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token};O.getLTP(f).then(function(t){var e=z(t,"noPop"),r=e&&e.data;r.change=100*(r.ltp-r.close)/r.close,a.showCandleChart(i,n.symbol,r.ltp,r.change)})}})}},a.updateSocketWatch=function(){var t=[];if(a.state.sectorList.forEach(function(e){e.percentChange>=.75&&e.stockList&&e.stockList.forEach(function(e){t.push("nse_cm|"+e.token)})}),t&&t.length){var e={task:"mw",channel:t.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};console.log("update watch channel",e),ti.send(JSON.stringify(e))}},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.get2DecimalNumber=function(t){return t?t.toFixed(2):t},a.switchToListView=function(){a.setState({switchToListViewFlag:!a.state.switchToListViewFlag})},a.get5DaysMoveCount=function(t){var e=a.state.slowMotionStockList.filter(function(e){return e.name===t});return e.length?"SM: "+e[0].bigCandleCount:""},a.getDeliveryInfo=function(t){O.getDeliveryData(t).then(function(t){if(t&&t.data&&t.data.length)return"D2T%: "+t.data[0].deliveryToTradedQuantity})},a.showDeliveryData=function(t){localStorage.setItem("clickedIndexName",t),localStorage.setItem("clickedIndexType","Depth"),document.getElementById("fullModelId").click()},a.showAllChart=function(t){localStorage.setItem("clickedIndexName",t),localStorage.setItem("clickedIndexType","Charts"),document.getElementById("fullModelId").click()},a.state={sluglist:{"NIFTY 50":"nifty","NIFTY AUTO":"cnxAuto","NIFTY BANK":"bankNifty","NIFTY ENERGY":"cnxEnergy","NIFTY FIN SERVICE":"cnxFinance","NIFTY FMCG":"cnxFMCG","NIFTY IT":"cnxit","NIFTY MEDIA":"cnxMedia","NIFTY METAL":"cnxMetal","NIFTY PHARMA":"cnxPharma","NIFTY PSU BANK":"cnxPSU","NIFTY REALTY":"cnxRealty","NIFTY PVT BANK":"niftyPvtBank","NIFTY CONSUMPTION":"cnxConsumption","NIFTY CPSE":"cpse","NIFTY INFRA":"cnxInfra","NIFTY MNC":"cnxMNC","NIFTY PSE":"cnxPSE"},stopnview:"",indexTimeStamp:"",refreshFlag:!0,topGLCount:0,refreshFlagCandle:!0,switchToListViewFlag:!0,slowMotionStockList:localStorage.getItem("slowMotionStockList")&&JSON.parse(localStorage.getItem("slowMotionStockList"))||[],sectorStockList:localStorage.getItem("sectorStockList")&&JSON.parse(localStorage.getItem("sectorStockList"))||[],sectorList:localStorage.getItem("sectorList")&&JSON.parse(localStorage.getItem("sectorList"))||[],watchList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[],timeFrame:"FIFTEEN_MINUTE"},a.refreshSectorCandle=a.refreshSectorCandle.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Hit Map2",this.loadIndexesList();var e=localStorage.getItem("userTokens")&&JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=localStorage.getItem("userProfile")&&JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i});var r=ce("9:15am","h:mma"),l=ce("3:30pm","h:mma"),o=ce(new Date,"h:mma");ce().isoWeekday()<=5&&o.isBetween(r,l)&&(ti.onopen=function(t){},ti.onmessage=function(e){var a=window.atob(e.data),n=t.decodeWebsocketData(Ne.a.inflate(a)),i=JSON.parse(n);window.document.title="Sector Live WS: "+i.length,t.state.sectorList&&t.state.sectorList.forEach(function(e,a){e.stockList&&e.stockList.forEach(function(e,n){var r=i.filter(function(t){return t.tk==e.token});r.length>0&&r[0].ltp&&r[0].nc&&(t.state.sectorList[a].stockList[n].ltp=r[0].ltp,t.state.sectorList[a].stockList[n].nc=r[0].nc,t.state.sectorList[a].stockList[n].cng=r[0].cng,t.state.sectorList[a].stockList[n].ltt=r[0].ltt,t.state.sectorList[a].isStocksLtpUpdted=!0)})}),t.setState({sectorList:t.state.sectorList})},ti.onerror=function(t){console.log("socket error",t),window.location.reload()},setInterval(function(){t.loadIndexesList()},12e4))}},{key:"loadIndexesList",value:function(){var t=this;this.setState({indexTimeStamp:"",refreshFlag:!1,failedCount:0,topGLCount:0}),O.allIndicesDirectJSON().then(function(e){if(e.data){var a=e.data&&e.data.data;a.sort(function(t,e){return e.percChange-t.percChange}),t.setState({indexTimeStamp:a[0].timeVal});for(var n=[],i=[],r=function(e){var r=a[e];o=t.state.sluglist[r.indexName],console.log("element",o,r.percChange),o&&(console.log("secName",r.indexName,o),O.checkSectorApiOther(o).then(function(l){if(console.log(r.indexName,l.data.data),a[e].stockList=l.data&&l.data.data,a[e].time=l.data&&l.data.time,t.setState({sectorList:a}),r.percChange>=.75||"NIFTY 50"==a[e].indexName&&r.percChange>=.25)for(var o=function(t){var i=l.data.data[t];m={name:i.symbol,ltp:i.ltP,nc:i.iislPercChange,sector:a[e].indexName,foundAt:(new Date).toLocaleString()};var r=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[];u=r.filter(function(t){return t.name==i.symbol}),console.log(i.symbol,u),u.length||(n.push(m),localStorage.setItem("gainerList",JSON.stringify(n)))},s=0;s<l.data.data.length-3;s++){o(s)}if(r.percChange<=-.75||"NIFTY 50"==a[e].indexName&&r.percChange<=-.25){l.data.data.reverse();var c=function(t){var n=l.data.data[t];m={name:n.symbol,ltp:n.ltP,nc:n.iislPercChange,sector:a[e].indexName,foundAt:(new Date).toLocaleString()};var r=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[];u=r.filter(function(t){return t.name==n.symbol}),console.log("looseer",n.symbol,u),u.length||(i.push(m),localStorage.setItem("looserList",JSON.stringify(i)))};for(s=0;s<l.data.data.length-5;s++){var m,u;c(s)}}}).catch(function(t){console.log("list fetch error",t)}))},l=0;l<a.length;l++){var o;r(l)}}}).catch(function(t){}).finally(function(e){setTimeout(function(){t.updateTokenSymbol("ok")},5e3)}),this.setState({refreshFlag:!0})}},{key:"render",value:function(){var t=this,e=ce("9:15am","h:mma"),a=ce("03:30pm","h:mma");return ce(new Date,"h:mma").isBetween(e,a)&&this.state.sectorList&&this.state.sectorList.forEach(function(e,a){e.percentChange>.75&&e.isStocksLtpUpdted&&e.stockList&&e.stockList.forEach(function(e,a){if(a<2){var n=localStorage.getItem("autoTradeTopList")&&JSON.parse(localStorage.getItem("autoTradeTopList"))||[];n.filter(function(t){return t.token===e.token}).length||(e.foundAt=(new Date).toLocaleString(),n.push(e),localStorage.setItem("autoTradeTopList",JSON.stringify(n)),console.log(e.name+" is on top  "+(a+1)+(new Date).toLocaleString()),t.speckIt(e.name+" is on top  "+(a+1)))}})}),i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement($n,{indexName:this.state.clickedIndexName}),i.a.createElement(Yn,{LightChartData:{InstrumentLTP:this.state.InstrumentLTP,DailyBulishStatus:this.state.DailyBulishStatus,todayCurrentVolume:this.state.todayCurrentVolume,selectedSymbol:this.state.selectedSymbol,chartStaticData:this.state.chartStaticData,bblastValue:this.state.bblastValue,vwapvalue:this.state.vwapvalue,rsiValues:this.state.rsiValues,valumeData:this.state.valumeData}}),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1,style:{paddingLeft:"5px",paddingRight:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary"},"Sectors HitMap (",Object.keys(this.state.sluglist).length,") at ",this.state.indexTimeStamp,"\xa0",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.loadIndexesList()}},"Refresh"),"\xa0",i.a.createElement(M.a,{onClick:function(){return t.switchToListView()}},"switch to list view"))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:{minWidth:"100%"}},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),!this.state.switchToListViewFlag&&this.state.sectorList?this.state.sectorList.map(function(e,a){return e.stockList?i.a.createElement(F.a,{item:!0,xs:12,sm:3},i.a.createElement(Te.a,{style:{padding:"10px",background:"lightgray",textAlign:"center"}},i.a.createElement(R.a,{variant:"body1"},i.a.createElement("b",null," ",a+1,". ",e.index||e.indexName+" "+e.last,"(",e.percentChange||e.percChange,"%)")," \xa0 ",e.time.substr(13,8)),i.a.createElement(F.a,{direction:"row",container:!0,className:"flexGrow",spacing:1},e.stockList&&e.stockList.map(function(e,a){return i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(Te.a,{style:{textAlign:"center"}},i.a.createElement(R.a,{style:{background:t.getPercentageColor(e.iislPercChange),fontSize:"14px"}},a+1,". ",e.symbol," ",e.ltP," (",e.iislPercChange,"%)"),e.candleChartData?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t.showCandleChart(e.candleChartData,e.name,e.ltp,e.nc,e.vwapDataChart)}},i.a.createElement(ae,{candleChartData:e.candleChartData,percentChange:e.nc,vwapDataChart:e.vwapDataChart})):"",e.vwapValue?i.a.createElement(R.a,null,e.vwapValue?i.a.createElement("span",{style:{background:e.ltp>e.vwapValue?"#00ff00":"red",fontSize:"14px"}},"VWAP:",i.a.createElement("b",null,e.vwapValue&&e.vwapValue.toFixed(2))," "):"","\xa0",e.lastRsiValue?i.a.createElement("span",{title:"OB means 'Overbought'",style:{background:e.lastRsiValue>=60?"#00ff00":e.lastRsiValue>=40&&e.lastRsiValue<60?"lightgray":"red",fontSize:"14px"}},"RSI:",i.a.createElement("b",null,e.lastRsiValue)," ",e.lastRsiValue>80?"OB":e.lastRsiValue>=60&&e.lastRsiValue<=80?"Buy":e.lastRsiValue>=40&&e.lastRsiValue<60?"NoTrade":"Sell"," "):""):""))})))):""}):"",i.a.createElement(Kt.a,{id:"tabledata","aria-label":"a dense table",stickyHeader:!0,size:"small"},i.a.createElement(Zt.a,{hover:!0,style:{whiteSpace:"nowrap"}},this.state.switchToListViewFlag&&this.state.sectorList?this.state.sectorList.map(function(e,a){return e.stockList?i.a.createElement(Gt.a,{hover:!0,key:a},i.a.createElement(Xt.a,{style:{background:"#0068ff45"}},i.a.createElement(M.a,{style:{background:t.getPercentageColor(e.percChange)},variant:"contained",onClick:function(){return t.showAllChart(e.indexName)}},e.indexName+" "+e.last,"(",e.percChange,"%)",i.a.createElement(Pt.a,null)),"\xa0",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.showDeliveryData(e.indexName)}},"Depth")),e.stockList&&e.stockList.map(function(e,a){return i.a.createElement(Xt.a,{style:{textAlign:"left"}},i.a.createElement(M.a,{onClick:function(){return t.showCandleChartPopUp(e.symbol)}},i.a.createElement("span",{style:{background:t.getPercentageColor(e.iislPercChange)}},"  ",i.a.createElement("b",null,a+1,".")," ",e.symbol," ",e.ltP," (",e.iislPercChange,"%) "),i.a.createElement("span",{title:"last 5 days 5min big movement  maximum count"},"\xa0",t.get5DaysMoveCount(e.symbol),"  ")))})):""}):""))))}}]),e}(i.a.Component),ai=Object(o.b)(function(t){return{packs:t.packs.packs.data}},{setPackLoaded:aa})(ei),ni=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).stopSearching=function(){console.log("stop the search"),clearInterval(a.state.findlast5minMovementInterval),clearInterval(a.state.stop10bbSearch)},a.onChangeQty=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.showCandleChart=function(t,e,a,n){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n.toFixed(2)),document.getElementById("showCandleChart").click()},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.onChangeWatchlist=function(t){clearInterval(a.state.findlast5minMovementInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.find10MinBBBlast()})},a.startSearching=function(){console.log("Starting the search");var t=ce("9:15am","h:mma"),e=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(t,e)){var i=6e4;a.state.totalStockToWatch>180&&(i=333*a.state.totalStockToWatch),a.setState({findlast5minMovementInterval:setInterval(function(){a.findlast5minMovement()},i)})}},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return(new Date).toLocaleTimeString()<"10:05:00"?"18:21:00":"00:21:00";case"FIVE_MINUTE":return(new Date).toLocaleTimeString()<"11:00:00"?"19:41:00":"01:41:00";case"TEN_MINUTE":return(new Date).toLocaleTimeString()<"12:35:00"?"21:21:00":"03:21:00";case"FIFTEEN_MINUTE":return(new Date).toLocaleTimeString()<"14:15:00"?"23:01:00":"05:01:00";case"THIRTY_MINUTE":return"84:01:00";case"ONE_HOUR":return"168:01:00";case"ONE_DAY":return"744:01:00"}},a.updateToLocalStorage=function(t){var e=new Date(t.foundAt).toLocaleString(),n=a.state.fastMovementList.filter(function(a){return a.token==t.token&&a.foundAt==e});if(console.log("isfound",n),!n.length){var i={token:t.token,foundAt:e,ltp:t.ltp,symbol:t.symbol,nc:t.perChange.toFixed(2),orderType:t.orderType};a.state.fastMovementList.push(i),localStorage.setItem("fastMovementList",JSON.stringify(a.state.fastMovementList))}},a.find10MinBBBlast=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({findlast5minMovementUpdate:"",findlast5minMovement:[]}),e=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({totalStockToWatch:e.length}),n=[],i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()}),r="YYYY-MM-DD HH:mm",ce("9:15am","h:mma").format(r),a.getTimeFrameValue(a.state.timeFrame),l=ce.duration("100:00:00"),o=ce(new Date).subtract(l),s={exchange:e[i].exch_seg,symboltoken:e[i].token,interval:a.state.timeFrame,fromdate:ce(o).format(r),todate:ce(new Date).format(r)},O.getHistoryData(s).then(function(t){var l=z(t,"noPop");if(l&&l.data&&l.data.length){var o=l.data,s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];o.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]);new Date(t[0]).getFullYear(),new Date(t[0]).getMonth(),new Date(t[0]).getDate();c.push({x:new Date(t[0]).getTime(),y:(t[2]+t[3]+t[4])/3}),m.push([t[5],(t[2]+t[3]+t[4])/3]),u.push(t[4]),v.push(t[2]),g.push(t[3]),d.push(t[3]),h.push(t[5]),p.push((t[2]+t[3]+t[4])/3)});var f=Me.a.calculate({period:20,values:u});console.log(e[i].symbol,"SMA",f);var y={values:u,period:14},b=me.a.calculate(y);console.log(e[i].symbol,"Rsi",y,b),console.log(e[i].symbol,"vwap",m,ge()(m));var S={period:20,values:p,stdDev:2},E=ue.a.calculate(S);console.log(e[i].symbol,"Bolinger band",S,E);var k=E[E.length-1];k&&(k.upper=k.upper.toFixed(2),k.middle=k.middle.toFixed(2),k.lower=k.lower.toFixed(2));var C={exchange:"NSE",tradingsymbol:e[i].symbol,symboltoken:e[i].token};O.getLTP(C).then(function(t){var l=z(t,"noPop"),u=l&&l.data;if(u&&u.ltp){b=b.slice(b.length-6,b.length);var v=0,g=0,d=b[2],p=b[2];b.forEach(function(t,e){e>2&&t>=55&&t<=65&&d<=t&&(d=t,v+=1),e>2&&t>=35&&t<=45&&t<=p&&(p=t,g+=1)});var f=h[2];if(h.forEach(function(t,e){e>2&&f<t&&(f=t,1)}),console.log(e[i].symbol,"valumeData",h),console.log(e[i].symbol,"last continue rsi",v),a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" RSI rising :"+v}),v>=2||g>=2)if("BBBlastOnly"==a.state.BBBlastType){if(k&&u.ltp>=k.upper){var y=100*(u.ltp-u.close)/u.close,S={symbol:e[i].symbol,token:e[i].token,ltp:u.ltp,perChange:y,RSIValue:b[b.length-1],RSI:b,VWAP:ge()(m),BB:k,candleChartData:s,lightcandleChartData:c,foundAt:o&&o[o.length-1][0],orderType:"BUY",name:e[i].name};n.push(S),a.setState({findlast5minMovement:n}),a.updateToLocalStorage(S),a.speckIt(e[i].symbol+" BB  buy"),window.document.title="FM: Buy "+e[i].symbol}if(k&&u.ltp<=k.lower){y=100*(u.ltp-u.close)/u.close;var E={symbol:e[i].symbol,token:e[i].token,ltp:u.ltp,perChange:y,RSIValue:b[b.length-1],RSI:b,VWAP:ge()(m),BB:k,candleChartData:s,lightcandleChartData:c,foundAt:o&&o[o.length-1][0],orderType:"SELL",name:e[i].name};n.push(E),a.setState({findlast5minMovement:n}),a.updateToLocalStorage(E),a.speckIt(e[i].symbol+" BB sell"),window.document.title="FM: Sell "+e[i].symbol}}else{var C=a.getTimeFrameValue("ONE_DAY"),T=ce.duration(C),L=ce(new Date).subtract(T),w={exchange:e[i].exch_seg,symboltoken:e[i].token,interval:"ONE_DAY",fromdate:ce(L).format(r),todate:ce(new Date).format(r)};O.getHistoryData(w).then(function(t){var r=z(t,"noPop"),l="";if(r&&r.data&&r.data.length){var v=r.data,g=[];v.forEach(function(t,e){g.push(t[4])});var d=(l=Me.a.calculate({period:20,values:g}))&&l[l.length-1];if(console.log(e[i].symbol,"DSMA",d),u.ltp>d&&k&&u.ltp>=k.upper){var h=100*(u.ltp-u.close)/u.close,p={symbol:e[i].symbol,token:e[i].token,ltp:u.ltp,perChange:h,RSIValue:b[b.length-1],RSI:b,VWAP:ge()(m),BB:k,DSMALastValue:d,candleChartData:s,lightcandleChartData:c,foundAt:o&&o[o.length-1][0],orderType:"BUY",name:e[i].name};n.push(p),a.setState({findlast5minMovement:n}),a.updateToLocalStorage(p),a.speckIt(e[i].symbol+" BB  buy"),window.document.title="FM: Buy "+e[i].symbol}if(u.ltp<d&&k&&u.ltp<=k.lower){h=100*(u.ltp-u.close)/u.close;var f={symbol:e[i].symbol,token:e[i].token,ltp:u.ltp,perChange:h,RSIValue:b[b.length-1],RSI:b,VWAP:ge()(m),BB:k,DSMALastValue:d,candleChartData:s,lightcandleChartData:c,foundAt:o&&o[o.length-1][0],orderType:"SELL",name:e[i].name};n.push(f),a.setState({findlast5minMovement:n}),a.updateToLocalStorage(f),a.speckIt(e[i].symbol+" BB sell"),window.document.title="FM: Sell "+e[i].symbol}}})}}})}else console.log(e[i].symbol,"  emply candle found")}),t.next=10,new Promise(function(t){return setTimeout(t,600)});case 10:case"end":return t.stop()}},t)}),r=0;case 7:if(!(r<e.length)){t.next=12;break}return t.delegateYield(i(r),"t0",9);case 9:r++,t.next=7;break;case 12:case"end":return t.stop()}},t)})),a.findlast5minMovement=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({findlast5minMovementUpdate:""}),e=ce.duration("00:05:00"),"YYYY-MM-DD HH:mm",n=ce(new Date).subtract(e),i=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(i=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),console.log("watchList",a.state.selectedWatchlist,i),a.setState({totalStockToWatch:i.length}),r=[],!i||!i.length){t.next=17;break}l=it.a.mark(function t(e){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i[e],s={exchange:"NSE",symboltoken:l.token,interval:"ONE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},c=e+1+". "+l.symbol,a.setState({findlast5minMovementUpdate:c}),window.document.title="FM: "+c,O.getHistoryData(s).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var l=[];n.data.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(1,l.push("<span style='color:green'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>")),e<=-.3&&(1,l.push("<span style='color:red'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>"))});var o=[];if(n.data.forEach(function(t){o.push([t[0],t[1],t[2],t[3],t[4]])}),l.length){var s={exchange:"NSE",tradingsymbol:i[e].symbol,symboltoken:i[e].token};O.getLTP(s).then(function(t){var n=z(t,"noPop"),s=n&&n.data;if(s&&s.ltp){var c=100*(s.ltp-s.close)/s.close;r.push({symbol:i[e].symbol,ltp:s.ltp,perChange:c,percentChangeList:l.join(" | "),candleChartData:o}),console.log("foundData",r),a.setState({findlast5minMovement:r})}})}}else console.log(" candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,333)});case 8:case"end":return t.stop()}},t)}),o=0;case 12:if(!(o<i.length)){t.next=17;break}return t.delegateYield(l(o),"t0",14);case 14:o++,t.next=12;break;case 17:case"end":return t.stop()}},t)})),a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.handleClick=function(t,e,n){if(console.log(t),t.token&&t.symbol){if("BUY"==e){a.setState(Object(f.a)({},n,!0));var i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};de.historyWiseOrderPlace(i,"BUY","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}if("SELL"==e){a.setState(Object(f.a)({},n,!0));i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};de.historyWiseOrderPlace(i,"SELL","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}}else q.showError(" Symbol Not found!!!")},a.state={staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:"NIFTY 50",totalStockToWatch:0,timeFrame:"TEN_MINUTE",chartStaticData:[],qtyToTake:"",BBBlastType:"BBBlastOnly",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[]},a.findlast5minMovement=a.findlast5minMovement.bind(Object(k.a)(a)),a.startSearching=a.startSearching.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Fast Movement";var e=this.state.staticData[this.state.selectedWatchlist];this.setState({totalStockToWatch:e.length});var a=ce("9:15am","h:mma"),n=ce("3:30pm","h:mma"),i=ce(new Date,"h:mma"),r=ce().isoWeekday(),l=setInterval(function(){var e=new Date;console.log("set interval 1sec min/10==0 ",e.toLocaleTimeString()),e.getMinutes()%5===0&&(console.log("search method call in with setTimeout 70sec",e.toLocaleTimeString()),setTimeout(function(){t.find10MinBBBlast()},7e4),t.setState({stop10bbSearch:setInterval(function(){console.log("search method call in with setInterval in 10min",e.toLocaleTimeString()),r<=5&&i.isBetween(a,n)&&t.find10MinBBBlast()},37e4)}),clearInterval(l))},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.findlast5minMovementInterval),clearInterval(this.state.stop10bbSearch)}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"\xa0BB Blast (",this.state.findlast5minMovement&&this.state.findlast5minMovement.length,")",i.a.createElement("span",{id:"stockTesting",style:{fontSize:"18px",color:"gray"}}," ",this.state.findlast5minMovementUpdate," "))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:ii.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:ii.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:ii.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.BBBlastType,name:"BBBlastType",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"BBBlastOnly"},"BB Blast"),i.a.createElement(De.a,{value:"BBBlastDaily"},"BB Blast Daily")))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.find10MinBBBlast()}},"Start"),i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.stopSearching()}},"Stop"))),i.a.createElement(F.a,{container:!0,spacing:2},this.state.findlast5minMovement?this.state.findlast5minMovement.map(function(e,a){return i.a.createElement(F.a,{item:!0,xs:12,sm:3},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px"}},i.a.createElement(R.a,{style:{color:e.perChange>0?"green":"red"}}," ",e.symbol," ",e.ltp," ",i.a.createElement("b",null,"(",e.perChange.toFixed(2),"%) ")),e.candleChartData.length>0?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:250},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:e.candleChartData.slice(Math.max(e.candleChartData.length-10,1))}],type:"candlestick",width:350,height:250}):"",i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},e.DSMALastValue?i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.DSMALastValue?"green":"red",fontWeight:"bold"}},"Daily SMA: ",e.DSMALastValue," ",e.ltp>e.DSMALastValue?"BUY":"SELL"):"",i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.VWAP?"green":"red",fontWeight:"bold"}},"VWAP:  ",e.VWAP),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"RSI: ",e.RSI.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"BB \xa0 ",i.a.createElement("span",{style:{color:e.ltp>=e.BB.upper?"green":"",fontWeight:"bold"}},"Upper: ",e.BB.upper),"\xa0 Middle: ",e.BB.middle,"\xa0 ",i.a.createElement("span",{style:{color:e.ltp<=e.BB.lower?"red":"",fontWeight:"bold"}}," Lower: ",e.BB.lower))),i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},i.a.createElement(F.a,{item:!0},t.state["buyButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return t.handleClick(e,"BUY","buyButtonClicked"+e.symbol+a)}},"BUY")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Qty",type:"number",name:"qtyToTake",value:t.state.qtyToTake,onChange:t.onChangeQty})),i.a.createElement(F.a,{item:!0},t.state["sellButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"Secondary",onClick:function(){return t.handleClick(e,"SELL","sellButtonClicked"+e.symbol+a)}},"SELL")))))}):""))}}]),e}(i.a.Component),ii={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},ri=ni,li=a(224),oi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).stopSearching=function(){console.log("stop the search"),clearInterval(a.state.findlast5minMovementInterval),clearInterval(a.state.stop10bbSearch)},a.showCandleChart=function(t,e,a,n){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n.toFixed(2)),document.getElementById("showCandleChart").click()},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.onChangeWatchlist=function(t){clearInterval(a.state.findlast5minMovementInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.find10MinBBBlast()})},a.onChangeQty=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.startSearching=function(){console.log("Starting the search");var t=ce("9:15am","h:mma"),e=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(t,e)){var i=6e4;a.state.totalStockToWatch>180&&(i=333*a.state.totalStockToWatch),a.setState({findlast5minMovementInterval:setInterval(function(){a.findlast5minMovement()},i)})}},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return(new Date).toLocaleTimeString()<"10:05:00"?"18:21:00":"00:21:00";case"FIVE_MINUTE":return(new Date).toLocaleTimeString()<"11:00:00"?"19:41:00":"01:41:00";case"TEN_MINUTE":return(new Date).toLocaleTimeString()<"12:35:00"?"21:21:00":"03:21:00";case"FIFTEEN_MINUTE":return(new Date).toLocaleTimeString()<"14:15:00"?"23:01:00":"05:01:00";case"THIRTY_MINUTE":return"84:01:00";case"ONE_HOUR":return"168:01:00";case"ONE_DAY":return"744:01:00"}},a.updateToLocalStorage=function(t){var e=new Date(t.foundAt).toLocaleString(),n=a.state.fastMovementList.filter(function(a){return a.token==t.token&&a.foundAt==e});if(console.log("isfound",n),n.length)return!1;var i={token:t.token,foundAt:e,ltp:t.ltp,symbol:t.symbol,nc:t.perChange.toFixed(2),orderType:t.orderType};return a.state.fastMovementList.push(i),localStorage.setItem("fastMovementList",JSON.stringify(a.state.fastMovementList)),!0},a.find10MinBBBlast=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({findlast5minMovementUpdate:"",findlast5minMovement:[]}),e=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({totalStockToWatch:e.length}),n=[],i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Scaning"}),r="YYYY-MM-DD HH:mm",ce("9:15am","h:mma").format(r),a.getTimeFrameValue(a.state.timeFrame),l=ce.duration("100:00:00"),o=ce(new Date).subtract(l),s={exchange:e[i].exch_seg,symboltoken:e[i].token,interval:a.state.timeFrame,fromdate:ce(o).format(r),todate:ce(new Date).format(r)},O.getHistoryData(s).then(function(t){var r=z(t,"noPop");if(r&&r.data&&r.data.length){var l=r.data,o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[];l.forEach(function(t,e){o.push([t[0],t[1],t[2],t[3],t[4]]);new Date(t[0]).getFullYear(),new Date(t[0]).getMonth(),new Date(t[0]).getDate();s.push({x:new Date(t[0]).getTime(),y:(t[2]+t[3]+t[4])/3}),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3)});Me.a.calculate({period:20,values:m});var p={values:m,period:14},f=me.a.calculate(p),y={period:20,values:h,stdDev:2},b=ue.a.calculate(y),S=b[b.length-1];S&&(S.upper=S.upper.toFixed(2),S.middle=S.middle.toFixed(2),S.lower=S.lower.toFixed(2));var E={values:m,fastPeriod:12,slowPeriod:26,signalPeriod:9,SimpleMAOscillator:!1,SimpleMASignal:!1},k=li.a.calculate(E),C=k[k.length-1];C&&C.MACD>=C.signal&&console.log("macd",e[i].symbol,C);var T={exchange:"NSE",tradingsymbol:e[i].symbol,symboltoken:e[i].token};O.getLTP(T).then(function(t){var r=z(t,"noPop"),m=r&&r.data;if(m&&m.ltp){f=f.slice(f.length-6,f.length),a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Searching"});if("BBStrongBreakout"==a.state.BBBlastType)if(S&&m.ltp>=S.upper&&l[l.length-1][2]==l[l.length-1][4]){var u=100*(m.ltp-m.close)/m.close,v={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"BUY",name:e[i].name};a.updateToLocalStorage(v)&&(n.push(v),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" BB  buy"),window.document.title="FM2: Buy "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" BUY Eligible"}))}else if(S&&m.ltp<=S.lower&&l[l.length-1][3]==l[l.length-1][4]){u=100*(m.ltp-m.close)/m.close;var g={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"SELL",name:e[i].name};a.updateToLocalStorage(g)&&(n.push(g),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" BB sell"),window.document.title="FM2: Sell "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" SELL Eligible"}))}else a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Not Eligible"});if("findRange"==a.state.BBBlastType){var d=l[0][3],h=l[0][2],p=0;l[0][0],l[0][0];console.log("candleData",e[i].symbol,l);for(var y=0;y<l.length-1;y++){var b=l[y],E=b[2],k=b[3];p<=1&&(k<d&&(d=k,b[0]),h<E&&(h=E,b[0]),p++)}if(1==p){var C=l.slice(0,25),T=20*(h-d)/100;d-=T,h+=T,a.findRange(C,d,h,e[i].symbol),p=0,d=l[1][3],h=l[1][2]}}}})}else console.log(e[i].symbol,"  emply candle found")}),t.next=10,new Promise(function(t){return setTimeout(t,600)});case 10:case"end":return t.stop()}},t)}),r=0;case 7:if(!(r<e.length)){t.next=12;break}return t.delegateYield(i(r),"t0",9);case 9:r++,t.next=7;break;case 12:case"end":return t.stop()}},t)})),a.findlast5minMovement=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({findlast5minMovementUpdate:""}),e=ce.duration("00:05:00"),"YYYY-MM-DD HH:mm",n=ce(new Date).subtract(e),i=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(i=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),console.log("watchList",a.state.selectedWatchlist,i),a.setState({totalStockToWatch:i.length}),r=[],!i||!i.length){t.next=17;break}l=it.a.mark(function t(e){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i[e],s={exchange:"NSE",symboltoken:l.token,interval:"ONE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},c=e+1+". "+l.symbol,a.setState({findlast5minMovementUpdate:c}),window.document.title="FM: "+c,O.getHistoryData(s).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var l=[];n.data.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(1,l.push("<span style='color:green'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>")),e<=-.3&&(1,l.push("<span style='color:red'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>"))});var o=[];if(n.data.forEach(function(t){o.push([t[0],t[1],t[2],t[3],t[4]])}),l.length){var s={exchange:"NSE",tradingsymbol:i[e].symbol,symboltoken:i[e].token};O.getLTP(s).then(function(t){var n=z(t,"noPop"),s=n&&n.data;if(s&&s.ltp){var c=100*(s.ltp-s.close)/s.close;r.push({symbol:i[e].symbol,ltp:s.ltp,perChange:c,percentChangeList:l.join(" | "),candleChartData:o}),console.log("foundData",r),a.setState({findlast5minMovement:r})}})}}else console.log(" candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,333)});case 8:case"end":return t.stop()}},t)}),o=0;case 12:if(!(o<i.length)){t.next=17;break}return t.delegateYield(l(o),"t0",14);case 14:o++,t.next=12;break;case 17:case"end":return t.stop()}},t)})),a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.handleClick=function(t,e,n){if(console.log(t),t.token&&t.symbol){if("BUY"==e){a.setState(Object(f.a)({},n,!0));var i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake,producttype:"DELIVERY"};console.log(i),de.historyWiseOrderPlace(i,"BUY","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}if("SELL"==e){a.setState(Object(f.a)({},n,!0));i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake,producttype:"DELIVERY"};console.log(i),de.historyWiseOrderPlace(i,"SELL","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}}else q.showError(" Symbol Not found!!!")},a.state={staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:"NIFTY BANK",totalStockToWatch:0,timeFrame:"FIFTEEN_MINUTE",chartStaticData:[],BBBlastType:"BBStrongBreakout",qtyToTake:"",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[]},a.findlast5minMovement=a.findlast5minMovement.bind(Object(k.a)(a)),a.startSearching=a.startSearching.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="FM2";var e=this.state.staticData[this.state.selectedWatchlist];this.setState({totalStockToWatch:e.length});var a=ce("9:15am","h:mma"),n=ce("3:30pm","h:mma"),i=ce(new Date,"h:mma"),r=ce().isoWeekday(),l=setInterval(function(){var e=new Date;console.log("set interval 1sec min/10==0 ",e.toLocaleTimeString()),e.getMinutes()%2===0&&(console.log("search method call in with setTimeout 70sec",e.toLocaleTimeString()),setTimeout(function(){t.find10MinBBBlast()},7e4),t.setState({stop10bbSearch:setInterval(function(){console.log("search method call in with setInterval in 10min",e.toLocaleTimeString()),r<=5&&i.isBetween(a,n)&&t.find10MinBBBlast()},19e4)}),clearInterval(l))},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.findlast5minMovementInterval),clearInterval(this.state.stop10bbSearch)}},{key:"findRange",value:function(t,e,a,n){for(var i=0,r=a-e,l=0;l<t.length;l++){var o=t[l];if(!(o[2]<=a&&o[3]>=e))break;i++}i>=3&&console.log(i,n,e,a,r,new Date(t[0][0]).toLocaleString())}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"\xa0BB Blast (",this.state.findlast5minMovement&&this.state.findlast5minMovement.length,")",i.a.createElement("span",{id:"stockTesting",style:{fontSize:"18px",color:"gray"}}," ",this.state.findlast5minMovementUpdate," "))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:si.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:si.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:si.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.BBBlastType,name:"BBBlastType",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"BBBlastOnly"},"BB Blast"),i.a.createElement(De.a,{value:"BBBlastDaily"},"BB Blast Daily"),i.a.createElement(De.a,{value:"BBStrongBreakout"},"BB Strong Breakout"),i.a.createElement(De.a,{value:"findRange"},"Find Range")))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.find10MinBBBlast()}},"Start"),i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.stopSearching()}},"Stop"))),i.a.createElement(F.a,{container:!0,spacing:2},this.state.findlast5minMovement?this.state.findlast5minMovement.map(function(e,a){return i.a.createElement(F.a,{item:!0,xs:12,sm:3},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px"}},i.a.createElement(R.a,{style:{color:e.perChange>0?"green":"red"}}," ",e.symbol," ",e.ltp," ",i.a.createElement("b",null,"(",e.perChange.toFixed(2),"%) ")),e.candleChartData.length>0?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:250},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:e.candleChartData.slice(Math.max(e.candleChartData.length-10,1))}],type:"candlestick",width:350,height:250}):"",i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},e.DSMALastValue?i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.DSMALastValue?"green":"red",fontWeight:"bold"}},"Daily SMA: ",e.DSMALastValue," ",e.ltp>e.DSMALastValue?"BUY":"SELL"):"",i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.VWAP?"green":"red",fontWeight:"bold"}},"VWAP:  ",e.VWAP),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"RSI: ",e.RSI.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"BB \xa0 ",i.a.createElement("span",{style:{color:e.ltp>=e.BB.upper?"green":"",fontWeight:"bold"}},"Upper: ",e.BB.upper),"\xa0 Middle: ",e.BB.middle,"\xa0 ",i.a.createElement("span",{style:{color:e.ltp<=e.BB.lower?"red":"",fontWeight:"bold"}}," Lower: ",e.BB.lower))),i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},i.a.createElement(F.a,{item:!0},t.state["buyButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return t.handleClick(e,"BUY","buyButtonClicked"+e.symbol+a)}},"BUY")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Qty",type:"number",name:"qtyToTake",value:t.state.qtyToTake,onChange:t.onChangeQty})),i.a.createElement(F.a,{item:!0},t.state["sellButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"Secondary",onClick:function(){return t.handleClick(e,"SELL","sellButtonClicked"+e.symbol+a)}},"SELL")))))}):""))}}]),e}(i.a.Component),si={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},ci=oi,mi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).stopSearching=function(){console.log("stop the search"),clearInterval(a.state.findlast5minMovementInterval),clearInterval(a.state.stop10bbSearch)},a.showCandleChart=function(t,e,a,n){localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),localStorage.setItem("candlePriceShow",a),localStorage.setItem("candleChangeShow",n.toFixed(2)),document.getElementById("showCandleChart").click()},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.onChangeWatchlist=function(t){clearInterval(a.state.findlast5minMovementInterval),a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.find10MinBBBlast()})},a.onChangeQty=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.startSearching=function(){console.log("Starting the search");var t=ce("9:15am","h:mma"),e=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(t,e)){var i=6e4;a.state.totalStockToWatch>180&&(i=333*a.state.totalStockToWatch),a.setState({findlast5minMovementInterval:setInterval(function(){a.findlast5minMovement()},i)})}},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return(new Date).toLocaleTimeString()<"10:05:00"?"18:21:00":"00:21:00";case"FIVE_MINUTE":return(new Date).toLocaleTimeString()<"11:00:00"?"19:41:00":"01:41:00";case"TEN_MINUTE":return(new Date).toLocaleTimeString()<"12:35:00"?"21:21:00":"03:21:00";case"FIFTEEN_MINUTE":return(new Date).toLocaleTimeString()<"14:15:00"?"23:01:00":"05:01:00";case"THIRTY_MINUTE":return"84:01:00";case"ONE_HOUR":return"168:01:00";case"ONE_DAY":return"744:01:00"}},a.updateToLocalStorage=function(t){var e=new Date(t.foundAt).toLocaleString(),n=a.state.fastMovementList.filter(function(a){return a.token==t.token&&a.foundAt==e});if(console.log("isfound",n),n.length)return!1;var i={token:t.token,foundAt:e,ltp:t.ltp,symbol:t.symbol,nc:t.perChange.toFixed(2),orderType:t.orderType};return a.state.fastMovementList.push(i),localStorage.setItem("fastMovementList",JSON.stringify(a.state.fastMovementList)),!0},a.find10MinBBBlast=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({findlast5minMovementUpdate:"",findlast5minMovement:[]}),e=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({totalStockToWatch:e.length}),n=[],i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Scaning"}),r="YYYY-MM-DD HH:mm",ce("9:15am","h:mma").format(r),a.getTimeFrameValue(a.state.timeFrame),l=ce.duration("100:00:00"),o=ce(new Date).subtract(l),s={exchange:e[i].exch_seg,symboltoken:e[i].token,interval:a.state.timeFrame,fromdate:ce(o).format(r),todate:ce(new Date).format(r)},O.getHistoryData(s).then(function(t){var r=z(t,"noPop");if(r&&r.data&&r.data.length){var l=r.data,o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[];l.forEach(function(t,e){o.push([t[0],t[1],t[2],t[3],t[4]]);new Date(t[0]).getFullYear(),new Date(t[0]).getMonth(),new Date(t[0]).getDate();s.push({x:new Date(t[0]).getTime(),y:(t[2]+t[3]+t[4])/3}),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3)});Me.a.calculate({period:20,values:m});var p={values:m,period:14},f=me.a.calculate(p),y={period:20,values:h,stdDev:2},b=ue.a.calculate(y),S=b[b.length-1];S&&(S.upper=S.upper.toFixed(2),S.middle=S.middle.toFixed(2),S.lower=S.lower.toFixed(2));var E={values:m,fastPeriod:12,slowPeriod:26,signalPeriod:9,SimpleMAOscillator:!1,SimpleMASignal:!1},k=li.a.calculate(E),C=k[k.length-1];C&&C.MACD>=C.signal&&console.log("macd",e[i].symbol,C);var T={exchange:"NSE",tradingsymbol:e[i].symbol,symboltoken:e[i].token};O.getLTP(T).then(function(t){var r=z(t,"noPop"),m=r&&r.data;if(m&&m.ltp){f=f.slice(f.length-6,f.length),a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Searching"});if("selectAll"==a.state.BBBlastType||"macdCrossOver"==a.state.BBBlastType)if(C&&C.MACD>=C.signal){var u=100*(m.ltp-m.close)/m.close,v={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"BUY",name:e[i].name,macdData:k.slice(Math.max(k.length-6,1)),patternName:"MACD Cossed Up"};a.updateToLocalStorage(v)&&(n.push(v),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" macd  buy"),window.document.title="macd: Buy "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" BUY Eligible"}))}else if(C&&C.MACD<=C.signal){u=100*(m.ltp-m.close)/m.close;var g={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"SELL",name:e[i].name,macdData:k.slice(Math.max(k.length-6,1)),patternName:"MACD Cossed Down"};a.updateToLocalStorage(g)&&(n.push(g),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" macd sell"),window.document.title="macd: Sell "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" SELL Eligible"}))}else a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Not Eligible"});if("selectAll"==a.state.BBBlastType||"BBStrongBreakout"==a.state.BBBlastType)if(S&&m.ltp>=S.upper&&l[l.length-1][2]==l[l.length-1][4]){u=100*(m.ltp-m.close)/m.close;var d={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"BUY",name:e[i].name,patternName:"BB Strong Buy"};a.updateToLocalStorage(d)&&(n.push(d),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" BB  buy"),window.document.title="FM2: Buy "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" BUY Eligible"}))}else if(S&&m.ltp<=S.lower&&l[l.length-1][3]==l[l.length-1][4]){u=100*(m.ltp-m.close)/m.close;var h={symbol:e[i].symbol,token:e[i].token,ltp:m.ltp,perChange:u,RSIValue:f[f.length-1],RSI:f,VWAP:ge()(c),BB:S,candleChartData:o,lightcandleChartData:s,foundAt:l&&l[l.length-1][0],orderType:"SELL",name:e[i].name,patternName:"BB Strong Sell"};a.updateToLocalStorage(h)&&(n.push(h),a.setState({findlast5minMovement:n}),a.speckIt(e[i].symbol+" BB sell"),window.document.title="FM2: Sell "+e[i].symbol,a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" SELL Eligible"}))}else a.setState({findlast5minMovementUpdate:i+1+". "+e[i].symbol+" At "+(new Date).toLocaleTimeString()+" Not Eligible"})}})}else console.log(e[i].symbol,"  emply candle found")}),t.next=10,new Promise(function(t){return setTimeout(t,600)});case 10:case"end":return t.stop()}},t)}),r=0;case 7:if(!(r<e.length)){t.next=12;break}return t.delegateYield(i(r),"t0",9);case 9:r++,t.next=7;break;case 12:case"end":return t.stop()}},t)})),a.findlast5minMovement=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({findlast5minMovementUpdate:""}),e=ce.duration("00:05:00"),"YYYY-MM-DD HH:mm",n=ce(new Date).subtract(e),i=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(i=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),console.log("watchList",a.state.selectedWatchlist,i),a.setState({totalStockToWatch:i.length}),r=[],!i||!i.length){t.next=17;break}l=it.a.mark(function t(e){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i[e],s={exchange:"NSE",symboltoken:l.token,interval:"ONE_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},c=e+1+". "+l.symbol,a.setState({findlast5minMovementUpdate:c}),window.document.title="FM: "+c,O.getHistoryData(s).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var l=[];n.data.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(1,l.push("<span style='color:green'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>")),e<=-.3&&(1,l.push("<span style='color:red'>"+e.toFixed(2)+"% At "+new Date(t[0]).toLocaleTimeString().substr(0,5)+"</span>"))});var o=[];if(n.data.forEach(function(t){o.push([t[0],t[1],t[2],t[3],t[4]])}),l.length){var s={exchange:"NSE",tradingsymbol:i[e].symbol,symboltoken:i[e].token};O.getLTP(s).then(function(t){var n=z(t,"noPop"),s=n&&n.data;if(s&&s.ltp){var c=100*(s.ltp-s.close)/s.close;r.push({symbol:i[e].symbol,ltp:s.ltp,perChange:c,percentChangeList:l.join(" | "),candleChartData:o}),console.log("foundData",r),a.setState({findlast5minMovement:r})}})}}else console.log(" candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,333)});case 8:case"end":return t.stop()}},t)}),o=0;case 12:if(!(o<i.length)){t.next=17;break}return t.delegateYield(l(o),"t0",14);case 14:o++,t.next=12;break;case 17:case"end":return t.stop()}},t)})),a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.handleClick=function(t,e,n){if(console.log(t),t.token&&t.symbol){if("BUY"==e){a.setState(Object(f.a)({},n,!0));var i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};console.log(i),de.historyWiseOrderPlace(i,"BUY","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}if("SELL"==e){a.setState(Object(f.a)({},n,!0));i={token:t.token,symbol:t.symbol,qtyToTake:a.state.qtyToTake};console.log(i),de.historyWiseOrderPlace(i,"SELL","no",a.callbackAfterOrderDone),a.setState(Object(f.a)({},n,!1))}}else q.showError(" Symbol Not found!!!")},a.state={staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:"NIFTY 50",totalStockToWatch:0,timeFrame:"FIFTEEN_MINUTE",chartStaticData:[],BBBlastType:"selectAll",qtyToTake:"",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[]},a.findlast5minMovement=a.findlast5minMovement.bind(Object(k.a)(a)),a.startSearching=a.startSearching.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="FM2";var e=this.state.staticData[this.state.selectedWatchlist];this.setState({totalStockToWatch:e.length});var a=ce("9:15am","h:mma"),n=ce("3:30pm","h:mma"),i=ce(new Date,"h:mma"),r=ce().isoWeekday(),l=setInterval(function(){var e=new Date;console.log("set interval 1sec min/10==0 ",e.toLocaleTimeString()),e.getMinutes()%2===0&&(console.log("search method call in with setTimeout 70sec",e.toLocaleTimeString()),setTimeout(function(){t.find10MinBBBlast()},7e4),t.setState({stop10bbSearch:setInterval(function(){console.log("search method call in with setInterval in 10min",e.toLocaleTimeString()),r<=5&&i.isBetween(a,n)&&t.find10MinBBBlast()},19e4)}),clearInterval(l))},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.findlast5minMovementInterval),clearInterval(this.state.stop10bbSearch)}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement("br",null),i.a.createElement(oe,null)," ",i.a.createElement(Ha,null),i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"\xa0BB Blast (",this.state.findlast5minMovement&&this.state.findlast5minMovement.length,")",i.a.createElement("span",{id:"stockTesting",style:{fontSize:"18px",color:"gray"}}," ",this.state.findlast5minMovementUpdate," "))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:ui.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:ui.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1 Min"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5 Min"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10 Min"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15 Min"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30 Min"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1 Hour"),i.a.createElement(De.a,{value:"ONE_DAY"},"1 Day")))),i.a.createElement(F.a,{item:!0,xs:12,sm:1},i.a.createElement(xe.a,{style:ui.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Time"),i.a.createElement(Oe.a,{value:this.state.BBBlastType,name:"BBBlastType",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectAll"},"Select All"),i.a.createElement(De.a,{value:"BBStrongBreakout"},"BB Strong Breakout"),i.a.createElement(De.a,{value:"macdCrossOver"},"Macd Cross Over")))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.find10MinBBBlast()}},"Start"),i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.stopSearching()}},"Stop"))),i.a.createElement(F.a,{container:!0,spacing:2},this.state.findlast5minMovement?this.state.findlast5minMovement.map(function(e,a){return i.a.createElement(F.a,{item:!0,xs:12,sm:3},i.a.createElement(Te.a,{style:{overflow:"auto",padding:"10px"}},i.a.createElement(R.a,{style:{color:e.perChange>0?"green":"red"}}," ",e.symbol," ",e.ltp," ",i.a.createElement("b",null,"(",e.perChange.toFixed(2),"%) ")," \xa0\xa0 ",e.patternName),e.candleChartData.length>0?i.a.createElement(te.a,{options:{chart:{type:"candlestick",height:250},title:{text:"",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:e.candleChartData.slice(Math.max(e.candleChartData.length-10,1))}],type:"candlestick",width:350,height:250}):"",i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},e.DSMALastValue?i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.DSMALastValue?"green":"red",fontWeight:"bold"}},"Daily SMA: ",e.DSMALastValue," ",e.ltp>e.DSMALastValue?"BUY":"SELL"):"",i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{color:e.ltp>e.VWAP?"green":"red",fontWeight:"bold"}},"VWAP:  ",e.VWAP),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"RSI: ",e.RSI.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"BB \xa0 ",i.a.createElement("span",{style:{color:e.ltp>=e.BB.upper?"green":"",fontWeight:"bold"}},"Upper: ",e.BB.upper),"\xa0 Middle: ",e.BB.middle,"\xa0 ",i.a.createElement("span",{style:{color:e.ltp<=e.BB.lower?"red":"",fontWeight:"bold"}}," Lower: ",e.BB.lower)),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"MACD: ",e.macdData.map(function(t,e){return i.a.createElement("span",null," ",t.MACD&&t.MACD.toFixed(2)," \xa0")}),i.a.createElement("br",null),"MACD Signal: ",e.macdData.map(function(t,e){return i.a.createElement("span",null," ",t.signal&&t.signal.toFixed(2)," \xa0")}),i.a.createElement("br",null),"MACD histogram: ",e.macdData.map(function(t,e){return i.a.createElement("span",null," ",t.histogram&&t.histogram.toFixed(2)," \xa0")}))),i.a.createElement(F.a,{direction:"row",style:{padding:"5px"},container:!0,className:"flexGrow",justify:"space-between"},i.a.createElement(F.a,{item:!0},t.state["buyButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return t.handleClick(e,"BUY","buyButtonClicked"+e.symbol+a)}},"BUY")),i.a.createElement(F.a,{item:!0},i.a.createElement(B.a,{label:"Qty",type:"number",name:"qtyToTake",value:t.state.qtyToTake,onChange:t.onChangeQty})),i.a.createElement(F.a,{item:!0},t.state["sellButtonClicked"+e.symbol+a]?i.a.createElement(pe.a,null):i.a.createElement(M.a,{size:"small",variant:"contained",color:"Secondary",onClick:function(){return t.handleClick(e,"SELL","sellButtonClicked"+e.symbol+a)}},"SELL")))))}):""))}}]),e}(i.a.Component),ui={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},vi=mi,gi=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(2)},closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})(function(t){var e=t.children,a=t.classes,n=t.onClose,r=Object(Wt.a)(t,["children","classes","onClose"]);return i.a.createElement(Ut.a,Object.assign({disableTypography:!0,className:a.root},r),i.a.createElement(R.a,{variant:"h6"},e),n?i.a.createElement(vt.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(Qt.a,null)):null)}),di=Object(_t.a)(function(t){return{root:{padding:t.spacing(2)}}})(Vt.a),hi=Object(_t.a)(function(t){return{root:{margin:0,padding:t.spacing(1)}}})(qt.a);function pi(t){var e=t.chartData.chartStaticData;console.log("lightChartData",e);var a=i.a.useState(!1),n=Object(X.a)(a,2),r=n[0],l=n[1],o=i.a.useState({data:[],candledata:{},timeFrame:"FIVE_MINUTE"}),s=Object(X.a)(o,2),c=(s[0],s[1],function(){l(!1)});return i.a.createElement("div",null,i.a.createElement(M.a,{variant:"outlined",id:"showLightChart",color:"primary",style:{display:"none"},onClick:function(){l(!0)}},"Chart"),i.a.createElement(Jt.a,{maxWidth:"lg",onClose:c,"aria-labelledby":"customized-dialog-title",open:r},i.a.createElement(gi,{id:"customized-dialog-title",onClose:c},"\xa0",e.name,"   ",e.ltp,"  (",e.change,"%)"),i.a.createElement(di,{dividers:!0,id:"chart"},i.a.createElement(ne,{chartData:{candleSeries:e.lightChartData,volumeSeries:e.volumeSeriesData}})),i.a.createElement(hi,null,i.a.createElement(M.a,{autoFocus:!0,onClick:c,color:"primary"},"Close"))))}var fi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.checkSlowMotion()})},a.checkSlowMotion=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],"selectall"==a.state.selectedWatchlist&&(e=localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))),a.setState({scanUpdate:""}),n=it.a.mark(function t(n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e[n],a.state.slowMotionStockList.filter(function(t){return t.token==i.token}).length){t.next=6;break}return a.checkSlowMotionStock(i.token,i,n+1),t.next=6,new Promise(function(t){return setTimeout(t,310)});case 6:case"end":return t.stop()}},t)}),i=0;case 5:if(!(i<e.length)){t.next=10;break}return t.delegateYield(n(i),"t0",7);case 7:i++,t.next=5;break;case 10:case"end":return t.stop()}},t)})),a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"720:00:00";case"FIVE_MINUTE":case"TEN_MINUTE":case"FIFTEEN_MINUTE":return"2160:00:00";case"THIRTY_MINUTE":case"ONE_HOUR":return"4320:00:00";case"ONE_DAY":return"8760:00:00"}},a.updateTimeFrameChart=function(t,e){console.log(t,e);var n=a.getTimeFrameValue(e),i=ce(new Date).subtract(n),r={exchange:"NSE",symboltoken:t,interval:e,fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var n=e.data,i=[],r=0;r<n.length;r++){var l=n[r];i.push({time:new Date(l[0]).getTime(),value:l[5],color:"rgba(211, 211, 211, 1)"})}var o=n.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=localStorage.getItem("lightChartData")&&JSON.parse(localStorage.getItem("lightChartData"));s.lightChartData=o,s.volumeSeriesData=i,a.setState({chartStaticData:s})}})},a.checkSlowMotionStock=function(t,e,n){ce("9:15am","h:mma");var i=ce.duration("240:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(i){var r=z(i,"noPop");if(r&&r.data&&r.data.length){for(var l=r.data,o=[],s=0,c=l.length-375;c<l.length;c++){var m=l[c];if(m){var u=100*(m[4]-m[1])/m[1];u>=.4&&(s+=1),u<=-.4&&(s+=1)}o.push({time:new Date(m[0]).getTime(),value:m[5],color:"rgba(211, 211, 211, 1)"})}if(console.log("Totalcount",e.name,s,o),a.setState({scanUpdate:"Scan: "+n+". "+e.name+" maxCount: "+s}),s<=15)if(!a.state.slowMotionStockList.filter(function(e){return e.token==t}).length){e.bigCandleCount=s,e.sectorName=a.state.selectedWatchlist;var v=[];l.forEach(function(t){v.push([t[0],t[1],t[2],t[3],t[4]])});var g=l.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}});e.candleChartData=v,e.lightChartData=g,e.volumeSeriesData=o,a.setState({slowMotionStockList:[].concat(Object(rt.a)(a.state.slowMotionStockList),[e])},function(){})}}})},a.checkSlowMotionCheckLive=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=a.state.slowMotionStockList[e]).isActivated){t.next=10;break}return"YYYY-MM-DD HH:mm",i=ce.duration("50:00:00"),r=ce(new Date).subtract(i),ce("9:15am","h:mma"),l={exchange:"NSE",symboltoken:n.token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var i=z(t,"noPop");if(i&&i.data&&i.data.length){for(var r=i.data,l=0,o=0,s=0,c="",m=0,u=r.length-3;u<r.length;u++){var v=r[u];if(v){var g=100*(v[4]-v[1])/v[1];g>=1&&(l+=1,m=v[2],c=new Date(v[0]).toLocaleString()),g>=.5&&(o+=1,m=v[2],c=new Date(v[0]).toLocaleString()),g>=0&&(s+=1)}}var d=[];r.forEach(function(t){d.push([t[0],t[1],t[2],t[3],t[4]])}),n.candleChartData=d;var h=Object(ia.a)("Update: "+(e+1)+"."+n.name+" large(1%): <b>"+l+"</b> &nbsp;mid(0.5%): <b>"+o+"</b> &nbsp;small(>0%): <b>"+s+"</b>");a.setState({scanUpdate:h}),console.log(n.symbol,l,o,s);var p="large(1%): <b>"+l+"</b> &nbsp;mid(0.5%): <b>"+o+"</b> &nbsp;small(>0%): <b>"+s+"</b> at "+new Date(r[r.length-1][0]).toLocaleTimeString();n.update=p,(l>=1||o>=1&&s>=2)&&(n.isActivated=!0,n.activationTime=c,n.activationPrice=m,window.document.title="SM: "+n.symbol,console.log("hey, slow motion stock"+n.symbol+" broken"),a.speckIt("hey, slow motion stock"+n.symbol+" broken"),a.setState({slowMotionStockList:a.state.slowMotionStockList},function(){this.sortByColumn("isActivated")}))}}),t.next=10,new Promise(function(t){return setTimeout(t,310)});case 10:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.slowMotionStockList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.activationToLtpChange=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.slowMotionStockList[e],i={exchange:"NSE",tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(i).then(function(t){var e=z(t,"noPop"),i=e&&e.data;i&&i.ltp&&(n.ltp=i.ltp,n.change=(100*(i.ltp-i.close)/i.close).toFixed(2),n.activationPrice&&(n.AtoltpChng=(100*(i.ltp-n.activationPrice)/n.activationPrice).toFixed(2)),a.setState({slowMotionStockList:a.state.slowMotionStockList},function(){localStorage.setItem("slowMotionStockList",JSON.stringify(this.state.slowMotionStockList))}))}),t.next=5,new Promise(function(t){return setTimeout(t,125)});case 5:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.slowMotionStockList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.showLightChart=function(t){console.log("row",t),t.lightChartData.length>0&&(localStorage.setItem("lightChartData",JSON.stringify(t)),a.setState({chartStaticData:t},function(){document.getElementById("showLightChart").click()}))},a.deleteAllScan=function(){window.confirm("Are you sure to delete all scan stocks?")&&(a.setState({slowMotionStockList:[]}),localStorage.setItem("slowMotionStockList",[]))},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.convertToFloat=function(t){if(!isNaN(t))return"("+(t/1e5).toFixed(2)+"L)"},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.sortByColumn=function(t){a.state.slowMotionStockList.sort(function(e,a){return"isActivated"==t&&e.isActivated?e.isActivated===a.isActivated?0:e?-1:1:a[t]-e[t]}),a.setState({slowMotionStockList:a.state.slowMotionStockList,sortedType:t})},a.state={oderbookData:[],listofzones:[],selectedZone:[],zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],selectedWatchlist:"NIFTY BANK",totalStockToWatch:0,timeFrame:"TEN_MINUTE",qtyToTake:"",BBBlastType:"BBBlastOnly",fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],sortedType:"isActivated",slowMotionStockList:localStorage.getItem("slowMotionStockList")&&JSON.parse(localStorage.getItem("slowMotionStockList"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=ce("9:15am","h:mma"),a=ce("3:30pm","h:mma"),n=ce(new Date,"h:mma");if(ce().isoWeekday()<=5&&n.isBetween(e,a))var i=setInterval(function(){(new Date).getMinutes()%5===0&&(setTimeout(function(){t.checkSlowMotionCheckLive()},7e4),setInterval(function(){t.checkSlowMotionCheckLive(),t.activationToLtpChange()},37e4),clearInterval(i))},1e3)}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,"#/position"!==window.location.hash?i.a.createElement(be,null):"",i.a.createElement(oe,null),this.state.chartStaticData?i.a.createElement(pi,{chartData:{updateTimeFrameChart:this.updateTimeFrameChart,chartStaticData:this.state.chartStaticData}}):"",i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Slow Motion (",this.state.slowMotionStockList.length,")  ",i.a.createElement(Ze.a,{onClick:function(){return t.deleteAllScan()}}),"  found at ",(new Date).toLocaleString()),this.state.sortedType?i.a.createElement(i.a.Fragment,null," ",i.a.createElement("b",null," Sorted By: ")," ",this.state.sortedType,"  "):""),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:yi.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.checkSlowMotion()}},"Scan"),this.state.scanUpdate?i.a.createElement(i.a.Fragment,null,this.state.scanUpdate,"  "):""),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(M.a,{variant:"contained",style:{marginRight:"20px"},onClick:function(){return t.checkSlowMotionCheckLive()}},"Refresh"))),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"left"},"Sr."),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("pchange")}},"Symbol")," "),i.a.createElement(Xt.a,{align:"center"},"Sector"),i.a.createElement(Xt.a,{align:"center"},"Max Count"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("isActivated")}},"Is Activated")),i.a.createElement(Xt.a,{align:"center"},"Activate Time"),i.a.createElement(Xt.a,{align:"center"},"Activation Price"),i.a.createElement(Xt.a,{align:"center"},"Last Update"),i.a.createElement(Xt.a,{align:"center"},i.a.createElement(M.a,{onClick:function(){return t.activationToLtpChange()}},"A.toLtpChng")))),i.a.createElement(Zt.a,null,this.state.slowMotionStockList?this.state.slowMotionStockList.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a,style:{background:e.isActivated?"lightgray":""}},i.a.createElement(Xt.a,{align:"left"},a+1),i.a.createElement(Xt.a,{align:"left"}," ",i.a.createElement(M.a,{size:"small",variant:"contained",style:{color:e.change?e.change>0?"green":"red":""},onClick:function(){return t.showLightChart(e)}}," ",e.name," ",e.ltp,"  ",e.change?"("+e.change+"%)":"","  ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,{align:"center"},e.sectorName),i.a.createElement(Xt.a,{align:"center"},e.bigCandleCount),i.a.createElement(Xt.a,{align:"center"},e.isActivated?"Yes":"No"),i.a.createElement(Xt.a,{align:"center"},e.activationTime),i.a.createElement(Xt.a,{align:"center"},e.activationPrice),i.a.createElement(Xt.a,{align:"center"},e.update?Object(ia.a)(e.update):""),i.a.createElement(Xt.a,{align:"center"},e.ltp," ",e.AtoltpChng?"("+e.AtoltpChng+"%)":""))}):i.a.createElement(pe.a,null)))))))}}]),e}(i.a.Component),yi={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},bi=fi,Si=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e),a.updateSocketWatch(t)},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.updateSocketWatch=function(t){var e=a.state.symbolList.map(function(t){return"nse_cm|"+t.token}),n={task:"mw",channel:e=e.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.takeAction=function(t,e){if(!(a.state.actionList.length&&a.state.actionList.filter(function(e){return e.symbol===t})).length){var n={symbol:t,action:e,updateTime:(new Date).toLocaleTimeString()};a.setState({actionList:[].concat(Object(rt.a)(a.state.actionList),[n])},function(){localStorage.setItem("actionList",JSON.stringify(this.state.actionList)),this.speckIt(t+" "+e),console.log(n.symbol+" "+n.action+" "+n.updateTime),this.setState({lastUpdateAction:n.symbol+" "+n.action+" "+n.updateTime})})}},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n),r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var n=i.filter(function(e){return e.tk==t.token});n.length>0&&n[0].ltp&&n[0].nc&&(console.log(n[0]),r[e].ltp=n[0].ltp,r[e].pChange=n[0].nc,r[e].totalBuyQuantity=n[0].tbq,r[e].totalSellQuantity=n[0].tsq,r[e].totalTradedVolume=n[0].v,r[e].averagePrice=n[0].ap,r[e].lowPrice=n[0].lo,r[e].highPrice=n[0].h,r[e].openPrice=n[0].op,r[e].bestbuyquantity=n[0].bq,r[e].bestbuyprice=n[0].bp,r[e].bestsellquantity=n[0].bs,r[e].bestsellprice=n[0].sp,r[e].buytosellTime=(n[0].tbq/n[0].tsq).toFixed(2),r[e].selltobuyTime=(n[0].tsq/n[0].tbq).toFixed(2),n[0].tbq/n[0].tsq>2?(r[e].highlightbuy=!0,a.takeAction(t.symbol," buying")):r[e].highlightbuy=!1,n[0].tsq/n[0].tbq>2?(r[e].highlightsell=!0,a.takeAction(t.symbol," selling")):r[e].highlightsell=!1)});var l=a.state.sortedType;r&&r.sort(function(t,e){return e[l]-t[l]}),a.setState({symbolList:r})},t.onerror=function(t){console.log("socket error",t)},setInterval(function(){var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)},59e3)},a.getUpdateIndexData=function(){a.setState({softedIndexList:[]}),O.allIndicesDirectJSON().then(function(t){if(t.data){var e=t.data&&t.data.data;e.sort(function(t,e){return e.percChange-t.percChange});for(var n=0;n<e.length;n++){var i=e[n];a.state.sluglist[i.indexName]&&a.setState({softedIndexList:[].concat(Object(rt.a)(a.state.softedIndexList),[i])})}a.makeConnection(a.wsClint)}}).catch(function(t){}).finally(function(t){})},a.speckIt=function(t){if(a.state.isSpeek){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)}},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){var t=this,e=this.state.staticData[this.state.selectedWatchlist];this.setState({symbolList:e},function(){return t.updateSocketWatch(t.wsClint)})})},a.sortByColumn=function(t){a.state.symbolList.sort(function(e,a){return a[t]-e[t]}),a.setState({symbolList:a.state.symbolList,sortedType:t})},a.convertToDecimal=function(t){return isNaN(t)?t:t.toFixed(2)},a.convertToFloat=function(t){if(!isNaN(t))return"("+(t/1e5).toFixed(2)+"L)"},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.showStaticChart()})},a.handleKeyDown=function(t,e){console.log("key",t,e),38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),setTimeout(function(){a.showStaticChart()},100)},a.handleChange=function(t){localStorage.setItem("isSpeek",t.target.checked),a.setState({isSpeek:t.target.checked},function(){console.log("isSpeek",a.state.isSpeek,t.target.checked)})},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e){t&&a.setState({chartStaticData:"",lightChartSymbol:e,token:t},function(){console.log("reset done",t)});var n=ce("9:15am","h:mma");if("ONE_MINUTE"==a.state.timeFrame){var i=ce.duration("00:60:00");n=ce(new Date).subtract(i)}var r={exchange:"NSE",symboltoken:t||a.state.token,interval:a.state.timeFrame,fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data){var n=e.data,i=n.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),r=[],l=[],o=[],s=[],c=[],m=[],u=[],v=[],g=[];n.forEach(function(t,e){r.push([t[0],t[1],t[2],t[3],t[4]]),l.push([t[5],(t[2]+t[3]+t[4])/3]),o.push(t[4]),s.push(t[2]),c.push(t[3]),m.push(t[3]),u.push(t[5]),v.push((t[2]+t[3]+t[4])/3),g.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var d={period:20,values:v,stdDev:2},h=ue.a.calculate(d),p=(h=ue.a.calculate(d),{values:o,period:14}),f=me.a.calculate(p);if(a.setState({chartStaticData:i,bblastValue:h[h.length-1],vwapvalue:ge()(l),rsiValues:f.slice(Math.max(u.length-19,1)),valumeData:u.slice(Math.max(u.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(g);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+new Date(t.time).toLocaleString()+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),n&&n.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),n.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(n)),a.setState({InstrumentHistroy:n});var y=0,b=0;n.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(y+=1),e<=-.3&&(b+=1),e}),a.setState({downMoveCount:b,upsideMoveCount:y})}}})},a.state={totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",symbolList:[],actionList:localStorage.getItem("actionList")&&JSON.parse(localStorage.getItem("actionList"))||[],timeFrame:"FIFTEEN_MINUTE",softedIndexList:[],cursor:"",isSpeek:"true"===localStorage.getItem("isSpeek"),sortedType:"pChange",sluglist:{"NIFTY 50":"nifty","NIFTY AUTO":"cnxAuto","NIFTY BANK":"bankNifty","NIFTY ENERGY":"cnxEnergy","NIFTY FIN SERVICE":"cnxFinance","NIFTY FMCG":"cnxFMCG","NIFTY IT":"cnxit","NIFTY MEDIA":"cnxMedia","NIFTY METAL":"cnxMetal","NIFTY PHARMA":"cnxPharma","NIFTY PSU BANK":"cnxPSU","NIFTY REALTY":"cnxRealty","NIFTY PVT BANK":"niftyPvtBank","NIFTY CONSUMPTION":"cnxConsumption","NIFTY CPSE":"cpse","NIFTY INFRA":"cnxInfra","NIFTY MNC":"cnxMNC","NIFTY PSE":"cnxPSE","NIFTY NEXT 50":"juniorNifty","NIFTY MIDCAP 50":"niftyMidcap50","NIFTY HEALTHCARE":"notfound","NIFTY OIL AND GAS":"notfound","NIFTY 100":"notfound","NIFTY CONSR DURBL":"notfond"}},a.updateSocketWatch=a.updateSocketWatch.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="WS Bid Live",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var e=JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i},function(){this.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),this.updateSocketDetails(this.wsClint)});var r=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var l=window.innerWidth,o=Object(Ie.a)(r,{width:l/2,height:400,timeVisible:!0,secondsVisible:!0}),s=o.addCandlestickSeries(),c=o.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),m=o.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:o,candleSeries:s,smaLineSeries:c,volumeSeries:m}),this.getUpdateIndexData(),setInterval(function(){t.state.token&&t.showStaticChart()},1e3)}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{LoadSymbolDetails:this.LoadSymbolDetails}),i.a.createElement(F.a,{direction:"row",container:!0},i.a.createElement(F.a,{item:!0,xs:6,sm:6},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement("span",null,"Sorted By:  ",this.state.sortedType," ")," ",i.a.createElement("br",null),i.a.createElement("span",null,"Update: ",this.state.lastUpdateAction," ")),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Ei.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},this.state.softedIndexList&&this.state.softedIndexList.map(function(t){return i.a.createElement(De.a,{style:{color:t.percChange>0?"green":"red"},value:t.indexName},t.indexName," (",t.percChange,"%)")}),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)}),"\u03c0",i.a.createElement(De.a,{value:"Securities in F&O"},"Securities in F&O"))))),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,null,i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("buytosellTime")}}," T B Q"),"  "),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("pChange")}}," Symbol")," "),i.a.createElement(Xt.a,null,i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("selltobuyTime")}}," T S Q"),"  ")))),i.a.createElement("div",{style:{overflow:"auto",maxHeight:"720px"}},i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Zt.a,null,this.state.symbolList?this.state.symbolList.map(function(e,a){return i.a.createElement(Gt.a,{selected:t.state.cursor===a?"active":null,style:{cursor:"pointer"},hover:!0,key:a,onClick:function(){return t.showStaticChart(e.token,e.symbol)}},i.a.createElement(Xt.a,{title:"total buying bids qty",style:{background:e.highlightbuy?"#FFFF00":""}},e.buytosellTime?"B: ".concat(e.buytosellTime):"",t.convertToFloat(e.totalBuyQuantity)),i.a.createElement(Xt.a,{align:"left",style:{background:t.getPercentageColor(e.pChange)}},"    ",e.name," ",e.ltp," ",e.pChange?"(".concat(e.pChange,"%)"):""," "),i.a.createElement(Xt.a,{title:"Average Price",style:{height:"25px",background:e.ltp?e.ltp>=e.averagePrice?"green":"red":"white"}},"AP:",e.averagePrice),i.a.createElement(Xt.a,{title:"total selling bid qty",style:{background:e.highlightsell?"#FFFF00":""}},e.selltobuyTime?"S: ".concat(e.selltobuyTime):"",t.convertToFloat(e.totalSellQuantity)),i.a.createElement(Xt.a,{title:"Open Price"},"O:",e.openPrice),i.a.createElement(Xt.a,{title:"High Price"},"H:",e.highPrice),i.a.createElement(Xt.a,{title:"Low Price"},"L:",e.lowPrice))}):i.a.createElement(pe.a,null)))))),i.a.createElement(F.a,{item:!0,xs:6,sm:6},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:10},i.a.createElement(R.a,null,i.a.createElement("b",null," ",this.state.lightChartSymbol," "))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Ei.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D"))))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",height:"40vh"}},i.a.createElement(R.a,null," ",i.a.createElement("b",null," ",this.state.lightChartSymbol," ")," "),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Symbol",i.a.createElement("b",{style:{color:"#20d020"}}," UP(",this.state.upsideMoveCount,")")," | ",i.a.createElement("b",{style:{color:"red"}}," Down(",this.state.downMoveCount,")")," "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Chng% "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Open"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Close "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Volume"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.InstrumentHistroy&&this.state.InstrumentHistroy?this.state.InstrumentHistroy.map(function(e,a){return i.a.createElement(Gt.a,{key:a,style:{background:100*(e[4]-e[1])/e[1]>=.3?"#20d020":100*(e[4]-e[1])/e[1]<=-.3?"#e66e6e":"none"}},i.a.createElement(Xt.a,{align:"center"},t.state.tradingsymbol),i.a.createElement(Xt.a,{align:"center"},new Date(e[0]).toLocaleString()),i.a.createElement(Xt.a,{align:"center"}," ",i.a.createElement("b",null,100*(e[4]-e[1])/e[1]&&(100*(e[4]-e[1])/e[1]).toFixed(2),"%")),i.a.createElement(Xt.a,{align:"center"},e[1]),i.a.createElement(Xt.a,{align:"center"},e[2]),i.a.createElement(Xt.a,{align:"center"},e[3]),i.a.createElement(Xt.a,{align:"center"},e[4]),i.a.createElement(Xt.a,{align:"center"},e[5]))}):""))))))))}}]),e}(i.a.Component),Ei={selectStyle:{minWidth:"100%",marginBottom:"10px"}},ki=Si,Ci=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e),a.updateSocketWatch(t)},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.updateSocketWatch=function(t){var e=a.state.symbolList.map(function(t){return"nse_cm|"+t.token}),n={task:"mw",channel:e=e.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.takeAction=function(t,e){if(!(a.state.actionList.length&&a.state.actionList.filter(function(e){return e.symbol===t})).length){var n={symbol:t,action:e,updateTime:(new Date).toLocaleTimeString()};a.setState({actionList:[].concat(Object(rt.a)(a.state.actionList),[n])},function(){localStorage.setItem("actionList",JSON.stringify(this.state.actionList)),console.log(n.symbol+" "+n.action+" "+n.updateTime),this.setState({lastUpdateAction:n.symbol+" "+n.action+" "+n.updateTime}),window.document.title=n.symbol+" "+n.action+" "+n.updateTime})}},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n),r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var n=i.filter(function(e){return e.tk==t.token});if(n.length>0&&n[0].ltp&&n[0].nc){r[e].ltp=n[0].ltp,r[e].pChange=n[0].nc,r[e].totalBuyQuantity=n[0].tbq,r[e].totalSellQuantity=n[0].tsq,r[e].totalTradedVolume=n[0].v,r[e].averagePrice=n[0].ap,r[e].lowPrice=n[0].lo,r[e].highPrice=n[0].h,r[e].openPrice=n[0].op,r[e].volume=n[0].v,r[e].bestbuyquantity=n[0].bq,r[e].bestbuyprice=n[0].bp,r[e].bestsellquantity=n[0].bs,r[e].bestsellprice=n[0].sp,r[e].ltt=ce(n[0].ltt,"YYYY-MM-DD HH:mm:ss").toString(),r[e].buytosellTime=(n[0].tbq/n[0].tsq).toFixed(2),r[e].selltobuyTime=(n[0].tsq/n[0].tbq).toFixed(2);var l=a.comparePreviousVolume(t.symbol,n[0].v,n[0].ltp,t.token,t.name),o=a.updateHighLow(t.name,n[0].ltp,n[0].v,t.token);if(r[e].high=o&&o.high,r[e].low=o&&o.low,r[e].highupdated=o&&o.highupdated,r[e].lowupdated=o&&o.lowupdated,r[e].volBreakoutCount=l.brokenCount,r[e].priceVolBreakout=l.priceVolBreakout,r[e].rsi=l.rsi,console.log("high",t.high20Candle,"ltp",n[0].ltp,(new Date).toLocaleTimeString()),n[0].ltp>t.high20Candle?(t.high20Candle=n[0].ltp,t.high20CandleFlag=!0,a.speckIt(t.symbol+" higher "),document.title=t.symbol+" higher "):t.high20CandleFlag=!1,n[0].tbq/n[0].tsq>2?(r[e].highlightbuy=!0,a.takeAction(t.symbol," buying")):r[e].highlightbuy=!1,n[0].tsq/n[0].tbq>2?(r[e].highlightsell=!0,a.takeAction(t.symbol," selling")):r[e].highlightsell=!1,a.state.token==t.token&&a.setState({livePrice:n[0].ltp,livePChange:n[0].nc}),l.priceVolBreakout&&n[0].ltp>=200&&n[0].ltp<=1e4&&(new Date).getHours()>10&&(new Date).getHours()<15&&!localStorage.getItem(r[e].symbol)){localStorage.setItem(r[e].symbol,"found at "+(new Date).toLocaleTimeString()),a.speckIt((r[e].symbol+" price volume Breakout ").toLocaleLowerCase()),console.log(r[e].name,n[0].ltp," price volume Breakout");var s={token:r[e].token,symbol:r[e].symbol,qtyToTake:1,producttype:"INTRADAY"};de.historyWiseOrderPlace(s,"BUY","no",a.callbackAfterOrderDone)}localStorage.setItem(r[e].symbol,"ok")}});var l=a.state.sortedType;r&&r.sort(function(t,e){return e[l]-t[l]}),a.setState({symbolList:r},function(){})},t.onerror=function(t){console.log("socket error",t),a.makeConnection(a.wsClint)},setInterval(function(){console.log("this.wsClint",a.wsClint),1!=a.wsClint.readyState&&a.makeConnection(a.wsClint);var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)},59e3)},a.calculateRSI=function(t){var e=[];t.forEach(function(t){e.push(t.p)});var a={values:e,period:14};return me.a.calculate(a)},a.comparePreviousVolume=function(t,e,n,i,r){var l=(localStorage.getItem("liveCandleHistory")&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[]).filter(function(e){return e.s==t});if(l.length>0){var o,s=e-l[l.length-1].v,c=0,m=0;if(o=a.calculateRSI(l),s>l[l.length-1].cv){for(var u=l.length-1;u>0&&s>l[u].cv;u--)c++;var v=100*(n-l[l.length-1].p)/l[l.length-1].p;v.toFixed(2);if(c>=5&&v>=.45){if(!localStorage.getItem(t)){a.speckIt(g);var g="price and volume breakout in "+t+" with "+c+" candles with "+v.toFixed(2)+"%";console.log(g,l[l.length-1],s,(new Date).toLocaleTimeString()),a.setState({volumePriceBONames:a.state.volumePriceBONames+" VP Buy"+r+"at"+(new Date).toLocaleTimeString()+"\n"}),a.showStaticChart(i,r,0)}m=1}}return{cv:s,brokenCount:c,priceVolBreakout:m,dayPriceVolBreakout:0,rsi:o[o.length-1]}}return{cv:e,brokenCount:0,priceVolBreakout:0,dayPriceVolBreakout:0,rsi:0}},a.updateHighLow=function(t,e,n,i){var r=localStorage.getItem("OriginalHist")&&JSON.parse(localStorage.getItem("OriginalHist"))||[],l=r.filter(function(e){return e.s==t}),o=l.length?l[0].d:[],s=o[o.length-1],c=!1,m=!1;if(0!=9e5-Date.now()%9e5-1e3){if(s){e>s[2]&&(s[2]=e),e<s[3]&&(s[3]=e);for(var u=0,v=0,g=o[0][3],d=0;d<o.length;d++){var h=o[d];new Date(h[0]).getDate()==(new Date).getDate()&&(u+=h[5],h[2]>v&&(v=h[2]),h[3]<g&&(g=h[3]))}e>v&&(c=!0,console.log("higher high updated",t,e,v),a.setState({dayhighLow:[].concat(Object(rt.a)(a.state.dayhighLow),[{name:t,token:i,type:"dayhigh",time:(new Date).toLocaleTimeString()}])}),a.showStaticChart(i,t,0),a.speckIt(t+" at day high")),e<g&&(m=!0,a.setState({dayhighLow:[].concat(Object(rt.a)(a.state.dayhighLow),[{name:t,token:i,type:"daylow",time:(new Date).toLocaleTimeString()}])}),console.log("lower low updated",t,e,g),a.showStaticChart(i,t,0),a.speckIt(t+" at day low")),s[5]=n-u}return localStorage.setItem("OriginalHist",JSON.stringify(r)),{high:s&&s[2],low:s&&s[3],lowupdated:m,highupdated:c}}o.push([ce(new Date).format("YYYY-MM-DDTHH:mm:ss+05:30"),e,e,e,e,0])},a.calculateCandleVolume=function(t){a.state.symbolList.forEach(function(e){var n=a.comparePreviousVolume(e.symbol,e.volume,e.ltp,e.token,e.name),i={s:e.symbol,t:new Date,v:e.volume,cv:n.cv,p:e.ltp,ch:e.pChange};e.volBreakoutCount=n.brokenCount,e.priceVolBreakout=n.priceVolBreakout,e.rsi=n.rsi,console.log(e.symbol," RSI ",n.rsi,(new Date).toLocaleTimeString()),a.setState({symbolList:a.state.symbolList}),a.setState({liveCandleHistory:[].concat(Object(rt.a)(a.state.liveCandleHistory),[i])},function(){"noSyncVol"!=t&&localStorage.setItem("liveCandleHistory",JSON.stringify(a.state.liveCandleHistory))})})},a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.storeChartData=function(){var t={dtime:ce(new Date,"YYYY-MM-DD HH:mm:ss").toString(),symbolList:[a.state.symbolList[0]],analysis:!0};O.saveCandleHistory(t).then(function(t){t.data&&console.log(t.data)}).catch(function(t){}).finally(function(t){})},a.getUpdateIndexData=function(){a.setState({softedIndexList:[]}),O.allIndicesDirectJSON().then(function(t){if(t.data){var e=t.data&&t.data.data;e.sort(function(t,e){return e.percChange-t.percChange});for(var n=0;n<e.length;n++){var i=e[n];a.state.sluglist[i.indexName]&&a.setState({softedIndexList:[].concat(Object(rt.a)(a.state.softedIndexList),[i])})}a.makeConnection(a.wsClint)}}).catch(function(t){}).finally(function(t){})},a.speckIt=function(t){if(a.state.isSpeek){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)}},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.onChangeWatchlist=function(t){var e;a.setState((e={},Object(f.a)(e,t.target.name,t.target.value),Object(f.a)(e,"cursor",0),e),function(){var e=this,a=this.state.staticData[this.state.selectedWatchlist];"gainerList"==this.state.selectedWatchlist&&(a=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))),"looserList"==this.state.selectedWatchlist&&(a=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))),this.setState({symbolList:a,originalList:a},function(){return a&&e.updateSocketWatch(e.wsClint)}),"candleHistoryFlag"!=t.target.name&&(this.updatePreviousVolume(),this.updateOriginalHist())})},a.updateOriginalHist=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=localStorage.getItem("OriginalHist")&&JSON.parse(localStorage.getItem("OriginalHist"))||[],n=a.state.staticData[a.state.selectedWatchlist],i=it.a.mark(function t(i){var r,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],"YYYY-MM-DD HH:mm",o=ce(new Date),s=ce(o,"DD-MM-YYYY").subtract(4,"days"),l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(o).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=a.data.slice(a.data.length-20,a.data.length);if(e.filter(function(t){return t.s==r.name}).length>0)for(var i=0;i<e.length;i++)console.log("OriginalHist",e[i].s,r.name),e[i].s==r.name&&(e[i].d=n);else e.push({s:r.name,d:n});localStorage.setItem("OriginalHist",JSON.stringify(e))}else console.log("candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),r=0;case 4:if(!(r<n.length)){t.next=9;break}return t.delegateYield(i(r),"t0",6);case 6:r++,t.next=4;break;case 9:case"end":return t.stop()}},t)})),a.updateDayChartHighLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],n=it.a.mark(function t(n){var i,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],"YYYY-MM-DD HH:mm",l=ce(new Date),o=ce(l,"DD-MM-YYYY").subtract(7,"days"),0==a.state.listofHighLow.filter(function(t){return t.symbol==i.symbol}).length&&(r={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data;n.reverse(),console.log("lastday",i,n[1]);n[1];var r=n[0][2],l=n[0][3];n[1][2]>r&&(r=n[1][2]),n[1][3]<l&&(l=n[1][3]);var o=ce("9:15am","h:mma"),s=ce("3:30pm","h:mma"),c=ce(new Date,"h:mma");ce().isoWeekday()<=5&&c.isBetween(o,s)&&(r=n[1][2],l=n[1][3],n[2][2]>r&&(r=n[2][2]),n[2][3]<l&&(l=n[2][3]));var m={symbol:i.symbol,high:r,low:l};a.setState({listofHighLow:[].concat(Object(rt.a)(a.state.listofHighLow),[m])},function(){console.log("highlow",this.state.listofHighLow),localStorage.setItem("listofHighLow",JSON.stringify(this.state.listofHighLow))})}else console.log(" candle data emply")})),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<e.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.updatePreviousVolume=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],n=it.a.mark(function t(n){var i,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],"YYYY-MM-DD HH:mm",l=ce(new Date),o=ce(l,"DD-MM-YYYY").subtract(2,"days"),0==a.state.listofHighLow.filter(function(t){return t.symbol==i.symbol}).length&&(r={exchange:"NSE",symboltoken:i.token,interval:a.state.timeFrame,fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data.slice(e.data.length-20,e.data.length);a.deletePrevVolume(i.symbol);for(var r=0,l=JSON.parse(localStorage.getItem("liveCandleHistory"))&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],o=n[0][2],s=0;s<n.length;s++){var c=n[s];new Date(c[0]).getDate()==(new Date).getDate()&&(r+=c[5]),c[2]>o&&(o=c[2]);var m={s:i.symbol,t:c[0],v:r,cv:c[5],p:c[4],ch:0};l.push(m)}i.high20Candle=o,console.log("high20Candle",i.symbol,o),localStorage.setItem("liveCandleHistory",JSON.stringify(l))}else console.log(" candle data emply")})),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<e.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.deletePrevVolume=function(t){for(var e=JSON.parse(localStorage.getItem("liveCandleHistory"))&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],a=[],n=0;n<e.length;n++){var i=e[n];t!=i.s&&a.push(i)}return console.log("delete symbol data",t,a),localStorage.setItem("liveCandleHistory",JSON.stringify(a)),!0},a.sortByColumn=function(t){a.state.symbolList.sort(function(e,a){return a[t]-e[t]}),a.setState({symbolList:a.state.symbolList,sortedType:t})},a.convertToDecimal=function(t){return isNaN(t)?t:t.toFixed(2)},a.convertToFloat=function(t){if(!isNaN(t))return"("+(t/1e5).toFixed(2)+"L)"},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.showStaticChart()})},a.handleKeyDown=function(t){38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),a.state.cursor===a.state.symbolList.length-1&&a.setState({cursor:0}),setTimeout(function(){a.updateCandleOnkey()},100)},a.updateCandleOnkey=function(){var t=localStorage.getItem("selectedKeyRow")&&JSON.parse(localStorage.getItem("selectedKeyRow"));t&&t.token&&t.symbol&&a.setState({tradingsymbol:t.symbol,symboltoken:t.token},function(){this.showStaticChart(t.token,t.symbol,this.state.cursor)})},a.handleChange=function(t){localStorage.setItem("isSpeek",t.target.checked),a.setState({isSpeek:t.target.checked},function(){console.log("isSpeek",a.state.isSpeek,t.target.checked)})},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e,n){console.log("token, symbol",t,e),t&&a.setState({chartStaticData:"",token:t},function(){console.log("reset done",t)}),console.log("cursor",a.state.cursor,"this.state.symbolList.length",a.state.symbolList.length);var i=ce("9:15am","h:mma");if("ONE_MINUTE"==a.state.timeFrame){var r=ce.duration("00:60:00");i=ce(new Date).subtract(r)}if(a.state.candleHistoryFlag){r=ce.duration("1000:00:00");"ONE_MINUTE"==a.state.timeFrame&&(r=ce.duration("100:00:00")),i=ce(new Date).subtract(r)}var l={exchange:"NSE",symboltoken:t||a.state.token,interval:a.state.timeFrame,fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(t){var i=z(t,"noPop");if(i&&i.data){var r=i.data,l=r.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[];r.forEach(function(t,e){o.push([t[0],t[1],t[2],t[3],t[4]]),s.push([t[5],(t[2]+t[3]+t[4])/3]),c.push(t[4]),m.push(t[2]),u.push(t[3]),v.push(t[3]),g.push(t[5]),d.push((t[2]+t[3]+t[4])/3),h.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var p={period:20,values:d,stdDev:2},f=ue.a.calculate(p),y=(f=ue.a.calculate(p),{values:c,period:14}),b=me.a.calculate(y);if(console.log(e,r[r.length-1],"Rsi",y,b),a.setState({lightChartSymbol:e,chartStaticData:l,bblastValue:f[f.length-1],vwapvalue:ge()(s),rsiValues:b.slice(Math.max(g.length-19,1)),valumeData:g.slice(Math.max(g.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(h);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Chg%: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>",a+=" Chg: <b>"+(c[1].close-c[1].open).toFixed(2)+"</b>",a+=" O: <b>"+c[1].open+"</b>",a+=" H: <b>"+c[1].high+"</b>",a+=" L: <b>"+c[1].low+"</b>",a+=" C: <b>"+c[1].close+"</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" T: <b>"+new Date(t.time).toLocaleString()+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),r&&r.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),r.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(r)),a.setState({InstrumentHistroy:r});var S=0,E=0;r.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(S+=1),e<=-.3&&(E+=1),e}),a.setState({downMoveCount:E,upsideMoveCount:S,cursor:n})}}})},a.findSymbol=function(t){var e=t.target.value,n=a.state.originalList.filter(function(t){return t.name.includes(e.toUpperCase())});a.setState({symbolList:n}),console.log(e,n),e||a.setState({symbolList:a.state.originalList})},a.copyName=function(t){navigator.clipboard.writeText(t).then(function(){q.showSuccess(t+" copied")}).catch(function(){alert("something went wrong")})},a.state={totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",symbolList:[],dayhighLow:[],actionList:localStorage.getItem("actionList")&&JSON.parse(localStorage.getItem("actionList"))||[],timeFrame:"FIFTEEN_MINUTE",softedIndexList:[],listofHighLow:localStorage.getItem("listofHighLow")&&JSON.parse(localStorage.getItem("listofHighLow"))||[],gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[],liveCandleHistory:localStorage.getItem("liveCandleHistory")&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],cursor:0,volumePriceBONames:"",candleHistoryFlag:!1,lightChartSymbol:"Select Symbol for Chart",isSpeek:"true"===localStorage.getItem("isSpeek"),sortedType:"pChange",sluglist:{"NIFTY 50":"nifty","NIFTY AUTO":"cnxAuto","NIFTY BANK":"bankNifty","NIFTY ENERGY":"cnxEnergy","NIFTY FIN SERVICE":"cnxFinance","NIFTY FMCG":"cnxFMCG","NIFTY IT":"cnxit","NIFTY MEDIA":"cnxMedia","NIFTY METAL":"cnxMetal","NIFTY PHARMA":"cnxPharma","NIFTY PSU BANK":"cnxPSU","NIFTY REALTY":"cnxRealty","NIFTY PVT BANK":"niftyPvtBank","NIFTY CONSUMPTION":"cnxConsumption","NIFTY CPSE":"cpse","NIFTY INFRA":"cnxInfra","NIFTY MNC":"cnxMNC","NIFTY PSE":"cnxPSE","NIFTY NEXT 50":"juniorNifty","NIFTY MIDCAP 50":"niftyMidcap50","NIFTY HEALTHCARE":"notfound","NIFTY OIL AND GAS":"notfound","NIFTY 100":"notfound","HIGH BETA STOCK":"notfound","NIFTY CONSR DURBL":"notfond"}},a.updateSocketWatch=a.updateSocketWatch.bind(Object(k.a)(a)),a.nameInput=i.a.createRef(),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="WS Bid Live",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist],originalList:this.state.staticData[this.state.selectedWatchlist]},function(){t.calculateCandleVolume();var e=9e5-Date.now()%9e5;e-=1e3;var a=5;"FIFTEEN_MINUTE"==t.state.timeFrame&&(a=15),"TEN_MINUTE"==t.state.timeFrame?a=10:"FIVE_MINUTE"==t.state.timeFrame?a=5:"ONE_MINUTE"==t.state.timeFrame&&(a=1);var n=1e3*(59-(new Date).getSeconds());console.log("next59Exec",n,"msToNextRounded5Min",e,(new Date).toLocaleTimeString()),setTimeout(function(){setInterval(t.calculateCandleVolume,6e4*a),console.log("nextExeced",(new Date).toLocaleTimeString()),t.calculateCandleVolume()},e)});var e=JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i},function(){this.wsClint=new Pe.w3cwebsocket("ws://smartapisocket.angelone.in/smart-stream"),this.updateSocketDetails(this.wsClint)});var r=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var l=window.screen.width/3.1,o=window.screen.height/2;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(l=window.screen.width);var s=Object(Ie.a)(r,{width:l,height:o,timeVisible:!0,secondsVisible:!0}),c=s.addCandlestickSeries(),m=s.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),u=s.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:s,candleSeries:c,smaLineSeries:m,volumeSeries:u}),this.getUpdateIndexData();var v=ce("9:15am","h:mma"),g=ce("3:30pm","h:mma"),d=ce(new Date,"h:mma");ce().isoWeekday()<=5&&d.isBetween(v,g)&&setInterval(function(){t.state.token&&t.showStaticChart(t.state.token,t.state.lightChartSymbol,0)},5e3),this.updatePreviousVolume()}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{LoadSymbolDetails:this.LoadSymbolDetails}),i.a.createElement(F.a,{direction:"row",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:8,sm:6},i.a.createElement(xe.a,{style:Ti.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"gainerList"},"Gainer List ("+this.state.gainerList.length+")"),i.a.createElement(De.a,{value:"looserList"},"Looser List ("+this.state.looserList.length+")"),this.state.softedIndexList&&this.state.softedIndexList.map(function(t){return i.a.createElement(De.a,{style:{color:t.percChange>0?"green":"red"},value:t.indexName},t.indexName," (",t.percChange,"%)")}),i.a.createElement(De.a,{value:"Securities in F&O"},"Securities in F&O"),i.a.createElement(De.a,{value:"High Beta Stock"},"High Beta Stock")))),i.a.createElement(F.a,{item:!0,xs:4,sm:4},i.a.createElement("form",{name:"keyForm"},i.a.createElement("input",{id:"keyid",name:"keyid",placeholder:"Search: tcs",onKeyDown:this.handleKeyDown,onChange:this.findSymbol,autofocus:"true",type:"text"}))),i.a.createElement(F.a,{item:!0,xs:4,sm:2},i.a.createElement(M.a,{variant:"",style:{marginRight:"20px"},onClick:function(){return t.calculateCandleVolume("noSyncVol")}},"Refresh"))),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{style:{background:"buytosellTime"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("buytosellTime")}},"Buy Bids"),"  "),i.a.createElement(Xt.a,{style:{background:"pChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("pChange")}}," Symbol")," "),i.a.createElement(Xt.a,{style:{background:"selltobuyTime"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("selltobuyTime")}},"Sell Bids"),"  "),i.a.createElement(Xt.a,{style:{background:"volBreakoutCount"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("volBreakoutCount")}},"Volume"),"  "),i.a.createElement(Xt.a,{style:{background:"priceVolBreakout"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("priceVolBreakout")}},"Vol+Price"),"  "),i.a.createElement(Xt.a,{style:{background:"rsi"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("rsi")}},"RSI"),"  "),i.a.createElement(Xt.a,{style:{background:"highupdated"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("highupdated")}},"High"),"  "),i.a.createElement(Xt.a,{style:{background:"lowupdated"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("lowupdated")}},"Low"),"  "),i.a.createElement(Xt.a,{title:"20 candle high"},"Higher")))),i.a.createElement("div",{style:{overflow:"auto",maxHeight:"650px"}},i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Zt.a,null,this.state.symbolList?this.state.symbolList.map(function(e,a){return i.a.createElement(Gt.a,{onKeyDown:t.handleKeyDown,selected:t.state.cursor===a?"active":null,style:{cursor:"pointer"},hover:!0,key:a},t.state.cursor===a?localStorage.setItem("selectedKeyRow",JSON.stringify(e)):"",i.a.createElement(Xt.a,{title:"total buying bids qty",style:{background:e.highlightbuy?"#FFFF00":""}},e.buytosellTime?"".concat(e.buytosellTime):"","x",i.a.createElement("br",null),t.convertToFloat(e.totalBuyQuantity)),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{style:{background:t.getPercentageColor(e.pChange)},variant:"contained",onClick:function(){return t.showStaticChart(e.token,e.name,a)}},a+1,".  ",e.name," ",i.a.createElement("br",null)," ",e.ltp," ",e.pChange?"(".concat(e.pChange,"%)"):""),i.a.createElement(M.a,{onClick:function(){return t.copyName(e.name)}}," copy ")),i.a.createElement(Xt.a,{title:"Average Price",style:{height:"25px",background:e.ltp?e.ltp>=e.averagePrice?"green":"red":"white"}},"AP",i.a.createElement("br",null),e.averagePrice),i.a.createElement(Xt.a,{title:"total selling bid qty",style:{background:e.highlightsell?"#FFFF00":""}},e.selltobuyTime?"".concat(e.selltobuyTime):"","x",i.a.createElement("br",null),t.convertToFloat(e.totalSellQuantity)),i.a.createElement(Xt.a,{title:"vbc"}," ",e.volBreakoutCount?"V: "+e.volBreakoutCount:"-","  "),i.a.createElement(Xt.a,{title:"v+P breakout",style:{background:e.priceVolBreakout?"#FFFF00":""}}," ",e.priceVolBreakout?"VP: Yes":"-",e.dayPriceVolBreakout?"Day VP":""),i.a.createElement(Xt.a,{title:"vbc"}," ",e.rsi?"RSI: "+e.rsi:"-"),i.a.createElement(Xt.a,{style:{background:e.highupdated?"green":""},title:t.state.timeFrame+"s high"}," ",e.high?e.high:"-"),i.a.createElement(Xt.a,{style:{background:e.lowupdated?"red":""},title:t.state.timeFrame+"s low"}," ",e.high?e.low:"-"),i.a.createElement(Xt.a,{style:{background:e.high20CandleFlag?"#FFFF00":""},title:"20 candle high"},e.high20Candle))}):i.a.createElement(pe.a,null)))),i.a.createElement("hr",null),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("span",null,"Sorted By:  ",this.state.sortedType," ")," ",i.a.createElement("br",null),i.a.createElement("span",null,"Update: ",this.state.lastUpdateAction," ")),i.a.createElement(F.a,{item:!0,xs:6,sm:6},i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:this.state.isSpeek,onChange:this.handleChange,"aria-label":"Speek ON/OFF"}),label:this.state.isSpeek?"Speak Yes":"Speak No"}))))),i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:10,sm:8},i.a.createElement(R.a,null," ",this.state.lightChartSymbol," ",this.state.livePrice," ",this.state.livePChange?"(".concat(this.state.livePChange,"%)"):"","  ")),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Ti.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(N.a,{htmlFor:"candleHistoryFlag"},"Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:Ti.selectStyle},i.a.createElement(N.a,{htmlFor:"candleHistoryFlag"},"History"),i.a.createElement(Oe.a,{title:"History",value:this.state.candleHistoryFlag,name:"candleHistoryFlag",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:!0},"Yes"),i.a.createElement(De.a,{value:!1},"No"))))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(fe.a,{xsDown:!0},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement("b",null," ",this.state.lightChartSymbol)," ",i.a.createElement("br",null),i.a.createElement("b",null," RSI: "),this.state.rsiValues&&this.state.rsiValues.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")}),i.a.createElement("br",null),i.a.createElement("b",null,"Vol:")," ",this.state.valumeData&&this.state.valumeData.map(function(e,a){return i.a.createElement("span",{style:{color:e>t.state.dailyAvgValume?"green":"",fontWeight:e>t.state.dailyAvgValume?"bold":""}}," ",(e/1e5).toFixed(2),"L \xa0")}),i.a.createElement("br",null),this.state.bblastValue?i.a.createElement("span",{item:!0,xs:12,sm:12},i.a.createElement("span",{title:"Green color mean price running above upper bb band",style:{color:this.state.livePrice>=this.state.bblastValue.upper?"green":"",fontWeight:"bold"}},"BB Upper: ",this.state.bblastValue.upper.toFixed(2)),i.a.createElement("br",null),"BB Middle(20 SMA): ",this.state.bblastValue.middle.toFixed(2),i.a.createElement("br",null),i.a.createElement("span",{title:"Green red mean price running below lower bb band",style:{color:this.state.livePrice<=this.state.bblastValue.lower?"red":"",fontWeight:"bold"}},"BB Lower: ",this.state.bblastValue.lower.toFixed(2)),i.a.createElement("br",null)):"",i.a.createElement("span",{item:!0,xs:12,sm:12,style:{color:this.state.livePrice>this.state.vwapvalue?"green":"red",fontWeight:"bold"}},"VWAP:  ",this.state.vwapvalue&&this.state.vwapvalue.toFixed(2)),i.a.createElement("br",null),"  ",i.a.createElement("br",null)),i.a.createElement(Te.a,{style:{padding:"1"}},i.a.createElement(R.a,null," Vol+Price Breakout"),this.state.volumePriceBONames),i.a.createElement(Te.a,{style:{padding:"1"}},i.a.createElement(R.a,null," Day high Low"),this.state.dayhighLow&&this.state.dayhighLow.map(function(t,e){return i.a.createElement("span",{style:{color:"dayhigh"==t.type?"green":"red"}},e+1,t.name," ",i.a.createElement("br",null))}))))))))}}]),e}(i.a.Component),Ti={selectStyle:{minWidth:"100%",marginBottom:"10px"}},Li=Ci,wi=a(110),xi=a.n(wi),Oi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.onChangePattern=function(t){if(a.setState(Object(f.a)({},t.target.name,t.target.value)),"NR4_Daywide_daterage"==t.target.value){var e=localStorage.getItem("backTestResultDateRange")&&JSON.parse(localStorage.getItem("backTestResultDateRange"));a.setState({dateAndTypeKeys:Object.keys(e||{}),backTestResultDateRange:e})}},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=a.state.staticData;a.setState({symbolList:e[t.target.value]},function(){this.setState({cursor:""})}),"selectall"==t.target.value&&a.setState({symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))},function(){this.setState({cursor:""})})},a.checkOpenEqualToLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState((e={openEqualHighList:[],openEqualLowList:[]},Object(f.a)(e,"openEqualLowList",[]),Object(f.a)(e,"advanceShareCount",0),Object(f.a)(e,"declineShareCount",0),Object(f.a)(e,"UnchangeShareCount",0),Object(f.a)(e,"volumeCrossedList",[]),Object(f.a)(e,"closeingEqualHighList",[]),e)),n=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],r={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(r).then(function(t){var i=z(t,"noPop"),r=i&&i.data;if(r){var l=(100*(r.ltp-r.close)/r.close).toFixed(2);if(r.nc=l,r.symbol=n.symbol,a.state.symbolList[e].ltp=r.ltp,a.state.symbolList[e].nc=l,r&&r.open==r.low)console.log("o=l",r),a.state.openEqualLowList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualLowList:[].concat(Object(rt.a)(a.state.openEqualLowList),[r])});if(console.log(n.symbol,"ltp=newhigh",r.ltp,r.high-.5*r.high/100),r&&r.ltp>=r.high-.5*r.high/100)a.state.closeingEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({closeingEqualHighList:[].concat(Object(rt.a)(a.state.closeingEqualHighList),[r])});if(r&&r.open==r.high)console.log("o=h",r),a.state.openEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualHighList:[].concat(Object(rt.a)(a.state.openEqualHighList),[r])});r.perChange>0?a.setState({advanceShareCount:a.state.advanceShareCount+1}):r.perChange<0?a.setState({declineShareCount:a.state.declineShareCount+1}):a.setState({UnchangeShareCount:a.state.UnchangeShareCount+1}),a.state.symbolList&&a.state.symbolList.sort(function(t,e){return e.nc-t.nc}),a.setState({symbolList:a.state.symbolList,tradingsymbol:n.symbol,symboltoken:n.token})}}),t.next=5,new Promise(function(t){return setTimeout(t,310)});case 5:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<a.state.symbolList.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getLTP=function(){var t={exchange:"NSE",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;a.setState({InstrumentLTP:n}),n&&n.ltp&&a.setState({InstrumentPerChange:(100*(n.ltp-n.close)/n.close).toFixed(2)})})},a.stopBacktesting=function(){a.setState({stopScaningFlag:!0})},a.backTestAnyPattern=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c,m,u;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.state.patternType+" "+a.state.selectedWatchlist+" "+ce(a.state.startDate).format("YYYY-MM-DD")+" "+ce(a.state.endDate).format("YYYY-MM-DD")+".csv",a.setState({backTestResult:[],backTestFlag:!1,filename:e}),console.log("filename",e),a.state.patternType){t.next=6;break}return q.showError("Select pattern type"),t.abrupt("return");case 6:if("NR4"!==a.state.patternType){t.next=9;break}return a.backTestNR4(),t.abrupt("return");case 9:if("NR4Trail"!==a.state.patternType){t.next=12;break}return a.backTestNR4Trail(),t.abrupt("return");case 12:if("NR4ForNextDay"!==a.state.patternType){t.next=15;break}return a.NR4ForNextDay(),t.abrupt("return");case 15:if("NR4_SameDay"!==a.state.patternType){t.next=18;break}return a.backTestNR4SameDay(),t.abrupt("return");case 18:if("StrongCandle"!==a.state.patternType){t.next=21;break}return a.backtestStrongCandle(),t.abrupt("return");case 21:if("VolumePrice"!==a.state.patternType){t.next=24;break}return a.backtestVolumePrice(),t.abrupt("return");case 24:if("VolumePriceSell"!==a.state.patternType){t.next=27;break}return a.backtestVolumePriceSell(),t.abrupt("return");case 27:if("NR4_Daywide_daterage"!==a.state.patternType){t.next=44;break}n=ce(a.state.startDate),i=ce(a.state.endDate),r=n,l=i;case 32:if(!r.isSameOrBefore(l,"day")){t.next=42;break}if(console.log("Loop at ".concat(r.format("DD-MM-YYYY"))),a.backTestNR4DatewiseRange(r),!a.state.stopScaningFlag){t.next=37;break}return t.abrupt("break",42);case 37:return t.next=39,new Promise(function(t){return setTimeout(t,310*a.state.symbolList.length)});case 39:r.add(1,"days"),t.next=32;break;case 42:return a.setState({backTestFlag:!0,stopScaningFlag:!1}),t.abrupt("return");case 44:a.setState({backTestResult:[],backTestFlag:!1}),console.log("pattername",a.state.patternType),o=a.state.symbolList,s=1,c=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o[e],u={exchange:"NSE",symboltoken:n.token,interval:"FIFTEEN_MINUTE",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(u).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,r=0;r<i.length-35;r++){var l=i.slice(r,r+10),o=i.slice(r+10,r+35);if(console.log("\n"),l.length>=10&&new Date(i[r][0]).toLocaleTimeString()<"14:15:00")switch(a.state.patternType){case"TweezerTop":a.backtestTweezerTop(l,n.symbol,o);break;case"TweezerBottom":a.backtestTweezerBottom(l,n.symbol,o)}s+=i.length}else console.log(" candle data emply")}),t.next=5,new Promise(function(t){return setTimeout(t,300)});case 5:a.setState({stockTesting:e+1+". "+n.symbol,runningTest:s});case 6:case"end":return t.stop()}},t)}),m=0;case 50:if(!(m<o.length)){t.next=55;break}return t.delegateYield(c(m),"t0",52);case 52:m++,t.next=50;break;case 55:case"end":return t.stop()}},t)})),a.NR4ForNextDay=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({FoundPatternList:[],backTestFlag:!1}),e=a.state.symbolList,1,0,n=it.a.mark(function t(n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e[n],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return a.setState({stockTesting:n+1+". "+i.symbol}),r=ce.duration("240:00:00"),l=ce(a.state.endDate).subtract(r),o={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(l).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data;n.reverse();var r=n.slice(0,4);if(r.length>=4){var l=[],o=[];r.forEach(function(t){l.push(t[2]-t[3]),o.push([t[0],t[1],t[2],t[3],t[4]])});var s=l[0],c=0;if(l.forEach(function(t){s<=t&&(s=t,c+=1)}),4==c){var m=r[0],u=n[0];console.log(i.symbol,r,l,c,u);var v=(m[2]+m[2]/100/10).toFixed(2),g=(m[3]-m[3]/100/10).toFixed(2),d={foundAt:new Date(m[0]).toString().substr(0,25),symbol:i.symbol,token:i.token,pattenName:"NR4",SellAt:g,high:m[2],low:m[3],BuyAt:v,candleChartData:o,close:m[4]};a.nr4CheckPastPerfommance(i.token,d)}}}else console.log(i.symbol," candle data emply")}).catch(function(t){q.showError(i.symbol+" Candle data not found!")}),t.next=10,new Promise(function(t){return setTimeout(t,350)});case 10:case"end":return t.stop()}},t)}),i=0;case 5:if(!(i<e.length)){t.next=13;break}return t.delegateYield(n(i),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:i++,t.next=5;break;case 13:a.setState({backTestFlag:!0,stopScaningFlag:!1});case 14:case"end":return t.stop()}},t)})),a.findShortTraadeOnNextDay=function(t,e,n,i){var r=e[3]-e[3]/100/10,l=r+1*r/100,o=[],s=!0,c={},m="",u=i[0][3];if(console.log(t.symbol,"result candle",i),i&&i.length){for(var v=0;v<i.length;v++){var g=i[v];o.push([new Date(g[0]).getTime(),g[1],g[2],g[3],g[4]]),g[2]<u&&(u=g[3])}for(var d=0;d<i.length;d++){m=i[d],s&&m[3]<r&&(console.log(t.symbol,"taken short enty",m[3]),c={foundAt:"Short-"+new Date(m[0]).toLocaleString(),symbol:t.symbol,sellEntyPrice:r,stopLoss:l,brokerageCharges:.06,quantity:Math.floor(1e5/r),candleChartData:n},s=!1);var h=100*(r-m[3])/r;if(console.log(t.symbol,"perChange",h),!s&&h>=1){var p=r-1*r/100;c.buyExitPrice=p,c.perChange=h,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="Flat_1%_Booked";break}if(console.log(t.symbol,"high",m[2]),!s&&m[2]>=l){var f=100*(r-l)/r;c.buyExitPrice=l,c.perChange=f,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="SL_Hit";break}}if(!s&&!c.sellEntyPrice){f=100*(m[4]-r)/r;c.buyExitPrice=m[4],c.perChange=f,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="Market_End"}if(!s&&Math.floor(1e5/r)&&c.buyExitPrice){var y=100*(r-u)/r;c.highAndLow=u,c.perChngOnHighLow=y,c.candleChartDataInside=o,a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])})}}},a.findLongsTraadeOnNextDay=function(t,e,n,i){var r=e[2]+e[2]/100/10,l=r-.3*r/100,o=[],s=!0,c=!0,m=0,u={},v="",g=i[0][2];if(i&&i.length){for(var d=0;d<i.length;d++){var h=i[d];o.push([new Date(h[0]).getTime(),h[1],h[2],h[3],h[4]]),g<i[d][2]&&(g=i[d][2])}for(var p=0;p<i.length;p++){v=i[p],s&&v[2]>r&&(u={foundAt:"Long-"+new Date(v[0]).toLocaleString(),symbol:t.symbol,buyExitPrice:r,stopLoss:l,brokerageCharges:.06,quantity:Math.floor(1e5/r),candleChartData:n},s=!1);var f=100*(v[2]-r)/r;if(!s){if(c&&f>=.7){m+=1;var y=r+.1*r/100;u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Trail by 0.1% "+m+"time",c=!1}else{var b=u.sellEntyPrice,S=(100*(v[2]-b)/b).toFixed(2),E=u.buyExitPrice,k=(100*(v[2]-E)/E).toFixed(2);if(S>.7)m+=1,y=b+.25*b/100,u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Trail by 0.25% "+m+"time";else if(k>=.3&&k<=.4){m+=1,y=b+.25*b/100,u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Min range 0.3 -0.4% "+m+"time";break}}if(v[3]<=u.sellEntyPrice){console.log(t.symbol,"trail hit elementInside[3] <= sellEntyPrice",v[3],u.sellEntyPrice,new Date(v[0]).toLocaleString());break}}if(!s&&v[3]<=l){console.log(t.symbol,"SL hit elementInside[3] <= buyentrySL",v[3],l,new Date(v[0]).toLocaleString());var C=100*(l-r)/r;u.sellEntyPrice=l,u.perChange=C,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="SL_Hit";break}}if(!s&&!u.sellEntyPrice){C=100*(v[4]-r)/r;u.buyExitPrice=v[4],u.perChange=C,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Market_End"}if(!s&&Math.floor(1e5/r)&&u.buyExitPrice){var T=100*(g-r)/r;u.highAndLow=g,u.perChngOnHighLow=T,u.candleChartDataInside=o,console.log(t.symbol,"longTradeFound",u),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[u])})}}},a.backTestNR4SameDay=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1,searchFailed:0}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return o=ce.duration("240:00:00"),s=ce(a.state.endDate).subtract(o),c={exchange:"NSE",symboltoken:r.token,interval:"ONE_DAY",fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(c).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var i=e.data;i.reverse();var l=i.slice(1,5);if(l.length>=4){var o=[],s=[];l.forEach(function(t){o.push(t[2]-t[3]),s.push([t[0],t[1],t[2],t[3],t[4]])});var c=o[0],m=0;if(o.forEach(function(t){c<=t&&(c=t,m+=1)}),4==m){var u=l[0],v=i[0];s.unshift([v[0],v[1],v[2],v[3],v[4]]),console.log(r.symbol,l,o,m,v);var g=ce(v[0]).set({hour:9,minute:15}),d=ce(v[0]).set({hour:15,minute:30}),h={exchange:"NSE",symboltoken:r.token,interval:"ONE_MINUTE",fromdate:ce(g).format("YYYY-MM-DD HH:mm"),todate:ce(d).format("YYYY-MM-DD HH:mm")};O.getHistoryData(h).then(function(t){var e=z(t,"noPop");e=e&&e.data,a.findLongsTraadeOnNextDay(r,u,s,e)}).catch(function(t){q.showError(r.symbol+" FIVE_MINUTE Candle data not found!"),a.setState({searchFailed:a.state.searchFailed+1})})}}n=n+i.length-35}else console.log(r.symbol," candle data emply"),q.showError(r.symbol+" FIVE_MINUTE candle data emply!"),a.setState({searchFailed:a.state.searchFailed+1})}).catch(function(t){q.showError(r.symbol+" 1 day Candle data not found!"),a.setState({searchFailed:a.state.searchFailed+1})}),t.next=9,new Promise(function(t){return setTimeout(t,305)});case 9:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 10:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0,stopScaningFlag:!1}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.backTestNR4DatewiseRange=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestFlag:!1}),n=a.state.symbolList,i=1,0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=n[r],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return o=ce.duration("240:00:00"),s=ce(e).subtract(o),c={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(e).format("YYYY-MM-DD HH:mm")},O.getHistoryData(c).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var r=n.data;r.reverse();var o=r.slice(1,5);if(o.length>=4){var s=[],c=[];o.forEach(function(t){s.push(t[2]-t[3]),c.push([t[0],t[1],t[2],t[3],t[4]])});var m=s[0],u=0;if(s.forEach(function(t){m<=t&&(m=t,u+=1)}),4==u){var v=o[0],g=r[0];c.unshift([g[0],g[1],g[2],g[3],g[4]]);var d=e.format("DD-MM-YYYY")+" "+a.state.selectedWatchlist,h=localStorage.getItem("backTestResultDateRange")?JSON.parse(localStorage.getItem("backTestResultDateRange")):{},p=h[d]?h[d]:[];console.log(l.symbol,o,s,u,g);var f=(v[2]+v[2]/100/10).toFixed(2);if(g[2]>f){var y=100*(g[4]-f)/f,b=100*(g[2]-f)/f;y,console.log(l.symbol,v[0],"upside","same day high",v[2],"same day low",v[3],"nextdaylow",g[3],"nextdayhigh",g[2],"next day closing",g[4],y+"%");var S={foundAt:"Long - "+new Date(v[0]).toLocaleString(),symbol:l.symbol,sellEntyPrice:g[4],highAndLow:g[2],stopLoss:v[3],buyExitPrice:f,brokerageCharges:.06,perChange:y.toFixed(2),perChngOnHighLow:b.toFixed(2),squareOffAt:new Date(g[0]).toLocaleString(),quantity:Math.floor(1e4/v[2]),candleChartData:c};Math.floor(1e4/v[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[S])}),p.push(S),h[d]=p,localStorage.setItem("backTestResultDateRange",JSON.stringify(h)))}var E=(v[3]-v[3]/100/10).toFixed(2);if(g[3]<E){y=100*(E-g[4])/v[3];var k=100*(E-g[3])/v[3];y,console.log(l.symbol,v[0],"dowside","same day high",v[2],"same day low",v[3],"nextdaylow",g[3],"nextdayhigh",g[2],"next day closing",g[4],y+"%");S={foundAt:"Short - "+new Date(v[0]).toLocaleString(),symbol:l.symbol,sellEntyPrice:E,stopLoss:v[2],buyExitPrice:g[4],highAndLow:g[3],brokerageCharges:.06,perChange:y.toFixed(2),perChngOnHighLow:k.toFixed(2),squareOffAt:new Date(g[0]).toLocaleString(),quantity:Math.floor(1e4/v[3]),candleChartData:c};Math.floor(1e4/v[3])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[S])}),p.push(S),h[d]=p,console.log("backTestResultDateRange",h),localStorage.setItem("backTestResultDateRange",JSON.stringify(h)),a.setState({dateAndTypeKeys:Object.keys(h),backTestResultDateRange:h}))}}}i=i+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=9,new Promise(function(t){return setTimeout(t,300)});case 9:a.setState({stockTesting:e.format("YYYY-MM-DD")+" "+r+"1. "+l.symbol,runningTest:i});case 10:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<n.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.backTestNR4=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e[r],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return o={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var r=e.data,o=0;o<r.length-4;o++){var s=r.slice(o,o+4);if(s.length>=4&&new Date(r[o][0]).toLocaleTimeString()<"14:15:00"){s.reverse();var c=[],m=[];s.forEach(function(t){c.push(t[2]-t[3]),m.push([t[0],t[1],t[2],t[3],t[4]])});var u=c[0],v=0;if(c.forEach(function(t){u<=t&&(u=t,v+=1)}),4==v){var g=s[0],d=r[o+4];m.unshift([d[0],d[1],d[2],d[3],d[4]]);var h=(g[2]+g[2]/100/10).toFixed(2),p=(g[3]-g[3]/100/10).toFixed(2);if(d[2]>h){var f=d[a.state.longExitPriceType],y="ME@3:30pm";d[a.state.longExitPriceType]<=p&&(f=p,y="SLHit");var b=100*(f-h)/h,S=100*(d[2]-h)/h;i+=b,console.log(l.symbol,g[0],"upside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],b+"%");var E=(100*(h-p)/h).toFixed(2),k=ce(d[0]).subtract(0,"month").startOf("month").format("MMMM"),C={foundAt:"Long - "+new Date(g[0]).toLocaleString(),monthName:k,symbol:l.symbol,perChange:b.toFixed(2),perChngOnHighLow:S.toFixed(2),brokerageCharges:.06,sellEntyPrice:f,stopLoss:"".concat(p," (").concat(E,"%)"),exitStatus:y,quantity:Math.floor(1e4/g[2]),token:l.token,highAndLow:d[2],buyExitPrice:h,entryAt:g[0],squareOffAt:d[0],candleChartData:m};Math.floor(1e4/g[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[C])}),a.setState({backTestResult:a.state.backTestResult.reverse()}))}var T=(g[3]-g[3]/100/10).toFixed(2);p=(g[2]+g[2]/100/10).toFixed(2);if(d[3]<T){var L=d[a.state.longExitPriceType],w="ME@3:30pm";d[a.state.longExitPriceType]>=p&&(L=p,w="SLHit");b=100*(T-L)/g[3];var x=100*(T-d[3])/g[3];i+=b,console.log(l.symbol,g[0],"dowside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],b+"%");var O=(100*(p-T)/p).toFixed(2);k=ce(d[0]).subtract(0,"month").startOf("month").format("MMMM"),C={foundAt:"Short - "+new Date(g[0]).toLocaleString(),monthName:k,symbol:l.symbol,perChange:b.toFixed(2),perChngOnHighLow:x.toFixed(2),brokerageCharges:.06,sellEntyPrice:T,stopLoss:"".concat(p," (").concat(O,"%)"),exitStatus:w,quantity:Math.floor(1e4/g[3]),token:l.token,highAndLow:d[3],buyExitPrice:L,entryAt:g[0],squareOffAt:d[0],candleChartData:m};Math.floor(1e4/g[3])&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[C])})}}}n=n+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:r+1+". "+l.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.backtestVolumePrice=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=0;l<i.length-7;l++){var o,s,c,m=i.slice(l,l+7);if(new Date(i[l][0]).toLocaleTimeString()>"09:30:00"&&new Date(i[l][0]).toLocaleTimeString()<"14:15:00")!function(){o=[];var t=m[m.length-1],e=0,n=t[5];m.forEach(function(t){n>t[5]&&e++,o.push([t[0],t[1],t[2],t[3],t[4]])});var i=t[2]-t[3],l=100*(t[4]-t[3])/i;s=100*(t[4]-t[1])/t[1],e>=4&&l>=80&&s>.5&&(console.log(r.symbol,"backtestCandle",m,"volBreakcount",e),c={foundAt:ce(t[0]).format("DD-MM-YYYY HH:mm"),symbol:r.name,token:r.token,chartDate:t[0],candleChartData:o},a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])},function(){var t="";this.state.backTestResult.forEach(function(e){return t+=e.foundAt+"\t"+e.symbol+"\n"}),this.setState({copydata:t})}))}();n=n+i.length-35}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backtestVolumePriceSell=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=0;l<i.length-7;l++){var o,s,c,m=i.slice(l,l+7);if(new Date(i[l][0]).toLocaleTimeString()>"09:30:00"&&new Date(i[l][0]).toLocaleTimeString()<"14:15:00")!function(){o=[];var t=m[m.length-1],e=0,n=t[5];m.forEach(function(t){n>t[5]&&e++,o.push([t[0],t[1],t[2],t[3],t[4]])});var i=t[2]-t[3],l=100*(t[4]-t[3])/i;s=100*(t[4]-t[1])/t[1],e>=4&&l<=20&&s<-.5&&(console.log(r.symbol,"backtestCandle",m,"volBreakcount",e),c={foundAt:ce(t[0]).format("DD-MM-YYYY HH:mm"),symbol:r.name,token:r.token,chartDate:t[0],candleChartData:o},a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])},function(){var t="";this.state.backTestResult.forEach(function(e){return t+=e.foundAt+"\t"+e.symbol+"\n"}),this.setState({copydata:t})}))}();n=n+i.length-35}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backtestStrongCandle=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:"FIVE_MINUTE",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=function(t){s=i.slice(t,t+4),c=[],s.forEach(function(e){c.push([e[0],e[1],e[2],e[3],e[4]]);var n=100*(e[2]-e[3])/e[1];if(e[1]==e[3]&&e[2]==e[4]&&n>=.3){var l=e[0],o=i[t+1],s=l[2]+l[2]/100/10,m=l[3]-l[3]/100/10,u=o[2],v="Market End";o[2]<=m&&(u=m,v="SL Hit");var g=100*(u-s)/s,d=100*(o[2]-s)/s;g;var h=(100*(s-m)/s).toFixed(2),p={foundAt:new Date(e[0]).toLocaleString(),symbol:r.symbol,token:r.token,sellEntyPrice:u,stopLoss:"".concat(m," (").concat(h,"%)"),highAndLow:o[2],perChngOnHighLow:d.toFixed(2),buyExitPrice:s,brokerageCharges:.06,perChange:g.toFixed(2),entryAt:l[0],squareOffAt:o[0],quantity:Math.floor(1e4/l[2]),candleChartData:c,exitStatus:v};console.log("5min strong candle",p),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[p])}),a.setState({backTestResult:a.state.backTestResult.reverse()})}}),n=n+i.length-35},o=0;o<i.length-4;o++){var s,c;l(o)}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backTestNR4Trail=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e[r],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return o={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var r=e.data,o=0;o<r.length-4;o++){var s=r.slice(o,o+4);if(s.length>=4&&new Date(r[o][0]).toLocaleTimeString()<"14:15:00"){s.reverse();var c=[],m=[];s.forEach(function(t){c.push(t[2]-t[3]),m.push([t[0],t[1],t[2],t[3],t[4]])});var u=c[0],v=0;if(c.forEach(function(t){u<=t&&(u=t,v+=1)}),4==v){var g=s[0],d=r[o+4];m.unshift([d[0],d[1],d[2],d[3],d[4]]);var h=(g[2]+g[2]/100/10).toFixed(2);if(d[2]>h){var p=100*(d[a.state.longExitPriceType]-h)/h,f=100*(d[2]-h)/h;i+=p,console.log(l.symbol,g[0],"upside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],p+"%");var y={foundAt:"Long - "+new Date(g[0]).toLocaleString(),symbol:l.symbol,token:l.token,sellEntyPrice:d[a.state.longExitPriceType],stopLoss:g[3],highAndLow:d[2],perChngOnHighLow:f.toFixed(2),buyExitPrice:h,brokerageCharges:.06,perChange:p.toFixed(2),entryAt:g[0],squareOffAt:d[0],quantity:Math.floor(1e4/g[2]),candleChartData:m};Math.floor(1e4/g[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[y])}),a.setState({backTestResult:a.state.backTestResult.reverse()}))}var b=(g[3]-g[3]/100/10).toFixed(2);if(d[3]<b){p=100*(b-d[a.state.shortExitPriceType])/g[3];var S=100*(b-d[3])/g[3];i+=p,console.log(l.symbol,g[0],"dowside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],p+"%");y={foundAt:"Short - "+new Date(g[0]).toLocaleString(),symbol:l.symbol,token:l.token,sellEntyPrice:b,perChngOnHighLow:S.toFixed(2),stopLoss:g[2],highAndLow:d[3],buyExitPrice:d[a.state.shortExitPriceType],brokerageCharges:.06,perChange:p.toFixed(2),entryAt:g[0],squareOffAt:d[0],quantity:Math.floor(1e4/g[3]),candleChartData:m};Math.floor(1e4/g[3])&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[y])})}}}n=n+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:r+1+". "+l.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.nr4CheckPastPerfommance=function(t,e){var n=ce.duration("4320:00:00"),i=ce(a.state.endDate).subtract(n),r=0,l=0,o=0,s=0,c=0,m=0,u=[],v=[];console.log("starting function foundStock",e);var g={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")};O.getHistoryData(g).then(function(n){var i=z(n,"noPop");if(console.log("candle history",i),i&&i.data&&i.data.length){for(var g=i.data,d=0;d<g.length-4;d++){var h=g.slice(d,d+4);if(h.length>=4&&new Date(g[d][0]).toLocaleTimeString()<"14:15:00"){h.reverse();var p=[],f=[];h.forEach(function(t){p.push(t[2]-t[3]),f.push([t[0],t[1],t[2],t[3],t[4]])});var y=p[0],b=0;if(p.forEach(function(t){y<=t&&(y=t,b+=1)}),4==b){var S=h[0],E=g[d+4];f.unshift([E[0],E[1],E[2],E[3],E[4]]),console.log(t,h,p,b,S[0].toString().substr(0,25));var k=(S[2]+S[2]/100/10).toFixed(2);if(E[2]>k){var C=100*(E[4]-k)/k,T=100*(E[2]-k)/k,L={foundAt:"Long - "+new Date(S[0]).toLocaleString(),sellEntyPrice:E[4],stopLoss:S[3],highAndLow:E[2],perChngOnHighLow:T.toFixed(2),buyExitPrice:k,brokerageCharges:.06,perChange:C.toFixed(2),squareOffAt:new Date(E[0]).toLocaleString(),quantity:Math.floor(1e4/S[2]),candleChartData:f};u.push(L),r+=1,o+=C,c+=T}var w=(S[3]-S[3]/100/10).toFixed(2);if(E[3]<w){C=100*(w-E[4])/S[3];var x=100*(w-E[3])/S[3],O={foundAt:"Short - "+new Date(S[0]).toLocaleString(),sellEntyPrice:w,perChngOnHighLow:x.toFixed(2),stopLoss:S[2],highAndLow:E[3],buyExitPrice:E[4],brokerageCharges:.06,perChange:C.toFixed(2),squareOffAt:new Date(E[0]).toLocaleString(),quantity:Math.floor(1e4/S[3]),candleChartData:f};v.push(O),l+=1,s+=C,m+=x}}}}var D={totalLongs:r,totalShort:l,totalLongPer:o.toFixed(2),totalShortPer:s.toFixed(2),totalLongHighPer:c.toFixed(2),totalShortLowPer:m.toFixed(2)};e&&(e.pastPerferm=D),e.longCandles=u,e.shortCandles=v,console.log("foundStock",e),Math.floor(1e4/S[4])&&(a.setState({FoundPatternList:[].concat(Object(rt.a)(a.state.FoundPatternList),[e])}),localStorage.setItem("FoundPatternList",JSON.stringify(a.state.FoundPatternList)))}else console.log(t," candle data emply")})},a.backtestTweezerTop=function(t,e,n){if(t&&t.length>0){for(var i=(t=t.reverse())[2]&&t[2][2],r=t[2]&&t[2][3],l=3;l<t.length;l++)i<t[l][2]&&(i=t[l][2]),t[l][3]<r&&(r=t[l][3]);var o=t[9][3],s=t[2][2],c={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},m={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},u=100*(s-o)/o,v=m.low<c.low?m.low:c.low,g=m.high<c.high?m.high:c.high;if(u>=1.5&&i<g&&r<v&&m.open<m.close&&c.open>c.close&&Math.round(m.close)==Math.round(c.open)&&Math.round(m.open)==Math.round(c.close)&&(console.log("%c"+new Date(t[0][0]).toString(),"color: #20d020"),console.log(e,"last 8th candle diff% ",u,"10th Low",o,"3rd high",s),console.log(e,"maxHigh",i,"maxLow",r),console.log("last10Candle",t),console.log(e,"perfect twisser top done close=open || open=close"),console.log("next10Candle",n),n&&n.length)){for(var d=(g+g/100/10).toFixed(2),h=(v-v/100/10).toFixed(2),p=0;p<n.length;p++){if(n[p][2]>d){d,n[p][0];break}if("15:15:00"==new Date(n[p][0]).toLocaleTimeString()){n[p][4],n[p][0];break}}for(var f=n[0][4],y=1;y<n.length&&(n[y][4]<f&&(f=n[y][4],n[y][0]),"15:15:00"!=new Date(n[y][0]).toLocaleTimeString());y++);for(var b=d,S=0;S<n.length;S++){if(!(b>n[S][2])){b=n[S][4].toFixed(2),n[S][0];break}if(b=(n[S][2]+n[S][2]/100/4).toFixed(2),n[S][0],"15:15:00"==new Date(n[S][0]).toLocaleTimeString())break}for(var E=0,k="",C=0;C<n.length;C++){if(100*(n[C][3]-h)/h<-.7){E=n[C][3],k=n[C][0];break}if(n[C][2]>d){E=d,k=n[C][0];break}if("15:15:00"==new Date(n[C][0]).toLocaleTimeString()){E=n[C][3],k=n[C][0];break}}for(var T=0;T<n.length;T++){if(100*(n[T][3]-h)/h<=-1.5){n[T][3],n[T][0];break}if(n[T][2]>d){d,n[T][0];break}if("15:15:00"==new Date(n[T][0]).toLocaleTimeString()){n[T][3],n[T][0];break}}var L=localStorage.getItem("backTestResult")?JSON.parse(localStorage.getItem("backTestResult")):[];if(n[0][3]<v||n[1][3]<v||n[2][3]<v){var w={foundAt:new Date(t[0][0]).toLocaleString(),symbol:e,sellEntyPrice:h,stopLoss:d,orderActivated:!1,buyExitPrice:0,brokerageCharges:.06,quantity:Math.floor(1e4/h)};w.orderActivated=!0,w.squareOffAt=new Date(k).toLocaleString(),w.buyExitPrice=E,w.perChange=(100*(w.sellEntyPrice-w.buyExitPrice)/w.sellEntyPrice).toFixed(2),L.push(w),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[w])})}}}a.setState({backTestFlag:!0})},a.backtestTweezerBottom=function(t,e,n){if(t&&t.length>0){for(var i=(t=t.reverse())[2]&&t[2][2],r=t[2]&&t[2][3],l=3;l<t.length;l++)i<t[l][2]&&(i=t[l][2]),t[l][3]<r&&(r=t[l][3]);var o=t[9][3],s=t[2][2],c={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},m={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},u=100*(s-o)/o,v=m.low<c.low?m.low:c.low,g=m.high<c.high?m.high:c.high;if(u<=-1.5&&g<i&&v<r&&m.open>m.close&&c.close>c.open&&(Math.round(m.close)==Math.round(c.open)||Math.round(m.open)==Math.round(c.close))&&(console.log("%c"+new Date(t[0][0]).toString(),"color: #20d020"),console.log(e,"last 8th candle diff% ",u,"10th Low",o,"3rd high",s),console.log(e,"maxHigh",i,"maxLow",r),console.log("last10Candle",t),console.log(e,"perfect twisser top done close=open || open=close"),console.log("next10Candle",n),n&&n.length)){for(var d=(g+g/100/10).toFixed(2),h=(v-v/100/10).toFixed(2),p=0,f="",y=0;y<n.length;y++){if(n[y][2]<h){p=h,f=n[y][0];break}if("15:15:00"==new Date(n[y][0]).toLocaleTimeString()){p=n[y][4],f=n[y][0];break}}for(var b=n[0][4],S=1;S<n.length&&(b<n[S][4]&&(b=n[S][4],n[S][0]),"15:15:00"!=new Date(n[S][0]).toLocaleTimeString());S++);for(var E=h,k=0;k<n.length;k++){if(!(E>n[k][2])){E=n[k][4].toFixed(2),n[k][0];break}if(E=(n[k][2]+n[k][2]/100/4).toFixed(2),n[k][0],"15:15:00"==new Date(n[k][0]).toLocaleTimeString())break}for(var C=0;C<n.length;C++){if(100*(n[C][3]-d)/d>.7){n[C][3],n[C][0];break}if(n[C][2]>h){h,n[C][0];break}if("15:15:00"==new Date(n[C][0]).toLocaleTimeString()){n[C][3],n[C][0];break}}for(var T=0;T<n.length;T++){if(100*(n[T][3]-d)/d>=-1.5){n[T][3],n[T][0];break}if(n[T][2]>h){h,n[T][0];break}if("15:15:00"==new Date(n[T][0]).toLocaleTimeString()){n[T][3],n[T][0];break}}var L=localStorage.getItem("backTestResult")?JSON.parse(localStorage.getItem("backTestResult")):[];if(n[0][3]<v||n[1][3]<v||n[2][3]<v){var w={foundAt:new Date(t[0][0]).toLocaleString(),symbol:e,sellEntyPrice:0,stopLoss:h,orderActivated:!1,buyExitPrice:d,brokerageCharges:.06,quantity:Math.floor(1e4/d)};w.orderActivated=!0,w.squareOffAt=new Date(f).toLocaleString(),w.sellEntyPrice=p,w.perChange=(100*(w.sellEntyPrice-w.buyExitPrice)/w.sellEntyPrice).toFixed(2),L.push(w),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[w])})}}}a.setState({backTestFlag:!0})},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"720:00:00";case"FIVE_MINUTE":case"TEN_MINUTE":case"FIFTEEN_MINUTE":case"THIRTY_MINUTE":case"ONE_HOUR":case"ONE_DAY":return"1000:00:00"}},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e,n,i){console.log("token, symbol, entryAt, exitAt",t,e,n,i),a.setState({chartStaticData:"",lightChartSymbol:e},function(){console.log("reset done",t)});var r="YYYY-MM-DD HH:mm",l=ce(n).set("hour","09").set("minute","15"),o=ce(i).set("hour","15").set("minute","30"),s={exchange:"NSE",symboltoken:t,interval:a.state.timeFrame,fromdate:ce(l).format(r),todate:ce(o).format(r)};O.getHistoryData(s).then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data,o=i.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];i.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3),p.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var f={period:20,values:h,stdDev:2},y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);var b={values:m,period:14},S=me.a.calculate(b);if(console.log(t,"Rsi",b,S),console.log(t,"vwap",c,ge()(c)),a.setState({chartStaticData:o,bblastValue:y[y.length-1],vwapvalue:ge()(c),rsiValues:S.slice(Math.max(d.length-19,1)),valumeData:d.slice(Math.max(d.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(p);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+new Date(t.time).toLocaleString()+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),i&&i.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),i.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(i)),a.setState({InstrumentHistroy:i});var E=0,k=0,C=0;i.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(E+=1),e<=-.3&&(k+=1),C+=e}),a.setState({downMoveCount:k,upsideMoveCount:E,totalPerchentageChange:C,startingFrom:ce(l).format(r)})}}})},a.checkSlowMotionStock=function(t,e){var n=ce.duration("240:00:00"),i=ce(new Date).subtract(n),r={exchange:"NSE",symboltoken:t,interval:"FIVE_MINUTE",fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(r).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){for(var i=n.data,r=0,l=i.length-375;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.4&&(r+=1,console.log(e.symbol,s,o[0])),s<=-.4&&(r+=1,console.log(e.symbol,s,o[0]))}}console.log("Totalcount",e.symbol,r),r<=15&&(e.bigCandleCount=r,a.setState({slowMotionStockList:[].concat(Object(rt.a)(a.state.slowMotionStockList),[e])},function(){localStorage.setItem("slowMotionStockList",JSON.stringify(this.state.slowMotionStockList))}))}})},a.checkSlowMotionCheckLive=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.slowMotionStockList[e],"YYYY-MM-DD HH:mm",i=ce.duration("22:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:n.token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var i=e.data,r=0,l=i.length-3;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.7&&(r+=1),s>=0&&1}}r>=1&&(n.highlisht=!0,window.document.title="SM: "+n.symbol,console.log("hey listen, slow motion stock"+n.symbol+" broken"),a.speckIt("hey listen, slow motion stock"+n.symbol+" broken"),a.setState({slowMotionStockList:a.state.slowMotionStockList}))}}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.slowMotionStockList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.copyAll=function(){navigator.clipboard.writeText(a.state.copydata),q.showSuccess("Copied to clickboard")},a.checkLiveBids=Object(lt.a)(it.a.mark(function t(){var e,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.state.symbolList.length)){t.next=9;break}return n=a.state.symbolList[e],O.checkLiveBids(n.name).then(function(t){if(console.log("bid",t.data.data),t.data&&t.data.data.length){var e=t.data.data[0],n={totalBuyQuantity:e.totalBuyQuantity,totalSellQuantity:e.totalSellQuantity,deliveryToTradedQuantity:e.deliveryToTradedQuantity,symbol:e.symbol,orderType:e.totalBuyQuantity+"|"+e.totalSellQuantity,nc:e.pChange,ltp:e.lastPrice};a.setState({liveBidsList:[].concat(Object(rt.a)(a.state.liveBidsList),[n])},function(){localStorage.setItem("liveBidsList",JSON.stringify(this.state.liveBidsList))})}}),t.next=6,new Promise(function(t){return setTimeout(t,100)});case 6:e++,t.next=1;break;case 9:case"end":return t.stop()}},t)})),a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.dailyBasisInfoCheck=function(t,e){var n=a.getTimeFrameValue("ONE_DAY"),i=ce.duration(n),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(n){var i=z(n,"noPop"),r="";if(i&&i.data&&i.data.length){for(var l=i.data,o=[],s=0,c=l.length-20;c<l.length;c++){var m=l[c];m&&(o.push(m[4]),s+=m[5])}r=Me.a.calculate({period:20,values:o}),a.setState({dailyAvgValume:s/20});var u=r&&r[r.length-1];console.log(t,"DSMA",u),u&&a.setState({DailyBulishStatus:u,todayCurrentVolume:l[l.length-1][5]}),l[l.length-1][5]>s/20&&(console.log("crosssed voliue",e),a.setState({volumeCrossedList:[].concat(Object(rt.a)(a.state.volumeCrossedList),[e])}))}})},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.getAveragePrice=function(t){for(var e=localStorage.getItem("oderbookData"),n=0,i=0;i<e.length;i++)if("orderId"===e[i].orderid){n=e[i].averageprice,a.setState({averageprice:n});break}return n},a.showCandleChart=function(t,e,a){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),a&&localStorage.setItem("chartInfoDetails",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.showCandleBothChart=function(t){var e=t.candleChartData&&t.candleChartData.reverse();localStorage.setItem("candleChartData",JSON.stringify(e)),localStorage.setItem("cadleChartSymbol",t.symbol);var a=t.candleChartDataInside;a&&localStorage.setItem("candleChartDataInside",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.handleKeyDown=function(t){console.log("key",t.keyCode),38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),setTimeout(function(){a.updateCandleOnkey()},100)},a.state={sumPercentage:0,InstrumentPerChange:"",autoSearchList:[],isDasable:!1,isError:!1,InstrumentLTP:{},ifNotBought:!0,autoSearchTemp:[],backTestResult:[],backTestResultCSV:[],backTestFlag:!0,patternType:"VolumePrice",symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"INTRADAY",symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",longExitPriceType:4,shortExitPriceType:4,candleChartData:[],stopScaningFlag:!1,backTestResultDateRange:[],searchFailed:0,timeFrame:"FIFTEEN_MINUTE",cursor:"",FoundPatternList:localStorage.getItem("FoundPatternList")&&JSON.parse(localStorage.getItem("FoundPatternList"))||[],fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){window.document.title="Backtest",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var t=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var e=Object(Ie.a)(t,{width:550,height:400,timeVisible:!0,secondsVisible:!0}),a=e.addCandlestickSeries(),n=e.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),i=e.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:e,candleSeries:a,smaLineSeries:n,volumeSeries:i})}},{key:"render",value:function(){var t=this,e={myCallback:this.myCallback,startDate:"",endDate:"",firstLavel:"Start Date and Time",secondLavel:"End Date and Time"};console.log("backTestResult",this.state.backTestResult);var a=0,n=0,r=0,l=0,o=0,s=0,c=0,m=0,u=0,v=0,g=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(R.a,{style:{textAlign:"center",background:"lightgray"}},"Backtest"),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Di.selectStyle},i.a.createElement(N.a,{htmlFor:"Nationality"},"Pattern Type"),i.a.createElement(Oe.a,{value:this.state.patternType,name:"patternType",onChange:this.onChangePattern},i.a.createElement(De.a,{value:"TweezerTop"},"Tweezer Top"),i.a.createElement(De.a,{value:"TweezerBottom"},"Tweezer Bottom"),i.a.createElement(De.a,{value:"NR4"},"NR4 @ 3:30pm "),i.a.createElement(De.a,{value:"NR4Trail"},"Narrow Range 4 - Trail"),i.a.createElement(De.a,{value:"NR4ForNextDay"},"NR4 For Next Day"),i.a.createElement(De.a,{value:"NR4_SameDay"},"NR4 ByDate"),i.a.createElement(De.a,{value:"NR4_Daywide_daterage"},"NR4 Daywise Range"),i.a.createElement(De.a,{value:"StrongCandle"},"5min Strong Candle"),i.a.createElement(De.a,{value:"VolumePrice"},"Volume Price Buy"),i.a.createElement(De.a,{value:"VolumePriceSell"},"Volume Price Sell")))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Di.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Ce,{callbackFromParent:e})),i.a.createElement(F.a,{item:!0,xs:12,sm:4,style:{marginTop:"5px"}},this.state.backTestFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.backTestAnyPattern()}},"Search"):i.a.createElement(i.a.Fragment,null," ",i.a.createElement(M.a,null," ",i.a.createElement(pe.a,null)," \xa0 ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.stopBacktesting()}},"Stop Scaning")," \xa0  ",this.state.stockTesting," ",this.state.runningTest,"  "),"   "),"\xa0 Failed: ",this.state.searchFailed)),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{style:{background:"lightgray"}},i.a.createElement(Xt.a,{style:{color:localStorage.getItem("sumPerChange")>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.getItem("sumPerChange"),"%")),i.a.createElement(Xt.a,{style:{color:localStorage.getItem("sumPnlValue")>0?"#20d020":"#e66e6e"}},localStorage.getItem("sumPnlValue")),i.a.createElement(Xt.a,{style:{color:localStorage.getItem("sumPerChangeHighLow")>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.getItem("sumPerChangeHighLow"),"%")),i.a.createElement(Xt.a,{style:{color:localStorage.getItem("sumPnlValueOnHighLow")>0?"#20d020":"#e66e6e"}},localStorage.getItem("sumPnlValueOnHighLow")),i.a.createElement(Xt.a,{title:"Total Trades"},"T.T: ",this.state.backTestResult&&this.state.backTestResult.length," \xa0 W: ",localStorage.getItem("totalWin")," L: ",localStorage.getItem("totalLoss")),i.a.createElement(Xt.a,{title:"L:long S:short",colSpan:2},"L: ",localStorage.getItem("totalLongTrade")," S:  ",this.state.backTestResult&&this.state.backTestResult.length-localStorage.getItem("totalLongTrade")),i.a.createElement(Xt.a,{title:"ME: MarketEnd SL: Stop Loss",colSpan:2}," ME: ",localStorage.getItem("totalMarketEnd")," SL: ",localStorage.getItem("totalSlHit")),i.a.createElement(Xt.a,{title:"TI: Total Invested ",colSpan:2}," TI:  ",localStorage.getItem("totalInvestedValue")),i.a.createElement(Xt.a,{title:" Average gross/trade PnL: ",colSpan:4}," A.g/t PnL:  ",i.a.createElement("b",{style:{color:localStorage.getItem("sumPerChange")/this.state.backTestResult.length>0?"#20d020":"#e66e6e"}},(localStorage.getItem("sumPerChange")/this.state.backTestResult.length).toFixed(2),"%"),"\xa0 ",i.a.createElement(xi.a,{filename:this.state.filename,data:this.state.backTestResult}),i.a.createElement("button",{onClick:function(){return t.copyAll()}},"Copy"))),i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"CPnl% "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"CNetPnL "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLPnL% "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLNet PnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Entry"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"ExitStatus"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Buy"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sell(Qty)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"High/Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"StopLoss"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Day Chart ")))),"NR4"==this.state.patternType||"TweezerTop"==this.state.patternType||"TweezerBottom"==this.state.patternType||"NR4_SameDay"==this.state.patternType||"StrongCandle"==this.state.patternType||"VolumePrice"==this.state.patternType||"VolumePriceSell"==this.state.patternType?i.a.createElement("div",{style:{overflow:"auto",maxHeight:"550px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.backTestResult?this.state.backTestResult.map(function(e,d){return i.a.createElement(Gt.a,{hover:!0,key:d},i.a.createElement(Xt.a,Object.assign({style:{color:e.perChange>0?"#20d020":"#e66e6e"}},a+=parseFloat(e.perChange||0)),e.perChange,"%"),i.a.createElement(Xt.a,Object.assign({},c=e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity,r+=c,m+=e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity>0?1:0,u+=e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity<0?1:0,{style:{color:c>0?"#20d020":"#e66e6e"}})," ",c.toFixed(2)),i.a.createElement(Xt.a,Object.assign({style:{color:e.perChngOnHighLow>0?"#20d020":"#e66e6e"}},n+=parseFloat(e.perChngOnHighLow||0))," ",e.perChngOnHighLow,"%"),i.a.createElement(Xt.a,Object.assign({},l+=e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity,{style:{color:e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity>0?"#20d020":"#e66e6e"}}),(e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity).toFixed(2)),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showCandleBothChart(e)}},e.symbol," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,Object.assign({style:{color:e.foundAt&&0==e.foundAt.indexOf("Long")?"#20d020":"#e66e6e"}},s+=e.foundAt&&0==e.foundAt.indexOf("Long")?1:0),e.foundAt.substr(0,18)),i.a.createElement(Xt.a,Object.assign({},v+="ME@3:30pm"===e.exitStatus?1:0,g+="SLHit"===e.exitStatus?1:0),e.exitStatus),i.a.createElement(Xt.a,null,e.buyExitPrice),i.a.createElement(Xt.a,o+=e.foundAt&&0==e.foundAt.indexOf("Long")?parseFloat(e.buyExitPrice*e.quantity):parseFloat(e.sellEntyPrice*e.quantity),e.sellEntyPrice,"(",e.quantity,")"),i.a.createElement(Xt.a,{title:"High on long side | Low in short side"},e.highAndLow),i.a.createElement(Xt.a,null,e.stopLoss),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showStaticChart(e.token,e.symbol,e.chartDate,e.chartDate)}},"Day",i.a.createElement(Dt.a,null)," ")))}):"",i.a.createElement(Gt.a,{style:{background:"lightgray"}},i.a.createElement(Xt.a,{style:{color:a>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChange",a.toFixed(2)),a.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:r>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,r.toFixed(2)),localStorage.setItem("sumPnlValue",r.toFixed(2))),i.a.createElement(Xt.a,{style:{color:n>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2)),n.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:l>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,l.toFixed(2)),localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null," ",localStorage.setItem("totalLongTrade",s)," ",localStorage.setItem("totalInvestedValue",o.toFixed(2))," "),i.a.createElement(Xt.a,null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2))," ",localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null,localStorage.setItem("totalWin",m),localStorage.setItem("totalLoss",u)," ",localStorage.setItem("totalMarketEnd",v)," ",localStorage.setItem("totalSlHit",g)," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "))))):"","NR4_Daywide_daterage"==this.state.patternType?i.a.createElement(i.a.Fragment,null,this.state.dateAndTypeKeys?this.state.dateAndTypeKeys.map(function(e){return i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table",style:{padding:"5px"}},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{style:{background:"lightgray"},key:e},i.a.createElement(Xt.a,{colSpan:11,className:"TableHeadFormat"}," ",e,"  ",(a=0,0,0,n=0,r=0,l=0,o=0,s=0,0))),i.a.createElement(Gt.a,{key:e+1,variant:"head",style:{fontWeight:"bold",background:"lightgray"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"}," CPnL% "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"CNetPnL "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLPnL% "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLNet PnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"FoundAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Buy"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sell(Qty)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"High/Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"SquiredOffAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"StopLoss"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},t.state.backTestResultDateRange[e].map(function(e,c){return i.a.createElement(Gt.a,{hover:!0,key:c},i.a.createElement(Xt.a,Object.assign({style:{color:e.perChange>0?"#20d020":"#e66e6e"}},a+=parseFloat(e.perChange||0)),e.perChange,"%"),i.a.createElement(Xt.a,Object.assign({},r+=e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity,{style:{color:e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity>0?"#20d020":"#e66e6e"}})," ",(e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity).toFixed(2)),i.a.createElement(Xt.a,Object.assign({style:{color:e.perChngOnHighLow>0?"#20d020":"#e66e6e"}},n+=parseFloat(e.perChngOnHighLow||0))," ",i.a.createElement("b",null,e.perChngOnHighLow,"%")),i.a.createElement(Xt.a,Object.assign({},l+=e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity,{style:{color:e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity>0?"#20d020":"#e66e6e"}}),(e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity).toFixed(2)),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showCandleChart(e.candleChartData,e.symbol)}},e.symbol," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,Object.assign({style:{color:0==e.foundAt.indexOf("Long")?"#20d020":"#e66e6e"}},s+=0==e.foundAt.indexOf("Long")?1:0),e.foundAt),i.a.createElement(Xt.a,null,e.buyExitPrice),i.a.createElement(Xt.a,o+=0==e.foundAt.indexOf("Long")?parseFloat(e.buyExitPrice*e.quantity):parseFloat(e.sellEntyPrice*e.quantity),e.sellEntyPrice,"(",e.quantity,")"),i.a.createElement(Xt.a,{title:"High on long side | Low in short side"},e.highAndLow),i.a.createElement(Xt.a,null,e.squareOffAt),i.a.createElement(Xt.a,null,e.stopLoss))}),i.a.createElement(Gt.a,{style:{background:"lightgray"}},i.a.createElement(Xt.a,{style:{color:a>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChange",a.toFixed(2)),a.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:r>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,r.toFixed(2)),localStorage.setItem("sumPnlValue",r.toFixed(2))),i.a.createElement(Xt.a,{style:{color:n>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2)),n.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:l>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,l.toFixed(2)),localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null," ",localStorage.setItem("totalLongTrade",s)," ",localStorage.setItem("totalInvestedValue",o.toFixed(2))," "),i.a.createElement(Xt.a,null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2))," ",localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "))))}):""):"","NR4ForNextDay"==this.state.patternType?i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary",gutterBottom:!0},"NR4 For Next Day  (",this.state.FoundPatternList.length,")  at ",this.state.endDate&&this.state.endDate?this.state.endDate.toString().substr(0,16):(new Date).toString().substr(0,16)):"","NR4ForNextDay"==this.state.patternType?i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sr "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"FoundAt "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Past Performance "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"BuyAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"SellAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Close"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.FoundPatternList?this.state.FoundPatternList.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a},i.a.createElement(Xt.a,null,a+1),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showCandleChart(e.candleChartData,e.symbol)}},e.symbol," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,null,e.foundAt.substr(0,16)),i.a.createElement(Xt.a,{title:"based on last one 6 month"},i.a.createElement("span",{style:{background:e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs>=1?"#92f192":""}},i.a.createElement("b",null,e.pastPerferm.totalLongs),"  Longs:  ",e.pastPerferm.totalLongPer,"% (",(e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs).toFixed(2),"% per trade)  ")," ",i.a.createElement("br",null),"Longs on High%: ",e.pastPerferm.totalLongHighPer,"%  (",(e.pastPerferm.totalLongHighPer/e.pastPerferm.totalLongs).toFixed(2),"% per trade)",i.a.createElement("br",null),e.longCandles&&e.longCandles.map(function(a,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{style:{textDecoration:"underline",background:"lightgray",cursor:"pointer"},onClick:function(){return t.showCandleChart(a.candleChartData,e.symbol,a)}}," ",a.foundAt.substr(7,10)," "),"  \xa0")}),i.a.createElement("br",null),i.a.createElement("span",{style:{background:e.pastPerferm.totalShortPer/e.pastPerferm.totalShort>=1?"#e87b7b":""}},i.a.createElement("b",null,e.pastPerferm.totalShort)," Short: ",e.pastPerferm.totalShortPer,"% (",(e.pastPerferm.totalShortPer/e.pastPerferm.totalShort).toFixed(2),"% per trade) ")," ",i.a.createElement("br",null),"Short on Low%: ",e.pastPerferm.totalShortLowPer,"% (",(e.pastPerferm.totalShortLowPer/e.pastPerferm.totalShort).toFixed(2),"% per trade)",i.a.createElement("br",null),e.shortCandles&&e.shortCandles.map(function(a,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{style:{textDecoration:"underline",background:"lightgray",cursor:"pointer"},onClick:function(){return t.showCandleChart(a.candleChartData,e.symbol,a)}}," ",a.foundAt.substr(7,10),"  ")," \xa0")})),i.a.createElement(Xt.a,null,e.BuyAt),i.a.createElement(Xt.a,null,e.SellAt),i.a.createElement(Xt.a,null,e.high),i.a.createElement(Xt.a,null,e.low),i.a.createElement(Xt.a,null,e.close))}):"")):"")))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Di.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:12,sm:10},i.a.createElement(R.a,null,"Same Day Chart:  ",this.state.lightChartSymbol))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",height:"40vh"}},i.a.createElement(R.a,null," Candle Data "),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Chng% ",i.a.createElement("b",{style:{color:"#20d020"}}," UP(",this.state.upsideMoveCount,")")," | ",i.a.createElement("b",{style:{color:"red"}}," Down(",this.state.downMoveCount,")")," "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Open"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Close "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Volume"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.InstrumentHistroy&&this.state.InstrumentHistroy?this.state.InstrumentHistroy.map(function(e,a){return i.a.createElement(Gt.a,{key:a,style:{background:100*(e[4]-e[1])/e[1]>=.3?"#20d020":100*(e[4]-e[1])/e[1]<=-.3?"#e66e6e":"none"}},i.a.createElement(Xt.a,null,t.state.tradingsymbol),i.a.createElement(Xt.a,null,new Date(e[0]).toLocaleString()),i.a.createElement(Xt.a,null," ",i.a.createElement("b",null,100*(e[4]-e[1])/e[1]&&(100*(e[4]-e[1])/e[1]).toFixed(2),"%")),i.a.createElement(Xt.a,null,e[1]),i.a.createElement(Xt.a,null,e[2]),i.a.createElement(Xt.a,null,e[3]),i.a.createElement(Xt.a,null,e[4]),i.a.createElement(Xt.a,null,e[5]))}):""))))))))}}]),e}(i.a.Component),Di={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Ii=Oi,Pi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.handleChange=function(t){a.setState({isSameDayDuplcate:t.target.checked},function(){console.log("isSameDayDuplcate",a.state.isSameDayDuplcate,t.target.checked)})},a.stopBacktesting=function(){a.setState({stopScaningFlag:!0})},a.readCsv=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({newJsonList:[]}),n=a.state.csvFormatInput.trim().split("\n"),i=it.a.mark(function t(i){var r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],l=r.split("\t")[1],o=r.split("\t")[0],a.setState({stockTesting:i+1+". "+l+" getting details"}),O.autoCompleteSearch(l).then(function(t){var r=t.data.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.name===l});r.length&&(r[0].startTime=o,a.setState({newJsonList:[].concat(Object(rt.a)(a.state.newJsonList),[r[0]])},function(){n.length-1==i&&e()}))}),t.next=7,new Promise(function(t){return setTimeout(t,150)});case 7:case"end":return t.stop()}},t)}),r=0;case 4:if(!(r<n.length)){t.next=9;break}return t.delegateYield(i(r),"t0",6);case 6:r++,t.next=4;break;case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.getAlltokenOfList=function(t){for(var e=[],n=[],i=[],r=a.state.csvFormatInput.trim().split("\n"),l=function(t){var i=r[t],l=i.split("\t")[1],o=i.split("\t")[0];a.setState({stockTesting:t+1+". "+l+" getting details"}),n.push({name:l,startTime:o}),e.filter(function(t){return t.name===l})[0]||e.push({name:l})},o=0;o<r.length;o++)l(o);if(a.setState({totaluniqueStocks:e.length,allQniqueStockList:e}),a.state.stockList.length>0){var s=function(t){var e=n[t],r=a.state.stockList.filter(function(t){return t.name==e.name});if(r.length>0){var l={symbol:r[0].symbol,name:r[0].name,startTime:e.startTime,token:r[0].token};i.push(l)}};for(o=0;o<n.length;o++)s(o);t(i,e,a.state.stockList)}else O.getAllListTokens(e).then(function(a){var r=a.data;if(r.length>0)for(var l=function(t){var e=n[t],a=r.filter(function(t){return t.name==e.name});if(a.length>0){var l={symbol:a[0].symbol,name:a[0].name,startTime:e.startTime,token:a[0].token};i.push(l)}},o=0;o<n.length;o++)l(o);t(i,e,r)})},a.getDateFormate=function(t,e){var a=t.split(" ")[0].split("-");return ce(a[2]+"/"+a[1]+"/"+a[0]+" "+e)},a.convertDateFormat=function(t){var e=t.split(" "),a=e[0].split("-"),n=a[2]+"/"+a[1]+"/"+a[0],i="";return e&&e[1]&&(i=ce(e[1],"HH:mm").format("HH:mm")),ce(n+" "+i)},a.getPerChangeOfStock=function(t,e){if(t.length>0){var n=t,i=a.state.entryCandlePoint,r=n[0][i];5==i&&(r=(n[0][2]+n[0][3])/2),6==i&&n.forEach(function(t){t[2]>n[0][2]+n[0][2]/100/10&&(r=n[0][2]+n[0][2]/100/10)}),7==i&&n.forEach(function(t){t[3]<n[0][3]-n[0][3]/100/10&&(r=n[0][3]-n[0][3]/100/10)});for(var l={name:e.name,symbol:e.symbol,token:e.token,entryPrice:r.toFixed(2),foundAt:ce(n[0][0]).format("YYYY-MM-DD HH:mm")},o=[],s=1;s<n.length;s++){var c=100*(n[s][4]-l.entryPrice)/l.entryPrice,m=ce(n[s][0]).format("h:mma");"ONE_DAY"==a.state.timeFrame&&(m=ce(n[s][0]).format("DD/MM/YYYY h:mma")),c<a.state.maxDrowDown&&a.setState({maxDrowDown:c.toFixed(2)}),c>a.state.maxProfit&&a.setState({maxProfit:c.toFixed(2)}),o.push({perChange:c.toFixed(2),close:n[s][4],datetime:m})}for(var u=1;u<n.length;u++){if("buy"==a.state.orderType)if(100*(n[u][2]-l.entryPrice)/l.entryPrice>=a.state.targetPer){a.setState({crossedTargetCount:a.state.crossedTargetCount+1});break}if("sell"==a.state.orderType)if(100*(n[u][3]-l.entryPrice)/l.entryPrice<=-a.state.targetPer){a.setState({crossedTargetCount:a.state.crossedTargetCount+1});break}}l.candleData=o;var v=o[o.length-1].perChange>0;l.isWinOnClosing=v,v&&a.setState({totalWinTrade:a.state.totalWinTrade+1}),l.entryPrice>0&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[l])},function(){})}else console.log(" candle data emply"),a.setState({searchFailed:a.state.searchFailed+1})},a.backTestAnyPatternStockWise=function(){a.state.csvFormatInput?(a.setState({backTestResult:[],overAllResult:[],stockWiseListOverall:[],backTestFlag:!1,filename:"",searchFailed:0,pertradePandL:0,pertradePandLNet:0}),a.setState({totalgross:0,totalAvg:0,totTrade:0,totalNet:0,totalExp:0,totalWinTrade:0,maxDrowDown:0,maxProfit:0,crossedTargetCount:0}),a.getAlltokenOfList(function(){var t=Object(lt.a)(it.a.mark(function t(e,n,i){var r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=it.a.mark(function t(r){var l,s,c,m,u,v,g,d,h;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.state.stopScaningFlag){t.next=3;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 3:if(l=n[r],console.log("unique loop",l,(new Date).toLocaleTimeString()),s=i.filter(function(t){return t.name==l.name}),!(c=s.length>0?s[0].token:"")){t.next=20;break}m=e.filter(function(t){return t.name==l.name}),a.state.isSameDayDuplcate&&(u=[],m.forEach(function(t){u.filter(function(e){return ce(e.startTime).format("YYYY-MM-DD")==ce(t.startTime).format("YYYY-MM-DD")}).length||u.push(t)}),m=u),v=[],m.forEach(function(t){v.push(a.convertDateFormat(t.startTime))}),g=v.map(function(t){return ce(t)}),d=ce.min(g),h=ce.max(g),a.state.entryTimeAt&&(d=d.format("YYYY-MM-DD")+" "+a.state.entryTimeAt),o={exchange:"NSE",symboltoken:c,interval:a.state.timeFrame,fromdate:ce(d).format("YYYY-MM-DD HH:mm"),todate:ce(h.format("YYYY-MM-DD")+" 15:30").format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){console.log("history",l,(new Date).toLocaleTimeString());for(var n=function(t){var n=m[t],i=a.convertDateFormat(n.startTime),r=ce(i.format("YYYY-MM-DD")+" 15:30"),l=e.data.filter(function(t){return ce(t[0]).isSameOrAfter(i)&&ce(t[0]).isSameOrBefore(r)});a.getPerChangeOfStock(l,n)},i=0;i<m.length;i++)n(i);a.updateStockWiseOverall()}else console.log(" candle data emply"),a.setState({searchFailed:a.state.searchFailed+1})}).catch(function(t){console.log(l.symbol,t),a.setState({searchFailed:a.state.searchFailed+1})}),t.next=21;break;case 20:return t.abrupt("return","continue");case 21:return t.next=23,new Promise(function(t){return setTimeout(t,350)});case 23:a.setState({stockTesting:r+1+". "+l.name});case 24:case"end":return t.stop()}},t)}),l=0;case 2:if(!(l<n.length)){t.next=13;break}return t.delegateYield(r(l),"t0",4);case 4:s=t.t0,t.t1=s,t.next="break"===t.t1?8:"continue"===t.t1?9:10;break;case 8:return t.abrupt("break",13);case 9:return t.abrupt("continue",10);case 10:l++,t.next=2;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}())):q.showError("Paste stocklist datetime  symbol format, tab format")},a.backTestAnyPattern=function(){a.setState({backTestResult:[],overAllResult:[],overallMonthWise:[],backTestFlag:!1,filename:"",searchFailed:0,pertradePandL:0,pertradePandLNet:0}),a.getAlltokenOfList(function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=it.a.mark(function t(n){var i,s,c,m,u;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.state.stopScaningFlag){t.next=3;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 3:return i=e[n],s=i.startTime.split(" "),c=s[0].split("-"),m=c[2]+"/"+c[1]+"/"+c[0],"9:15",s&&s[1]&&ce(s[1],"HH:mm").format("HH:mm"),r=ce(m+" 9:15"),"15:30",l=ce(m+" 15:30"),"ONE_DAY"==a.state.timeFrame&&(l=ce(r,"DD-MM-YYYY").add(5,"days"),u=ce(l).format("YYYY-MM-DD"),l=ce(u+" 15:30")),o={exchange:"NSE",symboltoken:i.token,interval:a.state.timeFrame,fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var n=e.data,r={symbol:i.symbol,token:i.token,entryPrice:n[0][4],foundAt:ce(n[0][0]).format("YYYY-MM-DD HH:mm")},l=[],o=1;o<n.length;o++){var s=100*(n[o][4]-r.entryPrice)/r.entryPrice,c=ce(n[o][0]).format("h:mma");"ONE_DAY"==a.state.timeFrame&&(c=ce(n[o][0]).format("DD/MM/YYYY h:mma")),l.push({perChange:s.toFixed(2),close:n[o][4],datetime:c})}r.candleData=l,a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[r])},function(){a.updateOverall()})}else console.log(" candle data emply"),a.setState({searchFailed:a.state.searchFailed+1})}).catch(function(t){console.log(i.symbol,t),a.setState({searchFailed:a.state.searchFailed+1})}),t.next=17,new Promise(function(t){return setTimeout(t,350)});case 17:a.setState({stockTesting:n+1+". "+i.symbol});case 18:case"end":return t.stop()}},t)}),i=0;case 2:if(!(i<e.length)){t.next=10;break}return t.delegateYield(n(i),"t0",4);case 4:if("break"!==t.t0){t.next=7;break}return t.abrupt("break",10);case 7:i++,t.next=2;break;case 10:a.setState({backTestFlag:!0});case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},a.updateOverall=function(){var t=[];a.state.backTestResult.forEach(function(e){e.candleData.forEach(function(e){t.filter(function(t){return t===e.datetime})[0]||t.push(e.datetime)})});var e=[];t.forEach(function(t){var n=0;a.state.backTestResult.forEach(function(e){for(var a=0;a<e.candleData.length;a++){var i=e.candleData[a];if(t===i.datetime){n+=parseFloat(i.perChange);break}}});var i=.06*a.state.backTestResult.length;e.push({datetime:t,sumofall:n.toFixed(2),expence:i.toFixed(2),netOverAll:(n-i).toFixed(2),noOfTrade:a.state.backTestResult.length})}),e.sort(function(t,e){return ce(e.datetime,"h:mma")-ce(t.datetime,"h:mma")}),a.setState({overAllResult:e},function(){if(a.state.overAllResult.length>0){var t=a.state.overAllResult[0].sumofall/a.state.overAllResult[0].noOfTrade,e=t-.06;a.setState({pertradePandL:t.toFixed(2),pertradePandLNet:e.toFixed(2)})}})},a.updateStockWiseOverall=function(){a.setState({stockWiseListOverall:[]});var t=[];a.state.allQniqueStockList.forEach(function(e){var n=0,i=0;a.state.backTestResult.forEach(function(t){e.name==t.name&&t.candleData.length>0&&(n+=parseFloat(t.candleData[t.candleData.length-1].perChange),i+=1)});var r=.06*i,l={name:e.name,totalSameTrade:i,sumofall:n,expence:r,netPnL:n-r};t.push(l)}),a.setState({stockWiseListOverall:t},function(){var t,e=0,n=0,i=0,r=0,l=0,o=0;a.state.stockWiseListOverall.forEach(function(t){e+=t.sumofall,n+=t.totalSameTrade,i+=t.netPnL,r+=t.expence,l+=t.netPnL>0?1:0,o+=t.netPnL<0?1:0});var s={name:"Total (Gross Avg%): "+(t=(e/n).toFixed(2)),totalSameTrade:n,sumofall:e,expence:r,netPnL:i,winCount:l,lossCount:o};a.state.stockWiseListOverall.push(s),a.setState({stockWiseListOverall:a.state.stockWiseListOverall,lossCount:o,winCount:l,totalgross:e.toFixed(2),totalAvg:t,totTrade:n,totalNet:i.toFixed(2),totalExp:r.toFixed(2)})})},a.updateMonthWise=function(){a.setState({overallMonthWise:[]});var t=[];[{name:"Jan"},{name:"Feb"},{name:"Mar"},{name:"Apr"},{name:"May"},{name:"Jun"},{name:"Jul"},{name:"Aug"},{name:"Sep"},{name:"Nov"},{name:"Dec"}].forEach(function(e){var n=0,i=0;a.state.backTestResult.forEach(function(t){var a=ce(t.foundAt).format("MMM");e.name==a&&t.candleData.length>0&&(n+=parseFloat(t.candleData[t.candleData.length-1].perChange),i+=1)});var r=.06*i,l={name:e.name,totalSameTrade:i,sumofall:n.toFixed(2),expence:r.toFixed(2),netPnL:(n-r).toFixed(2)};t.push(l)}),a.setState({overallMonthWise:t},function(){})},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e,n,i){console.log("token, symbol, entryAt, exitAt",t,e,n,i),a.setState({chartStaticData:"",lightChartSymbol:e},function(){console.log("reset done",t)});var r="YYYY-MM-DD HH:mm",l=ce(n).set("hour","09").set("minute","15"),o=ce(i).set("hour","15").set("minute","30"),s={exchange:"NSE",symboltoken:t,interval:a.state.timeFrame,fromdate:ce(l).format(r),todate:ce(o).format(r)};O.getHistoryData(s).then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data,o=i.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];i.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3),p.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var f={period:20,values:h,stdDev:2},y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);var b={values:m,period:14},S=me.a.calculate(b);if(console.log(t,"Rsi",b,S),console.log(t,"vwap",c,ge()(c)),a.setState({chartStaticData:o,bblastValue:y[y.length-1],vwapvalue:ge()(c),rsiValues:S.slice(Math.max(d.length-19,1)),valumeData:d.slice(Math.max(d.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(p);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+ce(t.time).format("DD/MM/YYYY h:mma")+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),i&&i.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),i.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(i)),a.setState({InstrumentHistroy:i});var E=0,k=0,C=0;i.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(E+=1),e<=-.3&&(k+=1),C+=e}),a.setState({downMoveCount:k,upsideMoveCount:E,totalPerchentageChange:C,startingFrom:ce(l).format(r)})}}})},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.onFileChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.files[0]))},a.state={sumPercentage:0,InstrumentPerChange:"",autoSearchList:[],isDasable:!1,isError:!1,InstrumentLTP:{},ifNotBought:!0,autoSearchTemp:[],backTestResult:[],backTestResultCSV:[],backTestFlag:!0,patternType:"NR4",symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"INTRADAY",symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",longExitPriceType:4,shortExitPriceType:4,candleChartData:[],stopScaningFlag:!1,backTestResultDateRange:[],searchFailed:0,FoundPatternList:localStorage.getItem("FoundPatternList")&&JSON.parse(localStorage.getItem("FoundPatternList"))||[],fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],newJsonList:[],timeFrame:"FIFTEEN_MINUTE",overAllResult:[],pertradePandL:0,pertradePandLNet:0,allQniqueStockList:[],isSameDayDuplcate:!0,stockWiseListOverall:[],filename:"",overallMonthWise:[],entryCandlePoint:5,totalWinTrade:0,maxDrowDown:0,maxProfit:0,crossedTargetCount:0,orderType:"buy",targetPer:.5},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Backtest",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var e=new Worker(Ln);this.setState({myWorker:e});var a=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var n=Object(Ie.a)(a,{width:500,height:250,timeVisible:!0,secondsVisible:!0}),i=n.addCandlestickSeries(),r=n.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),l=n.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:n,candleSeries:i,smaLineSeries:r,volumeSeries:l}),O.updateStockList().then(function(e){t.setState({stockList:e.data})})}},{key:"render",value:function(){var t=this;this.myCallback;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(B.a,{variant:"outlined",id:"textarea",multiline:!0,rows:10,fullwidth:!0,style:{width:"90%",height:"50%"},label:"1. Datetime 2. Symbol format : Paste",value:this.state.csvFormatInput,name:"csvFormatInput",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Fi.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")),i.a.createElement(Oe.a,{title:"Entry candle point , mid means high+low/2",value:this.state.entryCandlePoint,name:"entryCandlePoint",onChange:this.onInputChange},i.a.createElement(De.a,{value:1},"Open"),i.a.createElement(De.a,{value:2},"High"),i.a.createElement(De.a,{value:3},"Low"),i.a.createElement(De.a,{value:4},"Close"),i.a.createElement(De.a,{value:5},"Mid"),i.a.createElement(De.a,{value:6},"Above High"),i.a.createElement(De.a,{value:7},"Below Low")),i.a.createElement(Oe.a,{title:"checking for buy or sell",value:this.state.orderType,name:"orderType",onChange:this.onInputChange},i.a.createElement(De.a,{value:"buy"},"Buy"),i.a.createElement(De.a,{value:"sell"},"Sell")),i.a.createElement("input",{placeholder:"9:20",fullwidth:!0,style:{width:"90%",height:"50%"},label:"entryTimeAt",value:this.state.entryTimeAt,name:"entryTimeAt",onChange:this.onChange}),i.a.createElement("input",{placeholder:"target %: 0.5",type:"number",step:.1,fullwidth:!0,style:{width:"90%",height:"50%"},label:"Target",value:this.state.targetPer,name:"targetPer",onChange:this.onChange}),i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:this.state.isSameDayDuplcate,onChange:this.handleChange,"aria-label":"Speek ON/OFF"}),label:this.state.isSameDayDuplcate?"Same Day Duplcate: Yes":"Same Day Duplcate: No"})),i.a.createElement("input",{placeholder:"filename",id:"textarea",fullwidth:!0,style:{width:"90%",height:"50%"},label:"Filename",value:this.state.filename,name:"filename",onChange:this.onChange}),"Failed:",this.state.searchFailed,i.a.createElement("br",null),this.state.totaluniqueStocks?this.state.totaluniqueStocks+" unique stocks found":"",i.a.createElement("br",null),this.state.stockTesting)),i.a.createElement(F.a,{item:!0,xs:12,sm:4,style:{marginTop:"5px"}},this.state.backTestFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.backTestAnyPatternStockWise()}},"Test Stock Wise"):i.a.createElement(i.a.Fragment,null,"  ",i.a.createElement(pe.a,null),"  \xa0 ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.stopBacktesting()}},"Stop"),"  "),i.a.createElement("span",{title:"Success Ratio"},"Success Ratio: ",(100*this.state.crossedTargetCount/this.state.backTestResult.length).toFixed(2),"%"),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},i.a.createElement(M.a,{size:"small",variant:"outlined",onClick:this.updateMonthWise},"Month"),"                                                "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Trades"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross P/L"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence"),i.a.createElement(Xt.a,{className:"TableHeadFormat"}," Net P/L"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.overallMonthWise?this.state.overallMonthWise.map(function(t,e){return t.totalSameTrade>0?i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,t.name),i.a.createElement(Xt.a,null,t.totalSameTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netPnL>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netPnL):i.a.createElement("span",{style:{color:"red"}}," ",t.netPnL),"% ")):""}):""))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{style:{overflow:"auto",maxHeight:"200px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,null,"Sr.\xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Stock (",this.state.stockWiseListOverall.length,") ",i.a.createElement(xi.a,{filename:"Overall_"+this.state.timeFrame+"_"+this.state.entryCandlePoint+"_"+this.state.orderType+"_"+this.state.filename+".csv",data:this.state.stockWiseListOverall}),"                                                    "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"T.T (",this.state.totTrade,")  Avg: (",this.state.totalAvg>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalAvg):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalAvg),")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross P/L (",this.state.totalgross>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalgross):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalgross),")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence (",this.state.totalExp,")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"}," Net P/L (",this.state.totalNet>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalNet):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalNet),")% \xa0  W:",this.state.winCount,"  \xa0 L:",this.state.lossCount))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.stockWiseListOverall?this.state.stockWiseListOverall.map(function(t,e){return i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,e+1),i.a.createElement(Xt.a,null,t.name),i.a.createElement(Xt.a,null,t.totalSameTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netPnL>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netPnL):i.a.createElement("span",{style:{color:"red"}}," ",t.netPnL),"% "))}):""))))),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{style:{overflow:"auto",maxHeight:"550px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sr."),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Datetime ",i.a.createElement(xi.a,{filename:"Trade_"+this.state.timeFrame+"_"+this.state.entryCandlePoint+"_"+this.state.orderType+"_"+this.state.filename+".csv",data:this.state.backTestResult})),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"EntryPrice \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"ExitPrice \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"T.T:(",this.state.backTestResult.length,") \xa0W:",this.state.totalWinTrade," \xa0L:",this.state.backTestResult.length-this.state.totalWinTrade,"\xa0",i.a.createElement("span",{title:"Max Loss"},"ML:",this.state.maxDrowDown,"%"),"\xa0",i.a.createElement("span",{title:"Max Profit"},"MP:",this.state.maxProfit,"%"),"\xa0",i.a.createElement("span",{title:"target crossed"}," C.T:",this.state.crossedTargetCount),"\xa0",i.a.createElement("span",{title:"target not crossed"},"N.C:",this.state.backTestResult.length-this.state.crossedTargetCount," ")," \xa0",i.a.createElement("span",{title:"Success Ratio"},"S.R.",(100*this.state.crossedTargetCount/this.state.backTestResult.length).toFixed(2),"%")))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.backTestResult?this.state.backTestResult.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a,style:{background:e.isWinOnClosing?"":"bisque"}},i.a.createElement(Xt.a,null,a+1,"\xa0"),i.a.createElement(Xt.a,null,e.foundAt," \xa0"),i.a.createElement(Xt.a,null,i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return t.showStaticChart(e.token,e.symbol,e.foundAt,e.foundAt)}},e.symbol," ")," "),i.a.createElement(Xt.a,null,i.a.createElement("span",{style:{fontStyle:"italic"}}," ",e.entryPrice)," \xa0"),i.a.createElement(Xt.a,null,i.a.createElement("span",{style:{fontStyle:"italic",color:e.candleData[e.candleData.length-1].close>e.entryPrice?"green":"red"}}," ",e.candleData[e.candleData.length-1].close," (",e.candleData[e.candleData.length-1].perChange,"%) ")," \xa0"),i.a.createElement(Xt.a,null,e.candleData.map(function(t,e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,t.datetime,": "),t.close,"(",t.perChange>0?i.a.createElement("span",{style:{color:"green"}}," ",t.perChange,"%"):i.a.createElement("span",{style:{color:"red"}}," ",t.perChange,"%"),") \xa0")})))}):""))))))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Te.a,{style:{padding:"10px",position:navigator.userAgentData.mobile?"":"fixed"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Fi.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:12,sm:10},i.a.createElement(R.a,null,"Same Day Chart:  ",this.state.lightChartSymbol))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",height:"40vh"}},i.a.createElement(R.a,null," ",i.a.createElement(M.a,{size:"small",variant:"outlined",onClick:this.updateOverall}," Overall "),this.state.pertradePandL>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.pertradePandL):i.a.createElement("span",{style:{color:"red"}}," ",this.state.pertradePandL),"% Gross/Trade   |",this.state.pertradePandLNet>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.pertradePandLNet):i.a.createElement("span",{style:{color:"red"}}," ",this.state.pertradePandLNet),"% Net/Trade  "),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"No Of Trade"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross Overall P/L%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Net P/L%"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.overAllResult?this.state.overAllResult.map(function(t,e){return i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,t.datetime),i.a.createElement(Xt.a,null,t.noOfTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netOverAll>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netOverAll):i.a.createElement("span",{style:{color:"red"}}," ",t.netOverAll),"% "))}):"")))))),i.a.createElement(F.a,{item:!0,xs:12},i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"}))))}}]),e}(i.a.Component),Fi={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Ni=Pi,Mi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value))},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.handleChange=function(t){a.setState({isSameDayDuplcate:t.target.checked},function(){console.log("isSameDayDuplcate",a.state.isSameDayDuplcate,t.target.checked)})},a.stopBacktesting=function(){a.setState({stopScaningFlag:!0})},a.readCsv=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({newJsonList:[]}),n=a.state.csvFormatInput.trim().split("\n"),i=it.a.mark(function t(i){var r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],l=r.split("\t")[1],o=r.split("\t")[0],a.setState({stockTesting:i+1+". "+l+" getting details"}),O.autoCompleteSearch(l).then(function(t){var r=t.data.filter(function(t){return"NSE"===t.exch_seg&&"1"===t.lotsize&&t.name===l});r.length&&(r[0].startTime=o,a.setState({newJsonList:[].concat(Object(rt.a)(a.state.newJsonList),[r[0]])},function(){n.length-1==i&&e()}))}),t.next=7,new Promise(function(t){return setTimeout(t,150)});case 7:case"end":return t.stop()}},t)}),r=0;case 4:if(!(r<n.length)){t.next=9;break}return t.delegateYield(i(r),"t0",6);case 6:r++,t.next=4;break;case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.getAlltokenOfList=function(t){for(var e=[],n=[],i=[],r=a.state.csvFormatInput.trim().split("\n"),l=function(t){var i=r[t],l=i.split("\t")[1],o=i.split("\t")[0];a.setState({stockTesting:t+1+". "+l+" getting details"}),n.push({name:l,startTime:o}),e.filter(function(t){return t.name===l})[0]||e.push({name:l})},o=0;o<r.length;o++)l(o);if(a.setState({totaluniqueStocks:e.length,allQniqueStockList:e}),a.state.stockList.length>0){var s=function(t){var e=n[t],r=a.state.stockList.filter(function(t){return t.name==e.name});if(r.length>0){var l={symbol:r[0].symbol,name:r[0].name,startTime:e.startTime,token:r[0].token};i.push(l)}};for(o=0;o<n.length;o++)s(o);t(i,e,a.state.stockList)}else O.getAllListTokens(e).then(function(a){var r=a.data;if(r.length>0)for(var l=function(t){var e=n[t],a=r.filter(function(t){return t.name==e.name});if(a.length>0){var l={symbol:a[0].symbol,name:a[0].name,startTime:e.startTime,token:a[0].token};i.push(l)}},o=0;o<n.length;o++)l(o);t(i,e,r)})},a.getDateFormate=function(t,e){var a=t.split(" ")[0].split("-");return ce(a[2]+"/"+a[1]+"/"+a[0]+" "+e)},a.convertDateFormat=function(t){var e=t.split(" "),a=e[0].split("-"),n=a[2]+"/"+a[1]+"/"+a[0],i="";return e&&e[1]&&(i=ce(e[1],"HH:mm").format("HH:mm")),ce(n+" "+i)},a.getPerChangeOfStock=function(t,e){if(t.length>0){var n=t,i=a.state.entryCandlePoint,r=n[0][i];5==i&&(r=(n[0][2]+n[0][3])/2),6==i&&n.forEach(function(t){t[2]>n[0][2]+n[0][2]/100/10&&(r=n[0][2]+n[0][2]/100/10)}),7==i&&n.forEach(function(t){t[3]<n[0][3]-n[0][3]/100/10&&(r=n[0][3]-n[0][3]/100/10)});for(var l={name:e.name,symbol:e.symbol,token:e.token,entryPrice:r.toFixed(2),foundAt:ce(n[0][0]).format("YYYY-MM-DD HH:mm")},o=[],s=1;s<n.length;s++){var c=100*(n[s][4]-l.entryPrice)/l.entryPrice,m=ce(n[s][0]).format("h:mma");"ONE_DAY"==a.state.timeFrame&&(m=ce(n[s][0]).format("DD/MM/YYYY h:mma")),c<a.state.maxDrowDown&&a.setState({maxDrowDown:c.toFixed(2)}),c>a.state.maxProfit&&a.setState({maxProfit:c.toFixed(2)}),o.push({perChange:c.toFixed(2),close:n[s][4],datetime:m})}for(var u=1;u<n.length;u++){if("buy"==a.state.orderType)if(100*(n[u][2]-l.entryPrice)/l.entryPrice>a.state.targetPer){a.setState({crossedTargetCount:a.state.crossedTargetCount+1});break}if("sell"==a.state.orderType)if(100*(n[u][3]-l.entryPrice)/l.entryPrice<-a.state.targetPer){a.setState({crossedTargetCount:a.state.crossedTargetCount+1});break}}l.candleData=o;var v=o[o.length-1].perChange>0;l.isWinOnClosing=v,v&&a.setState({totalWinTrade:a.state.totalWinTrade+1}),l.entryPrice>0&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[l])},function(){})}else console.log(" candle data emply"),a.setState({searchFailed:a.state.searchFailed+1})},a.backTestAnyPatternStockWise=function(){a.setState({backTestResult:[],overAllResult:[],stockWiseListOverall:[],backTestFlag:!0,filename:"",searchFailed:0,pertradePandL:0,pertradePandLNet:0}),a.setState({totalgross:0,totalAvg:0,totTrade:0,totalNet:0,totalExp:0,totalWinTrade:0,maxDrowDown:0,maxProfit:0,crossedTargetCount:0});var t=JSON.parse(a.state.csvFormatInput);if(a.state.csvFormatInput)for(var e=t[0][3],n=t[0][2],i=0,r=(t[0][0],t[0][0],0);r<t.length-1;r++){var l=t[r],o=l[2],s=l[3];if(i<=1&&(s<e&&(e=s,l[0]),n<o&&(n=o,l[0]),i++),1==i){var c=t.slice(r,r+25),m=20*(n-e)/100;e-=m,n+=m,a.findRange(c,e,n),i=0,e=t[r+1][3],n=t[r+1][2]}}else q.showError("Paste candle data json format")},a.backTestAnyPattern=function(){a.setState({backTestResult:[],overAllResult:[],overallMonthWise:[],backTestFlag:!1,filename:"",searchFailed:0,pertradePandL:0,pertradePandLNet:0}),a.getAlltokenOfList(function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=it.a.mark(function t(n){var i,s,c,m,u;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.state.stopScaningFlag){t.next=3;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 3:return i=e[n],s=i.startTime.split(" "),c=s[0].split("-"),m=c[2]+"/"+c[1]+"/"+c[0],"9:15",s&&s[1]&&ce(s[1],"HH:mm").format("HH:mm"),r=ce(m+" 9:15"),"15:30",l=ce(m+" 15:30"),"ONE_DAY"==a.state.timeFrame&&(l=ce(r,"DD-MM-YYYY").add(5,"days"),u=ce(l).format("YYYY-MM-DD"),l=ce(u+" 15:30")),o={exchange:"NSE",symboltoken:i.token,interval:a.state.timeFrame,fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var n=e.data,r={symbol:i.symbol,token:i.token,entryPrice:n[0][4],foundAt:ce(n[0][0]).format("YYYY-MM-DD HH:mm")},l=[],o=1;o<n.length;o++){var s=100*(n[o][4]-r.entryPrice)/r.entryPrice,c=ce(n[o][0]).format("h:mma");"ONE_DAY"==a.state.timeFrame&&(c=ce(n[o][0]).format("DD/MM/YYYY h:mma")),l.push({perChange:s.toFixed(2),close:n[o][4],datetime:c})}r.candleData=l,a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[r])},function(){a.updateOverall()})}else console.log(" candle data emply"),a.setState({searchFailed:a.state.searchFailed+1})}).catch(function(t){console.log(i.symbol,t),a.setState({searchFailed:a.state.searchFailed+1})}),t.next=17,new Promise(function(t){return setTimeout(t,350)});case 17:a.setState({stockTesting:n+1+". "+i.symbol});case 18:case"end":return t.stop()}},t)}),i=0;case 2:if(!(i<e.length)){t.next=10;break}return t.delegateYield(n(i),"t0",4);case 4:if("break"!==t.t0){t.next=7;break}return t.abrupt("break",10);case 7:i++,t.next=2;break;case 10:a.setState({backTestFlag:!0});case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},a.updateOverall=function(){var t=[];a.state.backTestResult.forEach(function(e){e.candleData.forEach(function(e){t.filter(function(t){return t===e.datetime})[0]||t.push(e.datetime)})});var e=[];t.forEach(function(t){var n=0;a.state.backTestResult.forEach(function(e){for(var a=0;a<e.candleData.length;a++){var i=e.candleData[a];if(t===i.datetime){n+=parseFloat(i.perChange);break}}});var i=.06*a.state.backTestResult.length;e.push({datetime:t,sumofall:n.toFixed(2),expence:i.toFixed(2),netOverAll:(n-i).toFixed(2),noOfTrade:a.state.backTestResult.length})}),e.sort(function(t,e){return ce(e.datetime,"h:mma")-ce(t.datetime,"h:mma")}),a.setState({overAllResult:e},function(){if(a.state.overAllResult.length>0){var t=a.state.overAllResult[0].sumofall/a.state.overAllResult[0].noOfTrade,e=t-.06;a.setState({pertradePandL:t.toFixed(2),pertradePandLNet:e.toFixed(2)})}})},a.updateStockWiseOverall=function(){a.setState({stockWiseListOverall:[]});var t=[];a.state.allQniqueStockList.forEach(function(e){var n=0,i=0;a.state.backTestResult.forEach(function(t){e.name==t.name&&t.candleData.length>0&&(n+=parseFloat(t.candleData[t.candleData.length-1].perChange),i+=1)});var r=.06*i,l={name:e.name,totalSameTrade:i,sumofall:n,expence:r,netPnL:n-r};t.push(l)}),a.setState({stockWiseListOverall:t},function(){var t,e=0,n=0,i=0,r=0,l=0,o=0;a.state.stockWiseListOverall.forEach(function(t){e+=t.sumofall,n+=t.totalSameTrade,i+=t.netPnL,r+=t.expence,l+=t.netPnL>0?1:0,o+=t.netPnL<0?1:0});var s={name:"Total (Gross Avg%): "+(t=(e/n).toFixed(2)),totalSameTrade:n,sumofall:e,expence:r,netPnL:i,winCount:l,lossCount:o};a.state.stockWiseListOverall.push(s),a.setState({stockWiseListOverall:a.state.stockWiseListOverall,lossCount:o,winCount:l,totalgross:e.toFixed(2),totalAvg:t,totTrade:n,totalNet:i.toFixed(2),totalExp:r.toFixed(2)})})},a.updateMonthWise=function(){a.setState({overallMonthWise:[]});var t=[];[{name:"Jan"},{name:"Feb"},{name:"Mar"},{name:"Apr"},{name:"May"},{name:"Jun"},{name:"Jul"},{name:"Aug"},{name:"Sep"},{name:"Nov"},{name:"Dec"}].forEach(function(e){var n=0,i=0;a.state.backTestResult.forEach(function(t){var a=ce(t.foundAt).format("MMM");e.name==a&&t.candleData.length>0&&(n+=parseFloat(t.candleData[t.candleData.length-1].perChange),i+=1)});var r=.06*i,l={name:e.name,totalSameTrade:i,sumofall:n.toFixed(2),expence:r.toFixed(2),netPnL:(n-r).toFixed(2)};t.push(l)}),a.setState({overallMonthWise:t},function(){})},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e,n,i){console.log("token, symbol, entryAt, exitAt",t,e,n,i),a.setState({chartStaticData:"",lightChartSymbol:e},function(){console.log("reset done",t)});var r="YYYY-MM-DD HH:mm",l=ce(n).set("hour","09").set("minute","15"),o=ce(i).set("hour","15").set("minute","30"),s={exchange:"NSE",symboltoken:t,interval:a.state.timeFrame,fromdate:ce(l).format(r),todate:ce(o).format(r)};O.getHistoryData(s).then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data,o=i.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];i.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3),p.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var f={period:20,values:h,stdDev:2},y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);var b={values:m,period:14},S=me.a.calculate(b);if(console.log(t,"Rsi",b,S),console.log(t,"vwap",c,ge()(c)),a.setState({chartStaticData:o,bblastValue:y[y.length-1],vwapvalue:ge()(c),rsiValues:S.slice(Math.max(d.length-19,1)),valumeData:d.slice(Math.max(d.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(p);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+ce(t.time).format("DD/MM/YYYY h:mma")+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),i&&i.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),i.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(i)),a.setState({InstrumentHistroy:i});var E=0,k=0,C=0;i.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(E+=1),e<=-.3&&(k+=1),C+=e}),a.setState({downMoveCount:k,upsideMoveCount:E,totalPerchentageChange:C,startingFrom:ce(l).format(r)})}}})},a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.onFileChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.files[0]))},a.state={sumPercentage:0,InstrumentPerChange:"",autoSearchList:[],isDasable:!1,isError:!1,InstrumentLTP:{},ifNotBought:!0,autoSearchTemp:[],backTestResult:[],backTestResultCSV:[],backTestFlag:!0,patternType:"NR4",symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"INTRADAY",symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",longExitPriceType:4,shortExitPriceType:4,candleChartData:[],stopScaningFlag:!1,backTestResultDateRange:[],searchFailed:0,FoundPatternList:localStorage.getItem("FoundPatternList")&&JSON.parse(localStorage.getItem("FoundPatternList"))||[],fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[],newJsonList:[],timeFrame:"FIFTEEN_MINUTE",overAllResult:[],pertradePandL:0,pertradePandLNet:0,allQniqueStockList:[],isSameDayDuplcate:!0,stockWiseListOverall:[],filename:"",overallMonthWise:[],entryCandlePoint:5,totalWinTrade:0,maxDrowDown:0,maxProfit:0,crossedTargetCount:0,orderType:"buy",targetPer:.5},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Backtest",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var e=new Worker(Ln);this.setState({myWorker:e});var a=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var n=Object(Ie.a)(a,{width:500,height:250,timeVisible:!0,secondsVisible:!0}),i=n.addCandlestickSeries(),r=n.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),l=n.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:n,candleSeries:i,smaLineSeries:r,volumeSeries:l}),O.updateStockList().then(function(e){t.setState({stockList:e.data})})}},{key:"findRange",value:function(t,e,a){var n=0,i=a-e;if(i>=30&&i<=60){for(var r=0;r<t.length;r++){var l=t[r];if(!(l[2]<=a&&l[3]>=e))break;n++}n>=3&&console.log(n,e,a,i,new Date(t[0][0]).toLocaleString())}}},{key:"render",value:function(){var t=this;this.myCallback;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(B.a,{variant:"outlined",id:"textarea",multiline:!0,rows:10,fullwidth:!0,style:{width:"90%",height:"50%"},label:"historic candle  paste",value:this.state.csvFormatInput,name:"csvFormatInput",onChange:this.onChange})),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Ai.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")),i.a.createElement(Oe.a,{title:"Entry candle point , mid means high+low/2",value:this.state.entryCandlePoint,name:"entryCandlePoint",onChange:this.onInputChange},i.a.createElement(De.a,{value:1},"Open"),i.a.createElement(De.a,{value:2},"High"),i.a.createElement(De.a,{value:3},"Low"),i.a.createElement(De.a,{value:4},"Close"),i.a.createElement(De.a,{value:5},"Mid"),i.a.createElement(De.a,{value:6},"Above High"),i.a.createElement(De.a,{value:7},"Below Low")),i.a.createElement(Oe.a,{title:"checking for buy or sell",value:this.state.orderType,name:"orderType",onChange:this.onInputChange},i.a.createElement(De.a,{value:"buy"},"Buy"),i.a.createElement(De.a,{value:"sell"},"Sell")),i.a.createElement("input",{placeholder:"9:20",fullwidth:!0,style:{width:"90%",height:"50%"},label:"entryTimeAt",value:this.state.entryTimeAt,name:"entryTimeAt",onChange:this.onChange}),i.a.createElement("input",{placeholder:"target %: 0.5",type:"number",step:.1,fullwidth:!0,style:{width:"90%",height:"50%"},label:"Target",value:this.state.targetPer,name:"targetPer",onChange:this.onChange}),i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:this.state.isSameDayDuplcate,onChange:this.handleChange,"aria-label":"Speek ON/OFF"}),label:this.state.isSameDayDuplcate?"Same Day Duplcate: Yes":"Same Day Duplcate: No"})),i.a.createElement("input",{placeholder:"filename",id:"textarea",fullwidth:!0,style:{width:"90%",height:"50%"},label:"Filename",value:this.state.filename,name:"filename",onChange:this.onChange}),"Failed:",this.state.searchFailed,i.a.createElement("br",null),this.state.totaluniqueStocks?this.state.totaluniqueStocks+" unique stocks found":"",i.a.createElement("br",null),this.state.stockTesting)),i.a.createElement(F.a,{item:!0,xs:12,sm:4,style:{marginTop:"5px"}},this.state.backTestFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.backTestAnyPatternStockWise()}},"Test "):i.a.createElement(i.a.Fragment,null,"  ",i.a.createElement(pe.a,null),"  \xa0 ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.stopBacktesting()}},"Stop"),"  "),i.a.createElement("span",{title:"Success Ratio"},"Success Ratio: ",(100*this.state.crossedTargetCount/this.state.backTestResult.length).toFixed(2),"%"),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},i.a.createElement(M.a,{size:"small",variant:"outlined",onClick:this.updateMonthWise},"Month"),"                                                "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Trades"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross P/L"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence"),i.a.createElement(Xt.a,{className:"TableHeadFormat"}," Net P/L"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.overallMonthWise?this.state.overallMonthWise.map(function(t,e){return t.totalSameTrade>0?i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,t.name),i.a.createElement(Xt.a,null,t.totalSameTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netPnL>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netPnL):i.a.createElement("span",{style:{color:"red"}}," ",t.netPnL),"% ")):""}):""))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{style:{overflow:"auto",maxHeight:"200px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,null,"Sr.\xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Stock (",this.state.stockWiseListOverall.length,") ",i.a.createElement(xi.a,{filename:"Overall_"+this.state.timeFrame+"_"+this.state.entryCandlePoint+"_"+this.state.orderType+"_"+this.state.filename+".csv",data:this.state.stockWiseListOverall}),"                                                    "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"T.T (",this.state.totTrade,")  Avg: (",this.state.totalAvg>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalAvg):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalAvg),")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross P/L (",this.state.totalgross>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalgross):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalgross),")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence (",this.state.totalExp,")%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"}," Net P/L (",this.state.totalNet>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.totalNet):i.a.createElement("span",{style:{color:"red"}}," ",this.state.totalNet),")% \xa0  W:",this.state.winCount,"  \xa0 L:",this.state.lossCount))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.stockWiseListOverall?this.state.stockWiseListOverall.map(function(t,e){return i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,e+1),i.a.createElement(Xt.a,null,t.name),i.a.createElement(Xt.a,null,t.totalSameTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netPnL>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netPnL):i.a.createElement("span",{style:{color:"red"}}," ",t.netPnL),"% "))}):""))))),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{style:{overflow:"auto",maxHeight:"550px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sr."),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Datetime ",i.a.createElement(xi.a,{filename:"Trade_"+this.state.timeFrame+"_"+this.state.entryCandlePoint+"_"+this.state.orderType+"_"+this.state.filename+".csv",data:this.state.backTestResult})),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"EntryPrice \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"ExitPrice \xa0"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"T.T:(",this.state.backTestResult.length,") \xa0W:",this.state.totalWinTrade," \xa0L:",this.state.backTestResult.length-this.state.totalWinTrade,"\xa0",i.a.createElement("span",{title:"Max Loss"},"ML:",this.state.maxDrowDown,"%"),"\xa0",i.a.createElement("span",{title:"Max Profit"},"MP:",this.state.maxProfit,"%"),"\xa0",i.a.createElement("span",{title:"target crossed"}," C.T:",this.state.crossedTargetCount),"\xa0",i.a.createElement("span",{title:"target not crossed"},"N.C:",this.state.backTestResult.length-this.state.crossedTargetCount," ")," \xa0",i.a.createElement("span",{title:"Success Ratio"},"S.R.",(100*this.state.crossedTargetCount/this.state.backTestResult.length).toFixed(2),"%")))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.backTestResult?this.state.backTestResult.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a,style:{background:e.isWinOnClosing?"":"bisque"}},i.a.createElement(Xt.a,null,a+1,"\xa0"),i.a.createElement(Xt.a,null,e.foundAt," \xa0"),i.a.createElement(Xt.a,null,i.a.createElement(M.a,{size:"small",variant:"contained",onClick:function(){return t.showStaticChart(e.token,e.symbol,e.foundAt,e.foundAt)}},e.symbol," ")," "),i.a.createElement(Xt.a,null,i.a.createElement("span",{style:{fontStyle:"italic"}}," ",e.entryPrice)," \xa0"),i.a.createElement(Xt.a,null,i.a.createElement("span",{style:{fontStyle:"italic",color:e.candleData[e.candleData.length-1].close>e.entryPrice?"green":"red"}}," ",e.candleData[e.candleData.length-1].close," (",e.candleData[e.candleData.length-1].perChange,"%) ")," \xa0"),i.a.createElement(Xt.a,null,e.candleData.map(function(t,e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,t.datetime,": "),t.close,"(",t.perChange>0?i.a.createElement("span",{style:{color:"green"}}," ",t.perChange,"%"):i.a.createElement("span",{style:{color:"red"}}," ",t.perChange,"%"),") \xa0")})))}):""))))))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Te.a,{style:{padding:"10px",position:navigator.userAgentData.mobile?"":"fixed"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Ai.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:12,sm:10},i.a.createElement(R.a,null,"Same Day Chart:  ",this.state.lightChartSymbol))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",height:"40vh"}},i.a.createElement(R.a,null," ",i.a.createElement(M.a,{size:"small",variant:"outlined",onClick:this.updateOverall}," Overall "),this.state.pertradePandL>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.pertradePandL):i.a.createElement("span",{style:{color:"red"}}," ",this.state.pertradePandL),"% Gross/Trade   |",this.state.pertradePandLNet>0?i.a.createElement("span",{style:{color:"green"}}," ",this.state.pertradePandLNet):i.a.createElement("span",{style:{color:"red"}}," ",this.state.pertradePandLNet),"% Net/Trade  "),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"No Of Trade"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Gross Overall P/L%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Expence%"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Net P/L%"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.overAllResult?this.state.overAllResult.map(function(t,e){return i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,t.datetime),i.a.createElement(Xt.a,null,t.noOfTrade),i.a.createElement(Xt.a,null,t.sumofall>0?i.a.createElement("span",{style:{color:"green"}}," ",t.sumofall):i.a.createElement("span",{style:{color:"red"}}," ",t.sumofall),"% "),i.a.createElement(Xt.a,null,t.expence,"%"),i.a.createElement(Xt.a,null,t.netOverAll>0?i.a.createElement("span",{style:{color:"green"}}," ",t.netOverAll):i.a.createElement("span",{style:{color:"red"}}," ",t.netOverAll),"% "))}):"")))))),i.a.createElement(F.a,{item:!0,xs:12},i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"}))))}}]),e}(i.a.Component),Ai={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Bi=Mi,Yi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){var t=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[];O.retrieveOrderBook().then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data;i.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),i.forEach(function(e){var n=t.filter(function(t){return t.tradingsymbol==e.tradingsymbol});n.length>0&&e.tradingsymbol==n[0].tradingsymbol&&(a.setState(Object(f.a)({},"priceTarget_"+e.tradingsymbol,n[0].priceTarget)),a.setState(Object(f.a)({},"priceStopLoss_"+e.tradingsymbol,n[0].priceStopLoss)))}),a.setState({oderbookData:i}),localStorage.setItem("oderbookData",JSON.stringify(i))}})},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.updateSocketWatch=function(t){var e=a.state.symbolList.map(function(t){return"nse_cm|"+t.token}),n={task:"mw",channel:e=e.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e),a.updateSocketWatch(t)},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n),r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var a=i.filter(function(e){return e.tk==t.token});a.length>0&&a[0].ltp&&a[0].nc&&(r[e].ltp=a[0].ltp,r[e].pChange=a[0].nc,r[e].totalBuyQuantity=a[0].tbq,r[e].totalSellQuantity=a[0].tsq,r[e].totalTradedVolume=a[0].v,r[e].averagePrice=a[0].ap,r[e].lowPrice=a[0].lo,r[e].highPrice=a[0].h,r[e].openPrice=a[0].op,r[e].volume=a[0].v,r[e].bestbuyquantity=a[0].bq,r[e].bestbuyprice=a[0].bp,r[e].bestsellquantity=a[0].bs,r[e].bestsellprice=a[0].sp,r[e].ltt=ce(a[0].ltt,"YYYY-MM-DD HH:mm:ss").toString(),r[e].buytosellTime=(a[0].tbq/a[0].tsq).toFixed(2),r[e].selltobuyTime=(a[0].tsq/a[0].tbq).toFixed(2))});var l=a.state.sortedType;r&&r.sort(function(t,e){return e[l]-t[l]}),a.setState({symbolList:r},function(){})},t.onerror=function(t){console.log("socket error",t)},setInterval(function(){console.log("this.wsClint",a.wsClint),1!=a.wsClint.readyState&&a.makeConnection(a.wsClint);var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)},59e3)},a.getNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"NIFTY",symboltoken:"26000"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=100*(n.ltp-n.close)/n.close;if(a.setState({niftyLtp:{ltp:n.ltp,per:i.toFixed(2)}}),a.state.firstTimeFlag){for(var r=n.ltp-3*n.ltp/100,l=n.ltp+3*n.ltp/100,o=l+l%100,s=r-r%100;s<=o;s+=50)a.setState({selectedStrike:[].concat(Object(rt.a)(a.state.selectedStrike),[s])});a.getToketForStrike(),a.setState({firstTimeFlag:!1})}}localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))})},a.getToketForStrike=function(){console.log(a.state.selectedStrike),O.getAll145Tokens(a.state.selectedStrike).then(function(t){a.setState({rowSymbolList:t.data},function(){a.selectOnlyLtp150To170()})})},a.selectOnlyLtp150To170=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({symbolList:[]}),console.log("refresh",a.state.symbolList),!a.state.rowSymbolList){t.next=7;break}for(e=function(t){var e=a.state.rowSymbolList[t];i={exchange:e.exch_seg,tradingsymbol:e.symbol,symboltoken:e.token},O.getLTP(i).then(function(t){var n=z(t,"noPop"),i=n&&n.data;i&&i.ltp&&(e.ltp=i.ltp,e.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2)),i&&i.ltp>150&&i.ltp<185&&a.setState({symbolList:[].concat(Object(rt.a)(a.state.symbolList),[e])})})},n=0;n<a.state.rowSymbolList.length;n++)e(n);return t.next=7,new Promise(function(t){return setTimeout(t,100)});case 7:case"end":return t.stop()}},t)})),a.updateLTP=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],i={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(i).then(function(t){var e=z(t,"noPop"),i=e&&e.data;i&&i.ltp&&(n.ltp=i.ltp,n.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2),a.updateBOPerformance(n,i))}),t.next=5,new Promise(function(t){return setTimeout(t,100)});case 5:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.symbolList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.updateBOPerformance=function(t,e){var a=localStorage.getItem("Track145")&&JSON.parse(localStorage.getItem("Track145"))||[],n=a.filter(function(e){return e.symbol==t.symbol}),i=a.findIndex(function(e){return e.symbol===t.symbol});if(e.ltp>185)if(n.length){if(e.ltp>n[0].upsideLtp){var r=Object(m.a)({},a[i],{upsideLtp:e.ltp,returnPer:100*(e.ltp-n[0].entry)/n[0].entry}),l=[].concat(Object(rt.a)(a.slice(0,i)),[r],Object(rt.a)(a.slice(i+1)));console.log("updatedObj",r),localStorage.setItem("Track145",JSON.stringify(l))}}else t.entry=e.ltp,t.upsideLtp=e.ltp,t.downsideLtp=e.ltp,a.push(t),localStorage.setItem("Track145",JSON.stringify(a));else if(n.length&&e.ltp<n[0].downsideLtp){var o=Object(m.a)({},a[i],{downsideLtp:e.ltp}),s=[].concat(Object(rt.a)(a.slice(0,i)),[o],Object(rt.a)(a.slice(i+1)));localStorage.setItem("Track145",JSON.stringify(s))}},a.cancelOrderOfSame=function(t,e){var n={variety:e,orderid:t};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&a.getTodayOrder()})},a.modifyOrder=function(t,e){var n={variety:t.variety,orderid:t.orderid,ordertype:0!==a.state.price?"STOPLOSS_LIMIT":"STOPLOSS_MARKET",producttype:t.producttype,duration:t.duration,price:a.state.price,triggerprice:e||a.state.triggerprice,quantity:t.quantity,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(a.setState({triggerprice:0}),a.getTodayOrder())})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChangePriceStopLoss=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceStopLoss=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.onChangePriceTarget=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceTarget=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.state={oderbookData:[],listofzones:[],selectedZone:[],niftyLtp:{},zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,selectedStrike:[],symbolList:[],trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;setInterval(function(){t.getNiftyLTP()},1e3);var e=JSON.parse(localStorage.getItem("userTokens")),a=e&&e.feedToken,n=JSON.parse(localStorage.getItem("userProfile")),i=n&&n.clientcode;this.setState({feedToken:a,clientcode:i},function(){this.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream")}),setInterval(function(){t.updateLTP()},1e3),setInterval(function(){t.selectOnlyLtp150To170()},12e4)}},{key:"render",value:function(){var t=this;console.log("this.state.symbolList",this.state.symbolList),this.state.symbolList.sort(function(t,e){return e.ltp-t.ltp});var e=localStorage.getItem("Track145")&&JSON.parse(localStorage.getItem("Track145"))||[];return i.a.createElement(i.a.Fragment,null,"#/position"!==window.location.hash?i.a.createElement(be,null):"",i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{color:"primary",gutterBottom:!0},"145 Strategy: Legs (",this.state.symbolList.length,")  ",i.a.createElement("span",{style:{color:this.state.niftyLtp.per>0?"green":"red"}}," Nifty ",this.state.niftyLtp.ltp,"  (",this.state.niftyLtp.per,"%) "))),i.a.createElement(F.a,{item:!0,xs:12,sm:6},i.a.createElement(M.a,{id:"orderRefresh",type:"number",variant:"contained",style:{float:"right"},onClick:function(){return t.selectOnlyLtp150To170()}},"Refresh"))),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Name")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Option")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Expiry")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Ltp")))),i.a.createElement(Zt.a,null,this.state.symbolList.length?this.state.symbolList.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},i.a.createElement(Xt.a,{style:{width:"10%"},align:"center"},t.name),i.a.createElement(Xt.a,{align:"center"},t.symbol),i.a.createElement(Xt.a,{align:"center"},t.expiry),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:t.perChange>0?"green":"red"}}," ",t.ltp," (",t.perChange,"%) ")))}):i.a.createElement(pe.a,null)))))),i.a.createElement(F.a,{direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(R.a,{color:"primary",gutterBottom:!0}," Performance"),i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Name")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Option")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Expiry")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Ltp")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Entry")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Upside Price")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Return%")),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("b",null,"Downside Price")))),i.a.createElement(Zt.a,null,e.length?e.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},i.a.createElement(Xt.a,{style:{width:"10%"},align:"center"},t.name),i.a.createElement(Xt.a,{align:"center"},t.symbol),i.a.createElement(Xt.a,{align:"center"},t.expiry),i.a.createElement(Xt.a,{align:"center"},i.a.createElement("span",{style:{color:t.perChange>0?"green":"red"}}," ",t.ltp," (",t.perChange,"%) ")),i.a.createElement(Xt.a,{align:"center"},t.entry),i.a.createElement(Xt.a,{align:"center"},t.upsideLtp),i.a.createElement(Xt.a,{align:"center"},t.returnPer),i.a.createElement(Xt.a,{align:"center"},t.downsideLtp))}):i.a.createElement(R.a,null," Nothing crossed as of now")))))))}}]),e}(i.a.Component),Hi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.onChangePattern=function(t){if(a.setState(Object(f.a)({},t.target.name,t.target.value)),"NR4_Daywide_daterage"==t.target.value){var e=localStorage.getItem("backTestResultDateRange")&&JSON.parse(localStorage.getItem("backTestResultDateRange"));a.setState({dateAndTypeKeys:Object.keys(e||{}),backTestResultDateRange:e})}},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=a.state.staticData;a.setState({symbolList:e[t.target.value]},function(){this.setState({cursor:""})}),"selectall"==t.target.value&&a.setState({symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))},function(){this.setState({cursor:""})})},a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getCandleHistoryAndStore=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("last candle called time",(new Date).toLocaleTimeString()),(new Date).toLocaleTimeString()>"15:00:00"?clearInterval(a.state.candleHistoryInterval):"",e=ce.duration("00:01:00"),a.setState({backupHistoryStatus:[]}),n="YYYY-MM-DD HH:mm",i=ce(new Date).subtract(e),r=a.state.symbolList,l=it.a.mark(function t(e){var l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r[e],s={exchange:"NSE",symboltoken:l.token,interval:"ONE_MINUTE",fromdate:ce(i).format(n),todate:ce(new Date).format(n)},o={symbol:l.name,startDate:ce(i).format(n),endDate:ce(new Date).format(n),downloadStatus:!1,noOfRows:0,backStatus:!1,hugeVol:!1},O.getHistoryData(s).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var a={symbol:l.symbol,token:l.token,candleData:e.data,analysis:!0};o.downloadStatus=!0,O.backupHistoryData(a).then(function(t){if(o.backStatus=!0,o.noOfRows=t.data&&t.data.result,o.hugeVol=t.data&&t.data.hugeVol,t.data&&t.data.hugeVol){console.log(" huge Volume in "+l.symbol);var e=new SpeechSynthesisUtterance;e.text=" huge Volume in "+l.symbol,window.speechSynthesis.speak(e)}})}else console.log(" candle data emply")}),t.next=6,new Promise(function(t){return setTimeout(t,310)});case 6:a.setState({backupHistoryStatus:[].concat(Object(rt.a)(a.state.backupHistoryStatus),[o])});case 7:case"end":return t.stop()}},t)}),o=0;case 9:if(!(o<r.length)){t.next=14;break}return t.delegateYield(l(o),"t0",11);case 11:o++,t.next=9;break;case 14:case"end":return t.stop()}},t)})),a.stopBacktesting=function(){a.setState({stopScaningFlag:!0})},a.storyHistoryData=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c,m,u,v,g,d;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.patternType+" "+a.state.selectedWatchlist+" "+ce(a.state.startDate).format("YYYY-MM-DD")+" "+ce(a.state.endDate).format("YYYY-MM-DD")+".csv",a.setState({backupHistoryStatus:[],backTestFlag:!1,filename:e,stopScaningFlag:!1}),n=a.state.symbolList,i=1,r=ce(a.state.startDate),l=ce(a.state.endDate),o=l.diff(r,"days"),s=Math.ceil(o/30),console.log("nod",s),c=ce(a.state.startDate).set("9:15am","h:mma"),m=0;case 11:if(!(m<s)){t.next=30;break}u=ce(c).add(29,"days"),console.log("nod",s),v=it.a.mark(function t(e){var r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n[e],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return d={exchange:"NSE",symboltoken:r.token,interval:"ONE_MINUTE",fromdate:ce(c).format("YYYY-MM-DD HH:mm"),todate:u.format("YYYY-MM-DD HH:mm")},l={symbol:r.name,startDate:ce(c).format("DD-MM-YYYY"),endDate:ce(u).format("DD-MM-YYYY"),downloadStatus:!1,noOfRows:0,backStatus:!1},O.getHistoryData(d).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){e.data.pop();var a={symbol:r.symbol,token:r.token,candleData:e.data};l.downloadStatus=!0,O.backupHistoryData(a).then(function(t){l.backStatus=!0,console.log("test",t.data),l.noOfRows=t.data&&t.data.result})}else console.log(" candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,400)});case 8:a.setState({stockTesting:e+1+". "+r.symbol,runningTest:i}),a.setState({backupHistoryStatus:[].concat(Object(rt.a)(a.state.backupHistoryStatus),[l])}),a.setState({done:!0}),console.log("status",l);case 12:case"end":return t.stop()}},t)}),g=0;case 16:if(!(g<n.length)){t.next=24;break}return t.delegateYield(v(g),"t0",18);case 18:if("break"!==t.t0){t.next=21;break}return t.abrupt("break",24);case 21:g++,t.next=16;break;case 24:return c=u,t.next=27,new Promise(function(t){return setTimeout(t,400*n.length)});case 27:m++,t.next=11;break;case 30:a.setState({backTestFlag:!0});case 31:case"end":return t.stop()}},t)})),a.state={symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY 50",stopScaningFlag:!1,backTestResultDateRange:[],searchFailed:0,backTestFlag:!0,backupHistoryStatus:[]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){window.document.title="Backtest",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]},function(){var t=this;this.getCandleHistoryAndStore();var e=ce(new Date,"h:mma"),a=ce().isoWeekday(),n=ce("9:15am","h:mma"),i=ce("3:30pm","h:mma");if(a<=5&&e.isBetween(n,i))var r=setInterval(function(){0===(new Date).getSeconds()&&(setTimeout(function(){t.getCandleHistoryAndStore()},1e4),setInterval(function(){t.getCandleHistoryAndStore()},7e4),clearInterval(r))},1e3)})}},{key:"render",value:function(){var t=this,e={myCallback:this.myCallback,startDate:"",endDate:"",firstLavel:"Start Date and Time",secondLavel:"End Date and Time"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(R.a,{style:{textAlign:"center",background:"lightgray"}},"History Backup"),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:ji.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Ce,{callbackFromParent:e})),i.a.createElement(F.a,{item:!0,xs:12,sm:4,style:{marginTop:"5px"}},this.state.backTestFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.storyHistoryData()}},"Backup"):i.a.createElement(i.a.Fragment,null," ",i.a.createElement(M.a,null," ",i.a.createElement(pe.a,null)," \xa0 ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.stopBacktesting()}},"Stop Scaning")," \xa0  ",this.state.stockTesting," ",this.state.runningTest,"  "),"   "),"\xa0 Failed: ",this.state.searchFailed))),i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sr. No."),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"From date"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"To date  "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Download Status"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Backup Status"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"No of Rows"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Huge Volume(last 100min)"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.backupHistoryStatus&&this.state.backupHistoryStatus?this.state.backupHistoryStatus.map(function(t,e){return i.a.createElement(Gt.a,{key:e},i.a.createElement(Xt.a,null,e+1),i.a.createElement(Xt.a,null,t.symbol),i.a.createElement(Xt.a,null,t.startDate),i.a.createElement(Xt.a,null,t.endDate),i.a.createElement(Xt.a,null,t.downloadStatus?"Yes":"No"),i.a.createElement(Xt.a,null,t.backStatus?"Yes":"No"),i.a.createElement(Xt.a,null,t.noOfRows),i.a.createElement(Xt.a,null,t.hugeVol?"Yes":"-"))}):""))))))}}]),e}(i.a.Component),ji={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Ri=Hi,Wi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).getTodayOrder=function(){var t=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[];O.retrieveOrderBook().then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data;i.sort(function(t,e){return new Date(e.updatetime)-new Date(t.updatetime)}),i.forEach(function(e){var n=t.filter(function(t){return t.tradingsymbol==e.tradingsymbol});n.length>0&&e.tradingsymbol==n[0].tradingsymbol&&(a.setState(Object(f.a)({},"priceTarget_"+e.tradingsymbol,n[0].priceTarget)),a.setState(Object(f.a)({},"priceStopLoss_"+e.tradingsymbol,n[0].priceStopLoss)))}),a.setState({oderbookData:i}),localStorage.setItem("oderbookData",JSON.stringify(i))}})},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.updateSocketWatch=function(t){var e=a.state.symbolList.map(function(t){return"nse_cm|"+t.token}),n={task:"mw",channel:e=e.join("&"),token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.makeConnection=function(t){var e='{"task":"cn","channel":"NONLM","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';t.send(e),a.updateSocketWatch(t)},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t),a.updateSocketWatch(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n),r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var a=i.filter(function(e){return e.tk==t.token});a.length>0&&a[0].ltp&&a[0].nc&&(r[e].ltp=a[0].ltp,r[e].pChange=a[0].nc,r[e].totalBuyQuantity=a[0].tbq,r[e].totalSellQuantity=a[0].tsq,r[e].totalTradedVolume=a[0].v,r[e].averagePrice=a[0].ap,r[e].lowPrice=a[0].lo,r[e].highPrice=a[0].h,r[e].openPrice=a[0].op,r[e].volume=a[0].v,r[e].bestbuyquantity=a[0].bq,r[e].bestbuyprice=a[0].bp,r[e].bestsellquantity=a[0].bs,r[e].bestsellprice=a[0].sp,r[e].ltt=ce(a[0].ltt,"YYYY-MM-DD HH:mm:ss").toString(),r[e].buytosellTime=(a[0].tbq/a[0].tsq).toFixed(2),r[e].selltobuyTime=(a[0].tsq/a[0].tbq).toFixed(2))});var l=a.state.sortedType;r&&r.sort(function(t,e){return e[l]-t[l]}),a.setState({symbolList:r},function(){})},t.onerror=function(t){console.log("socket error",t)},setInterval(function(){console.log("this.wsClint",a.wsClint),1!=a.wsClint.readyState&&a.makeConnection(a.wsClint);var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)},59e3)},a.getNiftyLTP=function(){O.getLTP({exchange:"NSE",tradingsymbol:"BANKNIFTY",symboltoken:"26009"}).then(function(t){var e=z(t,"noPop"),n=e&&e.data;if(n&&n.ltp){var i=100*(n.ltp-n.close)/n.close;if(a.setState({niftyLtp:{ltp:n.ltp,per:i.toFixed(2)}}),a.state.firstTimeFlag){for(var r=n.ltp-15*n.ltp/100,l=n.ltp+15*n.ltp/100,o=l+l%100,s=r-r%100;s<=o;s+=100)console.log(n.ltp,r,l,"strike",s),a.setState({selectedStrike:[].concat(Object(rt.a)(a.state.selectedStrike),[s])});a.getToketForStrike(),a.setState({firstTimeFlag:!1})}}localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))})},a.getToketForStrike=function(){console.log(a.state.selectedStrike),O.getBankniftyLatestOption(a.state.selectedStrike).then(function(t){a.setState({rowSymbolList:t.data},function(){})})},a.selectOnlyLtp150To170=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({symbolList:[]}),console.log("refresh",a.state.symbolList),!a.state.rowSymbolList){t.next=7;break}for(e=function(t){var e=a.state.rowSymbolList[t];i={exchange:e.exch_seg,tradingsymbol:e.symbol,symboltoken:e.token},O.getLTP(i).then(function(t){var n=z(t,"noPop"),i=n&&n.data;i&&i.ltp&&(e.ltp=i.ltp,e.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2)),i&&i.ltp>150&&i.ltp<185&&a.setState({symbolList:[].concat(Object(rt.a)(a.state.symbolList),[e])})})},n=0;n<a.state.rowSymbolList.length;n++)e(n);return t.next=7,new Promise(function(t){return setTimeout(t,100)});case 7:case"end":return t.stop()}},t)})),a.updateLTP=Object(lt.a)(it.a.mark(function t(){var e,n,i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],i={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(i).then(function(t){var e=z(t,"noPop"),i=e&&e.data;i&&i.ltp&&(n.ltp=i.ltp,n.perChange=(100*(i.ltp-i.close)/i.close).toFixed(2),a.updateBOPerformance(n,i))}),t.next=5,new Promise(function(t){return setTimeout(t,100)});case 5:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.symbolList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.updateBOPerformance=function(t,e){var a=localStorage.getItem("Track145")&&JSON.parse(localStorage.getItem("Track145"))||[],n=a.filter(function(e){return e.symbol==t.symbol}),i=a.findIndex(function(e){return e.symbol===t.symbol});if(e.ltp>185)if(n.length){if(e.ltp>n[0].upsideLtp){var r=Object(m.a)({},a[i],{upsideLtp:e.ltp,returnPer:100*(e.ltp-n[0].entry)/n[0].entry}),l=[].concat(Object(rt.a)(a.slice(0,i)),[r],Object(rt.a)(a.slice(i+1)));console.log("updatedObj",r),localStorage.setItem("Track145",JSON.stringify(l))}}else t.entry=e.ltp,t.upsideLtp=e.ltp,t.downsideLtp=e.ltp,a.push(t),localStorage.setItem("Track145",JSON.stringify(a));else if(n.length&&e.ltp<n[0].downsideLtp){var o=Object(m.a)({},a[i],{downsideLtp:e.ltp}),s=[].concat(Object(rt.a)(a.slice(0,i)),[o],Object(rt.a)(a.slice(i+1)));localStorage.setItem("Track145",JSON.stringify(s))}},a.cancelOrderOfSame=function(t,e){var n={variety:e,orderid:t};O.cancelOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&a.getTodayOrder()})},a.modifyOrder=function(t,e){var n={variety:t.variety,orderid:t.orderid,ordertype:0!==a.state.price?"STOPLOSS_LIMIT":"STOPLOSS_MARKET",producttype:t.producttype,duration:t.duration,price:a.state.price,triggerprice:e||a.state.triggerprice,quantity:t.quantity,tradingsymbol:t.tradingsymbol,symboltoken:t.symboltoken,exchange:t.exchange};O.modifyOrder(n).then(function(t){var e=z(t);e.status&&"SUCCESS"===e.message&&(a.setState({triggerprice:0}),a.getTodayOrder())})},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()))},a.onChangePriceStopLoss=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceStopLoss=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.onChangePriceTarget=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value.trim()));for(var e=t.target.name.split("_")[1],n=localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[],i=!1,r=0;r<n.length;r++){var l=n[r];if(l.tradingsymbol===e){l.priceTarget=t.target.value.trim(),i=!0;break}}i||n.push({priceStopLoss:t.target.value.trim(),tradingsymbol:e,optiontype:e.substr(e.length-2,e.length-1),name:e.includes("BANKNIFTY")?"BANKNIFTY":"NIFTY"}),localStorage.setItem("trackSLPrice",JSON.stringify(n))},a.state={oderbookData:[],listofzones:[],selectedZone:[],niftyLtp:{},zone:"",selectAllzone:"Select All",triggerprice:0,price:0,lotsize:0,firstTimeFlag:!0,selectedStrike:[],symbolList:[],rowSymbolList:[],trackSLPrice:localStorage.getItem("trackSLPrice")&&JSON.parse(localStorage.getItem("trackSLPrice"))||[]},a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.getNiftyLTP();var t=JSON.parse(localStorage.getItem("userTokens")),e=t&&t.feedToken,a=JSON.parse(localStorage.getItem("userProfile")),n=a&&a.clientcode;this.setState({feedToken:e,clientcode:n},function(){this.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream")})}},{key:"render",value:function(){console.log("this.state.symbolList",this.state.symbolList),this.state.symbolList.sort(function(t,e){return e.ltp-t.ltp});localStorage.getItem("Track145")&&JSON.parse(localStorage.getItem("Track145"));return i.a.createElement(i.a.Fragment,null,this.state.rowSymbolList.length?JSON.stringify(this.state.rowSymbolList):i.a.createElement(pe.a,null))}}]),e}(i.a.Component),_i=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.state.tradingsymbol&&this.showStaticChart(this.state.symboltoken)})},a.onChangePattern=function(t){if(a.setState(Object(f.a)({},t.target.name,t.target.value)),"NR4_Daywide_daterage"==t.target.value){var e=localStorage.getItem("backTestResultDateRange")&&JSON.parse(localStorage.getItem("backTestResultDateRange"));a.setState({dateAndTypeKeys:Object.keys(e||{}),backTestResultDateRange:e})}},a.onChangeWatchlist=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=a.state.staticData;a.setState({symbolList:e[t.target.value]},function(){this.setState({cursor:""})}),"selectall"==t.target.value&&a.setState({symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))},function(){this.setState({cursor:""})})},a.checkOpenEqualToLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState((e={openEqualHighList:[],openEqualLowList:[]},Object(f.a)(e,"openEqualLowList",[]),Object(f.a)(e,"advanceShareCount",0),Object(f.a)(e,"declineShareCount",0),Object(f.a)(e,"UnchangeShareCount",0),Object(f.a)(e,"volumeCrossedList",[]),Object(f.a)(e,"closeingEqualHighList",[]),e)),n=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.symbolList[e],r={exchange:n.exch_seg,tradingsymbol:n.symbol,symboltoken:n.token},O.getLTP(r).then(function(t){var i=z(t,"noPop"),r=i&&i.data;if(r){var l=(100*(r.ltp-r.close)/r.close).toFixed(2);if(r.nc=l,r.symbol=n.symbol,a.state.symbolList[e].ltp=r.ltp,a.state.symbolList[e].nc=l,r&&r.open==r.low)console.log("o=l",r),a.state.openEqualLowList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualLowList:[].concat(Object(rt.a)(a.state.openEqualLowList),[r])});if(console.log(n.symbol,"ltp=newhigh",r.ltp,r.high-.5*r.high/100),r&&r.ltp>=r.high-.5*r.high/100)a.state.closeingEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({closeingEqualHighList:[].concat(Object(rt.a)(a.state.closeingEqualHighList),[r])});if(r&&r.open==r.high)console.log("o=h",r),a.state.openEqualHighList.filter(function(t){return t.symboltoken==n.token}).length||a.setState({openEqualHighList:[].concat(Object(rt.a)(a.state.openEqualHighList),[r])});r.perChange>0?a.setState({advanceShareCount:a.state.advanceShareCount+1}):r.perChange<0?a.setState({declineShareCount:a.state.declineShareCount+1}):a.setState({UnchangeShareCount:a.state.UnchangeShareCount+1}),a.state.symbolList&&a.state.symbolList.sort(function(t,e){return e.nc-t.nc}),a.setState({symbolList:a.state.symbolList,tradingsymbol:n.symbol,symboltoken:n.token})}}),t.next=5,new Promise(function(t){return setTimeout(t,310)});case 5:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<a.state.symbolList.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getLTP=function(){var t={exchange:"NSE",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;a.setState({InstrumentLTP:n}),n&&n.ltp&&a.setState({InstrumentPerChange:(100*(n.ltp-n.close)/n.close).toFixed(2)})})},a.stopBacktesting=function(){a.setState({stopScaningFlag:!0})},a.backTestAnyPattern=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c,m,u;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.state.patternType+" "+a.state.selectedWatchlist+" "+ce(a.state.startDate).format("YYYY-MM-DD")+" "+ce(a.state.endDate).format("YYYY-MM-DD")+".csv",a.setState({backTestResult:[],backTestFlag:!1,filename:e}),console.log("filename",e),a.state.patternType){t.next=6;break}return q.showError("Select pattern type"),t.abrupt("return");case 6:if("MovingAverage"!==a.state.patternType){t.next=9;break}return a.backTestBanknifty(),t.abrupt("return");case 9:if("BBRSIStrategy"!==a.state.patternType){t.next=12;break}return a.BBRSIStrategyTest(),t.abrupt("return");case 12:if("NR4"!==a.state.patternType){t.next=15;break}return a.backTestNR4(),t.abrupt("return");case 15:if("NR4Trail"!==a.state.patternType){t.next=18;break}return a.backTestNR4Trail(),t.abrupt("return");case 18:if("NR4ForNextDay"!==a.state.patternType){t.next=21;break}return a.NR4ForNextDay(),t.abrupt("return");case 21:if("NR4_SameDay"!==a.state.patternType){t.next=24;break}return a.backTestNR4SameDay(),t.abrupt("return");case 24:if("StrongCandle"!==a.state.patternType){t.next=27;break}return a.backtestStrongCandle(),t.abrupt("return");case 27:if("VolumePrice"!==a.state.patternType){t.next=30;break}return a.backtestVolumePrice(),t.abrupt("return");case 30:if("VolumePriceSell"!==a.state.patternType){t.next=33;break}return a.backtestVolumePriceSell(),t.abrupt("return");case 33:if("NR4_Daywide_daterage"!==a.state.patternType){t.next=50;break}n=ce(a.state.startDate),i=ce(a.state.endDate),r=n,l=i;case 38:if(!r.isSameOrBefore(l,"day")){t.next=48;break}if(console.log("Loop at ".concat(r.format("DD-MM-YYYY"))),a.backTestNR4DatewiseRange(r),!a.state.stopScaningFlag){t.next=43;break}return t.abrupt("break",48);case 43:return t.next=45,new Promise(function(t){return setTimeout(t,310*a.state.symbolList.length)});case 45:r.add(1,"days"),t.next=38;break;case 48:return a.setState({backTestFlag:!0,stopScaningFlag:!1}),t.abrupt("return");case 50:a.setState({backTestResult:[],backTestFlag:!1}),console.log("pattername",a.state.patternType),o=a.state.symbolList,s=1,c=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o[e],u={exchange:"NSE",symboltoken:n.token,interval:"FIFTEEN_MINUTE",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(u).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,r=0;r<i.length-35;r++){var l=i.slice(r,r+10),o=i.slice(r+10,r+35);if(console.log("\n"),l.length>=10&&new Date(i[r][0]).toLocaleTimeString()<"14:15:00")switch(a.state.patternType){case"TweezerTop":a.backtestTweezerTop(l,n.symbol,o);break;case"TweezerBottom":a.backtestTweezerBottom(l,n.symbol,o)}s+=i.length}else console.log(" candle data emply")}),t.next=5,new Promise(function(t){return setTimeout(t,300)});case 5:a.setState({stockTesting:e+1+". "+n.symbol,runningTest:s});case 6:case"end":return t.stop()}},t)}),m=0;case 56:if(!(m<o.length)){t.next=61;break}return t.delegateYield(c(m),"t0",58);case 58:m++,t.next=56;break;case 61:case"end":return t.stop()}},t)})),a.NR4ForNextDay=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({FoundPatternList:[],backTestFlag:!1}),e=a.state.symbolList,1,0,n=it.a.mark(function t(n){var i;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e[n],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return a.setState({stockTesting:n+1+". "+i.symbol}),r=ce.duration("240:00:00"),l=ce(a.state.endDate).subtract(r),o={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(l).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data;n.reverse();var r=n.slice(0,4);if(r.length>=4){var l=[],o=[];r.forEach(function(t){l.push(t[2]-t[3]),o.push([t[0],t[1],t[2],t[3],t[4]])});var s=l[0],c=0;if(l.forEach(function(t){s<=t&&(s=t,c+=1)}),4==c){var m=r[0],u=n[0];console.log(i.symbol,r,l,c,u);var v=(m[2]+m[2]/100/10).toFixed(2),g=(m[3]-m[3]/100/10).toFixed(2),d={foundAt:new Date(m[0]).toString().substr(0,25),symbol:i.symbol,token:i.token,pattenName:"NR4",SellAt:g,high:m[2],low:m[3],BuyAt:v,candleChartData:o,close:m[4]};a.nr4CheckPastPerfommance(i.token,d)}}}else console.log(i.symbol," candle data emply")}).catch(function(t){q.showError(i.symbol+" Candle data not found!")}),t.next=10,new Promise(function(t){return setTimeout(t,350)});case 10:case"end":return t.stop()}},t)}),i=0;case 5:if(!(i<e.length)){t.next=13;break}return t.delegateYield(n(i),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:i++,t.next=5;break;case 13:a.setState({backTestFlag:!0,stopScaningFlag:!1});case 14:case"end":return t.stop()}},t)})),a.findShortTraadeOnNextDay=function(t,e,n,i){var r=e[3]-e[3]/100/10,l=r+1*r/100,o=[],s=!0,c={},m="",u=i[0][3];if(console.log(t.symbol,"result candle",i),i&&i.length){for(var v=0;v<i.length;v++){var g=i[v];o.push([new Date(g[0]).getTime(),g[1],g[2],g[3],g[4]]),g[2]<u&&(u=g[3])}for(var d=0;d<i.length;d++){m=i[d],s&&m[3]<r&&(console.log(t.symbol,"taken short enty",m[3]),c={foundAt:"Short-"+new Date(m[0]).toLocaleString(),symbol:t.symbol,sellEntyPrice:r,stopLoss:l,brokerageCharges:.06,quantity:Math.floor(1e5/r),candleChartData:n},s=!1);var h=100*(r-m[3])/r;if(console.log(t.symbol,"perChange",h),!s&&h>=1){var p=r-1*r/100;c.buyExitPrice=p,c.perChange=h,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="Flat_1%_Booked";break}if(console.log(t.symbol,"high",m[2]),!s&&m[2]>=l){var f=100*(r-l)/r;c.buyExitPrice=l,c.perChange=f,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="SL_Hit";break}}if(!s&&!c.sellEntyPrice){f=100*(m[4]-r)/r;c.buyExitPrice=m[4],c.perChange=f,c.squareOffAt=new Date(m[0]).toLocaleString(),c.exitStatus="Market_End"}if(!s&&Math.floor(1e5/r)&&c.buyExitPrice){var y=100*(r-u)/r;c.highAndLow=u,c.perChngOnHighLow=y,c.candleChartDataInside=o,a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])})}}},a.findLongsTraadeOnNextDay=function(t,e,n,i){var r=e[2]+e[2]/100/10,l=r-.3*r/100,o=[],s=!0,c=!0,m=0,u={},v="",g=i[0][2];if(i&&i.length){for(var d=0;d<i.length;d++){var h=i[d];o.push([new Date(h[0]).getTime(),h[1],h[2],h[3],h[4]]),g<i[d][2]&&(g=i[d][2])}for(var p=0;p<i.length;p++){v=i[p],s&&v[2]>r&&(u={foundAt:"Long-"+new Date(v[0]).toLocaleString(),symbol:t.symbol,buyExitPrice:r,stopLoss:l,brokerageCharges:.06,quantity:Math.floor(1e5/r),candleChartData:n},s=!1);var f=100*(v[2]-r)/r;if(!s){if(c&&f>=.7){m+=1;var y=r+.1*r/100;u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Trail by 0.1% "+m+"time",c=!1}else{var b=u.sellEntyPrice,S=(100*(v[2]-b)/b).toFixed(2),E=u.buyExitPrice,k=(100*(v[2]-E)/E).toFixed(2);if(S>.7)m+=1,y=b+.25*b/100,u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Trail by 0.25% "+m+"time";else if(k>=.3&&k<=.4){m+=1,y=b+.25*b/100,u.sellEntyPrice=y,u.perChange=100*(y-r)/r,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Min range 0.3 -0.4% "+m+"time";break}}if(v[3]<=u.sellEntyPrice){console.log(t.symbol,"trail hit elementInside[3] <= sellEntyPrice",v[3],u.sellEntyPrice,new Date(v[0]).toLocaleString());break}}if(!s&&v[3]<=l){console.log(t.symbol,"SL hit elementInside[3] <= buyentrySL",v[3],l,new Date(v[0]).toLocaleString());var C=100*(l-r)/r;u.sellEntyPrice=l,u.perChange=C,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="SL_Hit";break}}if(!s&&!u.sellEntyPrice){C=100*(v[4]-r)/r;u.buyExitPrice=v[4],u.perChange=C,u.squareOffAt=new Date(v[0]).toLocaleString(),u.exitStatus="Market_End"}if(!s&&Math.floor(1e5/r)&&u.buyExitPrice){var T=100*(g-r)/r;u.highAndLow=g,u.perChngOnHighLow=T,u.candleChartDataInside=o,console.log(t.symbol,"longTradeFound",u),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[u])})}}},a.backTestNR4SameDay=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1,searchFailed:0}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return o=ce.duration("240:00:00"),s=ce(a.state.endDate).subtract(o),c={exchange:"NSE",symboltoken:r.token,interval:"ONE_DAY",fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(c).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var i=e.data;i.reverse();var l=i.slice(1,5);if(l.length>=4){var o=[],s=[];l.forEach(function(t){o.push(t[2]-t[3]),s.push([t[0],t[1],t[2],t[3],t[4]])});var c=o[0],m=0;if(o.forEach(function(t){c<=t&&(c=t,m+=1)}),4==m){var u=l[0],v=i[0];s.unshift([v[0],v[1],v[2],v[3],v[4]]),console.log(r.symbol,l,o,m,v);var g=ce(v[0]).set({hour:9,minute:15}),d=ce(v[0]).set({hour:15,minute:30}),h={exchange:"NSE",symboltoken:r.token,interval:"ONE_MINUTE",fromdate:ce(g).format("YYYY-MM-DD HH:mm"),todate:ce(d).format("YYYY-MM-DD HH:mm")};O.getHistoryData(h).then(function(t){var e=z(t,"noPop");e=e&&e.data,a.findLongsTraadeOnNextDay(r,u,s,e)}).catch(function(t){q.showError(r.symbol+" FIVE_MINUTE Candle data not found!"),a.setState({searchFailed:a.state.searchFailed+1})})}}n=n+i.length-35}else console.log(r.symbol," candle data emply"),q.showError(r.symbol+" FIVE_MINUTE candle data emply!"),a.setState({searchFailed:a.state.searchFailed+1})}).catch(function(t){q.showError(r.symbol+" 1 day Candle data not found!"),a.setState({searchFailed:a.state.searchFailed+1})}),t.next=9,new Promise(function(t){return setTimeout(t,305)});case 9:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 10:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0,stopScaningFlag:!1}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.backTestNR4DatewiseRange=function(){var t=Object(lt.a)(it.a.mark(function t(e){var n,i,r,l,o,s,c;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestFlag:!1}),n=a.state.symbolList,i=1,0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=n[r],!a.state.stopScaningFlag){t.next=3;break}return t.abrupt("return","break");case 3:return o=ce.duration("240:00:00"),s=ce(e).subtract(o),c={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(e).format("YYYY-MM-DD HH:mm")},O.getHistoryData(c).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){var r=n.data;r.reverse();var o=r.slice(1,5);if(o.length>=4){var s=[],c=[];o.forEach(function(t){s.push(t[2]-t[3]),c.push([t[0],t[1],t[2],t[3],t[4]])});var m=s[0],u=0;if(s.forEach(function(t){m<=t&&(m=t,u+=1)}),4==u){var v=o[0],g=r[0];c.unshift([g[0],g[1],g[2],g[3],g[4]]);var d=e.format("DD-MM-YYYY")+" "+a.state.selectedWatchlist,h=localStorage.getItem("backTestResultDateRange")?JSON.parse(localStorage.getItem("backTestResultDateRange")):{},p=h[d]?h[d]:[];console.log(l.symbol,o,s,u,g);var f=(v[2]+v[2]/100/10).toFixed(2);if(g[2]>f){var y=100*(g[4]-f)/f,b=100*(g[2]-f)/f;y,console.log(l.symbol,v[0],"upside","same day high",v[2],"same day low",v[3],"nextdaylow",g[3],"nextdayhigh",g[2],"next day closing",g[4],y+"%");var S={foundAt:"Long - "+new Date(v[0]).toLocaleString(),symbol:l.symbol,sellEntyPrice:g[4],highAndLow:g[2],stopLoss:v[3],buyExitPrice:f,brokerageCharges:.06,perChange:y.toFixed(2),perChngOnHighLow:b.toFixed(2),squareOffAt:new Date(g[0]).toLocaleString(),quantity:Math.floor(1e4/v[2]),candleChartData:c};Math.floor(1e4/v[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[S])}),p.push(S),h[d]=p,localStorage.setItem("backTestResultDateRange",JSON.stringify(h)))}var E=(v[3]-v[3]/100/10).toFixed(2);if(g[3]<E){y=100*(E-g[4])/v[3];var k=100*(E-g[3])/v[3];y,console.log(l.symbol,v[0],"dowside","same day high",v[2],"same day low",v[3],"nextdaylow",g[3],"nextdayhigh",g[2],"next day closing",g[4],y+"%");S={foundAt:"Short - "+new Date(v[0]).toLocaleString(),symbol:l.symbol,sellEntyPrice:E,stopLoss:v[2],buyExitPrice:g[4],highAndLow:g[3],brokerageCharges:.06,perChange:y.toFixed(2),perChngOnHighLow:k.toFixed(2),squareOffAt:new Date(g[0]).toLocaleString(),quantity:Math.floor(1e4/v[3]),candleChartData:c};Math.floor(1e4/v[3])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[S])}),p.push(S),h[d]=p,console.log("backTestResultDateRange",h),localStorage.setItem("backTestResultDateRange",JSON.stringify(h)),a.setState({dateAndTypeKeys:Object.keys(h),backTestResultDateRange:h}))}}}i=i+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=9,new Promise(function(t){return setTimeout(t,300)});case 9:a.setState({stockTesting:e.format("YYYY-MM-DD")+" "+r+"1. "+l.symbol,runningTest:i});case 10:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<n.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.backTestNR4=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e[r],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return o={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var r=e.data,o=0;o<r.length-4;o++){var s=r.slice(o,o+4);if(s.length>=4&&new Date(r[o][0]).toLocaleTimeString()<"14:15:00"){s.reverse();var c=[],m=[];s.forEach(function(t){c.push(t[2]-t[3]),m.push([t[0],t[1],t[2],t[3],t[4]])});var u=c[0],v=0;if(c.forEach(function(t){u<=t&&(u=t,v+=1)}),4==v){var g=s[0],d=r[o+4];m.unshift([d[0],d[1],d[2],d[3],d[4]]);var h=(g[2]+g[2]/100/10).toFixed(2),p=(g[3]-g[3]/100/10).toFixed(2);if(d[2]>h){var f=d[a.state.longExitPriceType],y="ME@3:30pm";d[a.state.longExitPriceType]<=p&&(f=p,y="SLHit");var b=100*(f-h)/h,S=100*(d[2]-h)/h;i+=b,console.log(l.symbol,g[0],"upside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],b+"%");var E=(100*(h-p)/h).toFixed(2),k=ce(d[0]).subtract(0,"month").startOf("month").format("MMMM"),C={foundAt:"Long - "+new Date(g[0]).toLocaleString(),monthName:k,symbol:l.symbol,perChange:b.toFixed(2),perChngOnHighLow:S.toFixed(2),brokerageCharges:.06,sellEntyPrice:f,stopLoss:"".concat(p," (").concat(E,"%)"),exitStatus:y,quantity:Math.floor(1e4/g[2]),token:l.token,highAndLow:d[2],buyExitPrice:h,entryAt:g[0],squareOffAt:d[0],candleChartData:m};Math.floor(1e4/g[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[C])}),a.setState({backTestResult:a.state.backTestResult.reverse()}))}var T=(g[3]-g[3]/100/10).toFixed(2);p=(g[2]+g[2]/100/10).toFixed(2);if(d[3]<T){var L=d[a.state.longExitPriceType],w="ME@3:30pm";d[a.state.longExitPriceType]>=p&&(L=p,w="SLHit");b=100*(T-L)/g[3];var x=100*(T-d[3])/g[3];i+=b,console.log(l.symbol,g[0],"dowside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],b+"%");var O=(100*(p-T)/p).toFixed(2);k=ce(d[0]).subtract(0,"month").startOf("month").format("MMMM"),C={foundAt:"Short - "+new Date(g[0]).toLocaleString(),monthName:k,symbol:l.symbol,perChange:b.toFixed(2),perChngOnHighLow:x.toFixed(2),brokerageCharges:.06,sellEntyPrice:T,stopLoss:"".concat(p," (").concat(O,"%)"),exitStatus:w,quantity:Math.floor(1e4/g[3]),token:l.token,highAndLow:d[3],buyExitPrice:L,entryAt:g[0],squareOffAt:d[0],candleChartData:m};Math.floor(1e4/g[3])&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[C])})}}}n=n+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:r+1+". "+l.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.BBRSIStrategyTest=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=0,n=0,a.setState({backTestResult:[],overallPoints:0,slCount:0}),i=a.state.symbolList,r=function(t){var r=i[t];if(a.state.stopScaningFlag)return a.setState({stopScaningFlag:!1}),{v:void 0};o={exchange:"NSE",token:r.token,interval:a.state.timeFrame,starttime:new Date(a.state.startDate).getTime()/1e3,endtime:new Date(a.state.endDate||new Date).getTime()/1e3},O.getHistoryShoonya(o).then(function(t){var i=t.data;if(i&&i.length>0){i.reverse();var l=[],o=[],s=[],c=(o=[],[]);i.forEach(function(t){l.push(parseFloat(t.intc)),s.push({close:parseFloat(t.intc),time:t.time}),o.push([t.ssboe,t.into,t.inth,t.intl,t.intc]),c.push((parseFloat(t.inth)+parseFloat(t.intl)+parseFloat(t.intc))/3)});var m={period:20,values:l,stdDev:2},u=ue.a.calculate(m);console.log(r.name,"Bolinger band",m,u);var v={values:l,period:14},g=me.a.calculate(v);console.log(r.name,"Rsi",v,g);for(var d=i.length-u.length,h=0;d<i.length;d++,h++)if(i[d].intc>=u[h].upper&&g[h]>=60){var p=i[d],f=i[d+1],y=i[d+2],b=p.inth,S=p.intl;if(f&&y&&f.inth>b){var E=0,k="";f.intl<=S?(E=S,k="SLHit",n++):(k="Profit",E=f.inth),e+=E-b;var C={buy:b,sell:E,point:(E-b).toFixed(2),exitStatus:k,tradetime:p.time,overallPoints:e.toFixed(2),smaIndex:"".concat(r.name," C:").concat(i[d].intc," BBU:").concat(u[h].upper.toFixed(2)," Rsi:").concat(g[h])};a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[C]),overallPoints:e.toFixed(2),slCount:n}),console.log("foundStock",C,"overallPoints",e)}}a.setState({backTestFlag:!0})}else console.log("bn candle data emply")})},l=0;case 7:if(!(l<i.length)){t.next=14;break}if("object"!==typeof(s=r(l))){t.next=11;break}return t.abrupt("return",s.v);case 11:l++,t.next=7;break;case 14:a.setState({backTestFlag:!0});case 15:case"end":return t.stop()}},t)})),a.backTestBanknifty=Object(lt.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({backTestResult:[],overallPoints:0}),!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return");case 4:e={exchange:"NSE",token:"26009",interval:a.state.timeFrame,starttime:new Date(a.state.startDate).getTime()/1e3,endtime:new Date(a.state.endDate||new Date).getTime()/1e3},O.getHistoryShoonya(e).then(function(t){var e=t.data;if(e&&e.length>0){e.reverse();var n=[],i=[],r=[],l=0;e.forEach(function(t){n.push(parseFloat(t.intc)),r.push({close:parseFloat(t.intc),time:t.time}),i.push([t.ssboe,t.into,t.inth,t.intl,t.intc])});var o=Me.a.calculate({period:5,values:n});console.log("emalib",o);for(var s=5,c=0;s<e.length;s++,c++)if(console.log("lib sma","intc",e[s].intc,"currnet sma",o[s]),e[s].intc>=o[c]){var m=e[s],u=e[s+1],v=e[s+2],g=m.inth,d=m.intl;if(u&&v&&u.inth>g){var h=0,p="";v.intl<=d?(h=d,p="SLHit"):v.inth>=u.inth?(p="Profit",h=u.inth):(p="Cost-to-cost",h=g),l+=h-g;var f={buy:g,sell:h,point:(h-g).toFixed(2),exitStatus:p,tradetime:m.time,overallPoints:l.toFixed(2),smaIndex:o[c].toFixed(2)};a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[f]),overallPoints:l.toFixed(2)}),console.log("foundStock",f,"overallPoints",l)}}a.setState({backTestFlag:!0})}else console.log("bn candle data emply")});case 6:case"end":return t.stop()}},t)})),a.backtestVolumePrice=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=0;l<i.length-7;l++){var o,s,c,m=i.slice(l,l+7);if(new Date(i[l][0]).toLocaleTimeString()>"09:30:00"&&new Date(i[l][0]).toLocaleTimeString()<"14:15:00")!function(){o=[];var t=m[m.length-1],e=0,n=t[5];m.forEach(function(t){n>t[5]&&e++,o.push([t[0],t[1],t[2],t[3],t[4]])});var i=t[2]-t[3],l=100*(t[4]-t[3])/i;s=100*(t[4]-t[1])/t[1],e>=4&&l>=80&&s>.5&&(console.log(r.symbol,"backtestCandle",m,"volBreakcount",e),c={foundAt:ce(t[0]).format("DD-MM-YYYY HH:mm"),symbol:r.name,token:r.token,chartDate:t[0],candleChartData:o},a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])},function(){var t="";this.state.backTestResult.forEach(function(e){return t+=e.foundAt+"\t"+e.symbol+"\n"}),this.setState({copydata:t})}))}();n=n+i.length-35}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backtestVolumePriceSell=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=0;l<i.length-7;l++){var o,s,c,m=i.slice(l,l+7);if(new Date(i[l][0]).toLocaleTimeString()>"09:30:00"&&new Date(i[l][0]).toLocaleTimeString()<"14:15:00")!function(){o=[];var t=m[m.length-1],e=0,n=t[5];m.forEach(function(t){n>t[5]&&e++,o.push([t[0],t[1],t[2],t[3],t[4]])});var i=t[2]-t[3],l=100*(t[4]-t[3])/i;s=100*(t[4]-t[1])/t[1],e>=4&&l<=20&&s<-.5&&(console.log(r.symbol,"backtestCandle",m,"volBreakcount",e),c={foundAt:ce(t[0]).format("DD-MM-YYYY HH:mm"),symbol:r.name,token:r.token,chartDate:t[0],candleChartData:o},a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[c])},function(){var t="";this.state.backTestResult.forEach(function(e){return t+=e.foundAt+"\t"+e.symbol+"\n"}),this.setState({copydata:t})}))}();n=n+i.length-35}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backtestStrongCandle=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,0,i=it.a.mark(function t(i){var r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[i],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return l={exchange:"NSE",symboltoken:r.token,interval:"FIVE_MINUTE",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var i=e.data,l=function(t){s=i.slice(t,t+4),c=[],s.forEach(function(e){c.push([e[0],e[1],e[2],e[3],e[4]]);var n=100*(e[2]-e[3])/e[1];if(e[1]==e[3]&&e[2]==e[4]&&n>=.3){var l=e[0],o=i[t+1],s=l[2]+l[2]/100/10,m=l[3]-l[3]/100/10,u=o[2],v="Market End";o[2]<=m&&(u=m,v="SL Hit");var g=100*(u-s)/s,d=100*(o[2]-s)/s;g;var h=(100*(s-m)/s).toFixed(2),p={foundAt:new Date(e[0]).toLocaleString(),symbol:r.symbol,token:r.token,sellEntyPrice:u,stopLoss:"".concat(m," (").concat(h,"%)"),highAndLow:o[2],perChngOnHighLow:d.toFixed(2),buyExitPrice:s,brokerageCharges:.06,perChange:g.toFixed(2),entryAt:l[0],squareOffAt:o[0],quantity:Math.floor(1e4/l[2]),candleChartData:c,exitStatus:v};console.log("5min strong candle",p),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[p])}),a.setState({backTestResult:a.state.backTestResult.reverse()})}}),n=n+i.length-35},o=0;o<i.length-4;o++){var s,c;l(o)}else console.log(r.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:i+1+". "+r.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e.length)){t.next=13;break}return t.delegateYield(i(r),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:r++,t.next=5;break;case 13:a.setState({backTestFlag:!0});case 14:case"end":return t.stop()}},t)})),a.backTestNR4Trail=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({backTestResult:[],backTestFlag:!1}),e=a.state.symbolList,n=1,i=0,r=it.a.mark(function t(r){var l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e[r],!a.state.stopScaningFlag){t.next=4;break}return a.setState({stopScaningFlag:!1}),t.abrupt("return","break");case 4:return o={exchange:"NSE",symboltoken:l.token,interval:"ONE_DAY",fromdate:ce(a.state.startDate).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")},O.getHistoryData(o).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length)for(var r=e.data,o=0;o<r.length-4;o++){var s=r.slice(o,o+4);if(s.length>=4&&new Date(r[o][0]).toLocaleTimeString()<"14:15:00"){s.reverse();var c=[],m=[];s.forEach(function(t){c.push(t[2]-t[3]),m.push([t[0],t[1],t[2],t[3],t[4]])});var u=c[0],v=0;if(c.forEach(function(t){u<=t&&(u=t,v+=1)}),4==v){var g=s[0],d=r[o+4];m.unshift([d[0],d[1],d[2],d[3],d[4]]);var h=(g[2]+g[2]/100/10).toFixed(2);if(d[2]>h){var p=100*(d[a.state.longExitPriceType]-h)/h,f=100*(d[2]-h)/h;i+=p,console.log(l.symbol,g[0],"upside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],p+"%");var y={foundAt:"Long - "+new Date(g[0]).toLocaleString(),symbol:l.symbol,token:l.token,sellEntyPrice:d[a.state.longExitPriceType],stopLoss:g[3],highAndLow:d[2],perChngOnHighLow:f.toFixed(2),buyExitPrice:h,brokerageCharges:.06,perChange:p.toFixed(2),entryAt:g[0],squareOffAt:d[0],quantity:Math.floor(1e4/g[2]),candleChartData:m};Math.floor(1e4/g[2])&&(a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[y])}),a.setState({backTestResult:a.state.backTestResult.reverse()}))}var b=(g[3]-g[3]/100/10).toFixed(2);if(d[3]<b){p=100*(b-d[a.state.shortExitPriceType])/g[3];var S=100*(b-d[3])/g[3];i+=p,console.log(l.symbol,g[0],"dowside","same day high",g[2],"same day low",g[3],"nextdaylow",d[3],"nextdayhigh",d[2],"next day closing",d[4],p+"%");y={foundAt:"Short - "+new Date(g[0]).toLocaleString(),symbol:l.symbol,token:l.token,sellEntyPrice:b,perChngOnHighLow:S.toFixed(2),stopLoss:g[2],highAndLow:d[3],buyExitPrice:d[a.state.shortExitPriceType],brokerageCharges:.06,perChange:p.toFixed(2),entryAt:g[0],squareOffAt:d[0],quantity:Math.floor(1e4/g[3]),candleChartData:m};Math.floor(1e4/g[3])&&a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[y])})}}}n=n+r.length-35}else console.log(l.symbol," candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,300)});case 8:a.setState({stockTesting:r+1+". "+l.symbol,runningTest:n});case 9:case"end":return t.stop()}},t)}),l=0;case 5:if(!(l<e.length)){t.next=13;break}return t.delegateYield(r(l),"t0",7);case 7:if("break"!==t.t0){t.next=10;break}return t.abrupt("break",13);case 10:l++,t.next=5;break;case 13:a.setState({backTestFlag:!0}),console.log("sumPercentage",i);case 15:case"end":return t.stop()}},t)})),a.nr4CheckPastPerfommance=function(t,e){var n=ce.duration("4320:00:00"),i=ce(a.state.endDate).subtract(n),r=0,l=0,o=0,s=0,c=0,m=0,u=[],v=[];console.log("starting function foundStock",e);var g={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(a.state.endDate).format("YYYY-MM-DD HH:mm")};O.getHistoryData(g).then(function(n){var i=z(n,"noPop");if(console.log("candle history",i),i&&i.data&&i.data.length){for(var g=i.data,d=0;d<g.length-4;d++){var h=g.slice(d,d+4);if(h.length>=4&&new Date(g[d][0]).toLocaleTimeString()<"14:15:00"){h.reverse();var p=[],f=[];h.forEach(function(t){p.push(t[2]-t[3]),f.push([t[0],t[1],t[2],t[3],t[4]])});var y=p[0],b=0;if(p.forEach(function(t){y<=t&&(y=t,b+=1)}),4==b){var S=h[0],E=g[d+4];f.unshift([E[0],E[1],E[2],E[3],E[4]]),console.log(t,h,p,b,S[0].toString().substr(0,25));var k=(S[2]+S[2]/100/10).toFixed(2);if(E[2]>k){var C=100*(E[4]-k)/k,T=100*(E[2]-k)/k,L={foundAt:"Long - "+new Date(S[0]).toLocaleString(),sellEntyPrice:E[4],stopLoss:S[3],highAndLow:E[2],perChngOnHighLow:T.toFixed(2),buyExitPrice:k,brokerageCharges:.06,perChange:C.toFixed(2),squareOffAt:new Date(E[0]).toLocaleString(),quantity:Math.floor(1e4/S[2]),candleChartData:f};u.push(L),r+=1,o+=C,c+=T}var w=(S[3]-S[3]/100/10).toFixed(2);if(E[3]<w){C=100*(w-E[4])/S[3];var x=100*(w-E[3])/S[3],O={foundAt:"Short - "+new Date(S[0]).toLocaleString(),sellEntyPrice:w,perChngOnHighLow:x.toFixed(2),stopLoss:S[2],highAndLow:E[3],buyExitPrice:E[4],brokerageCharges:.06,perChange:C.toFixed(2),squareOffAt:new Date(E[0]).toLocaleString(),quantity:Math.floor(1e4/S[3]),candleChartData:f};v.push(O),l+=1,s+=C,m+=x}}}}var D={totalLongs:r,totalShort:l,totalLongPer:o.toFixed(2),totalShortPer:s.toFixed(2),totalLongHighPer:c.toFixed(2),totalShortLowPer:m.toFixed(2)};e&&(e.pastPerferm=D),e.longCandles=u,e.shortCandles=v,console.log("foundStock",e),Math.floor(1e4/S[4])&&(a.setState({FoundPatternList:[].concat(Object(rt.a)(a.state.FoundPatternList),[e])}),localStorage.setItem("FoundPatternList",JSON.stringify(a.state.FoundPatternList)))}else console.log(t," candle data emply")})},a.backtestTweezerTop=function(t,e,n){if(t&&t.length>0){for(var i=(t=t.reverse())[2]&&t[2][2],r=t[2]&&t[2][3],l=3;l<t.length;l++)i<t[l][2]&&(i=t[l][2]),t[l][3]<r&&(r=t[l][3]);var o=t[9][3],s=t[2][2],c={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},m={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},u=100*(s-o)/o,v=m.low<c.low?m.low:c.low,g=m.high<c.high?m.high:c.high;if(u>=1.5&&i<g&&r<v&&m.open<m.close&&c.open>c.close&&Math.round(m.close)==Math.round(c.open)&&Math.round(m.open)==Math.round(c.close)&&(console.log("%c"+new Date(t[0][0]).toString(),"color: #20d020"),console.log(e,"last 8th candle diff% ",u,"10th Low",o,"3rd high",s),console.log(e,"maxHigh",i,"maxLow",r),console.log("last10Candle",t),console.log(e,"perfect twisser top done close=open || open=close"),console.log("next10Candle",n),n&&n.length)){for(var d=(g+g/100/10).toFixed(2),h=(v-v/100/10).toFixed(2),p=0;p<n.length;p++){if(n[p][2]>d){d,n[p][0];break}if("15:15:00"==new Date(n[p][0]).toLocaleTimeString()){n[p][4],n[p][0];break}}for(var f=n[0][4],y=1;y<n.length&&(n[y][4]<f&&(f=n[y][4],n[y][0]),"15:15:00"!=new Date(n[y][0]).toLocaleTimeString());y++);for(var b=d,S=0;S<n.length;S++){if(!(b>n[S][2])){b=n[S][4].toFixed(2),n[S][0];break}if(b=(n[S][2]+n[S][2]/100/4).toFixed(2),n[S][0],"15:15:00"==new Date(n[S][0]).toLocaleTimeString())break}for(var E=0,k="",C=0;C<n.length;C++){if(100*(n[C][3]-h)/h<-.7){E=n[C][3],k=n[C][0];break}if(n[C][2]>d){E=d,k=n[C][0];break}if("15:15:00"==new Date(n[C][0]).toLocaleTimeString()){E=n[C][3],k=n[C][0];break}}for(var T=0;T<n.length;T++){if(100*(n[T][3]-h)/h<=-1.5){n[T][3],n[T][0];break}if(n[T][2]>d){d,n[T][0];break}if("15:15:00"==new Date(n[T][0]).toLocaleTimeString()){n[T][3],n[T][0];break}}var L=localStorage.getItem("backTestResult")?JSON.parse(localStorage.getItem("backTestResult")):[];if(n[0][3]<v||n[1][3]<v||n[2][3]<v){var w={foundAt:new Date(t[0][0]).toLocaleString(),symbol:e,sellEntyPrice:h,stopLoss:d,orderActivated:!1,buyExitPrice:0,brokerageCharges:.06,quantity:Math.floor(1e4/h)};w.orderActivated=!0,w.squareOffAt=new Date(k).toLocaleString(),w.buyExitPrice=E,w.perChange=(100*(w.sellEntyPrice-w.buyExitPrice)/w.sellEntyPrice).toFixed(2),L.push(w),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[w])})}}}a.setState({backTestFlag:!0})},a.backtestTweezerBottom=function(t,e,n){if(t&&t.length>0){for(var i=(t=t.reverse())[2]&&t[2][2],r=t[2]&&t[2][3],l=3;l<t.length;l++)i<t[l][2]&&(i=t[l][2]),t[l][3]<r&&(r=t[l][3]);var o=t[9][3],s=t[2][2],c={time:t[0]&&t[0][0],open:t[0]&&t[0][1],high:t[0]&&t[0][2],low:t[0]&&t[0][3],close:t[0]&&t[0][4]},m={time:t[1]&&t[1][0],open:t[1]&&t[1][1],high:t[1]&&t[1][2],low:t[1]&&t[1][3],close:t[1]&&t[1][4]},u=100*(s-o)/o,v=m.low<c.low?m.low:c.low,g=m.high<c.high?m.high:c.high;if(u<=-1.5&&g<i&&v<r&&m.open>m.close&&c.close>c.open&&(Math.round(m.close)==Math.round(c.open)||Math.round(m.open)==Math.round(c.close))&&(console.log("%c"+new Date(t[0][0]).toString(),"color: #20d020"),console.log(e,"last 8th candle diff% ",u,"10th Low",o,"3rd high",s),console.log(e,"maxHigh",i,"maxLow",r),console.log("last10Candle",t),console.log(e,"perfect twisser top done close=open || open=close"),console.log("next10Candle",n),n&&n.length)){for(var d=(g+g/100/10).toFixed(2),h=(v-v/100/10).toFixed(2),p=0,f="",y=0;y<n.length;y++){if(n[y][2]<h){p=h,f=n[y][0];break}if("15:15:00"==new Date(n[y][0]).toLocaleTimeString()){p=n[y][4],f=n[y][0];break}}for(var b=n[0][4],S=1;S<n.length&&(b<n[S][4]&&(b=n[S][4],n[S][0]),"15:15:00"!=new Date(n[S][0]).toLocaleTimeString());S++);for(var E=h,k=0;k<n.length;k++){if(!(E>n[k][2])){E=n[k][4].toFixed(2),n[k][0];break}if(E=(n[k][2]+n[k][2]/100/4).toFixed(2),n[k][0],"15:15:00"==new Date(n[k][0]).toLocaleTimeString())break}for(var C=0;C<n.length;C++){if(100*(n[C][3]-d)/d>.7){n[C][3],n[C][0];break}if(n[C][2]>h){h,n[C][0];break}if("15:15:00"==new Date(n[C][0]).toLocaleTimeString()){n[C][3],n[C][0];break}}for(var T=0;T<n.length;T++){if(100*(n[T][3]-d)/d>=-1.5){n[T][3],n[T][0];break}if(n[T][2]>h){h,n[T][0];break}if("15:15:00"==new Date(n[T][0]).toLocaleTimeString()){n[T][3],n[T][0];break}}var L=localStorage.getItem("backTestResult")?JSON.parse(localStorage.getItem("backTestResult")):[];if(n[0][3]<v||n[1][3]<v||n[2][3]<v){var w={foundAt:new Date(t[0][0]).toLocaleString(),symbol:e,sellEntyPrice:0,stopLoss:h,orderActivated:!1,buyExitPrice:d,brokerageCharges:.06,quantity:Math.floor(1e4/d)};w.orderActivated=!0,w.squareOffAt=new Date(f).toLocaleString(),w.sellEntyPrice=p,w.perChange=(100*(w.sellEntyPrice-w.buyExitPrice)/w.sellEntyPrice).toFixed(2),L.push(w),a.setState({backTestResult:[].concat(Object(rt.a)(a.state.backTestResult),[w])})}}}a.setState({backTestFlag:!0})},a.getTimeFrameValue=function(t){switch(t){case"ONE_MINUTE":return"720:00:00";case"FIVE_MINUTE":case"TEN_MINUTE":case"FIFTEEN_MINUTE":case"THIRTY_MINUTE":case"ONE_HOUR":case"ONE_DAY":return"1000:00:00"}},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l,close:t[i].close})}return n},a.showStaticChart=function(t,e,n,i){console.log("token, symbol, entryAt, exitAt",t,e,n,i),a.setState({chartStaticData:"",lightChartSymbol:e},function(){console.log("reset done",t)});var r="YYYY-MM-DD HH:mm",l=ce(n).set("hour","09").set("minute","15"),o=ce(i).set("hour","15").set("minute","30"),s={exchange:"NSE",symboltoken:t,interval:a.state.timeFrame,fromdate:ce(l).format(r),todate:ce(o).format(r)};O.getHistoryData(s).then(function(e){var n=z(e,"noPop");if(n&&n.data){var i=n.data,o=i.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[],p=[];i.forEach(function(t,e){s.push([t[0],t[1],t[2],t[3],t[4]]),c.push([t[5],(t[2]+t[3]+t[4])/3]),m.push(t[4]),u.push(t[2]),v.push(t[3]),g.push(t[3]),d.push(t[5]),h.push((t[2]+t[3]+t[4])/3),p.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var f={period:20,values:h,stdDev:2},y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);y=ue.a.calculate(f);console.log(t,"Bolinger band",f,y);var b={values:m,period:14},S=me.a.calculate(b);if(console.log(t,"Rsi",b,S),console.log(t,"vwap",c,ge()(c)),a.setState({chartStaticData:o,bblastValue:y[y.length-1],vwapvalue:ge()(c),rsiValues:S.slice(Math.max(d.length-19,1)),valumeData:d.slice(Math.max(d.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(p);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(a+=" Open: <b>"+c[1].open+"</b>",a+=" High: <b>"+c[1].high+"</b>",a+=" Low: <b>"+c[1].low+"</b>",a+=" Close: <b>"+c[1].close+"</b>",a+=" Chng: <b>"+(n=100*(c[1].close-c[1].open)/c[1].open).toFixed(2)+"%</b>"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" Time: <b>"+new Date(t.time).toLocaleString()+"</b>":a+=" <b>Time: </b>";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),i&&i.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),i.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(i)),a.setState({InstrumentHistroy:i});var E=0,k=0,C=0;i.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(E+=1),e<=-.3&&(k+=1),C+=e}),a.setState({downMoveCount:k,upsideMoveCount:E,totalPerchentageChange:C,startingFrom:ce(l).format(r)})}}})},a.checkSlowMotionStock=function(t,e){var n=ce.duration("240:00:00"),i=ce(new Date).subtract(n),r={exchange:"NSE",symboltoken:t,interval:"FIVE_MINUTE",fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(r).then(function(t){var n=z(t,"noPop");if(n&&n.data&&n.data.length){for(var i=n.data,r=0,l=i.length-375;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.4&&(r+=1,console.log(e.symbol,s,o[0])),s<=-.4&&(r+=1,console.log(e.symbol,s,o[0]))}}console.log("Totalcount",e.symbol,r),r<=15&&(e.bigCandleCount=r,a.setState({slowMotionStockList:[].concat(Object(rt.a)(a.state.slowMotionStockList),[e])},function(){localStorage.setItem("slowMotionStockList",JSON.stringify(this.state.slowMotionStockList))}))}})},a.checkSlowMotionCheckLive=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=it.a.mark(function t(e){var n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.slowMotionStockList[e],"YYYY-MM-DD HH:mm",i=ce.duration("22:00:00"),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:n.token,interval:"FIVE_MINUTE",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){for(var i=e.data,r=0,l=i.length-3;l<i.length;l++){var o=i[l];if(o){var s=100*(o[4]-o[1])/o[1];s>=.7&&(r+=1),s>=0&&1}}r>=1&&(n.highlisht=!0,window.document.title="SM: "+n.symbol,console.log("hey listen, slow motion stock"+n.symbol+" broken"),a.speckIt("hey listen, slow motion stock"+n.symbol+" broken"),a.setState({slowMotionStockList:a.state.slowMotionStockList}))}}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),n=0;case 2:if(!(n<a.state.slowMotionStockList.length)){t.next=7;break}return t.delegateYield(e(n),"t0",4);case 4:n++,t.next=2;break;case 7:case"end":return t.stop()}},t)})),a.copyAll=function(){navigator.clipboard.writeText(a.state.copydata),q.showSuccess("Copied to clickboard")},a.checkLiveBids=Object(lt.a)(it.a.mark(function t(){var e,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.state.symbolList.length)){t.next=9;break}return n=a.state.symbolList[e],O.checkLiveBids(n.name).then(function(t){if(console.log("bid",t.data.data),t.data&&t.data.data.length){var e=t.data.data[0],n={totalBuyQuantity:e.totalBuyQuantity,totalSellQuantity:e.totalSellQuantity,deliveryToTradedQuantity:e.deliveryToTradedQuantity,symbol:e.symbol,orderType:e.totalBuyQuantity+"|"+e.totalSellQuantity,nc:e.pChange,ltp:e.lastPrice};a.setState({liveBidsList:[].concat(Object(rt.a)(a.state.liveBidsList),[n])},function(){localStorage.setItem("liveBidsList",JSON.stringify(this.state.liveBidsList))})}}),t.next=6,new Promise(function(t){return setTimeout(t,100)});case 6:e++,t.next=1;break;case 9:case"end":return t.stop()}},t)})),a.speckIt=function(t){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)},a.dailyBasisInfoCheck=function(t,e){var n=a.getTimeFrameValue("ONE_DAY"),i=ce.duration(n),r=ce(new Date).subtract(i),l={exchange:"NSE",symboltoken:t,interval:"ONE_DAY",fromdate:ce(r).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(n){var i=z(n,"noPop"),r="";if(i&&i.data&&i.data.length){for(var l=i.data,o=[],s=0,c=l.length-20;c<l.length;c++){var m=l[c];m&&(o.push(m[4]),s+=m[5])}r=Me.a.calculate({period:20,values:o}),a.setState({dailyAvgValume:s/20});var u=r&&r[r.length-1];console.log(t,"DSMA",u),u&&a.setState({DailyBulishStatus:u,todayCurrentVolume:l[l.length-1][5]}),l[l.length-1][5]>s/20&&(console.log("crosssed voliue",e),a.setState({volumeCrossedList:[].concat(Object(rt.a)(a.state.volumeCrossedList),[e])}))}})},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.getAveragePrice=function(t){for(var e=localStorage.getItem("oderbookData"),n=0,i=0;i<e.length;i++)if("orderId"===e[i].orderid){n=e[i].averageprice,a.setState({averageprice:n});break}return n},a.showCandleChart=function(t,e,a){t=t&&t.reverse(),localStorage.setItem("candleChartData",JSON.stringify(t)),localStorage.setItem("cadleChartSymbol",e),a&&localStorage.setItem("chartInfoDetails",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.showCandleBothChart=function(t){var e=t.candleChartData&&t.candleChartData.reverse();localStorage.setItem("candleChartData",JSON.stringify(e)),localStorage.setItem("cadleChartSymbol",t.symbol);var a=t.candleChartDataInside;a&&localStorage.setItem("candleChartDataInside",JSON.stringify(a)),document.getElementById("showCandleChart").click()},a.handleKeyDown=function(t){console.log("key",t.keyCode),38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),setTimeout(function(){a.updateCandleOnkey()},100)},a.state={sumPercentage:0,InstrumentPerChange:"",autoSearchList:[],isDasable:!1,isError:!1,InstrumentLTP:{},ifNotBought:!0,autoSearchTemp:[],backTestResult:[],backTestResultCSV:[],backTestFlag:!0,patternType:"MovingAverage",symboltoken:"",tradingsymbol:"",buyPrice:0,quantity:1,producttype:"INTRADAY",symbolList:localStorage.getItem("watchList")&&JSON.parse(localStorage.getItem("watchList"))||[],totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",longExitPriceType:4,shortExitPriceType:4,candleChartData:[],stopScaningFlag:!1,backTestResultDateRange:[],searchFailed:0,timeFrame:"5",cursor:"",FoundPatternList:localStorage.getItem("FoundPatternList")&&JSON.parse(localStorage.getItem("FoundPatternList"))||[],fastMovementList:localStorage.getItem("fastMovementList")&&JSON.parse(localStorage.getItem("fastMovementList"))||[]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){window.document.title="Backtest",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist]});var t=document.getElementById("tvchart");document.getElementById("tvchart").innerHTML="";var e=Object(Ie.a)(t,{width:550,height:400,timeVisible:!0,secondsVisible:!0}),a=e.addCandlestickSeries(),n=e.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),i=e.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:e,candleSeries:a,smaLineSeries:n,volumeSeries:i})}},{key:"render",value:function(){var t=this,e={myCallback:this.myCallback,startDate:"",endDate:"",firstLavel:"Start Date and Time",secondLavel:"End Date and Time"};console.log("backTestResult",this.state.backTestResult);var a=0,n=0,r=0,l=0,o=0,s=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,null),i.a.createElement(oe,null),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1,style:{padding:"5px"}},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(R.a,{style:{textAlign:"center",background:"lightgray"}},"Backtest"),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Ji.selectStyle},i.a.createElement(N.a,{htmlFor:"Nationality"},"Pattern Type"),i.a.createElement(Oe.a,{value:this.state.patternType,name:"patternType",onChange:this.onChangePattern},i.a.createElement(De.a,{value:"MovingAverage"},"Moving Average 5"),i.a.createElement(De.a,{value:"BBRSIStrategy"},"BB RSI Strategy"),i.a.createElement(De.a,{value:"TweezerTop"},"Tweezer Top"),i.a.createElement(De.a,{value:"TweezerBottom"},"Tweezer Bottom"),i.a.createElement(De.a,{value:"NR4"},"NR4 @ 3:30pm "),i.a.createElement(De.a,{value:"NR4Trail"},"Narrow Range 4 - Trail"),i.a.createElement(De.a,{value:"NR4ForNextDay"},"NR4 For Next Day"),i.a.createElement(De.a,{value:"NR4_SameDay"},"NR4 ByDate"),i.a.createElement(De.a,{value:"NR4_Daywide_daterage"},"NR4 Daywise Range"),i.a.createElement(De.a,{value:"StrongCandle"},"5min Strong Candle"),i.a.createElement(De.a,{value:"VolumePrice"},"Volume Price Buy"),i.a.createElement(De.a,{value:"VolumePriceSell"},"Volume Price Sell")))),i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,{style:Ji.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"selectall"},"Select All"),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)})))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Ce,{callbackFromParent:e})),i.a.createElement(F.a,{item:!0,xs:12,sm:4,style:{marginTop:"5px"}},this.state.backTestFlag?i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.backTestAnyPattern()}},"Backtest"):i.a.createElement(i.a.Fragment,null," ",i.a.createElement(M.a,null," ",i.a.createElement(pe.a,null)," \xa0 ",i.a.createElement(M.a,{variant:"contained",onClick:function(){return t.stopBacktesting()}},"Stop Testing")," \xa0  ",this.state.stockTesting," ",this.state.runningTest,"  "),"   "),"\xa0 Failed: ",this.state.searchFailed)),i.a.createElement(F.a,{direction:"row",container:!0,spacing:2},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("div",{style:{overflow:"auto",maxHeight:"550px"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"SMA Value "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Buy (",this.state.backTestResult.length,")"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sell "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Points  "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Overall(",this.state.overallPoints,")"),i.a.createElement(Xt.a,{className:"TableHeadFormat"}," Exit Status P:",this.state.backTestResult.length-this.state.slCount," SL:",this.state.slCount),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Trade Time "))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.backTestResult?this.state.backTestResult.map(function(t,e){return i.a.createElement(Gt.a,{hover:!0,key:e},i.a.createElement(Xt.a,null,t.smaIndex),i.a.createElement(Xt.a,null,t.buy),i.a.createElement(Xt.a,null,t.sell),i.a.createElement(Xt.a,null,t.point),i.a.createElement(Xt.a,null,t.overallPoints),i.a.createElement(Xt.a,{style:{color:"SLHit"==t.exitStatus?"red":"green"}},t.exitStatus," "),i.a.createElement(Xt.a,{style:{}},t.tradetime))}):""))),"NR4_Daywide_daterage"==this.state.patternType?i.a.createElement(i.a.Fragment,null,this.state.dateAndTypeKeys?this.state.dateAndTypeKeys.map(function(e){return i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table",style:{padding:"5px"}},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{style:{background:"lightgray"},key:e},i.a.createElement(Xt.a,{colSpan:11,className:"TableHeadFormat"}," ",e,"  ",(a=0,0,0,n=0,r=0,l=0,o=0,s=0,0))),i.a.createElement(Gt.a,{key:e+1,variant:"head",style:{fontWeight:"bold",background:"lightgray"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"}," CPnL% "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"CNetPnL "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLPnL% "),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"HLNet PnL"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"FoundAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Buy"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sell(Qty)"),i.a.createElement(Xt.a,{className:"TableHeadFormat",title:"High on long side | Low in short side"},"High/Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"SquiredOffAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"StopLoss"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},t.state.backTestResultDateRange[e].map(function(e,c){return i.a.createElement(Gt.a,{hover:!0,key:c},i.a.createElement(Xt.a,Object.assign({style:{color:e.perChange>0?"#20d020":"#e66e6e"}},a+=parseFloat(e.perChange||0)),e.perChange,"%"),i.a.createElement(Xt.a,Object.assign({},r+=e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity,{style:{color:e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity>0?"#20d020":"#e66e6e"}})," ",(e.sellEntyPrice*(e.perChange-e.brokerageCharges)/100*e.quantity).toFixed(2)),i.a.createElement(Xt.a,Object.assign({style:{color:e.perChngOnHighLow>0?"#20d020":"#e66e6e"}},n+=parseFloat(e.perChngOnHighLow||0))," ",i.a.createElement("b",null,e.perChngOnHighLow,"%")),i.a.createElement(Xt.a,Object.assign({},l+=e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity,{style:{color:e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity>0?"#20d020":"#e66e6e"}}),(e.sellEntyPrice*(e.perChngOnHighLow-e.brokerageCharges)/100*e.quantity).toFixed(2)),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showCandleChart(e.candleChartData,e.symbol)}},e.symbol," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,Object.assign({style:{color:0==e.foundAt.indexOf("Long")?"#20d020":"#e66e6e"}},s+=0==e.foundAt.indexOf("Long")?1:0),e.foundAt),i.a.createElement(Xt.a,null,e.buyExitPrice),i.a.createElement(Xt.a,o+=0==e.foundAt.indexOf("Long")?parseFloat(e.buyExitPrice*e.quantity):parseFloat(e.sellEntyPrice*e.quantity),e.sellEntyPrice,"(",e.quantity,")"),i.a.createElement(Xt.a,{title:"High on long side | Low in short side"},e.highAndLow),i.a.createElement(Xt.a,null,e.squareOffAt),i.a.createElement(Xt.a,null,e.stopLoss))}),i.a.createElement(Gt.a,{style:{background:"lightgray"}},i.a.createElement(Xt.a,{style:{color:a>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChange",a.toFixed(2)),a.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:r>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,r.toFixed(2)),localStorage.setItem("sumPnlValue",r.toFixed(2))),i.a.createElement(Xt.a,{style:{color:n>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2)),n.toFixed(2),"%")),i.a.createElement(Xt.a,{style:{color:l>0?"#20d020":"#e66e6e"}},i.a.createElement("b",null,l.toFixed(2)),localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null," ",localStorage.setItem("totalLongTrade",s)," ",localStorage.setItem("totalInvestedValue",o.toFixed(2))," "),i.a.createElement(Xt.a,null,localStorage.setItem("sumPerChangeHighLow",n.toFixed(2))," ",localStorage.setItem("sumPnlValueOnHighLow",l.toFixed(2))),i.a.createElement(Xt.a,null),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "),i.a.createElement(Xt.a,null," "))))}):""):"","NR4ForNextDay"==this.state.patternType?i.a.createElement(R.a,{component:"h3",variant:"h6",color:"primary",gutterBottom:!0},"NR4 For Next Day  (",this.state.FoundPatternList.length,")  at ",this.state.endDate&&this.state.endDate?this.state.endDate.toString().substr(0,16):(new Date).toString().substr(0,16)):"","NR4ForNextDay"==this.state.patternType?i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Sr "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"FoundAt "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Past Performance "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"BuyAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"SellAt"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Close"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.FoundPatternList?this.state.FoundPatternList.map(function(e,a){return i.a.createElement(Gt.a,{hover:!0,key:a},i.a.createElement(Xt.a,null,a+1),i.a.createElement(Xt.a,null," ",i.a.createElement(M.a,{variant:"contained",style:{marginLeft:"20px"},onClick:function(){return t.showCandleChart(e.candleChartData,e.symbol)}},e.symbol," ",i.a.createElement(Pt.a,null)," ")),i.a.createElement(Xt.a,null,e.foundAt.substr(0,16)),i.a.createElement(Xt.a,{title:"based on last one 6 month"},i.a.createElement("span",{style:{background:e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs>=1?"#92f192":""}},i.a.createElement("b",null,e.pastPerferm.totalLongs),"  Longs:  ",e.pastPerferm.totalLongPer,"% (",(e.pastPerferm.totalLongPer/e.pastPerferm.totalLongs).toFixed(2),"% per trade)  ")," ",i.a.createElement("br",null),"Longs on High%: ",e.pastPerferm.totalLongHighPer,"%  (",(e.pastPerferm.totalLongHighPer/e.pastPerferm.totalLongs).toFixed(2),"% per trade)",i.a.createElement("br",null),e.longCandles&&e.longCandles.map(function(a,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{style:{textDecoration:"underline",background:"lightgray",cursor:"pointer"},onClick:function(){return t.showCandleChart(a.candleChartData,e.symbol,a)}}," ",a.foundAt.substr(7,10)," "),"  \xa0")}),i.a.createElement("br",null),i.a.createElement("span",{style:{background:e.pastPerferm.totalShortPer/e.pastPerferm.totalShort>=1?"#e87b7b":""}},i.a.createElement("b",null,e.pastPerferm.totalShort)," Short: ",e.pastPerferm.totalShortPer,"% (",(e.pastPerferm.totalShortPer/e.pastPerferm.totalShort).toFixed(2),"% per trade) ")," ",i.a.createElement("br",null),"Short on Low%: ",e.pastPerferm.totalShortLowPer,"% (",(e.pastPerferm.totalShortLowPer/e.pastPerferm.totalShort).toFixed(2),"% per trade)",i.a.createElement("br",null),e.shortCandles&&e.shortCandles.map(function(a,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{style:{textDecoration:"underline",background:"lightgray",cursor:"pointer"},onClick:function(){return t.showCandleChart(a.candleChartData,e.symbol,a)}}," ",a.foundAt.substr(7,10),"  ")," \xa0")})),i.a.createElement(Xt.a,null,e.BuyAt),i.a.createElement(Xt.a,null,e.SellAt),i.a.createElement(Xt.a,null,e.high),i.a.createElement(Xt.a,null,e.low),i.a.createElement(Xt.a,null,e.close))}):"")):"")))),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(Te.a,{style:{padding:"10px"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:12,sm:2},i.a.createElement(xe.a,Object(f.a)({style:Ji.selectStyle},"style",{marginTop:"10px"}),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"1"},"1M"),i.a.createElement(De.a,{value:"5"},"5M"),i.a.createElement(De.a,{value:"10"},"10M"),i.a.createElement(De.a,{value:"15"},"15M"),i.a.createElement(De.a,{value:"30"},"30M"),i.a.createElement(De.a,{value:"60"},"1H"),i.a.createElement(De.a,{value:"375"},"1D")))),i.a.createElement(F.a,{item:!0,xs:12,sm:10},i.a.createElement(R.a,null,"Same Day Chart:  ",this.state.lightChartSymbol))),i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{overflowY:"scroll",height:"40vh"}},i.a.createElement(R.a,null," Candle Data "),i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Symbol"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Timestamp"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Chng% ",i.a.createElement("b",{style:{color:"#20d020"}}," UP(",this.state.upsideMoveCount,")")," | ",i.a.createElement("b",{style:{color:"red"}}," Down(",this.state.downMoveCount,")")," "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Open"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"High"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Low"),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Close "),i.a.createElement(Xt.a,{className:"TableHeadFormat"},"Volume"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.InstrumentHistroy&&this.state.InstrumentHistroy?this.state.InstrumentHistroy.map(function(e,a){return i.a.createElement(Gt.a,{key:a,style:{background:100*(e[4]-e[1])/e[1]>=.3?"#20d020":100*(e[4]-e[1])/e[1]<=-.3?"#e66e6e":"none"}},i.a.createElement(Xt.a,null,t.state.tradingsymbol),i.a.createElement(Xt.a,null,new Date(e[0]).toLocaleString()),i.a.createElement(Xt.a,null," ",i.a.createElement("b",null,100*(e[4]-e[1])/e[1]&&(100*(e[4]-e[1])/e[1]).toFixed(2),"%")),i.a.createElement(Xt.a,null,e[1]),i.a.createElement(Xt.a,null,e[2]),i.a.createElement(Xt.a,null,e[3]),i.a.createElement(Xt.a,null,e[4]),i.a.createElement(Xt.a,null,e[5]))}):""))))))))}}]),e}(i.a.Component),Ji={formContainer:{display:"flex",flexFlow:"row wrap"},textStyle:{display:"flex",justifyContent:"center"},imgStyle:{display:"flex"},selectStyle:{minWidth:"100%",marginBottom:"10px"},MuiTextField:{overflowY:"scroll",fontSize:"12px",maxHeight:"50px"},footerButton:{position:"fixed",left:0,bottom:"20px",width:"100%",textAlign:"right"}},Ui=_i,Vi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).makeConnection=function(t){var e={actiontype:"subscribe",feedtype:"order_feed",jwttoken:a.state.jwtToken,clientcode:a.state.clientcode,apikey:"I4O6PJAn"};a.state.feedToken,a.state.clientcode,a.state.clientcode;a.wsClint.readyState===a.wsClint.OPEN&&t.send(JSON.stringify(e))},a.decodeWebsocketData=function(t){var e=[];try{for(var a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]))}catch(n){}return e.join("")},a.onChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value));var e=t.target.value;O.autoCompleteSearch(e).then(function(t){var e=t.data;console.log(e),localStorage.setItem("autoSearchTemp",JSON.stringify(e)),a.setState({autoSearchList:e})})},a.myCallback=function(t,e){"START_DATE"===e?a.setState({startDate:t}):"END_DATE"===e&&a.setState({endDate:t})},a.getLTP=function(){var t={exchange:"NSE",tradingsymbol:a.state.tradingsymbol,symboltoken:a.state.symboltoken};O.getLTP(t).then(function(t){var e=z(t,"noPop"),n=e&&e.data;a.setState({InstrumentLTP:n})})},a.getHistory=function(t){var e=ce.duration("00:50:00"),n=ce(new Date).subtract(e),i={exchange:"NSE",symboltoken:t,interval:"FIFTEEN_MINUTE",fromdate:ce(n).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(i).then(function(t){var e=z(t,"noPop");if(console.log(e),e&&e.data){var n=e.data;n&&n.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),n.length>0&&(localStorage.setItem("InstrumentHistroy",JSON.stringify(n)),a.setState({InstrumentHistroy:n,buyPrice:n[0][2]})),a.getLTP()}})},a.updateSocketWatch=function(t){var e=[];a.state.symbolList.forEach(function(t,a){e.push("nse_cm|"+t.token)}),e=e.join("&");var n={task:"sfi",channel:"nse_cm|Nifty 50&nse_cm|Nifty Bank",token:a.state.feedToken,user:a.state.clientcode,acctid:a.state.clientcode};t.send(JSON.stringify(n))},a.updateSocketDetails=function(t){t.onopen=function(e){a.makeConnection(t)},t.onmessage=function(t){var e=window.atob(t.data),n=a.decodeWebsocketData(Ne.a.inflate(e)),i=JSON.parse(n);console.log("live",n);var r=a.state.symbolList;a.state.symbolList&&a.state.symbolList.forEach(function(t,e){var n=i.filter(function(e){return e.tk==t.name});n.length>0&&n[0].tvalue&&(r[e].tvalue=n[0].tvalue,r[e].cng=n[0].cng,r[e].iv=n[0].iv,r[e].tk=n[0].tk,r[e].nc=n[0].nc,"Nifty Bank"==n[0].tk&&a.props&&a.props.getBankNiftyLiveLtp(n[0]))}),a.setState({symbolList:r},function(){})},t.onerror=function(t){console.log("socket error",t),a.makeConnection(a.wsClint)},setInterval(function(){if(1!=a.wsClint.readyState&&a.makeConnection(a.wsClint),a.wsClint.readyState===a.wsClint.OPEN){var e='{"task":"hb","channel":"","token":"'+a.state.feedToken+'","user": "'+a.state.clientcode+'","acctid":"'+a.state.clientcode+'"}';console.log("Request :- "+e),t.send(e)}else a.wsClint.close(),a.wsClint=new Pe.w3cwebsocket("wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream"),a.updateSocketDetails(a.wsClint)},6e4)},a.state={symbolList:[{token:"26009",symbol:"Nifty 50",name:"Nifty 50"},{token:"26000",symbol:"Nifty Bank",name:"Nifty Bank"}]},a.myCallback=a.myCallback.bind(Object(k.a)(a)),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("userTokens")),e=t&&t.feedToken,a=JSON.parse(localStorage.getItem("userProfile")),n=a&&a.clientcode;this.setState({feedToken:e,clientcode:n,jwtToken:t.jwtToken},function(){var e="wss://smartapisocket.angelbroking.com/websocket?jwttoken=".concat(t.jwtToken,"&&clientcode=").concat(n,"&&apikey=I4O6PJAn");this.wsClint=new Pe.w3cwebsocket(e),console.log("wsClint",this.wsClint),this.updateSocketDetails(this.wsClint),this.makeConnection(this.wsClint)}),localStorage.getItem("watchList")||localStorage.setItem("watchList",[])}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{spacing:1,alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:10,sm:12},i.a.createElement(Te.a,{style:{overflow:"auto"}},i.a.createElement(Kt.a,{size:"small","aria-label":"sticky table"},i.a.createElement(Le.a,{style:{width:"",whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head",style:{fontWeight:"bold"}},i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Index "),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Val"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Change"),i.a.createElement(Xt.a,{className:"TableHeadFormat",align:"center"},"Time"))),i.a.createElement(Zt.a,{style:{width:"",whiteSpace:"nowrap"}},this.state.symbolList?this.state.symbolList.map(function(t,e){return i.a.createElement(Gt.a,{style:{background:t.nc>0?"chartreuse":"coral"},key:e},i.a.createElement(Xt.a,{align:"center"},t.name),i.a.createElement(Xt.a,{align:"center"},t.iv,"(",t.nc,"%)"),i.a.createElement(Xt.a,{align:"center"},t.cng),i.a.createElement(Xt.a,{align:"center"},t.tvalue))}):""))))))}}]),e}(i.a.Component),qi=function(t){function e(t){var a;return Object(y.a)(this,e),(a=Object(S.a)(this,Object(E.a)(e).call(this,t))).takeAction=function(t,e){if(!(a.state.actionList.length&&a.state.actionList.filter(function(e){return e.symbol===t})).length){var n={symbol:t,action:e,updateTime:(new Date).toLocaleTimeString()};a.setState({actionList:[].concat(Object(rt.a)(a.state.actionList),[n])},function(){localStorage.setItem("actionList",JSON.stringify(this.state.actionList)),console.log(n.symbol+" "+n.action+" "+n.updateTime),this.setState({lastUpdateAction:n.symbol+" "+n.action+" "+n.updateTime}),window.document.title=n.symbol+" "+n.action+" "+n.updateTime})}},a.calculateRSI=function(t){var e=[];t.forEach(function(t){e.push(t.p)});var a={values:e,period:14};return me.a.calculate(a)},a.calculateCandleVolume=function(t){a.state.symbolList.forEach(function(e){var n=a.comparePreviousVolume(e.symbol,e.volume,e.ltp,e.token,e.name),i={s:e.symbol,t:new Date,v:e.volume,cv:n.cv,p:e.ltp,ch:e.pChange};e.volBreakoutCount=n.brokenCount,e.priceVolBreakout=n.priceVolBreakout,e.rsi=n.rsi,console.log(e.symbol," RSI ",n.rsi,(new Date).toLocaleTimeString()),a.setState({symbolList:a.state.symbolList}),a.setState({liveCandleHistory:[].concat(Object(rt.a)(a.state.liveCandleHistory),[i])},function(){"noSyncVol"!=t&&localStorage.setItem("liveCandleHistory",JSON.stringify(a.state.liveCandleHistory))})})},a.callbackAfterOrderDone=function(t){console.log("order executed",t)},a.storeChartData=function(){var t={dtime:ce(new Date,"YYYY-MM-DD HH:mm:ss").toString(),symbolList:[a.state.symbolList[0]],analysis:!0};O.saveCandleHistory(t).then(function(t){t.data&&console.log(t.data)}).catch(function(t){}).finally(function(t){})},a.getUpdateIndexData=function(){a.setState({softedIndexList:[]}),O.allIndicesDirectJSON().then(function(t){if(t.data){var e=t.data&&t.data.data;e.sort(function(t,e){return e.percChange-t.percChange});for(var n=0;n<e.length;n++){var i=e[n];a.state.sluglist[i.indexName]&&a.setState({softedIndexList:[].concat(Object(rt.a)(a.state.softedIndexList),[i])})}}}).catch(function(t){}).finally(function(t){})},a.speckIt=function(t){if(a.state.isSpeek){var e=new SpeechSynthesisUtterance;e.text=t.toString(),window.speechSynthesis.speak(e)}},a.getPercentageColor=function(t){return"rgb("+((t*=100)<50?255:Math.floor(255-255*(2*t-100)/100))+","+(t>50?255:Math.floor(2*t*255/100))+",0)"},a.onChangeWatchlist=function(t){var e;a.setState((e={},Object(f.a)(e,t.target.name,t.target.value),Object(f.a)(e,"cursor",0),e),function(){var t=this,e=this.state.staticData[this.state.selectedWatchlist];"gainerList"==this.state.selectedWatchlist&&(e=localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))),"looserList"==this.state.selectedWatchlist&&(e=localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))),this.setState({symbolList:e,originalList:e},function(){t.getPerformance()})})},a.updateOriginalHist=Object(lt.a)(it.a.mark(function t(){var e,n,i,r,l;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=localStorage.getItem("OriginalHist")&&JSON.parse(localStorage.getItem("OriginalHist"))||[],n=a.state.staticData[a.state.selectedWatchlist],i=it.a.mark(function t(i){var r,o,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],"YYYY-MM-DD HH:mm",o=ce(new Date),s=ce(o,"DD-MM-YYYY").subtract(4,"days"),l={exchange:"NSE",symboltoken:r.token,interval:a.state.timeFrame,fromdate:ce(s).format("YYYY-MM-DD HH:mm"),todate:ce(o).format("YYYY-MM-DD HH:mm")},O.getHistoryData(l).then(function(t){var a=z(t,"noPop");if(a&&a.data&&a.data.length){var n=a.data.slice(a.data.length-20,a.data.length);if(e.filter(function(t){return t.s==r.name}).length>0)for(var i=0;i<e.length;i++)console.log("OriginalHist",e[i].s,r.name),e[i].s==r.name&&(e[i].d=n);else e.push({s:r.name,d:n});localStorage.setItem("OriginalHist",JSON.stringify(e))}else console.log("candle data emply")}),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),r=0;case 4:if(!(r<n.length)){t.next=9;break}return t.delegateYield(i(r),"t0",6);case 6:r++,t.next=4;break;case 9:case"end":return t.stop()}},t)})),a.updateDayChartHighLow=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],n=it.a.mark(function t(n){var i,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],"YYYY-MM-DD HH:mm",l=ce(new Date),o=ce(l,"DD-MM-YYYY").subtract(7,"days"),0==a.state.listofHighLow.filter(function(t){return t.symbol==i.symbol}).length&&(r={exchange:"NSE",symboltoken:i.token,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data;n.reverse(),console.log("lastday",i,n[1]);n[1];var r=n[0][2],l=n[0][3];n[1][2]>r&&(r=n[1][2]),n[1][3]<l&&(l=n[1][3]);var o=ce("9:15am","h:mma"),s=ce("3:30pm","h:mma"),c=ce(new Date,"h:mma");ce().isoWeekday()<=5&&c.isBetween(o,s)&&(r=n[1][2],l=n[1][3],n[2][2]>r&&(r=n[2][2]),n[2][3]<l&&(l=n[2][3]));var m={symbol:i.symbol,high:r,low:l};a.setState({listofHighLow:[].concat(Object(rt.a)(a.state.listofHighLow),[m])},function(){console.log("highlow",this.state.listofHighLow),localStorage.setItem("listofHighLow",JSON.stringify(this.state.listofHighLow))})}else console.log(" candle data emply")})),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<e.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.updatePreviousVolume=Object(lt.a)(it.a.mark(function t(){var e,n,i,r;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.staticData[a.state.selectedWatchlist],n=it.a.mark(function t(n){var i,l,o;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e[n],"YYYY-MM-DD HH:mm",l=ce(new Date),o=ce(l,"DD-MM-YYYY").subtract(2,"days"),0==a.state.listofHighLow.filter(function(t){return t.symbol==i.symbol}).length&&(r={exchange:"NSE",symboltoken:i.token,interval:a.state.timeFrame,fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(l).format("YYYY-MM-DD HH:mm")},O.getHistoryData(r).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var n=e.data.slice(e.data.length-20,e.data.length);a.deletePrevVolume(i.symbol);for(var r=0,l=JSON.parse(localStorage.getItem("liveCandleHistory"))&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],o=n[0][2],s=0;s<n.length;s++){var c=n[s];new Date(c[0]).getDate()==(new Date).getDate()&&(r+=c[5]),c[2]>o&&(o=c[2]);var m={s:i.symbol,t:c[0],v:r,cv:c[5],p:c[4],ch:0};l.push(m)}i.high20Candle=o,console.log("high20Candle",i.symbol,o),localStorage.setItem("liveCandleHistory",JSON.stringify(l))}else console.log(" candle data emply")})),t.next=8,new Promise(function(t){return setTimeout(t,310)});case 8:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<e.length)){t.next=8;break}return t.delegateYield(n(i),"t0",5);case 5:i++,t.next=3;break;case 8:case"end":return t.stop()}},t)})),a.deletePrevVolume=function(t){for(var e=JSON.parse(localStorage.getItem("liveCandleHistory"))&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],a=[],n=0;n<e.length;n++){var i=e[n];t!=i.s&&a.push(i)}return console.log("delete symbol data",t,a),localStorage.setItem("liveCandleHistory",JSON.stringify(a)),!0},a.sortByColumn=function(t){a.state.symbolList.sort(function(e,a){return a[t]-e[t]}),a.setState({symbolList:a.state.symbolList,sortedType:t})},a.getLTP=function(t,e,n){var i={exchange:"NSE",tradingsymbol:t,symboltoken:e};O.getLTP(i).then(function(t){var i=z(t,"noPop"),r=i&&i.data;if(r&&r.ltp){var l=100*(r.ltp-r.close)/r.close;n.pChange=l&&l.toFixed(2),n.ltp=r.ltp;var o=ce(new Date,"DD-MM-YYYY").subtract(1,"years"),s={exchange:"NSE",symboltoken:e,interval:"ONE_DAY",fromdate:ce(o).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(s).then(function(t){var e=z(t,"noPop");if(e&&e.data&&e.data.length){var i=e.data;console.log("lastday",n,i[0]);var l=i[0][2],o=i[0][3];if(i.forEach(function(t){t[2]>l&&(l=t[2]),t[3]<o&&(o=t[3])}),n.yearHigh=l,n.yearLow=o,i[0]){var s=100*(r.ltp-i[0][4])/i[0][4];n.yearChange=s&&s.toFixed(2),n.yearPrice=i[0][4],n.yearLastDate=ce(i[0][0]).format("DD-MM-YYYY")}var c=i.slice(i.length-5,i.length);n.weekChange=a.calculateWeekPerformance(r.ltp,c);var m=i.slice(i.length-31,i.length),u=a.calculateMonthPerformance(r.ltp,m,1);n.monthChange=parseFloat(u.periodReturn),n.monthChangeInfo=u.lastDateInfo;var v=i.slice(i.length-90,i.length),g=a.calculateMonthPerformance(r.ltp,v,3);n.threeMonthChange=g.periodReturn,n.threeMonthChangeInfo=g.lastDateInfo;var d=i.slice(i.length-180,i.length),h=a.calculateMonthPerformance(r.ltp,d,6);n.sixMonthChange=h.periodReturn,n.sixMonthChangeInfo=h.lastDateInfo;var p=i.slice(i.length-280,i.length),f=a.calculateMonthPerformance(r.ltp,p,9);n.nineMonthChange=f.periodReturn,n.nineMonthChangeInfo=f.lastDateInfo}else console.log(" candle data emply");a.setState({symbolList:a.state.symbolList},function(){a.sortByColumn("yearChange")})})}})},a.getPerformance=Object(lt.a)(it.a.mark(function t(){var e,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.state.symbolList.length)){t.next=9;break}return n=a.state.symbolList[e],a.getLTP(n.symbol,n.token,n),t.next=6,new Promise(function(t){return setTimeout(t,310)});case 6:e++,t.next=1;break;case 9:case"end":return t.stop()}},t)})),a.calculateWeekPerformance=function(t,e){for(var a=ce(new Date,"DD-MM-YYYY").subtract(1,"week"),n="",i=0;i<e.length;i++){var r=e[i];if(r&&r[0]){var l=ce(r[0]).format("DD-MM-YYYY");if(console.log("daydate",l),a.format("DD-MM-YYYY")==l||ce(r[0]).isAfter(a)){n=parseFloat(r[4]);break}}}return(100*(t-n)/n).toFixed(2)},a.calculateMonthPerformance=function(t,e,a){console.log("monthData",e,t);for(var n=ce(new Date,"DD-MM-YYYY").subtract(a,"months"),i="",r=0;r<e.length;r++){var l=e[r],o=ce(l[0]).format("DD-MM-YYYY");if(n.format("DD-MM-YYYY")==o||ce(l[0]).isAfter(n)){i=parseFloat(l[4]),ce(l[0]).format("DD-MM-YYYY");break}}var s=100*(t-i)/i;return console.log("monthData",e,"lastMonthdate",n,"candleDayClose",i,"ltp",t,"periodReturn",s),{lastDateInfo:"Last Date: "+n.format("DD-MM-YYYY")+"\nClose: "+i,periodReturn:s.toFixed(2)}},a.convertToDecimal=function(t){return isNaN(t)?t:t.toFixed(2)},a.convertToFloat=function(t){if(!isNaN(t))return"("+(t/1e5).toFixed(2)+"L)"},a.onInputChange=function(t){a.setState(Object(f.a)({},t.target.name,t.target.value),function(){this.showStaticChart()})},a.handleKeyDown=function(t){38===t.keyCode&&a.state.cursor>0?a.setState(function(t){return{cursor:t.cursor-1}}):40===t.keyCode&&a.state.cursor<a.state.symbolList.length-1&&a.setState(function(t){return{cursor:t.cursor+1}}),a.state.cursor===a.state.symbolList.length-1&&a.setState({cursor:0}),setTimeout(function(){a.updateCandleOnkey()},100)},a.handleChange=function(t){localStorage.setItem("isSpeek",t.target.checked),a.setState({isSpeek:t.target.checked},function(){console.log("isSpeek",a.state.isSpeek,t.target.checked)})},a.calculateSMA=function(t,e){for(var a=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].close;return e/t.length},n=[],i=e-1,r=t.length;i<r;i++){var l=a(t.slice(i-e+1,i));n.push({time:t[i].time,value:l})}return n},a.showStaticChart=function(t,e,n){console.log("token, symbol",t,e),a.copyName(e),t&&a.setState({chartStaticData:"",token:t},function(){console.log("reset done",t)}),console.log("cursor",a.state.cursor,"this.state.symbolList.length",a.state.symbolList.length);var i=ce("9:15am","h:mma"),r=ce.duration("1000:00:00");i=ce(new Date).subtract(r),"ONE_DAY"==a.state.timeFrame&&(i=ce(new Date,"DD-MM-YYYY").subtract(1,"years")),"ONE_HOUR"==a.state.timeFrame&&(i=ce(new Date,"DD-MM-YYYY").subtract(1,"months"));var l={exchange:"NSE",symboltoken:t||a.state.token,interval:a.state.timeFrame,fromdate:ce(i).format("YYYY-MM-DD HH:mm"),todate:ce(new Date).format("YYYY-MM-DD HH:mm")};O.getHistoryData(l).then(function(t){var i=z(t,"noPop");if(i&&i.data){var r=i.data,l=r.map(function(t){return{time:new Date(t[0]).getTime(),open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4])}}),o=[],s=[],c=[],m=[],u=[],v=[],g=[],d=[],h=[];r.forEach(function(t,e){o.push([t[0],t[1],t[2],t[3],t[4]]),s.push([t[5],(t[2]+t[3]+t[4])/3]),c.push(t[4]),m.push(t[2]),u.push(t[3]),v.push(t[3]),g.push(t[5]),d.push((t[2]+t[3]+t[4])/3),h.push({time:new Date(t[0]).getTime(),value:t[5],color:"rgba(211, 211, 211, 1)"})});var p={period:20,values:d,stdDev:2},f=ue.a.calculate(p),y=(f=ue.a.calculate(p),{values:c,period:14}),b=me.a.calculate(y);if(console.log(e,r[r.length-1],"Rsi",y,b),a.setState({lightChartSymbol:e,chartStaticData:l,bblastValue:f[f.length-1],vwapvalue:ge()(s),rsiValues:b.slice(Math.max(g.length-19,1)),valumeData:g.slice(Math.max(g.length-5,1))},function(){this.state.candleSeries.setData(this.state.chartStaticData),this.state.volumeSeries.setData(h);var t=this.calculateSMA(this.state.chartStaticData,20);this.state.smaLineSeries.setData(t),this.state.chart.subscribeCrosshairMove(function(t){var e=t.seriesPrices[Symbol.iterator](),a="",n="",i=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"object"==typeof c[1]?(n=100*(c[1].close-c[1].open)/c[1].open,a+="O:"+c[1].open,a+=" H:"+c[1].high,a+=" L:"+c[1].low,a+=" C:"+c[1].close,a+=" Ch%:"+n.toFixed(2)+"%"):a+=" &nbsp; "+c[1].toFixed(2)+" "}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t.time?a+=" T:"+new Date(t.time).toLocaleString():a+="OHLC: <br/> Time: ";var m="<span style=color:green>"+a+"</span> ";n<0&&(m="<span style=color:red>"+a+"</span> "),document.getElementById("showChartTitle").innerHTML=m})}),r&&r.sort(function(t,e){return new Date(e[0])-new Date(t[0])}),r.length>0){localStorage.setItem("InstrumentHistroy",JSON.stringify(r)),a.setState({InstrumentHistroy:r});var S=0,E=0;r.forEach(function(t){var e=100*(t[4]-t[1])/t[1];e>=.3&&(S+=1),e<=-.3&&(E+=1),e}),a.setState({downMoveCount:E,upsideMoveCount:S,cursor:n})}}})},a.findSymbol=function(t){var e=t.target.value,n=a.state.originalList.filter(function(t){return t.name.includes(e.toUpperCase())});a.setState({symbolList:n}),console.log(e,n),e||a.setState({symbolList:a.state.originalList})},a.copyName=function(t){navigator.clipboard.writeText(t).then(function(){q.showSuccess(t+" copied")}).catch(function(){alert("something went wrong")})},a.state={totalWatchlist:localStorage.getItem("totalWatchlist")&&JSON.parse(localStorage.getItem("totalWatchlist"))||[],staticData:localStorage.getItem("staticData")&&JSON.parse(localStorage.getItem("staticData"))||{},selectedWatchlist:"NIFTY BANK",symbolList:[],dayhighLow:[],actionList:localStorage.getItem("actionList")&&JSON.parse(localStorage.getItem("actionList"))||[],timeFrame:"ONE_HOUR",softedIndexList:[],listofHighLow:localStorage.getItem("listofHighLow")&&JSON.parse(localStorage.getItem("listofHighLow"))||[],gainerList:localStorage.getItem("gainerList")&&JSON.parse(localStorage.getItem("gainerList"))||[],looserList:localStorage.getItem("looserList")&&JSON.parse(localStorage.getItem("looserList"))||[],liveCandleHistory:localStorage.getItem("liveCandleHistory")&&JSON.parse(localStorage.getItem("liveCandleHistory"))||[],cursor:0,volumePriceBONames:"",candleHistoryFlag:!0,lightChartSymbol:"Select Symbol for Chart",isSpeek:"true"===localStorage.getItem("isSpeek"),sortedType:"pChange",sluglist:{"NIFTY 50":"nifty","NIFTY AUTO":"cnxAuto","NIFTY BANK":"bankNifty","NIFTY ENERGY":"cnxEnergy","NIFTY FIN SERVICE":"cnxFinance","NIFTY FMCG":"cnxFMCG","NIFTY IT":"cnxit","NIFTY MEDIA":"cnxMedia","NIFTY METAL":"cnxMetal","NIFTY PHARMA":"cnxPharma","NIFTY PSU BANK":"cnxPSU","NIFTY REALTY":"cnxRealty","NIFTY PVT BANK":"niftyPvtBank","NIFTY CONSUMPTION":"cnxConsumption","NIFTY CPSE":"cpse","NIFTY INFRA":"cnxInfra","NIFTY MNC":"cnxMNC","NIFTY PSE":"cnxPSE","NIFTY NEXT 50":"juniorNifty","NIFTY MIDCAP 50":"niftyMidcap50","NIFTY HEALTHCARE":"notfound","NIFTY OIL AND GAS":"notfound","NIFTY 100":"notfound","HIGH BETA STOCK":"notfound","NIFTY CONSR DURBL":"notfond"}},a.nameInput=i.a.createRef(),a}return Object(C.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.document.title="Stocks Performence",this.setState({symbolList:this.state.staticData[this.state.selectedWatchlist],originalList:this.state.staticData[this.state.selectedWatchlist]},function(){Date.now();t.state.timeFrame,"TEN_MINUTE"==t.state.timeFrame||("FIVE_MINUTE"==t.state.timeFrame||t.state.timeFrame),t.getPerformance()});var e=localStorage.getItem("userTokens")&&JSON.parse(localStorage.getItem("userTokens")),a=(e&&e.feedToken,JSON.parse(localStorage.getItem("userProfile"))),n=(a&&a.clientcode,document.getElementById("tvchart"));document.getElementById("tvchart").innerHTML="";var i=window.screen.width/3.3,r=window.screen.height/2;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(i=window.screen.width);var l=Object(Ie.a)(n,{width:i,height:r,timeVisible:!0,secondsVisible:!0}),o=l.addCandlestickSeries(),s=l.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:2}),c=l.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}});this.setState({chart:l,candleSeries:o,smaLineSeries:s,volumeSeries:c}),this.getUpdateIndexData();ce("9:15am","h:mma"),ce("3:30pm","h:mma"),ce(new Date,"h:mma"),ce().isoWeekday()}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{LoadSymbolDetails:this.LoadSymbolDetails}),i.a.createElement(F.a,{direction:"row",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:12,sm:8},i.a.createElement(Te.a,{style:{padding:"5px"}},i.a.createElement(F.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(F.a,{item:!0,xs:4,sm:4},i.a.createElement("form",{name:"keyForm"},i.a.createElement("input",{id:"keyid",name:"keyid",placeholder:"Search: tcs",onChange:this.findSymbol,autofocus:"true",type:"text"}))),i.a.createElement(F.a,{item:!0,xs:8,sm:6},i.a.createElement(xe.a,{style:zi.selectStyle},i.a.createElement(N.a,{htmlFor:"gender"},"Select Watchlist"),i.a.createElement(Oe.a,{value:this.state.selectedWatchlist,name:"selectedWatchlist",onChange:this.onChangeWatchlist},i.a.createElement(De.a,{value:"gainerList"},"Gainer List ("+this.state.gainerList.length+")"),i.a.createElement(De.a,{value:"looserList"},"Looser List ("+this.state.looserList.length+")"),this.state.softedIndexList&&this.state.softedIndexList.map(function(t){return i.a.createElement(De.a,{style:{color:t.percChange>0?"green":"red"},value:t.indexName},t.indexName," (",t.percChange,"%)")}),this.state.totalWatchlist&&this.state.totalWatchlist.map(function(t){return i.a.createElement(De.a,{value:t},t)}),i.a.createElement(De.a,{value:"NIFTY 200"},"NIFTY 200"),i.a.createElement(De.a,{value:"Securities in F&O"},"Securities in F&O"),i.a.createElement(De.a,{value:"High Beta Stock"},"High Beta Stock")))),i.a.createElement(F.a,{item:!0,xs:4,sm:2},i.a.createElement(M.a,{variant:"",style:{marginRight:"20px"},onClick:function(){return t.calculateCandleVolume("noSyncVol")}},"Refresh"))),i.a.createElement("div",{style:{overflow:"auto",maxHeight:"650px"}},i.a.createElement(Kt.a,{size:"small",style:{width:"100%"},"aria-label":"sticky table"},i.a.createElement(Le.a,{style:{whiteSpace:"nowrap"},variant:"head"},i.a.createElement(Gt.a,{variant:"head"},i.a.createElement(Xt.a,{align:"center",style:{background:"yearHigh"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("yearHigh")}},"Year High"),"  "),i.a.createElement(Xt.a,{align:"center",style:{background:"yearLow"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("yearLow")}},"Year Low"),"  "),i.a.createElement(Xt.a,{style:{background:"name"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("name")}},"Name")," "),i.a.createElement(Xt.a,{style:{background:"ltp"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("ltp")}},"Ltp")," "),i.a.createElement(Xt.a,{style:{background:"pChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("pChange")}},"Day")," "),i.a.createElement(Xt.a,{style:{background:"weekChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("weekChange")}},"Week")," "),i.a.createElement(Xt.a,{style:{background:"monthChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("monthChange")}},"Month")," "),i.a.createElement(Xt.a,{style:{background:"threeMonthChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("threeMonthChange")}},"3 Months")," "),i.a.createElement(Xt.a,{style:{background:"sixMonthChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("sixMonthChange")}},"6 Months")," "),i.a.createElement(Xt.a,{style:{background:"nineMonthChange"==this.state.sortedType?"lightgray":""},align:"left"},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("nineMonthChange")}},"9 Months")," "),i.a.createElement(Xt.a,{style:{background:"yearChange"==this.state.sortedType?"lightgray":""}},i.a.createElement(M.a,{onClick:function(){return t.sortByColumn("yearChange")}},"Year Change"),"  "))),i.a.createElement(Zt.a,null,this.state.symbolList?this.state.symbolList.map(function(e,a){return i.a.createElement(Gt.a,{onKeyDown:t.handleKeyDown,selected:t.state.cursor===a?"active":null,style:{cursor:"pointer"},hover:!0,key:a},t.state.cursor===a?localStorage.setItem("selectedKeyRow",JSON.stringify(e)):"",i.a.createElement(Xt.a,{align:"center"}," ",e.yearHigh),i.a.createElement(Xt.a,{align:"center"}," ",e.yearLow),i.a.createElement(Xt.a,{align:"left"},i.a.createElement(M.a,{onClick:function(){t.showStaticChart(e.token,e.name,a),t.getLTP(e.symbol,e.token,e)}},a+1,".   ",e.name)),i.a.createElement(Xt.a,null," ",e.ltp," "),i.a.createElement(Xt.a,{style:{color:e.pChange>0?"green":"red"}},e.pChange?"".concat(e.pChange,"%"):""),i.a.createElement(Xt.a,{style:{color:e.weekChange>0?"green":"red"}},e.weekChange?"".concat(e.weekChange,"%"):""),i.a.createElement(Xt.a,{title:e.monthChangeInfo,style:{color:e.monthChange>0?"green":"red"}},e.monthChange?"".concat(e.monthChange,"%"):""),i.a.createElement(Xt.a,{title:e.threeMonthChangeInfo,style:{color:e.threeMonthChange>0?"green":"red"}},e.threeMonthChange?"".concat(e.threeMonthChange,"%"):""),i.a.createElement(Xt.a,{title:e.sixMonthChangeInfo,style:{color:e.sixMonthChange>0?"green":"red"}},e.sixMonthChange?"".concat(e.sixMonthChange,"%"):""),i.a.createElement(Xt.a,{title:e.nineMonthChangeInfo,style:{color:e.nineMonthChange>0?"green":"red"}},e.nineMonthChange?"".concat(e.nineMonthChange,"%"):""),i.a.createElement(Xt.a,{title:"Last year date: "+e.yearLastDate+"\nClosed price: "+e.yearPrice,style:{color:e.yearChange>0?"green":"red"}},e.yearChange?"".concat(e.yearChange,"%"):""))}):i.a.createElement(pe.a,null)))),i.a.createElement("hr",null),i.a.createElement(F.a,{item:!0,xs:12,sm:12},i.a.createElement("span",null,"Sorted By:  ",this.state.sortedType," ")," ",i.a.createElement("br",null),i.a.createElement("span",null,"Update: ",this.state.lastUpdateAction," ")),i.a.createElement(F.a,{item:!0,xs:6,sm:6},i.a.createElement(Ht.a,null,i.a.createElement(Yt.a,{control:i.a.createElement(Bt.a,{checked:this.state.isSpeek,onChange:this.handleChange,"aria-label":"Speek ON/OFF"}),label:this.state.isSpeek?"Speak Yes":"Speak No"}))))),i.a.createElement(F.a,{item:!0,xs:12,sm:4},i.a.createElement(Te.a,{style:{padding:"5px"}},i.a.createElement(F.a,{style:{display:"visible"},spacing:1,direction:"row",alignItems:"center",container:!0},i.a.createElement(F.a,{item:!0,xs:2,sm:2},i.a.createElement(xe.a,{style:zi.selectStyle},i.a.createElement(N.a,{htmlFor:"candleHistoryFlag"},"Time"),i.a.createElement(Oe.a,{value:this.state.timeFrame,name:"timeFrame",onChange:this.onInputChange},i.a.createElement(De.a,{value:"ONE_MINUTE"},"1M"),i.a.createElement(De.a,{value:"FIVE_MINUTE"},"5M"),i.a.createElement(De.a,{value:"TEN_MINUTE"},"10M"),i.a.createElement(De.a,{value:"FIFTEEN_MINUTE"},"15M"),i.a.createElement(De.a,{value:"THIRTY_MINUTE"},"30M"),i.a.createElement(De.a,{value:"ONE_HOUR"},"1H"),i.a.createElement(De.a,{value:"ONE_DAY"},"1D")))),i.a.createElement(F.a,{item:!0,xs:10,sm:8},i.a.createElement(R.a,null," ",this.state.lightChartSymbol," ",this.state.livePrice," ",this.state.livePChange?"(".concat(this.state.livePChange,"%)"):"","  ")),i.a.createElement(F.a,{item:!0,xs:12,sm:12,style:{paddingRight:"20px"}},i.a.createElement("div",{id:"showChartTitle"}),i.a.createElement("div",{id:"tvchart"})),i.a.createElement(F.a,{item:!0,xs:12,sm:12},"Technical Info: ",i.a.createElement("b",null," ",this.state.lightChartSymbol)," ",i.a.createElement("br",null),i.a.createElement("b",null," RSI: "),this.state.rsiValues&&this.state.rsiValues.map(function(t,e){return t>=60?i.a.createElement("span",{style:{color:"green",fontWeight:"bold"}}," ",t," \xa0"):i.a.createElement("span",{style:{color:t<=40?"red":"",fontWeight:"bold"}}," ",t," \xa0")}),i.a.createElement("br",null),i.a.createElement("b",null,"Vol:")," ",this.state.valumeData&&this.state.valumeData.map(function(e,a){return i.a.createElement("span",{style:{color:e>t.state.dailyAvgValume?"green":"",fontWeight:e>t.state.dailyAvgValume?"bold":""}}," ",(e/1e5).toFixed(2),"L \xa0")}),i.a.createElement("br",null),this.state.bblastValue?i.a.createElement("span",{item:!0,xs:12,sm:12},i.a.createElement("span",{title:"Green color mean price running above upper bb band",style:{color:this.state.livePrice>=this.state.bblastValue.upper?"green":"",fontWeight:"bold"}},"BB Upper: ",this.state.bblastValue.upper.toFixed(2)),i.a.createElement("br",null),"BB Middle(20 SMA): ",this.state.bblastValue.middle.toFixed(2),i.a.createElement("br",null),i.a.createElement("span",{title:"Green red mean price running below lower bb band",style:{color:this.state.livePrice<=this.state.bblastValue.lower?"red":"",fontWeight:"bold"}},"BB Lower: ",this.state.bblastValue.lower.toFixed(2)),i.a.createElement("br",null)):"",i.a.createElement("span",{item:!0,xs:12,sm:12,style:{color:this.state.livePrice>this.state.vwapvalue?"green":"red",fontWeight:"bold"}},"VWAP:  ",this.state.vwapvalue&&this.state.vwapvalue.toFixed(2))))))))}}]),e}(i.a.Component),zi={selectStyle:{minWidth:"100%",marginBottom:"10px"}},Qi=qi,Ki=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement(p.c,null,i.a.createElement(p.a,{path:"/",exact:!0,component:G}),i.a.createElement(p.a,{path:"/login",component:G}),i.a.createElement(p.a,{path:"/login-shoonya",component:at}),i.a.createElement(p.a,{path:"/nifty-view",component:Sa}),i.a.createElement(p.a,{path:"/bn-view",component:ca}),i.a.createElement(p.a,{path:"/sector",component:wa}),i.a.createElement(p.a,{path:"/chart",component:ra}),i.a.createElement(p.a,{path:"/candle-chart",component:Da}),i.a.createElement(p.a,{path:"/home",component:pa}),i.a.createElement(p.a,{path:"/funds",component:Pa}),i.a.createElement(p.a,{path:"/order",component:Fa}),i.a.createElement(p.a,{path:"/trade",component:Na}),i.a.createElement(p.a,{path:"/order-status-live",component:Ma}),i.a.createElement(p.a,{path:"/position",component:Wa}),i.a.createElement(p.a,{path:"/position-new",component:gn}),i.a.createElement(p.a,{path:"/position-shoonya",component:kn}),i.a.createElement(p.a,{path:"/addtowatchlist",component:Dn}),i.a.createElement(p.a,{path:"/sector-heat-map",component:Nn}),i.a.createElement(p.a,{path:"/sector-heat-map2",component:ai}),i.a.createElement(p.a,{path:"/find-fast-movement",component:ri}),i.a.createElement(p.a,{path:"/find-fast-movement2",component:ci}),i.a.createElement(p.a,{path:"/find-fast-movement3",component:vi}),i.a.createElement(p.a,{path:"/order-watchlist",component:ga}),i.a.createElement(p.a,{path:"/delivery",component:Rn}),i.a.createElement(p.a,{path:"/slow-motion",component:bi}),i.a.createElement(p.a,{path:"/index-charts",component:Jn}),i.a.createElement(p.a,{path:"/strong-charts",component:Kn}),i.a.createElement(p.a,{path:"/market-depth",component:ki}),i.a.createElement(p.a,{path:"/market-depth-mobile",component:Li}),i.a.createElement(p.a,{path:"/monthly-investment",component:Qi}),i.a.createElement(p.a,{path:"/backtest",component:Ii}),i.a.createElement(p.a,{path:"/chartink-backtest",component:Ni}),i.a.createElement(p.a,{path:"/backup-history",component:Ri}),i.a.createElement(p.a,{path:"/custom-backtest",component:Bi}),i.a.createElement(p.a,{path:"/track145",component:Yi}),i.a.createElement(p.a,{path:"/bntokens",component:Wi}),i.a.createElement(p.a,{path:"/Websocket2",component:Vi}),i.a.createElement(p.a,{path:"/shoonya-order",component:mn}),i.a.createElement(p.a,{path:"/backtest-bn",component:Ui}),i.a.createElement(p.a,{path:"/test",component:wn}),i.a.createElement(p.a,{path:"*",component:G}))))};a(491);var Gi=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ki,null),i.a.createElement(V.a,null))};l.a.render(i.a.createElement(o.a,{store:d},i.a.createElement(Gi,null)),document.querySelector("#root"))},93:function(t,e,a){}},[[324,1,2]]]);
//# sourceMappingURL=main.3c2b71cc.chunk.js.map