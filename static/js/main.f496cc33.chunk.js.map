{"version":3,"sources":["components/mylogo.png","reducer/packReducer.js","reducer/index.js","action/types.js","createStore.js","components/service/AuthService.js","utils/config.js","components/service/AdminService.js","components/LoginNavbar.js","components/login/LoginNewUI.js","utils/Notify.js","utils/ResponseHandler.js","components/login/LoginComponent.js","components/LeftMenuBar.js","utils/InvertColor.js","components/MyTrade/LineChart.js","components/MyTrade/LightChartCom.js","components/MyTrade/ChartDialog.js","components/MyTrade/FoundPatternDialog.js","utils/CommonMethods.js","components/PostLoginNavbar.js","utils/MaterialUIDateTimePicker.js","components/MyTrade/SimpleExpansionPanel.js","components/MyTrade/SimpleExpansionFastMovement.js","components/MyTrade/LiveBidsExpantion.js","components/MyTrade/WatchListTab.js","api.js","action/index.js","components/MyTrade/Chart.js","components/MyTrade/BankNiftyView.js","components/MyTrade/OptionBuyWithSPLevel.js","components/MyTrade/OrderWatchlist.js","components/MyTrade/Home.js","components/MyTrade/NiftyView.js","components/MyTrade/MyDialog.js","components/MyTrade/MySectorTop.js","components/MyTrade/CandleChart.js","components/MyTrade/Funds.js","components/MyTrade/Orderbook.js","components/MyTrade/Tradebook.js","components/MyTrade/OrderStatusLive.js","components/MyTrade/ChartMultiple.js","components/MyTrade/Position.js","components/MyTrade/Test.js","components/MyTrade/AddToWatchlist.js","components/MyTrade/SectorHeatMap.js","components/MyTrade/LightChartDialog.js","components/MyTrade/DeliveryData.js","components/MyTrade/IndexCharts.js","components/MyTrade/StrongCharts.js","components/MyTrade/FullModel.js","components/MyTrade/SectorHeatMap2.js","components/MyTrade/FindFastMovement.js","components/MyTrade/FindFastMovement2.js","components/MyTrade/FindFastMovement3.js","components/MyTrade/LightChartModel.js","components/MyTrade/SlowMotion.js","components/MyTrade/MarketDepth.js","components/MyTrade/MarketDepthMobile.js","components/MyTrade/Backtest.js","components/MyTrade/BackupHistory.js","components/RouterComponent.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","INTIAL_STATE","packs","pack","updatedPack","combineReducers","state","arguments","length","undefined","action","type","Object","objectSpread","payload","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","service_AuthService","localStorage","getItem","tokens","JSON","parse","headers","Authorization","jwtToken","Content-Type","Accept","X-UserType","X-SourceID","X-ClientLocalIP","X-ClientPublicIP","X-MACAddress","X-PrivateKey","token","sessionId","API_KEY","service_AdminService","credentials","axios","post","AuthService","loginHeader","getHeader","formData","get","getScannerHeader","query","data","location","hostname","symbol","backDate","allSymbol","count","index","LoginNavBar","props","react_default","a","createElement","Fragment","AppBar","position","Toolbar","alt","style","width","src","MyLogo","useStyles","makeStyles","theme","@global","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","form","submit","SignIn","classes","handleOnChange","e","loginProps","onChange","Container","component","maxWidth","CssBaseline","className","Avatar","Person_default","Typography","variant","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","value","userName","password","Button","color","onClick","login","utils_Notify","msg","toast","error","this","options","success","warn","POSITION","BOTTOM_RIGHT","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","resolveResponse","response","status","message","Notify","showSuccess","showError","replace","setItem","Promise","reject","LoginComponent","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","defineProperty","target","trim","isError","preventDefault","isDasable","loginPayload","clientcode","AdminService","then","loginRes","stringify","getUserData","profileRes","getStaticData","res","totalWatchlist","keys","staticData","watchlist","forEach","element","element2","filter","row","push","bind","assertThisInitialized","LoginNavbar","Grid","container","justify","xs","sm","InputLabel","styles","waitMessage","errorMessage","history","React","Component","formStyle","flexFlow","justifyContent","AdminMenuList","ListItem","button","href","ListItemIcon","ShowChart_default","ListItemText","primary","EmojiEmotions_default","Equalizer_default","FileCopy_default","LogoutMenu","react_router_dom","to","textDecoration","confirm","userProfile","logout","clear","cookies","document","cookie","split","i","eqPos","indexOf","substr","deleteAllCookies","PowerSettingsNew_default","root","flexGrow","menuButton","marginRight","title","MenuAppBar","_React$useState","useState","_React$useState2","slicedToArray","auth","setAuth","FormGroup","FormControlLabel","control","Switch","checked","event","aria-label","App","candleChartData","vwapDataChart","closeData","timeDate","Date","getHours","getMinutes","chartData","labels","datasets","fill","borderColor","percentChange","index_modern","maintainAspectRatio","legend","LightChartCom","setTimeout","chart","LightweightCharts","createChart","getElementById","height","rightPriceScale","scaleMargins","top","bottom","borderVisible","layout","textColor","grid","vertLines","horzLines","candleSeries","addCandlestickSeries","upColor","downColor","borderDownColor","borderUpColor","wickDownColor","wickUpColor","setData","addHistogramSeries","priceFormat","priceScaleId","volumeSeries","subscribeCrosshairMove","param","getit","seriesPrices","Symbol","iterator","string","change","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","elem","console","log","open","high","low","close","toFixed","err","return","time","toLocaleString","str","innerHTML","smaData","avg","sum","result","len","val","slice","calculateSMA","addLineSeries","lineWidth","direction","paddingLeft","paddingRight","item","fontSize","DialogTitle","withStyles","padding","closeButton","right","grey","children","onClose","other","objectWithoutProperties","assign","disableTypography","IconButton","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomizedDialogs","setOpen","_React$useState3","candledata","_React$useState4","handleClose","Dialog","aria-labelledby","ChartDialog_DialogTitle","foundAt","buyExitPrice","sellEntyPrice","perChange","squareOffAt","ChartDialog_DialogContent","dividers","react_apexcharts_min_default","text","align","xaxis","yaxis","tooltip","enabled","series","ChartDialog_DialogActions","CommonMethods","speckIt","SpeechSynthesisUtterance","toString","speechSynthesis","speak","getMinPriceAllowTick","minPrice","wholenumber","parseInt","decimal","parseFloat","placeSLMOrder","slmOption","triggerprice","stopLossPrice","tradingsymbol","symboltoken","quantity","transactiontype","exchange","producttype","duration","price","squareoff","stoploss","ordertype","variety","placeOrder","click","updateOrderList","retrieveOrderBook","orderlist","sort","b","updatetime","getPercentageColor","percent","Math","floor","historyWiseOrderPlace","sectorItem","orderType","isAutomatic","callback","ltpdata","getLTP","ltpres","LtpData","ltp","perTradeExposureAmt","TradeConfig","totalCapital","perTradeExposurePer","qtyToTake","format1","beginningTime","moment","format","startdate","subtract","interval","fromdate","todate","getHistoryData","histdata","candleData","clossest","lowerest","highestHigh","lowestLow","highestsum","reverse","vwapdata","closeingData","highData","lowData","openData","valumeData","bbdata","inputRSI","values","period","lastRsiValue","RSI","calculate","input","stdDev","bb","BollingerBands","vwap","devideLen","bbmiddleValue","bblowerValue","bbhigerValue","stoplossPer","orderOption","buyPrice","placeOrderMethod","catch","placeOptionOrder","placeOptionSLMOrder","stopLossTriggerPrice","callData","endMenu","appBar","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","concat","marginLeft","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","content","contentShift","PostLoginNavBar","buyFlag","sellFlag","searchSymbol","setValues","useTheme","callbackAfterOrderDone","order","handleClick","symbolInfo","CommonOrderMethod","clsx","edge","Menu_default","Hidden","xsDown","noWrap","LoadSymbolDetails","autoCompleteSearch","searchRes","searchResdata","_objectSpread3","uppercaseName","toUpperCase","found","exch_seg","lotsize","lib_default","OpenInNew_default","Drawer","anchor","ChevronLeft_default","ChevronRight_default","Divider","List","Menu","MaterialUIPickers","startd","setHours","setMinutes","selectedStartDate","setSelectedStartDate","endd","selectedEndDate","setSelectedEndDate","MuiPickersUtilsProvider","utils","DateFnsUtils","containers","DatePicker","date","callbackFromParent","myCallback","KeyboardButtonProps","heading","typography","pxToRem","fontWeight","fontWeightRegular","SimpleExpansionPanel","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","expandIcon","ExpandMore_default","aria-controls","list","ExpansionPanelDetails","overflowY","map","nc","background","highlisht","TabPanel","react","role","hidden","Box","sx","Typography_Typography","a11yProps","BasicTabs","_props$data","cursor","onSelectItem","autoSearchList","symbolList","onChangeWatchlist","search","handleKeyDown","selectedWatchlist","setValue","searchedSymbolList","gainerList","looserList","borderBottom","Tabs","newValue","Tab","FormControl","htmlFor","Select","MenuItem","onKeyDown","selected","textAlign","sector","performServerAction","baseURL","setPackLoaded","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","wrap","_context","prev","allPacks","portal","sent","stop","_x","apply","diffData","putData","totPEOI","totCEOI","diff","dateTime","substring","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","MyView","onChangeSelectSymbol","loadPackList","filterOptionChain","actualValue","filereddata","alldata","optionChainDataBN","records","expiryDate","strikePrice","filtered","FilteredBY","handleScroll","scrollcount","onChangeCallLot","calculateCallMargin","CE","lastPrice","totalMargin","Parser","lotSize","buyCallLot","maxLoss","onChangePutLot","calculatePutMargin","PE","buyPutLot","getDataforStrike","sumOfCEoi","sumOfPEoi","openInterest","findSupportResistence","optiondata","PEoi","CEoi","PEoiChange","CEoiChange","changeinOpenInterest","myStrike","startDiff","underlyingValue","showOptionDownside","rem","round","startFrom","endDiff","showOptionUpside","rem2","endTo","totalspeoi","totalsceoi","resdata","AllspTotalOI","selectedSPpcr","allStrikediff","allStrikeChngeDiff","products","stopnview","curnewdata","timestamp","totalCOI","expiry","strike","waitForChainFlag","pcrTableBN","selectOptionStock","niftyLogSize","niftybankLogSize","_this2","SecuritiesInFO","todayTime","setInterval","updatepcr","_this3","getBNcpdata","totOI","newdata","dateFormat","totCEVol","totVol","totPEVol","totChangeINOICall","totChangeINOIPut","totChangeINOIDiff","oldproducts","lastrow","isDuplicate","totCEOIChange","totPEOIChange","totDiffChange","unshift","pcrdata","allPCR","expiryPCR","_React$createElement2","_React$createElement3","_this4","selectStyle","Input","key","expiryDates","labelId","max-height","strikePrices","Paper","overflow","Table","stickyHeader","size","TableHead","whiteSpace","TableRow","TableCell","TableBody","hover","Chart_App","borderLeft","borderRight","colSpan","opdata","impliedVolatility","pChange","buyOption","tableStyle","marginBottom","minWidth","connect","OrderBook","searchSymbolPendingOrder","searchSymbolPending","searchTokenPending","updateInput","addInOrderPenidngList","buyAtPending","sellAtPending","lastTradedData","abrupt","createdAt","toLocaleTimeString","buyAt","sellAt","pattenName","pattenNamePending","orderPenidngOptionList","toConsumableArray","deleteInOrderPenidngList","delitem","splice","callBackUpdate","placeOptionSPLevelOver","indexData","spotPrice","isoWeekday","nextExp","updateLTP","_callee2","_loop","_context3","_context2","buyOptionFlag","r","delegateYield","getTradePrice","refreshCandleChartManually","_ref3","_callee3","_context4","failedCount","onChange2","openNewPage","backToPositionPage","autoSearchTemp","fdata","instrumenttype","tick_size","endTime","currentTime","isBetween","intervaltime","findlast5minMovementInterval","gutterBottom","hash","Autocomplete","freeSolo","disableClearable","option","renderInput","params","InputProps","Delete_default","orderPenidngList","optiontype","noOfLot","exp","optionName","optionData","ltpparam","today","slpercentage","perStopTrigerLoss","OptionBuyWithSPLevel","BankNiftyView","Home","onInputChange","showStaticChart","checkOpenEqualToLow","_this$setState4","openEqualHighList","openEqualLowList","closeingEqualHighList","advanceShareCount","declineShareCount","UnchangeShareCount","fromDate","startDate","endDate","InstrumentLTP","InstrumentPerChange","decodeWebsocketData","array","newarray","String","fromCharCode","join","makeConnection","wsClint","firstTime_req","feedToken","send","updateSocketWatch","channel","updateSocket","task","user","acctid","updateSocketDetails","onopen","onmessage","decoded","atob","pako","inflate","liveData","symbolListArray","foundLive","tk","onerror","_req","orderid","watchList","getTimeFrameValue","timeFrame","chartStaticData","timeDuration","historyData","cdata","d","getTime","volumeSeriesData","loopindex","rsiValues","bblastValue","vwapvalue","max","smaLineSeries","InstrumentHistroy","upsideMoveCount","downMoveCount","totalSum","per","totalPerchentageChange","startingFrom","checkSlowMotionStock","stock","dataDay","resd","histdatad","candleDatad","bigCandleCount","slowMotionStockList","checkSlowMotionCheckLive","_loop2","checkLiveBids","_context5","bidlivedata","biddata","totalBuyQuantity","totalSellQuantity","deliveryToTradedQuantity","liveBidsList","oneHourBullBearCheck","_callee4","_loop3","_context7","_context6","lastCandle","oneHourBullBearCheckList","searchValumeBreakoutStock","_callee5","_loop4","_context9","_context8","volumeSum","findmaxVol","currentCandleVol","firstCandleCloseingPrice","priceGoingHighCount","firstCandleCloseingPriceDownSide","priceGoingLowCount","avgVol","volumeBreakoutlast5CandleList","dailyBasisInfoCheck","startDateforDaily","DSMA","closeingDatadaily","valumeSum","SMA","dailyAvgValume","DSMALastValue","DailyBulishStatus","todayCurrentVolume","volumeCrossedList","slmOrderType","onSelectItemChart","seachSumbol","deleteItemWatchlist","findIndex","getAveragePrice","orderId","oderbookData","averageprice","showCandleChart","insiderow","showCandleBothChart","candleChartDataInside","keyCode","prevState","updateCandleOnkey","selectedKeyRow","sumPercentage","ifNotBought","longExitPriceType","shortExitPriceType","stopScaningFlag","searchFailed","FoundPatternList","fastMovementList","domElement","timeVisible","secondsVisible","tostartInteral","clearInterval","_ref6","upper","middle","lower","j","OrderWatchlist","SimpleExpansionFastMovement_SimpleExpansionPanel","formContainer","textStyle","imgStyle","MuiTextField","footerButton","left","optionChainData","pcrTable","_React$createElement4","paddingTop","indexSymbol","MyDialog_DialogTitle","MyDialog_DialogContent","indexSymbolData","idata","MyDialog_DialogActions","getIndicesStocks","getIndiceStock","toLocaleLowerCase","indexTimeStamp","getAllIndices","softedData","calendar","MyDialog_CustomizedDialogs","last","encodeURIComponent","rel","advances","declines","unchanged","x","y","colors","upward","downward","ApexCharts","querySelector","render","toFixedAmount","getFunds","fundsRes","fundsResData","fundData","net","availablecash","availableintradaypayin","availablelimitmargin","collateral","utiliseddebits","utilisedexposure","utilisedholdingsales","utilisedoptionpremium","utilisedpayout","utilisedspan","utilisedturnover","m2munrealized","m2mrealized","getTodayOrder","cancelOrderOfSame","cancelOrder","modifyOrder","trailingstoploss","listofzones","selectedZone","zone","selectAllzone","firstTimeFlag","float","orderstatus","TradeBook","getTodayTrade","retrieveTradeBook","zoneChange","includes","addProduct","editProduct","convertBool","productId","removeItem","flag","toLocaleDateString","toTimeString","fillsize","fillprice","tradevalue","filltime","w3cwebsocket","actiontype","feedtype","jwttoken","apikey","sbin","getHistory","histCandles","positionList","heartbeatReq","exchtime","multipleChartData","longs","longCandles","shorts","shortCandles","ChartMultiple_DialogTitle","ChartMultiple_DialogContent","ChartMultiple_DialogActions","getCandleHistoryAndStore","timediff","candleHistoryInterval","last10Candle","findTweezerTopPatternLive","findTweezerBottomPatternLive","candleHist","maxHigh","maxLow","lastTrendCandleLow","firstTrendCandleHigh","firstCandle","secondCandle","diffPer","ttophistCandle","foundData","foundPatternList","last8candleHigh","last8candleLow","tBophistCandle","findNR4PatternLive","timediffend","backTestResult","backTestFlag","rgrangeCount","last4Candle","last5Candle","rangeArr","firstElement","buyentry","sellenty","orderActivated","pnlAmount","netPnLAmount","nr4TotalPer","totelActivatedCount","BuyAt","SellAt","brokerageCharges","findNR7PatternLive","showtestdata","last7Candle","last9Candle","stockTesting","_ref4","symbolname","showMultipleCandleChart","refreshLtpOnFoundPattern","foundPatternsFromStored","totalBrokerChargesNR4","totalNetProfit","pnlAmountTotal","perHighLowTotal","netPnLAmountOnHighlowTotal","perChangeOnHighLow","netPnLAmountOnHighlow","todayChange","builtupCandle","symbolUpdated","OnHighLowActivated","pastPerferm","foundlist","getStoplossFromOrderbook","netqty","stopLoss","buyavgprice","maxLossAmount","sellavgprice","getStoplossForSELLFromOrderbook","getHighLowPercentage","_callee6","_loop5","_ret","_context11","showHighLowWisePer","_context10","v","t0","tagPatternWhichTaken","orderTagToPosition","pattern","calculateTradeExpence","totalbuyvalue","totalsellvalue","buyCharge","sellCharge","turnOver","totalBroker","sst","sstCharge","transCharge","stampDuty","sebiCharge","gstCharge","total","tradeExpence","expenceInfo","getPositionData","_callee7","totalMaxPnL","_context12","getPosition","todayProfitPnL","totalQtyTraded","allbuyavgprice","allsellavgprice","totalPercentage","totalExpence","pnl","buyqty","percentPnL","chargeInfo","slData","stopLossAmount","totalTornOver","checkAndPlaceSingleOrder","orderWithFlatstoploss","ltpPrice","perTradeStopLossPer","onTrailChange","getNiftyLTP","getBankNiftyLTP","getStopLossPrice","_ref8","_callee8","_context13","slPrice","_x2","_x3","LockedSymbolName","orderData","getOpenPeningOrderId","squareOff","abs","modifyOrderMethod","minTriggerPrice","minSLPrice","get2DecimalNumber","number","getSLAndTriggerPrice","getOptionPercentage","trailPerChange","slPriceData","lastTriggerprice","perchngfromTriggerPrice","getPercentage","firstTimeMove","firstTimeSLMove","nextTimeMove","nextTimeSLMove","positionInterval","bankNiftyInterval","squireInterval","sqrOffbeginningTime","sqrOffendTime","scaninterval","scanendTime","totalDayLoss","dailyLossPer","getNSETopStock","scandata","_loop6","isFound","symbolName","selectedStockInteval","getSelectedStockFromDb","_loop7","selectedStockwatchList","_this5","getAutoScanStock","lastSeachStock","_this6","ChartMultiple_CustomizedDialogs","step","Refresh_default","totalbuyavgprice","totalsellavgprice","sellqty","Orderbook","totalLongPer","totalLongs","totalLongHighPer","totalShortPer","totalShort","totalShortLowPer","Example","areaData","volumeData","ChartData","areaSeries","readCsv","parsedList","newJsonList","addtowatchlist","SYMBOL","watchlistCount","resMessage","counter","listName","listItem","addIntoStaticData","listCount","resetCsv","reload","multiline","rows","fullwidth","wsClintSectorUpdate","spinnerIndex","updateLTPMannually","sectorStocks","refreshSectorLtp","sectorUpdate","_index","stockUpdate","refreshFlag","sectorStockList","cng","ltt","sectorList","stockList","isStocksLtpUpdted","checkLast5MinMovement","_ref2","_index2","refreshFlagCandle","stockCandleUpdate","refreshSectorCandleManually","_index3","inputVWAP","volume","vwapValue","VWAP","_x4","refreshSectorCandle","outerEelement","stockIndex","updateWatch","topGLCount","loadIndexesList","allIndicesDirectJSON","sleep","ms","resolve","percChange","_ref5","ref","middleSector","indexName","_x5","_x6","updateLtpOnInterval","index2","autoTradeTopList","indexdata","LineChart_App","LightChartDialog_DialogTitle","LightChartData","selectedSymbol","LightChartDialog_DialogContent","LightChartDialog_DialogActions","onChangeBackDate","getByDateBidHistory","backupData","backupDeleverydata","saveDeliveryData","storeRes","updatebidHistory","storeResData","symbolHist","buyHist","sellHist","lastbuybid","lastsellbid","totalBuyBid","totalSellBid","buybidHistory","sellbidHistory","storeBidData","backupBidata","backupBiddata","dbUpdateTime","saveBidData","quantityTraded","deliveryQuantity","datetime","secDate","averagePrice","bidLivedata","priceChangePer","updatedTime","buyPrice1","buyPrice2","buyPrice3","buyPrice4","buyPrice5","buyQuantity1","buyQuantity2","buyQuantity3","buyQuantity4","buyQuantity5","sellPrice1","sellPrice2","sellPrice3","sellPrice4","sellPrice5","sellQuantity1","sellQuantity2","sellQuantity3","sellQuantity4","sellQuantity5","totalTradedVolume","totalTradedValue","buytosellTime","selltobuyTime","highlightbuy","highlightsell","lastUpdateTime","getDeliveryHistory","getDeliveryDataFromDb","delHistory","getBidDataFromDb","bidHistoty","getBackUpDate","getBackUpdateList","backupDateList","convertToFloat","isNaN","sortByColumn","sortedType","totalStockToWatch","BBBlastType","componentDidMount","find10MinBBBlast","stop10bbSearch","stopSearching","onChangeQty","getRSIBBString","BB","createMultpleChart","div","border","appendChild","legendTitle","chartSize","lightChartData","append","sortTheChart","allchart","createNewArray","childNodes","innerText","findlast5minMovement","updateToLocalStorage","isfound","updateData","findlast5minMovementUpdate","bbvlastvalue","dataltp","RSIValue","nextProps","nextState","findStrongCharts","strongChartListInterval","strongPer","strongChartList","strongChartListUpdate","candleDistance","fullScreen","FullModel_DialogTitle","FullModel_DialogContent","StrongCharts","DeliveryData","FullModel_DialogActions","updateTokenSymbol","uppercaseNameEQ","uppercaseNameBE","showCandleChartPopUp","isThere","switchToListView","switchToListViewFlag","get5DaysMoveCount","getDeliveryInfo","getDeliveryData","showDeliveryData","showAllChart","sluglist","NIFTY 50","NIFTY AUTO","NIFTY BANK","NIFTY ENERGY","NIFTY FIN SERVICE","NIFTY FMCG","NIFTY IT","NIFTY MEDIA","NIFTY METAL","NIFTY PHARMA","NIFTY PSU BANK","NIFTY REALTY","NIFTY PVT BANK","NIFTY CONSUMPTION","NIFTY CPSE","NIFTY INFRA","NIFTY MNC","NIFTY PSE","timeVal","slugName","checkSectorApiOther","_loop8","indexStock","stockElement","stockInfo","ltP","iislPercChange","glist","_loop9","llist","finally","ok","FullModel_CustomizedDialogs","clickedIndexName","LightChartDialog_CustomizedDialogs","startSearching","lightcandleChartData","getFullYear","getMonth","getDate","sma","upsidecount","downsidecount","startingRsiupside","startingRsiDownside","volumeUpside","updateMsg","percentChangeList","changePer","macdInput","fastPeriod","slowPeriod","signalPeriod","SimpleMAOscillator","SimpleMASignal","macd","MACD","macdLastValue","signal","macdData","patternName","histogram","LightChartModel_DialogTitle","LightChartModel_DialogContent","LightChartModel_DialogActions","checkSlowMotion","scanUpdate","updateTimeFrameChart","lightChartinfo","stockindex","sectorName","isActivated","midBullishCount","bullishCount","activationTime","activationPrice","update","updatetopage","activationToLtpChange","AtoltpChng","showLightChart","deleteAllScan","LightChartModel_CustomizedDialogs","LiveBid","takeAction","actionList","updateTime","lastUpdateAction","tbq","tsq","ap","lowPrice","lo","highPrice","h","openPrice","op","bestbuyquantity","bq","bestbuyprice","bp","bestsellquantity","bs","bestsellprice","sp","shortBy","getUpdateIndexData","softedIndexList","isSpeek","convertToDecimal","num","handleChange","lightChartSymbol","NIFTY NEXT 50","NIFTY MIDCAP 50","NIFTY HEALTHCARE","NIFTY OIL AND GAS","NIFTY 100","NIFTY CONSR DURBL","heigh","innerWidth","livePrice","livePChange","storeChartData","saveCandleHistory","candleHistoryFlag","screen","test","navigator","userAgent","getSeconds","onChangePattern","backTestResultDateRange","dateAndTypeKeys","_this$setState5","stopBacktesting","backTestAnyPattern","filename","enddate","currentMoment","endMoment","runningTest","patternType","backTestNR4","backTestNR4Trail","NR4ForNextDay","backTestNR4SameDay","backtestStrongCandle","isSameOrBefore","backTestNR4DatewiseRange","add","next10Candle","backtestTweezerTop","backtestTweezerBottom","next5thCandle","foundStock","nr4CheckPastPerfommance","findShortTraadeOnNextDay","histdataInside","buyentrySL","resultCandle","buyEntryFlag","longTradeFound","elementInside","buyHighest","candle5min","insideIndex","exitStatus","perChng","perChngOnHigh","highAndLow","perChngOnHighLow","findLongsTraadeOnNextDay","firstTimeTrail","trailCount","buyExitPricePer","buyExitPriceMinRange","start5thdate","set","hour","minute","end5thdate","insideCandleRes","dateWithWlType","datewisetrades","perChngOnLow","exitPrice","slPer","monthMinusOneName","startOf","monthName","entryAt","_context14","candleElement","candleChangePer","_context16","_context15","longData","shortData","lowestOfBoth","highestOfBoth","higherStopLoss","indexTarget","lowestOf315","indexTarget2","trailingSL","indexTarget3","flatSellingPrice","flatSellingPriceAt","indexTarget4","indexTarget5","buyEntyPrice","LowerStopLoss","squiredOffAt315","squareOffAt315Time","highestOf315","exitAt","_callee9","_loop10","_context18","_context17","_callee10","_context19","backTestResultCSV","dateParam","firstLavel","secondLavel","sumPerChange","sumPerChangeHighLow","sumPnlValue","sumPnlValueOnHighLow","totalInvestedValue","totalLongTrade","tradetotal","totalWin","totalLoss","totalMarketEnd","totalSlHit","MaterialUIDateTimePicker","dist_default","backupHistoryStatus","downloadStatus","noOfRows","backStatus","hugeVol","requestInfo","analysis","backupHistoryData","storyHistoryData","date1","date2","nod","looptime","loopStartDate","outterIndex","loopEndDate","ceil","pop","AppRouter","react_router","path","exact","NiftyView","MySectorTop","Chart","CandleChart","Funds","Tradebook","OrderStatusLive","Position","AddToWatchlist","SectorHeatMap","SectorHeatMap2","FindFastMovement","FindFastMovement2","FindFastMovement3","SlowMotion","IndexCharts","MarketDepth","MarketDepthMobile","Backtest","BackupHistory","Test","RouterComponent","react_toastify","ReactDOM","es","src_App"],"mappings":"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O,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,IAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,MAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,OAC7B,CAAE4M,KAAM,aAAc5M,MAAO,QAE/B4pC,WAAY,CACV,CAAEh9B,KAAM,aAAc5M,MAAO,SAAaI,MAAO,0BACjD,CAAEwM,KAAM,aAAc5M,MAAO,SAAaI,MAAO,0BACjD,CAAEwM,KAAM,aAAc5M,MAAO,SAAaI,MAAO,0BACjD,CAAEwM,KAAM,aAAc5M,MAAO,SAAaI,MAAO,wBACjD,CAAEwM,KAAM,aAAc5M,MAAO,QAAYI,MAAO,4BAlKnC8B,wEAyKEvB,KAAK7H,MAAhB6kB,OAER,OACElhB,EAAAC,EAAAC,cAACmC,EAAA,EAAD,KAEIrC,EAAAC,EAAAC,cAAC0M,GAAD,CAAewgC,UAAW,CAACC,WAAYnpC,KAAK7H,MAAM6wC,SAAUC,WAAajpC,KAAK7H,MAAM8wC,sBA/KzD7kC,IAAMC,WCUrCgc,eAEF,SAAAA,EAAYxkB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAqgB,IACf9e,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAA4nB,GAAA1e,KAAA3B,KAAMnE,KA4BVqC,SAAW,SAACF,GACVuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAgBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SA9BxBkC,EAkFnB6nC,QAlFmB3wC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAkFT,SAAAC,IAAA,IAAAhD,EAAAstB,EAAAC,EAAApf,EAAAvuB,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEJ0Q,EAAOxa,EAAKpJ,MAAMoxC,eAElBF,EAAY5vC,KAAKC,MAAMqiB,GAC3BvQ,QAAQC,IAAI49B,EAAWhxC,QAEnBixC,EAAc,GAPVpf,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EASCvuB,GATD,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAUAnI,EAAUmmC,EAAW1tC,GAC3B6P,QAAQC,IAAIvI,GAEZb,EAAa0W,mBAAmB7V,EAAQsmC,QAAQlnC,KAAK,SAAA0W,GAEnD,IACIK,EADiBL,EAAU5d,KACLgI,OAAO,SAAAC,GAAG,MAAsB,QAAlBA,EAAIiW,UAAwC,MAAhBjW,EAAIkW,SAAmBlW,EAAInE,OAASgE,EAAQsmC,SAGhH,GAAGnwB,EAAMhhB,OAAO,CACdixC,EAAYhmC,KAAK+V,EAAM,IAEvB,IAAIrW,EAAY1J,aAAaC,QAAQ,aAAeE,KAAKC,MAAMJ,aAAaC,QAAQ,cAAgB,GAC3EyJ,EAAUI,OAAO,SAAAC,GAAG,OAAIA,GAAOA,EAAI/I,QAAW+e,EAAM,IAAMA,EAAM,GAAG/e,QACrEjC,QASnBkJ,EAAKK,SAAS,CAAC6nC,eAAiBzmC,EAAU3K,SAC1CkJ,EAAKK,SAAS,CAAC8nC,WAAU,GAAA1yB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMuxC,YAAjB,CAA8B/tC,EAAQ,uBAAwBuH,EAAQsmC,aAT/FjoC,EAAKK,SAAS,CAAC8nC,WAAU,GAAA1yB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMuxC,YAAjB,CAA8B/tC,EAAQ,0CAA2CuH,EAAQsmC,WAElHjoC,EAAKK,SAAS,CAAC6nC,eAAiBzmC,EAAU3K,OAAQsxC,QAAQpoC,EAAKpJ,MAAMwxC,QAAQ,IAC7E3mC,EAAUM,KAAK+V,EAAM,IACrB/f,aAAa6H,QAAQ,YAAa1H,KAAK+I,UAAUQ,IACjDwI,QAAQC,IAAI,WAUflK,EAAKpJ,MAAMuxC,YAAcnoC,EAAKpJ,MAAMuxC,WAAWrxC,QAChDkJ,EAAKK,SAAS,CAAC8nC,WAAWjxC,OAAA6wB,GAAA,EAAA7wB,CAAK8I,EAAKpJ,MAAMuxC,WAAWn1B,eAzCnD2K,EAAA7T,KAAA,EA+CD,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OA/C9B,wBAAApL,EAAAK,SAAA2K,KASCvuB,EAAQ,EATT,YASYA,EAAQ0tC,EAAWhxC,QAT/B,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EASCvuB,GATD,eASuCA,IATvCyuB,EAAA/e,KAAA,gBAoDJjQ,EAAO,CACTwuC,SAAWP,EAAW,GAAGG,OACzBK,SAAWP,GAEb99B,QAAQC,IAAI,eAAgBrQ,GAC5BiH,EAAaynC,kBAAkB1uC,GAAMkH,KAAK,SAAAM,GACxC,IAAI6gB,EAAU9iB,EAAgBiC,EAAI,SAElCrB,EAAKK,SAAS,CAACgoC,SAAUnmB,EAAQmmB,SAASG,UAAWtmB,EAAQ/nB,UA5DvD,yBAAA0uB,EAAA7K,SAAAR,MAlFSxd,EAkJnByoC,SAAS,WACPzoC,EAAKK,SAAS,CAAC2nC,eAAe,GAAGG,WAAW,MAjJ1CnoC,EAAKpJ,MAAQ,CACT2rB,SAAU,GACVC,UAAU,GACVC,WAAW,GACXlB,gBAAkB,GAClBmB,UAAU,GACVC,SAAW,EACXC,OAAQ,GACRC,OAAO,GACPnD,WAAY,GACZyC,aAAa,GACbnB,KAAK,EACLC,KAAK,EACLrB,YAAc,EACduoB,WAAY,GACZC,QAAQ,EACRI,UAAU,GAlBCxoC,mFAoCC,IAAAmjB,EAAA1kB,KAYhBqC,EAAaM,gBAAgBL,KAAK,SAAAM,GAChC,IAAIxH,EAAOwH,EAAIxH,KAEf9B,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUpH,IAElD,IAAIyH,EAAiBpK,OAAOqK,KAAK1H,GACjCspB,EAAK9iB,SAAS,CAAEiB,eAAgBA,IAChCvJ,aAAa6H,QAAQ,iBAAkB1H,KAAK+I,UAAUK,IAEtD6hB,EAAK9iB,SAAS,CAAEmB,WAAY3H,IAE5B,IAAI4H,EAAY,GAChBH,EAAeI,QAAQ,SAAAC,GAEN9H,EAAK8H,GACXD,QAAQ,SAAAE,GACYH,EAAUI,OAAO,SAAAC,GAAG,OAAIA,EAAI/I,QAAU6I,EAAS7I,QAChDjC,QAClB2K,EAAUM,KAAKH,OAK3B7J,aAAa6H,QAAQ,YAAa1H,KAAK+I,UAAUQ,MAMnD,IAAI+Y,EAAOziB,aAAaC,QAAQ,aAAeE,KAAKC,MAAMJ,aAAaC,QAAQ,cAAgB,GAC/FyG,KAAK4B,SAAS,CAAC6nC,eAAiB1tB,EAAK1jB,0CA4EjC,IAAA0sB,EAAA/kB,KAEN,OACElE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KAEIH,EAAAC,EAAAC,cAAC6b,GAAD,MAGA/b,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAACgR,QAAQ,SAGvBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAQqJ,UAAU,MAAMpJ,WAAS,EAACpF,UAAU,WAAWlB,QAAS,EAAIf,MAAO,CAAC0Q,YAAY,MAAMC,aAAa,MAAOzI,eAAe,WAS7H1I,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACvBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,MAApB,6BAC8BqB,KAAK7H,MAAMsxC,eADzC,oCAIG3tC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAASE,QAAS,WAAQpG,aAAa6H,QAAQ,YAAa,IAAKtI,OAAOwC,SAAS4uC,WAAjF,cAEAnuC,EAAAC,EAAAC,cAAA,YAICF,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAWF,QAAQ,WAAWurC,WAAS,EAACC,KAAM,GAAIC,WAAS,EAAC9tC,MAAO,CAACC,MAAM,MAAOyM,OAAQ,OAAS/J,MAAM,wCAAyCI,MAAOW,KAAK7H,MAAMoxC,eAAkBrqC,KAAK,iBAAiBhB,SAAU8B,KAAK9B,YAO9NpC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAOwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAEnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,UAAUC,QAAS,kBAAMqlB,EAAKqkB,YAAhE,qBAFJ,gBAGIttC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYc,MAAM,YAAYC,QAAS,kBAAMqlB,EAAKilB,aAAlE,SAHJ,eAIgBluC,EAAAC,EAAAC,cAAA,uCAA+BgE,KAAK7H,MAAMwxC,SAJ1D,eAKgB7tC,EAAAC,EAAAC,cAAA,iCAAyBgE,KAAK7H,MAAMyxC,SAApC,IAA+C5pC,KAAK7H,MAAM4xC,UAA1D,MAWhBjuC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAOwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GACd9D,KAAK7H,MAAMuxC,WAAa1pC,KAAK7H,MAAMuxC,WAAWxtB,IAAI,SAAA9gB,GAAI,OACtDU,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,UAAIH,EAAAC,EAAAC,cAAA,gBAAQZ,EAAR,KAAJ,KAA2BU,EAAAC,EAAAC,cAAA,WAA3B,OAEI,cAtNRoI,IAAMC,WA2PZ+jB,eAHO,SAACjwB,GACnB,MAAO,CAACJ,MAAMI,EAAMJ,MAAMA,MAAMqD,OAEG,CAACsjB,kBAAzB0J,CAAyC/H,cCpQlDgqB,GAAsB,IAAIlO,gBAAa,kEAEvC9b,eAEF,SAAAA,EAAYxkB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAqgB,IACf9e,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAA4nB,GAAA1e,KAAA3B,KAAMnE,KA2RVy+B,cAAgB,WACZj4B,EAAayP,oBACRxP,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAChC,GAAIxH,GAAQA,EAAKA,KAAM,CACnB,IAAI2W,EAAY3W,EAAKA,KACrB2W,EAAUC,KAAK,SAAUjW,EAAGkW,GACxB,OAAO,IAAInK,KAAKmK,EAAEC,YAAc,IAAIpK,KAAK/L,EAAEmW,cAE/C5Y,aAAa6H,QAAQ,eAAgB1H,KAAK+I,UAAUuP,QArSjDxQ,EA2SnBoP,cAAgB,SAACC,GAEb,IAAIxV,EAAO,CACPyV,aAAgBD,EAAUE,cAC1BC,cAAiBH,EAAUG,cAC3BC,YAAeJ,EAAUI,YACzBC,SAAYL,EAAUK,SACtBC,gBAAiD,QAA9BN,EAAUM,gBAA4B,OAAS,MAClEC,SAAY,MACZC,YAAe,WACfC,SAAY,MACZC,MAAS,EACTC,UAAa,IACbC,SAAY,IACZC,UAAa,kBACbC,QAAW,YAEflG,QAAQC,IAAI,kBAAmBrQ,GAC/BiH,EAAasP,WAAWvW,GAAMkH,KAAK,SAAAM,GAC/B,IAAIxH,EAAOuF,EAAgBiC,GAEvBxH,EAAKyF,QAA2B,YAAjBzF,EAAK0F,UACpBS,EAAKK,SAAS,CAAEkuB,QAAS10B,EAAKA,MAAQA,EAAKA,KAAK00B,UAEhDvuB,EAAKyO,QAAQ,cAAgBY,EAAUG,cAAgB,qBACvDxP,EAAK+4B,gBACLz0B,SAASkD,eAAe,iBAAmBlD,SAASkD,eAAe,gBAAgB6I,YArU5ErQ,EA0UnB0U,iBAAmB,SAACF,GAEhB,IAAI3a,EAAO,CACP8V,gBAAmB6E,EAAY7E,gBAC/BH,cAAiBgF,EAAYhF,cAC7BC,YAAe+E,EAAY/E,YAC3BC,SAAY8E,EAAY9E,SACxBQ,UAAsC,IAAzBsE,EAAYC,SAAiB,SAAW,QACrD1E,MAASyE,EAAYC,SACrB5E,YAAe,WACfC,SAAY,MACZE,UAAa,IACbC,SAAY,IACZL,SAAY,MACZO,QAAW,UAEflG,QAAQC,IAAI,qBAAsBrQ,GAClCiH,EAAasP,WAAWvW,GAAMkH,KAAK,SAAAM,GAC/B,IAAIxH,EAAOuF,EAAgBiC,GAEvBxH,EAAKyF,QAA2B,YAAjBzF,EAAK0F,UACpBS,EAAKyO,QAAQ+F,EAAYhF,cAAgB,UACzCxP,EAAKK,SAAS,CAAEkuB,QAAS10B,EAAKA,MAAQA,EAAKA,KAAK00B,UAC5C/Z,EAAYjF,eACZvP,EAAKoP,cAAcoF,OAlWhBxU,EAwWnB8O,qBAAuB,SAACC,GACpBA,EAAWA,EAASxE,QAAQ,GAE5B,IAAIyE,EAAcC,SAASF,EAASvK,MAAM,KAAK,IAE3C0K,EAAUC,WAAWJ,EAASvK,MAAM,KAAK,IAK7C,OAFAuK,EAAWI,WAAWH,EAAc,KADjBE,EAAUA,EAAU,KA/WxBlP,EAsXnBgR,sBAAwB,SAACC,EAAYC,EAAWC,EAAa43B,GAGzD/oC,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAEhC,IAAIhwC,EAAQkY,EAAWlY,MACnBiB,EAASiX,EAAWjX,OAExB,GAAmB,aAAfmX,GACK7Z,OAAO2M,QAAQiN,EAAY,IAAMlX,EAAS,oBADnD,CAMA,IAAIqX,EAAU,CAAEzB,SAAY,MAAOJ,cAAiBxV,EAAQyV,YAAe1W,GAC3E+H,EAAawQ,OAAOD,GAAStQ,KAAK,SAAAM,GAC9B,IAAIkQ,EAASnS,EAAgBiC,EAAK,SAC9BmQ,EAAUD,GAAUA,EAAO1X,KAC/BoQ,QAAQC,IAAIlQ,EAAQ,aAAcwX,GAClC,IAAI9B,EAAW,EACf,GAAI8B,GAAWA,EAAQC,IAAK,CACxB,IAAIC,EAAsBC,GAAYC,aAAeD,GAAYE,oBAAsB,IACvFnC,EAAWoB,KAAKC,MAAMW,EAAsBF,EAAQC,KAOxD,GAHA/B,EAAWA,EAAW,EAAI,EAAI,EAC9BzF,QAAQC,IAAIlQ,EAAQ,2BAA4B0V,GAE5CA,EAAU,CACV,IAAMqC,EAAU,mBACZC,EAAgBC,GAAO,SAAU,SAASC,OAAOH,GAErD9H,QAAQC,IAAI,gBAAiB8H,GAE7B,IAAItH,EAAOuH,YAAgB,YACvBE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxC7Q,EAAO,CACP+V,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,cACZC,SAAYL,GAAOE,GAAWD,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KAAM8Y,EAAW,EAAGC,EAAW,EAAGC,EAAc,EAAGC,EAAY,EAAGC,EAAa,EAIzG,GAHAL,EAAWM,UACXF,EAAYJ,EAAW,GAAG,GAC1BG,EAAcH,EAAW,GAAG,GACxBA,GAAcA,EAAW5b,OAAS,EAAG,CACrC,IAAK,IAAIsD,EAAQ,EAAGA,EAAQ,GAAIA,IACxBsY,EAAWtY,KACXuY,GAAYD,EAAWtY,GAAO,GAC9BwY,GAAYF,EAAWtY,GAAO,GAC9B2Y,GAAcL,EAAWtY,GAAO,GAC5BsY,EAAWtY,GAAO,GAAKyY,IACvB5I,QAAQC,IAAI9P,EAAOyY,EAAaH,EAAWtY,GAAO,IAClDyY,EAAcH,EAAWtY,GAAO,IAEhCsY,EAAWtY,GAAO,IAAM0Y,IACxBA,EAAYJ,EAAWtY,GAAO,KAK1C,IAAI+Z,EAAYzB,EAAW5b,OAAS,GAAK,GAAK4b,EAAW5b,OAErDsd,EAAgBzB,EAAWwB,EAC3BE,EAAezB,EAAWuB,EAC1BG,EAAevB,EAAaoB,EAE5BlE,EAAW,EAAGsE,EAAc,EAEf,OAAbrD,IACAjB,EAAWoE,EAA2C,GAA3BxB,EAAcC,GAAiB,IAC1D7C,EAAWjQ,EAAK8O,qBAAqBmB,GACrCsE,EAAyC,KAA1B/C,EAAQC,IAAMxB,GAAkBuB,EAAQC,IAEvDxH,QAAQC,IAAIlQ,EAAQkX,EAAW,QAASM,EAAQC,KAChDxH,QAAQC,IAAIlQ,EAAS,eAAgB6Y,EAAa,YAAaC,EAAW,uBAAwB7C,EAAU,YAAasE,GACzHtK,QAAQC,IAAIlQ,EAAS,sBAAuBoa,EAAe,eAAgBC,EAAc,eAAgBC,IAK5F,QAAbpD,IACAjB,EAAWqE,EAA2C,GAA3BzB,EAAcC,GAAiB,IAE1DyB,EAAyC,MADzCtE,EAAWjQ,EAAK8O,qBAAqBmB,IACXuB,EAAQC,KAAaD,EAAQC,IAEvDxH,QAAQC,IAAIlQ,EAAQkX,EAAW,QAASM,EAAQC,KAChDxH,QAAQC,IAAIlQ,EAAS,eAAgB6Y,EAAa,YAAaC,EAAW,uBAAwB7C,EAAU,YAAasE,GACzHtK,QAAQC,IAAIlQ,EAAS,sBAAuBoa,EAAe,eAAgBC,EAAc,eAAgBC,IAM7G,IAAIE,EAAc,CACd7E,gBAAiBuB,EACjB1B,cAAexV,EACfyV,YAAa1W,EACb0b,SAAU,EACV/E,SAAUA,EACVH,cAAeU,GAEfP,GAEA1P,EAAK0U,iBAAiBF,GACtBxU,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,MAGhCvpC,EAAOE,UAAU1F,EAAS,gCAC1BiQ,QAAQC,IAAIlQ,EAAS,8BAQ7BwF,EAAOE,UAAU1F,EAAS,sBAC1BiQ,QAAQC,IAAIlQ,EAAS,sBACrBgG,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,WAKxCvpC,EAAOE,UAAUgQ,EAAW,iBAAmB1V,EAAS,IAAMkX,EAAY,aAC1ElR,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,MAErCp0B,MAAM,SAASnW,GACdC,KAAK4B,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,QA/frB/oC,EAyoBnBgpC,mBAAqB,SAAC5uC,GAElB,IAAI6uC,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GACzC4F,EAAKkpC,iBAAiBD,EAAc7uC,IA5oBrB4F,EAgpBnBkpC,iBAhpBmB,eAAA9rB,EAAAlmB,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAgpBA,SAAAC,EAAOyrB,EAAc7uC,GAArB,IAAA+uC,EAAAxgB,EAAAygB,EAAAvvC,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEf9J,EAAKK,SAAS,CAACgpC,YAAcjvC,IAG7B4F,EAAKK,SAAS,CAAEipC,aAAa,EAAOhgB,YAAa,IAC7C6f,EAAe,GACGnpC,EAAKpJ,MAAM2yC,gBAPlB5gB,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EASNvuB,GATM,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAWPjQ,EAAO,CACP+V,SAAY,MACZJ,cAAiBy5B,EAAa7uC,GAAOJ,OACrCyV,YAAew5B,EAAa7uC,GAAOrB,OAKvC+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAG3B,GAAI2X,EAAQ/B,aAAew5B,EAAa7uC,GAAOrB,MAAO,CAIlD,IAAIwmC,EAA8C,KAA/B/tB,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC5D+d,EAAY4gB,EAAa7uC,GAC7BiuB,EAAU5W,IAAMD,EAAQC,IACxB4W,EAAUzN,GAAK2kB,EACflX,EAAUmhB,IAAOh4B,EAAQC,IAAMD,EAAQlH,MACvC+d,EAAUohB,KAAM,IAAIljC,MAAOoE,iBAG3Bw+B,EAAapnC,KAAKsmB,MAGvB1T,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IAEtDrf,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQwE,KA1CjCmf,EAAA7T,KAAA,EAiDL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAjD1B,wBAAApL,EAAAK,SAAA2K,KASNvuB,EAAQ,EATF,YASKA,EAAQ6uC,EAAanyC,QAT1B,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EASNvuB,GATM,eASkCA,IATlCyuB,EAAA/e,KAAA,gBAuDX1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAIjB,OAHA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYR,EACrCnpC,EAAKpJ,MAAM8yC,WAAWjlC,GAAGmlC,mBAAoB,OAC7C5pC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAMnD1pC,EAAKK,SAAS,CAAEipC,aAAa,IAlEd,yBAAAzgB,EAAA7K,SAAAR,MAhpBA,gBAAAS,EAAA6lB,GAAA,OAAA1mB,EAAAc,MAAAzf,KAAA5H,YAAA,GAAAmJ,EA4tBnB6pC,sBA5tBmB,eAAAC,EAAA5yC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA4tBK,SAAAmL,EAAOtuB,GAAP,IAAA6uC,EAAAzY,EAAAuZ,EAAAr/B,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,OAEhBm/B,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GAIzC4F,EAAKK,SAAS,CAAE2pC,mBAAmB,IACnC//B,QAAQC,IAAI,kBAAmB9P,GAPXo2B,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAUXp2B,GAVW,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAaImI,GAAO,SAAU,SAEjCvH,EAAOuH,YAAgB,YACvBE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAew5B,EAAa7uC,GAAOrB,MACnCsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO6uC,GAAgBA,EAAa7uC,GAAOJ,SAG1F8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SACpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CACnDmT,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAS,iBAAkByY,EAAS5Y,MAGpE,IAAI6Y,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GACrHZ,EAAWhR,QAAQ,SAACC,EAASvH,GACzB+L,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,MA6B5BsI,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQivC,EAAa7uC,SAKrD6P,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,0BAE7C2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IACtD9pB,EAAOE,UAAUupC,EAAa7uC,GAAOJ,OAAS,qBAlFlC4uB,EAAA9e,KAAA,EAqFV,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OArFrB,wBAAAH,EAAA5K,SAAAwS,KAUXp2B,EAAQ,EAVG,YAUAA,EAAQ6uC,EAAanyC,QAVrB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EAUXp2B,GAVW,eAU6BA,IAV7BivB,EAAAvf,KAAA,gBAyFhB1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAGjB,OAFA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYV,OACrCjpC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAOnD1pC,EAAKK,SAAS,CAAE2pC,mBAAmB,IAKnC//B,QAAQC,IAAI,yBAA0B++B,GAzGlB,yBAAA5f,EAAArL,SAAA0K,MA5tBL,gBAAAqb,GAAA,OAAA+F,EAAA5rB,MAAAzf,KAAA5H,YAAA,GAAAmJ,EAu0BnBkqC,4BAv0BmB,eAAA/gB,EAAAjyB,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAu0BW,SAAA6L,EAAOhvB,GAAP,IAAA6uC,EAAA9X,EAAAgZ,EAAAz/B,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2T,GAAA,cAAAA,EAAAzT,KAAAyT,EAAAvnB,MAAA,OAEtBm/B,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GAIzC4F,EAAKK,SAAS,CAAE2pC,mBAAmB,IACnC//B,QAAQC,IAAI,kBAAmB9P,GAPL+2B,EAAA7T,GAAA9iB,EAAA+iB,KAAA,SAAA4T,EAUjB/2B,GAViB,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAgT,GAAA,cAAAA,EAAA9S,KAAA8S,EAAA5mB,MAAA,cAaFmI,GAAO,SAAU,SAEjCvH,EAAOuH,YAAgB,YACvBE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAew5B,EAAa7uC,GAAOrB,MACnCsZ,SAAY,iBACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO6uC,GAAgBA,EAAa7uC,GAAOJ,SAG1F8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAO,GAChIb,EAAWhR,QAAQ,SAACC,EAASvH,GACzB+L,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IAExB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,KAQzD,IAAI6R,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GACjCvJ,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,eAAgB2Z,EAAaA,EAAa7c,OAAS,IAE3F,IAAIszC,EAAY,CACZjgC,KAAMkJ,EACNjJ,KAAM+I,EACN9I,IAAK+I,EACL9I,MAAO4I,EACPm3B,OAAQ/2B,GAGRQ,EAAQ,CACZJ,OAAS,GACTD,OAASF,EACTQ,OAAS,GAGLC,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAS,KAAK8Z,EAAOE,GAGjDtB,EAAW5b,OAAS,IACpBmyC,EAAa7uC,GAAO+L,gBAAkBA,EACtC8iC,EAAa7uC,GAAOkwC,UAAYp2B,KAAKjB,GACrCg2B,EAAa7uC,GAAOgM,cAAgBmkC,KAAK12B,UAAUu2B,GACnDnB,EAAa7uC,GAAOuZ,aAAeA,EAAaA,EAAa7c,OAAS,IAG1EmT,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQivC,EAAa7uC,SAKrD6P,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,0BAE7C2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IACtD9pB,EAAOE,UAAUupC,EAAa7uC,GAAOJ,OAAS,qBA3F5B02B,EAAA5mB,KAAA,EA8FhB,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OA9Ff,wBAAA2H,EAAA1S,SAAAmT,KAUjB/2B,EAAQ,EAVS,YAUNA,EAAQ6uC,EAAanyC,QAVf,CAAAu6B,EAAAvnB,KAAA,gBAAAunB,EAAArI,cAAAmI,EAUjB/2B,GAViB,eAUuBA,IAVvBi3B,EAAAvnB,KAAA,gBAkGtB1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAGjB,OAFA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYV,OACrCjpC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAOnD1pC,EAAKK,SAAS,CAAE2pC,mBAAmB,IAKnC//B,QAAQC,IAAI,yBAA0B++B,GAlHZ,yBAAA5X,EAAArT,SAAAoL,MAv0BX,gBAAAohB,GAAA,OAAArhB,EAAAjL,MAAAzf,KAAA5H,YAAA,GAAAmJ,EA67BnByqC,oBA77BmBvzC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA67BG,SAAA2T,IAAA,IAAAqY,EAAA7X,EAAAt3B,EAAA4X,EAAAtH,EAAA7Q,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAkU,GAAA,cAAAA,EAAAhU,KAAAgU,EAAA9nB,MAAA,OAElB9J,EAAKK,SAAS,CAAE2pC,mBAAmB,IAE/BT,EAAkBvpC,EAAKpJ,MAAM2yC,gBAEjCt/B,QAAQC,IAAI,kBAAmBlK,EAAKpJ,MAAM2yC,gBAAgBzyC,QANxC46B,EAAApU,GAAA9iB,EAAA+iB,KAAA,SAAAmU,EASTt3B,GATS,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAA0T,GAAA,cAAAA,EAAAxT,KAAAwT,EAAAtnB,MAAA,cAUVkI,EAAgBC,GAAO,SAAU,SACjCvH,EAAOuH,YAAgB,YACXA,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAezP,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOrB,MACjDsZ,SAAY,cACZC,SAAYL,GAAOD,GAAeE,OAAO,oBACzCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO4F,EAAKpJ,MAAM2yC,iBAAmBvpC,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,SAGtH8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAMtB,GALAuM,EAAWhR,QAAQ,SAAAC,GACfwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAI9E+Q,EAAW5b,OAAS,EAAG,CAEvByyC,EAAgBnvC,GAAO+L,gBAAkBA,EACzC,IAAIujC,EAAa1pC,EAAKpJ,MAAM8yC,WAC5B1pC,EAAKpJ,MAAM8yC,YAAc1pC,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GACnEswC,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgpC,GACjE,IAAIxc,EAAYob,EAAgB1nC,OAAO,SAAAC,GAAG,OAAIA,EAAI/I,OAAS4I,EAAQ5I,QAE/Do1B,EAAUr3B,SACV4yC,EAAWtvC,GAAOuvC,UAAUgB,GAAYxkC,gBAAkBgoB,EAAU,GAAGhoB,qBAInFnG,EAAKK,SAAS,CAAEqpC,WAAYA,IAC5B3xC,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUyoC,UAKtDz/B,QAAQC,IAAIlK,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,OAAQ,0BAE3D2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IAEtD9pB,EAAOE,UAAUM,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,OAAS,qBA7DlDo3B,EAAAtnB,KAAA,EAgER,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhEvB,wBAAAqI,EAAApT,SAAA0T,KASTt3B,EAAQ,EATC,YASEA,EAAQ4F,EAAKpJ,MAAM2yC,gBAAgBzyC,QATrC,CAAA86B,EAAA9nB,KAAA,gBAAA8nB,EAAA5I,cAAA0I,EASTt3B,GATS,eAS6CA,IAT7Cw3B,EAAA9nB,KAAA,gBAmElB9J,EAAKK,SAAS,CAAE2pC,mBAAmB,IAnEjB,yBAAApY,EAAA5T,SAAAkT,MA77BHlxB,EAmgCnBysB,oBAAsB,SAACC,GACnB,IAAIC,EAAW,GACf,IACI,IAAK,IAAIloB,EAAI,EAAGA,EAAIioB,EAAM51B,OAAQ2N,IAC9BkoB,EAAS5qB,KAAK6qB,OAAOC,aAAaH,EAAMjoB,KAE9C,MAAOhI,IAET,OAAOkwB,EAASG,KAAK,KA3gCN9sB,EA8gCnB+sB,eAAiB,WAEb,IAAIE,EAAgB,2CAA6CjtB,EAAKpJ,MAAMs2B,UAAY,cAAgBltB,EAAKpJ,MAAMiK,WAAa,eAAiBb,EAAKpJ,MAAMiK,WAAa,KACzKoJ,QAAQC,IAAI,2CAA6C+iB,GAEpD6b,KACLA,GAAoB3b,KAAKF,GAEzBjtB,EAAKotB,sBAthCUptB,EAyhCnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQ+V,EAAOvG,EAAQpD,GAIlDrO,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmBmQ,GACxChY,aAAa6H,QAAQ,mBAAoB4J,GACzCzR,aAAa6H,QAAQ,gBAAiBwG,GAIlCsM,GAAcA,EAAW5b,OAAS,GAClCwN,SAASkD,eAAe,mBAAmB6I,SAtiChCrQ,EA0iCnBotB,kBAAoB,WAIhB,IAAIC,EAAU,GAUd,GATArtB,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAAAC,GACtBA,EAAQoF,eAAiB,KACzBpF,EAAQgoC,WAAahoC,EAAQgoC,UAAUjoC,QAAQ,SAAAsuB,GAC3C3C,EAAQtrB,KAAK,UAAYiuB,EAAMj3B,WAMvCs0B,GAAWA,EAAQv2B,OAAQ,CAC3B,IAAI8zC,EAAc,CACdrd,KAAQ,KACRF,QAAWA,EAAQP,KAAK,KACxB/zB,MAASiH,EAAKpJ,MAAMs2B,UACpBM,KAAQxtB,EAAKpJ,MAAMiK,WACnB4sB,OAAUztB,EAAKpJ,MAAMiK,YAGzBoJ,QAAQC,IAAI,uBAAwB0gC,GACpC9B,GAAoB3b,KAAKj1B,KAAK+I,UAAU2pC,MAlkC7B5qC,EAwkCnBrD,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SAzkC3BkC,EA4kCnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IA/kCd0B,EAklCnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OAtlCf7Q,EAylCnBwkC,kBAAmB,SAACC,GAEhB,OAAGA,EACQA,EAAOl6B,QAAQ,GAEfk6B,GA5lCXzkC,EAAKpJ,MAAQ,CAET4rB,UAAW,GACXiU,eAAgB,GAChB6S,aAAa,EACbuB,WAAY,EACZb,mBAAmB,EACnBT,gBAAiBxxC,aAAaC,QAAQ,oBAAsBE,KAAKC,MAAMJ,aAAaC,QAAQ,qBAAuB,GACnH0xC,WAAY3xC,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGw2B,UAAWz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GACjGwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,IAExGgI,EAAKyqC,oBAAsBzqC,EAAKyqC,oBAAoBzoC,KAAzB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAdZA,mFAiBC,IAAAmjB,EAAA1kB,KAIZxG,EAASC,KAAKC,MAAMJ,aAAaC,QAAQ,eACzCk1B,EAAYj1B,GAAUA,EAAOi1B,UAC7BhpB,EAAchM,KAAKC,MAAMJ,aAAaC,QAAQ,gBAC9C6I,EAAaqD,GAAeA,EAAYrD,WAC5CpC,KAAK4B,SAAS,CAAE6sB,UAAWA,EAAWrsB,WAAYA,IAGlD,IAAImR,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SACvB0L,KAASsW,cAFR,GAIQwB,EAAYC,UAAUhY,EAAe8X,KAGxDgf,GAAoBnb,OAAS,SAACtsB,KAM9BynC,GAAoBlb,UAAY,SAACruB,GAC7B,IAAIsuB,EAAUv2B,OAAOw2B,KAAKvuB,EAAQ1F,MAC9BA,EAAOspB,EAAKsJ,oBAAoBsB,KAAKC,QAAQH,IAC7CI,EAAW/1B,KAAKC,MAAM0B,GAG1BvC,OAAOgN,SAASa,MAAQ,mBAAqB8oB,EAASn3B,OAEtDqsB,EAAKvsB,MAAM8yC,YAAcvmB,EAAKvsB,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GAEnEswC,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgpC,GACjE,IAAIxc,EAAYF,EAASpsB,OAAO,SAAAC,GAAG,OAAIA,EAAIssB,IAAMzsB,EAAQ5I,QACrDo1B,EAAUr3B,OAAS,GAAKq3B,EAAU,GAAG1c,KAAO0c,EAAU,GAAGvT,KACzDuI,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYl5B,IAAM0c,EAAU,GAAG1c,IACtE0R,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAY/vB,GAAKuT,EAAU,GAAGvT,GACrEuI,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYnB,IAAMrb,EAAU,GAAGqb,IACtErmB,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYlB,IAAMtb,EAAU,GAAGsb,IAEtEtmB,EAAKvsB,MAAM8yC,WAAWtvC,GAAOwvC,mBAAoB,OAK7DzmB,EAAK9iB,SAAS,CAAEqpC,WAAYvmB,EAAKvsB,MAAM8yC,cAgB3CZ,GAAoBza,QAAU,SAAC5xB,GAC3BwN,QAAQC,IAAI,eAAgBzN,GAC5BnF,OAAOwC,SAAS4uC,UAUpBplB,YAAY,WACRH,EAAK2nB,mBACN,iDAieO,IAAAtnB,EAAA/kB,KACdA,KAAK4B,SAAS,CAAEo2B,eAAgB,GAAI6S,aAAa,EAAOhgB,YAAa,EAAGuhB,WAAa,IAErF/pC,EAAaiqC,uBACRhqC,KAAK,SAACM,GAGH,GAAIA,EAAIxH,KAAM,KAaDmxC,EAAT,SAAeC,GACX,OAAO,IAAIprC,QAAQ,SAAAqrC,GAAO,OAAI9jC,WAAW8jC,EAASD,MAPlDtU,GAHOt1B,EAAIxH,MAAQwH,EAAIxH,KAAKA,MAGV4W,KAAK,SAAUjW,EAAGkW,GAAK,OAAOA,EAAEy6B,WAAa3wC,EAAE2wC,aAGvElhC,QAAQC,IAAIysB,GAEVnT,EAAKnjB,SAAS,CAAEqpC,WAAY,KAIL,eAAA0B,EAAAl0C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAAG,SAAAkU,EAAO4Z,EAAK1U,GAAZ,IAAA2U,EAAA7mC,EAAA3N,EAAAmyC,EAAA,OAAA3rB,GAAA9iB,EAAAkjB,KAAA,SAAAiU,GAAA,cAAAA,EAAA/T,KAAA+T,EAAA7nB,MAAA,OAEdwhC,EAAe,GACV7mC,EAAI,EAHK,YAGFA,EAAIkyB,EAAW7/B,QAHb,CAAA66B,EAAA7nB,KAAA,gBAKVhT,EAAS,EACTmyC,EAAezlB,EAAK5sB,MAAM4K,WAAWm1B,EAAWlyB,GAAG8mC,WACvD/nB,EAAKnjB,SAAS,CAACgpC,YAAc5kC,EAAE,EAAI,KAAOkyB,EAAWlyB,GAAG8mC,YACxDthC,QAAQC,IAAIysB,EAAWlyB,GAAGrK,MAAMu8B,EAAWlyB,GAAG0mC,WAAaxU,EAAWlyB,IAClEkyB,EAAWlyB,GAAG0mC,YAAc,KAAQxU,EAAWlyB,GAAG0mC,aAAe,IAE9DlC,GAAgBA,EAAanyC,SAC5B6/B,EAAWlyB,GAAGklC,UAAYV,EAC1BnyC,EAASmyC,EAAanyC,OAClBmyC,GAAgBA,EAAanyC,QAC7Bu0C,EAAInC,iBAAiBD,EAActS,EAAWlyB,GAAG8mC,WAEtD/nB,EAAKnjB,SAAS,CAAEqpC,WAAU,GAAAj0B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAMssB,EAAK5sB,MAAM8yC,YAAjB,CAA6B/S,EAAWlyB,KAAKomC,WAAYrnB,EAAK5sB,MAAMi0C,WAAW,KAGzG5B,GAAgBA,EAAanyC,QAAQ,IACpC6/B,EAAWlyB,GAAGklC,UAAYV,EAC1BqC,EAAavpC,KAAK40B,EAAWlyB,KAtBvBktB,EAAA7nB,KAAA,GA2BRkhC,EAAMl0C,EAAS,GAAK,KA3BZ,QAGqB2N,IAHrBktB,EAAA7nB,KAAA,gBA+BlBwhC,EAAa5pC,QAAQ,SAAAC,GACjB6hB,EAAKnjB,SAAS,CAAEqpC,WAAU,GAAAj0B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAMssB,EAAK5sB,MAAM8yC,YAAjB,CAA6B/nC,QAhCzC,yBAAAgwB,EAAA3T,SAAAyT,MAAH,gBAAA+Z,EAAAC,GAAA,OAAAL,EAAAltB,MAAAzf,KAAA5H,YAAA,EAmCnB60C,CAAoBloB,EAAMmT,MAGrChiB,MAAM,SAAC7U,MAMZrB,KAAK4B,SAAS,CAAEipC,aAAa,qCA8dxB,IAAAvkB,EAAAtmB,KAELA,KAAK7H,MAAM8yC,YAAcjrC,KAAK7H,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GACnEswC,EAAcf,WAAae,EAAcf,UAAUl5B,KAAK,SAAUjW,EAAGkW,GACjE,OAAOA,EAAEkK,GAAKpgB,EAAEogB,OAKxB,IAAI4qB,EAAsBvzB,GAAO,SAAU,SACvCwzB,EAAgBxzB,GAAO,UAAW,SAwBtC,OAvBwBA,GAAO,IAAI1L,KAAQ,SACrByjB,UAAUwb,EAAqBC,IACjDhnC,KAAK7H,MAAM8yC,YAAcjrC,KAAK7H,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GAC/DswC,EAAc3jC,cAAgB,KAAQ2jC,EAAcd,mBACpDc,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgqC,GACjE,GAAIA,EAAS,EAAG,CACZ,IAAIC,EAAmB7zC,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GAC7G4zC,EAAiB/pC,OAAO,SAAAC,GAAG,OAAIA,EAAI/I,QAAU4I,EAAQ5I,QACtDjC,SACT6K,EAAQ6L,SAAU,IAAIjH,MAAOoE,iBAC7BihC,EAAiB7pC,KAAKJ,GACtB5J,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAU2qC,IACxD3hC,QAAQC,IAAIvI,EAAQhE,KAAO,gBAAkBguC,EAAS,IAAK,IAAIplC,MAAOoE,kBACtEoa,EAAKtW,QAAQ9M,EAAQhE,KAAO,gBAAkBguC,EAAS,UAW3EpxC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MAEA/b,EAAAC,EAAAC,cAACsS,GAAD,MAEAxS,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACpF,UAAU,WAAWlB,QAAS,EAAGf,MAAO,CAAE0Q,YAAa,MAAOC,aAAc,QACxGnR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,WAA9C,6BAC+BO,KAAK7H,MAAMi0C,WAD1C,QAC2DpsC,KAAK7H,MAAM6/B,eACjEh4B,KAAK7H,MAAM0yC,YAAc/uC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAM4mB,EAAK+lB,oBAAhD,YAAuFvwC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,SAAGH,EAAAC,EAAAC,cAACwD,EAAA,EAAD,SAAS1D,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAAT,SAA6BiE,KAAK7H,MAAMyyC,YAAxC,MAAH,KAChH5qC,KAAK7H,MAAM0yB,YAAc7qB,KAAK7H,MAAM0yB,YAAc,SAAW,GAHlE,SAuBH7qB,KAAK7H,MAAM8yC,WAAajrC,KAAK7H,MAAM8yC,WAAW/uB,IAAI,SAACkxB,EAAWzxC,GAAZ,OAG/CG,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAIwiB,EAAKnuB,MAAMi0C,YAAc,EAAI,EAA6B,GAAzB9lB,EAAKnuB,MAAMi0C,WAAkB,EAAI,GAErFtwC,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,OAAQ8O,WAAY,YAAakC,UAAW,WAGjExiB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAY+H,MAAM,aAAahH,QAAS,kBAAM4mB,EAAKikB,mBAAmB6C,EAAUzxC,SACzGG,EAAAC,EAAAC,cAAA,aAAKL,EAAQ,EAAb,KAAkByxC,EAAUzxC,OAASyxC,EAAUN,UAAY,IAAMM,EAAU/U,KAA3E,IAAkF+U,EAAU9kC,eAAiB8kC,EAAUV,WAAvH,QAJR,OASI5wC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAY+H,MAAM,iBAAiBhH,QAAS,kBAAM4mB,EAAKmlB,4BAA4B2B,EAAUzxC,SACtHG,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,OAIJD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACpF,UAAU,WAAWlB,QAAS,GAGzD+vC,EAAUlC,WAAakC,EAAUlC,UAAUhvB,IAAI,SAAC1J,EAAYxM,GAAb,OAE5ClK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgiB,UAAW,WAGvBxiB,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmBK,EAAWu4B,KAAM59B,SAAU,SAC/EnH,EAAI,EADT,KACcwM,EAAWtT,KADzB,IACgCsT,EAAWQ,IAD3C,KACmDsT,EAAKyf,kBAAkBvzB,EAAW2J,IADrF,MAOC3J,EAAW9K,gBAAmB5L,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE0gB,OAAQ,WAAatd,QAAS,kBAAM4mB,EAAK2O,gBAAgBziB,EAAW9K,gBAAiB8K,EAAWtT,KAAMsT,EAAWQ,IAAKR,EAAW2J,GAAI3J,EAAW7K,iBAC3L7L,EAAAC,EAAAC,cAACqxC,GAAD,CAAW3lC,gBAAiB8K,EAAW9K,gBAAiBY,cAAekK,EAAW2J,GAAIxU,cAAe6K,EAAW7K,iBACzG,GAET6K,EAAWq5B,UACZ/vC,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,KACK8T,EAAWq5B,UAAY/vC,EAAAC,EAAAC,cAAA,QAAOM,MAAO,CAAE8f,WAAY5J,EAAWQ,IAAMR,EAAWq5B,UAAY,UAAY,MAAO1+B,SAAU,SAAjG,QAAgHrR,EAAAC,EAAAC,cAAA,SAAIwW,EAAWq5B,WAAar5B,EAAWq5B,UAAU//B,QAAQ,IAAzK,KAA2L,GADvN,OAGK0G,EAAW0C,aAAepZ,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,wBAAwBpK,MAAO,CAAE8f,WAAY5J,EAAW0C,cAAgB,GAAK,UAAY1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,aAAe,GAAK,YAAc,MAAO/H,SAAU,SAApM,OAAkNrR,EAAAC,EAAAC,cAAA,SAAIwW,EAAW0C,cAAjO,IAAoP1C,EAAW0C,aAAe,GAAK,KAAO1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,cAAgB,GAAK,MAAQ1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,aAAe,GAAK,UAAY,OAA/a,KAAic,IAE/d,GAgCLpZ,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAACgR,QAAQ,OAAQ3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBAEjF9H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACJoZ,EAAKnuB,MAAM,mBAAqBi1C,EAAUzxC,MAAQqK,GAA0LlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAArLD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,UAAWC,QAAS,kBAAM4mB,EAAK/T,sBAAsBC,EAAY,MAAO,GAAI,mBAAqB46B,EAAUzxC,MAAQqK,KAAlK,QAG7DlK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACTsF,EAAWw4B,KAAO,IAAIljC,KAAK0K,EAAWw4B,KAAKhiB,sBAG5CltB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACJoZ,EAAKnuB,MAAM,oBAAsBi1C,EAAUzxC,MAAQqK,GAA6LlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAAxLD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,YAAYC,QAAS,kBAAM4mB,EAAK/T,sBAAsBC,EAAY,OAAQ,GAAI,oBAAsB46B,EAAUzxC,MAAQqK,KAArK,mBAqBrFlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,eAlxCJqI,IAAMC,WA8yCZ+jB,eAHS,SAACjwB,GACrB,MAAO,CAAEJ,MAAOI,EAAMJ,MAAMA,MAAMqD,OAEE,CAAEsjB,kBAA3B0J,CAA4C/H,IC1yCrDjT,GAAcC,aAbL,SAACzQ,GAAD,MAAY,CACzB0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,IAEzBkQ,YAAa,CACXpR,SAAU,WACVqR,MAAO5Q,EAAMS,QAAQ,GACrB8L,IAAKvM,EAAMS,QAAQ,GACnBoC,MAAO7C,EAAMI,QAAQyQ,KAAK,QAIVJ,CAAmB,SAACxR,GAAU,IACxC6R,EAAyC7R,EAAzC6R,SAAU5P,EAA+BjC,EAA/BiC,QAAS6P,EAAsB9R,EAAtB8R,QAAYC,EADSnV,OAAAoV,GAAA,EAAApV,CACCoD,EADD,kCAEhD,OACEC,EAAAC,EAAAC,cAACoR,GAAA,EAAD3U,OAAAqV,OAAA,CAAgBC,mBAAiB,EAACxP,UAAWT,EAAQwI,MAAUsH,GAC7D9R,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,MAAM+O,GACzBC,EACC7R,EAAAC,EAAAC,cAACgS,GAAA,EAAD,CAAYxG,aAAW,QAAQjJ,UAAWT,EAAQyP,YAAa7N,QAASiO,GACtE7R,EAAAC,EAAAC,cAACiS,GAAAlS,EAAD,OAEA,QAKJmS,GAAgBb,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJgH,QAAS1Q,EAAMS,QAAQ,MAFLgQ,CAIlBc,MAEEC,GAAgBf,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,MAHLgQ,CAKlBgB,MAEW,SAASC,GAAkBzS,GAAO,IAAA+K,EAIvBxC,IAAMyC,UAAS,GAJQC,EAAArO,OAAAsO,GAAA,EAAAtO,CAAAmO,EAAA,GAIxC8E,EAJwC5E,EAAA,GAIlCyH,EAJkCzH,EAAA,GAAA0H,EAMrBpK,IAAMyC,SAAS,CACvCzL,KAAM,GACNqT,WAAY,KARiCC,EAAAjW,OAAAsO,GAAA,EAAAtO,CAAA+V,EAAA,GAoBzCG,GApByCD,EAAA,GAAAA,EAAA,GAoB3B,WAClBH,GAAQ,KAKV,OACEzS,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,WAAWK,GAAG,uBAAuBS,MAAM,UAAUnD,MAAO,CAAEgB,QAAS,QAAUoC,QAb7E,WACtB6O,GAAQ,KAYN,SAGAzS,EAAAC,EAAAC,cAAC4S,GAAA,EAAD,CAAQvQ,SAAU,KAAMsP,QAASgB,EAAaE,kBAAgB,0BAA0BnD,KAAMA,GAC5F5P,EAAAC,EAAAC,cAACsxC,GAAD,CAAatuC,GAAG,0BAA0B2O,QAASgB,EAAarS,MAAO,CAACmD,MAAQ5D,EAAM0xC,eAAezf,eAAkBjyB,EAAM0xC,eAAezf,cAAc/iB,OAAS,EAAI,QAAU,QAC9KlP,EAAM0xC,eAAeC,eADxB,KAC0C3xC,EAAM0xC,eAAezf,eAAiBjyB,EAAM0xC,eAAezf,cAAc9a,IADnH,QAC6HnX,EAAM0xC,eAAezf,eAAkBjyB,EAAM0xC,eAAezf,cAAc/iB,OAAOe,QAAQ,GADtN,KAEEhQ,EAAAC,EAAAC,cAAA,YAIFF,EAAAC,EAAAC,cAACyxC,GAAD,CAAep+B,UAAQ,EAACrQ,GAAG,SAE3BlD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMpH,MAAO,CAAEgB,QAAS,WAAaD,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAE5F7H,EAAAC,EAAAC,cAAA,WAECH,EAAM0xC,gBAAkB1xC,EAAM0xC,eAAezf,cAC5ChyB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,EAAGxH,MAAO,CAAE8f,WAAY,cAE7CtgB,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAE8f,WAAY,YACxBtgB,EAAAC,EAAAC,cAAA,qBAAaH,EAAM0xC,eAAeC,gBADpC,IACwD1xC,EAAAC,EAAAC,cAAA,WAEtDF,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,QAAQwG,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO5D,EAAM0xC,eAAezf,cAAc9a,IAAMnX,EAAM0xC,eAAelZ,kBAAoB,QAAU,MAAO/Y,WAAY,SAAxK,oBACoBzf,EAAM0xC,eAAelZ,mBAAqBx4B,EAAM0xC,eAAelZ,kBAAkBvoB,QAAQ,GAD7G,IACkHjQ,EAAM0xC,eAAelZ,kBAAoBx4B,EAAM0xC,eAAezf,cAAc9a,IAAMnX,EAAM0xC,eAAelZ,kBAAoB,MAAQ,OAAS,IACvPv4B,EAAAC,EAAAC,cAAA,WAGPF,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,iCAAiCwG,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAC5DhI,EAAAC,EAAAC,cAAA,8BADF,MAC8BH,EAAM0xC,eAAepZ,eAAiB,KAAQroB,QAAQ,GADpF,KAEOhQ,EAAAC,EAAAC,cAAA,WACPF,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,iCAAiCwG,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAC3DjI,EAAM0xC,eAAejZ,mBAAqBz4B,EAAM0xC,eAAepZ,eAAiBr4B,EAAAC,EAAAC,cAAA,KAAG0K,MAAM,sCAAsCpK,MAAO,CAAEmD,MAAO,UAA/D,kBAA0F5D,EAAM0xC,eAAejZ,mBAAqB,KAAQxoB,QAAQ,GAApJ,MAAgK,iBAAmBjQ,EAAM0xC,eAAejZ,mBAAqB,KAAQxoB,QAAQ,GAAK,MAGvUhQ,EAAAC,EAAAC,cAAA,WAIAF,EAAAC,EAAAC,cAAA,wBAAgBH,EAAM0xC,eAAetd,UAArC,MAAmDp0B,EAAM0xC,eAAex8B,eArB1E,IAqB6FjV,EAAAC,EAAAC,cAAA,WAC1FH,EAAM0xC,eAAe5c,YAAc70B,EAAAC,EAAAC,cAAA,QAAMkR,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAEzDhI,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,qDAAqDpK,MAAO,CAAEmD,MAAO5D,EAAM0xC,eAAezf,cAAc9a,KAAOnX,EAAM0xC,eAAe5c,YAAY4F,MAAQ,QAAU,GAAIjb,WAAY,SAA9L,aAAmNzf,EAAM0xC,eAAe5c,YAAY4F,MAAMzqB,QAAQ,IAAUhQ,EAAAC,EAAAC,cAAA,WAF1O,sBAGdH,EAAM0xC,eAAe5c,YAAY6F,OAAO1qB,QAAQ,GAAGhQ,EAAAC,EAAAC,cAAA,WACvEF,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,mDAAmDpK,MAAO,CAAEmD,MAAO5D,EAAM0xC,eAAezf,cAAc9a,KAAOnX,EAAM0xC,eAAe5c,YAAY8F,MAAQ,MAAQ,GAAInb,WAAY,SAA1L,aAA+Mzf,EAAM0xC,eAAe5c,YAAY8F,MAAM3qB,QAAQ,IAAUhQ,EAAAC,EAAAC,cAAA,YAChQ,GAEVF,EAAAC,EAAAC,cAAA,QAAMkR,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO5D,EAAM0xC,eAAezf,cAAc9a,IAAMnX,EAAM0xC,eAAe3c,UAAY,QAAU,MAAOtV,WAAY,SAAlJ,UACUzf,EAAM0xC,eAAe3c,WAAa/0B,EAAM0xC,eAAe3c,UAAU9kB,QAAQ,IAEnFhQ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,mBAAcH,EAAM0xC,eAAe7c,WAAa70B,EAAM0xC,eAAe7c,UAAUxU,IAAI,SAAChP,EAAMwpB,GAAP,OACjFxpB,GAAQ,GAAKpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO,QAAS6b,WAAY,SAA3C,IAAuDpO,EAAvD,SAA6EpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,GAAQ,GAAK,MAAQ,GAAIoO,WAAY,SAA3D,IAAuEpO,EAAvE,WAI5FpR,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,iBAvCF,IAuCeH,EAAM0xC,eAAe14B,YAAchZ,EAAM0xC,eAAe14B,WAAWqH,IAAI,SAAChP,EAAMwpB,GAAP,OAClF56B,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,EAAOrR,EAAM0xC,eAAepZ,eAAiB,QAAU,GAAI7Y,WAAYpO,EAAOrR,EAAM0xC,eAAepZ,eAAiB,OAAS,KAAnJ,KAA4JjnB,EAAO,KAAQpB,QAAQ,GAAnL,YAGFhQ,EAAAC,EAAAC,cAAA,WA3CF,KA2CUF,EAAAC,EAAAC,cAAA,YAGR,GAWFF,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACtBxK,aAAaC,QAAQ,mBAAqBuC,EAAAC,EAAAC,cAACsT,GAAAvT,EAAD,CAC3CkE,QAAS,CACP2I,MAAO,CACLpQ,KAAM,cACNwQ,OAAQ,KAEVtC,MAAO,CACL6I,KAAM,GACNC,MAAO,QAETC,MAAO,CACLjX,KAAM,YAERkX,MAAO,CACLC,QAAS,CACPC,SAAS,KAIfC,OAAQ,CAAC,CACPzU,KAAMS,EAAM0xC,eAAerd,kBAG7B13B,KAAK,cACL+D,MAAO,IACPyM,OAAQ,MACL,MA2CPlN,EAAAC,EAAAC,cAAC0xC,GAAD,KAGE5xC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQJ,WAAS,EAACM,QAASiP,EAAalP,MAAM,WAA9C,gBCnNJ4oB,eAEF,SAAAA,EAAYxsB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAqoB,IACf9mB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAA4vB,GAAA1mB,KAAA3B,KAAMnE,KA8BVy+B,cAAgB,WACZj4B,EAAayP,oBACRxP,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAChC,GAAIxH,GAAQA,EAAKA,KAAM,CACnB,IAAI2W,EAAY3W,EAAKA,KACrB2W,EAAUC,KAAK,SAAUjW,EAAGkW,GACxB,OAAO,IAAInK,KAAKmK,EAAEC,YAAc,IAAIpK,KAAK/L,EAAEmW,cAG/C3Q,EAAKK,SAAS,CAAEmzB,aAAchjB,IAC9BzY,aAAa6H,QAAQ,eAAgB1H,KAAK+I,UAAUuP,QA1CjDxQ,EAwFnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAMszB,8BACzBlqB,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAG/CW,KAAKgyB,mBA7FMzwB,EAkGnBosC,iBAAmB,SAAC3vC,GAChBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAC/CW,KAAK4tC,yBApGMrsC,EAyGnBssC,WAAa,WACTriC,QAAQC,IAAIlK,EAAKpJ,MAAM21C,oBACvBzrC,EAAa0rC,iBAAiB,CAAED,mBAAoBvsC,EAAKpJ,MAAM21C,qBAAsBxrC,KAAK,SAAA0rC,GACtFxiC,QAAQC,IAAI,YAAY,IAAI3D,MAAOkhB,qBAAsBglB,MA5G9CzsC,EAgHnB0sC,iBAAkB,SAACC,GAEf1iC,QAAQC,IAAI,eAAgByiC,GAG5B3sC,EAAKpJ,MAAMo6B,aAAatvB,QAAQ,SAAAC,GAE5B,IAAIirC,EAAaD,EAAa71C,QAAW61C,EAAa9qC,OAAO,SAAA8J,GAAI,OAAIA,EAAK3R,QAAU2H,EAAQ3H,SAGxF6yC,EAAU,GAAIC,EAAS,GAAIC,EAAW,EAAGC,EAAY,EACzDJ,EAAWlrC,QAAQ,SAACC,EAAUvH,GAExB2yC,GACCF,EAAQ9qC,MAAyC,KAAlCJ,EAAQsrC,YAAcF,GAAgBA,GAAYxiC,QAAQ,IAG1EyiC,GACCF,EAAS/qC,MAA2C,KAApCJ,EAAQurC,aAAeF,GAAiBA,GAAaziC,QAAQ,IAEjFwiC,EAAaprC,EAAQsrC,YACrBD,EAAcrrC,EAAQurC,eAIzBvrC,EAAQwrC,cAAgBN,EACxBlrC,EAAQyrC,eAAiBN,IAI1B9sC,EAAKK,SAAS,CAAC2wB,aAAehxB,EAAKpJ,MAAMo6B,gBA9I7BhxB,EAiJnBqtC,aAAe,WACXpjC,QAAQC,IAAIlK,EAAKpJ,MAAM02C,cAEvB,IAAIzzC,EAAO,CAAE0zC,cAAevtC,EAAKpJ,MAAM02C,aAAcE,aAAcv7B,GAAO,IAAI1L,MAAQ2L,OAAO,wBAC7FpR,EAAa2sC,YAAY5zC,GAAMkH,KAAK,SAAA0rC,GAChC,IAAIE,EAAevtC,EAAgBqtC,EAAU,SAC7CzsC,EAAK0sC,iBAAiBC,EAAa1hC,WAvJxBjL,EA4JnBywB,cA5JmBv5B,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA4JH,SAAAC,IAAA,IAAAgR,EAAA7F,EAAAvuB,EAAA,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAER0kB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACjDhc,EAAKK,SAAS,CAAE2wB,aAAc,GAAIub,mBAAoB,GAAIe,aAAc,KAExErjC,QAAQC,IAAI,YAAalK,EAAKpJ,MAAM4K,YAEtB,GAPFmnB,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAQHvuB,GARG,IAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cASFhI,EAAM0sB,EAAUp0B,GAEtB0G,EAAa2vB,cAAc3uB,EAAInE,MAAMoD,KAAK,SAAAmvB,GAKtC,GAAIA,EAAKr2B,MAAQq2B,EAAKr2B,KAAKA,KAAK/C,OAAQ,CACpC,IAAI65B,EAAcT,EAAKr2B,KAAKA,KAAK,GAC7B+2B,EAAU,CACV8c,eAAgBv+B,WAAWwhB,EAAY+c,eAAelpC,MAAM,KAAKsoB,KAAK,KACtE6gB,iBAAkBx+B,WAAWwhB,EAAYgd,iBAAiBnpC,MAAM,KAAKsoB,KAAK,KAC1EiE,yBAA0B5hB,WAAWwhB,EAAYI,yBAAyBvsB,MAAM,KAAKsoB,KAAK,KAC1F9yB,OAAQ22B,EAAY32B,OACpBulC,YAAa5O,EAAYnK,QACzB/U,IAAKtC,WAAWwhB,EAAY3Q,UAAUxb,MAAM,KAAKsoB,KAAK,KACtD8gB,SAAU37B,GAAO0e,EAAYkd,SAAS37B,OAAO,uBAC7C47B,aAAc3+B,WAAWwhB,EAAYmd,aAAatpC,MAAM,KAAKsoB,KAAK,MAIlEihB,EAAc,CACd/zC,OAAQ22B,EAAY32B,OACpBg0C,eAAgBrd,EAAYnK,QAC5B/U,IAAKtC,WAAWwhB,EAAY3Q,UAAUxb,MAAM,KAAKsoB,KAAK,KACtDmhB,YAAah8B,GAAO0e,EAAYkd,SAAS37B,OAAO,uBAChD+6B,YAAa99B,WAAWwhB,EAAYE,iBAAiBrsB,MAAM,KAAKsoB,KAAK,KAAO3d,WAAWwhB,EAAYE,iBAAiBrsB,MAAM,KAAKsoB,KAAK,KAAQ,EAC5IogB,aAAc/9B,WAAWwhB,EAAYG,kBAAkBtsB,MAAM,KAAKsoB,KAAK,KAAO3d,WAAWwhB,EAAYG,kBAAkBtsB,MAAM,KAAKsoB,KAAK,KAAO,EAE9I4gB,eAA+C,KAA9B/c,EAAY+c,eAAwBv+B,WAAWwhB,EAAY+c,eAAelpC,MAAM,KAAKsoB,KAAK,KAAO,EAClHiE,yBAA0B5hB,WAAWwhB,EAAYI,yBAAyBvsB,MAAM,KAAKsoB,KAAK,KAC1F6gB,iBAAkBx+B,WAAWwhB,EAAYgd,iBAAiBnpC,MAAM,KAAKsoB,KAAK,KAE1EghB,aAAc3+B,WAAWwhB,EAAYmd,aAAatpC,MAAM,KAAKsoB,KAAK,KAClEohB,UAAW/+B,WAAWwhB,EAAYud,UAAU1pC,MAAM,KAAKsoB,KAAK,KAC5DqhB,UAAYh/B,WAAWwhB,EAAYwd,UAAU3pC,MAAM,KAAKsoB,KAAK,KAC7DshB,UAAYj/B,WAAWwhB,EAAYyd,UAAU5pC,MAAM,KAAKsoB,KAAK,KAC7DuhB,UAAYl/B,WAAWwhB,EAAY0d,UAAU7pC,MAAM,KAAKsoB,KAAK,KAC7DwhB,UAAYn/B,WAAWwhB,EAAY2d,UAAU9pC,MAAM,KAAKsoB,KAAK,KAC7DyhB,aAAep/B,WAAWwhB,EAAY4d,aAAa/pC,MAAM,KAAKsoB,KAAK,KACnE0hB,aAAer/B,WAAWwhB,EAAY6d,aAAahqC,MAAM,KAAKsoB,KAAK,KACnE2hB,aAAet/B,WAAWwhB,EAAY8d,aAAajqC,MAAM,KAAKsoB,KAAK,KACnE4hB,aAAev/B,WAAWwhB,EAAY+d,aAAalqC,MAAM,KAAKsoB,KAAK,KACnE6hB,aAAex/B,WAAWwhB,EAAYge,aAAanqC,MAAM,KAAKsoB,KAAK,KAEnE8hB,WAAaz/B,WAAWwhB,EAAYie,WAAWpqC,MAAM,KAAKsoB,KAAK,KAC/D+hB,WAAa1/B,WAAWwhB,EAAYke,WAAWrqC,MAAM,KAAKsoB,KAAK,KAC/DgiB,WAAa3/B,WAAWwhB,EAAYme,WAAWtqC,MAAM,KAAKsoB,KAAK,KAC/DiiB,WAAa5/B,WAAWwhB,EAAYoe,WAAWvqC,MAAM,KAAKsoB,KAAK,KAC/DkiB,WAAa7/B,WAAWwhB,EAAYqe,WAAWxqC,MAAM,KAAKsoB,KAAK,KAC/DmiB,cAAgB9/B,WAAWwhB,EAAYse,cAAczqC,MAAM,KAAKsoB,KAAK,KACrEoiB,cAAgB//B,WAAWwhB,EAAYue,cAAc1qC,MAAM,KAAKsoB,KAAK,KACrEqiB,cAAgBhgC,WAAWwhB,EAAYwe,cAAc3qC,MAAM,KAAKsoB,KAAK,KACrEsiB,cAAgBjgC,WAAWwhB,EAAYye,cAAc5qC,MAAM,KAAKsoB,KAAK,KACrEuiB,cAAgBlgC,WAAWwhB,EAAY0e,cAAc7qC,MAAM,KAAKsoB,KAAK,MAOzE9sB,EAAKK,SAAS,CAAEitC,aAAY,GAAA73B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM02C,cAAjB,CAA+BS,MAEvD3zC,IAAUo0B,EAAU13B,OAAS,GAC7BsQ,WAAW,WACP6C,QAAQC,IAAI,iBACZlK,EAAKqtC,gBACN,KAGPrtC,EAAKK,SAAS,CAAEksC,mBAAkB,GAAA92B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM21C,oBAAjB,CAAqC3b,MAGvED,EAAY+c,eAA+C,KAA9B/c,EAAY+c,eAAwBv+B,WAAWwhB,EAAY+c,eAAelpC,MAAM,KAAKsoB,KAAK,KAAO,IAC9H6D,EAAYgd,iBAAmD,KAAhChd,EAAYgd,iBAA0Bx+B,WAAWwhB,EAAYgd,iBAAiBnpC,MAAM,KAAKsoB,KAAK,KAAO,IAEpI6D,EAAYE,iBAAmD,KAAhCF,EAAYE,iBAA0B1hB,WAAWwhB,EAAYE,iBAAiBrsB,MAAM,KAAKsoB,KAAK,KAAO,IAEpI6D,EAAYG,kBAAqD,KAAjCH,EAAYG,kBAA2B3hB,WAAWwhB,EAAYG,kBAAkBtsB,MAAM,KAAKsoB,KAAK,KAAO,IACvI6D,EAAY2e,kBAAqD,KAAjC3e,EAAY2e,kBAA2BngC,WAAWwhB,EAAY2e,kBAAkB9qC,MAAM,KAAKsoB,KAAK,KAAO,IACvI6D,EAAY4e,iBAAmD,KAAhC5e,EAAY4e,iBAA0BpgC,WAAWwhB,EAAY4e,iBAAiB/qC,MAAM,KAAKsoB,KAAK,KAAO,IAGpI6D,EAAY6e,cAAgB7e,EAAYE,iBAAmBF,EAAYG,kBACvEH,EAAY8e,cAAgB9e,EAAYG,kBAAoBH,EAAYE,iBAExE7wB,EAAKpJ,MAAMo6B,aAAavgB,KAAK,SAAUjW,EAAGkW,GACtC,OAAOA,EAAE8V,QAAUhsB,EAAEgsB,UAIrBmK,EAAYE,iBAAmBF,EAAYG,kBAAoB,OAE/DH,EAAY+e,cAAe,GAG3B/e,EAAYG,kBAAoBH,EAAYE,iBAAmB,OAE/DF,EAAYgf,eAAgB,GAGhC3vC,EAAKK,SAAS,CAAE2wB,aAAY,GAAAvb,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMo6B,cAAjB,CAA+BL,IAAcif,eAAgB1f,EAAKr2B,KAAK+1C,gBAAkB,WACjH73C,aAAa6H,QAAQ,eAAgB1H,KAAK+I,UAAUxC,KAAK7H,MAAMo6B,eAC/D15B,OAAOgN,SAASa,MAAQ,QAAU1G,KAAK7H,MAAMo6B,aAAa,GAAGh3B,YAhHjE2jB,EAAA7T,KAAA,EAuHF,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAvH7B,wBAAApL,EAAAK,SAAA2K,KAQHvuB,EAAQ,EARL,YAQQA,EAAQo0B,EAAU13B,QAR1B,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAQHvuB,GARG,eAQkCA,IARlCyuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MA5JGxd,EA2RnB6vC,mBAAqB,WAGjB,IAHuB,IAAArf,EAAA,SAGdp2B,GACL,IAAMuH,EAAU3B,EAAKpJ,MAAMo6B,aAAa52B,GACxC0G,EAAagvC,sBAAsBnuC,EAAQ3H,QACtC+G,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAEhC,GADA4I,QAAQC,IAAI,YAAarQ,EAAKoR,QAC1BpR,GAAQA,EAAKoR,OAAQ,CACrB,IAAIA,EAASpR,EAAKoR,OAClBtJ,EAAQouC,WAAa9kC,EACrBhB,QAAQC,IAAIvI,EAAQ3H,OAAQiR,GAE5BjL,EAAKK,SAAS,CAAE2wB,aAAchxB,EAAKpJ,MAAMo6B,mBAXhD52B,EAAQ,EAAGA,EAAQ4F,EAAKpJ,MAAMo6B,aAAal6B,OAAQsD,IAASo2B,EAA5Dp2B,IA9RM4F,EA+SnBqsC,oBAAsB,WAClBrsC,EAAKK,SAAS,CAAE2wB,aAAc,KAE9B,IAAIxC,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBAC7C9hB,EAAY,GAChBs0B,EAAU9sB,QAAQ,SAAAC,GACdzH,EAAU6H,KAAM,IAAMJ,EAAQhE,KAAK,OAGvCmD,EAAakvC,iBAAiBhwC,EAAKpJ,MAAMqD,SAAWC,EAAU4yB,KAAK,KAAM5yB,EAAUpD,QAC9EiK,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAGhC,GAFA4I,QAAQC,IAAI,kBAAkBrQ,EAAKoR,QAE/BpR,GAAQA,EAAKoR,OAAQ,CAGrB,IAFA,IAAIA,EAASpR,EAAKoR,OAET7Q,EAAQ,EAAGA,EAAQ6Q,EAAOnU,OAAQsD,IAAS,CAChD,IAAMu2B,EAAc1lB,EAAO7Q,GAEvBP,EAAO,CACP6zC,eAAiB/c,EAAY+c,eAC7BC,iBAAmBhd,EAAYgd,iBAC/B9c,iBAAoBF,EAAYsc,YAChCnc,kBAAoBH,EAAYuc,aAChCltB,UAAY2Q,EAAYlf,IACxB+U,QAASmK,EAAYqd,eACrBh0C,OAAS22B,EAAY32B,OACrBi0C,YAAatd,EAAYsd,aAK7Bp0C,EAAK21C,cAAgB7e,EAAYsc,YAActc,EAAYuc,aAC3DrzC,EAAK41C,cAAgB9e,EAAYuc,aAAevc,EAAYsc,YAExDtc,EAAYsc,YAActc,EAAYuc,aAAe,OACrDrzC,EAAK61C,cAAe,GAGpB/e,EAAYuc,aAAevc,EAAYsc,YAAc,OACrDpzC,EAAK81C,eAAgB,GAIzB3vC,EAAKK,SAAS,CAAE2wB,aAAY,GAAAvb,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMo6B,cAAjB,CAA+Bn3B,IAAO+1C,eAAgB5vC,EAAKpJ,MAAMqD,UAAY,WAErGwE,KAAK7H,MAAMo6B,aAAavgB,KAAK,SAAUjW,EAAGkW,GACtC,OAAOA,EAAE8V,QAAUhsB,EAAEgsB,YAKjCxmB,EAAK0sC,iBAAiB7yC,EAAKo2C,gBApWxBjwC,EAyWnBkwC,cAAgB,WACZpvC,EAAaqvC,oBACRpvC,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAEhC,GADA4I,QAAQC,IAAIrQ,GACRA,GAAQA,EAAKoR,OAAQ,CAErB,IAAIA,EAAS,GACbpR,EAAKoR,OAAOvJ,QAAQ,SAAAC,GACZA,EAAQ6rC,cACRviC,EAAOlJ,KAAKkQ,GAAOtQ,EAAQ6rC,cAAct7B,OAAO,0BAIxDlS,EAAKK,SAAS,CAAE+vC,eAAgBnlC,GAAU,kBAvXvCjL,EA+XnBrD,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,MAAM0C,UAhYjCR,EAoYnBqwC,eAAiB,SAACzlC,GACd,IAAK0lC,MAAM1lC,GACP,MAAO,KAAOA,EAAM,KAAQL,QAAQ,GAAK,MAtY9BvK,EA2YnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OA/Yf7Q,EAiZnBuwC,aAAe,SAACt5C,GAEZ+I,EAAKpJ,MAAMo6B,aAAavgB,KAAK,SAAUjW,EAAGkW,GACtC,OAAOA,EAAEzZ,GAAQuD,EAAEvD,KAGvB+I,EAAKK,SAAS,CAAE2wB,aAAchxB,EAAKpJ,MAAMo6B,aAAcwf,WAAYv5C,KApZnE+I,EAAKpJ,MAAQ,CACT48B,aAAc,GACd4F,YAAa,GACbC,aAAc,GACdC,KAAM,GACNC,cAAe,aACfjqB,aAAc,EACdS,MAAO,EACPiI,QAAS,EACTwhB,eAAe,EACfh4B,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAmBjkB,aAAaC,QAAQ,oBAAsBD,aAAaC,QAAQ,oBAAuB,aAC1Gy4C,kBAAmB,EACnB/hB,UAAW,aACXC,gBAAiB,GACjB7c,UAAW,GACX4+B,YAAa,cACb1f,aAAc,GACdwf,WAAY,UACZjE,mBAAoB,GACpBe,aAAc,GACd8C,eAAgB,GAChBn2C,SAAW,IA1BA+F,mFA0DC,IAAAmjB,EAAA1kB,KAEZuT,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SACvB0L,KAASsW,cAFR,GAIQwB,EAAYC,UAAUhY,EAAe8X,KACxD7f,QAAQC,IAAI,eACZoZ,YAAY,WACRH,EAAKsN,iBACN,MAQThyB,KAAKgyB,gBAGHhyB,KAAKyxC,gBAELjmC,QAAQC,IAAI,MAAOzL,KAAK7H,MAAMolB,oDAwUzB,IAAAwH,EAAA/kB,KAEL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KAE8B,eAAzBpD,OAAOwC,SAASswB,KAAwB7vB,EAAAC,EAAAC,cAAC6b,GAAD,MAAsB,GAG/D/b,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAC9C7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAEpBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAC/D1rB,KAAK7H,MAAMolB,kBADhB,KACqCvd,KAAK7H,MAAMo6B,aAAal6B,OAD7D,gBACkF2H,KAAK7H,MAAMg5C,gBAG7Fr1C,EAAAC,EAAAC,cAAA,2BAAmBgE,KAAK7H,MAAM45C,WAA9B,MAKJj2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAQ3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKiN,kBAAhF,YAGJl2B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAK8oB,eAAhF,WAIJ/xC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMqD,SAAU0D,KAAK,WAAWhB,SAAU8B,KAAK2tC,kBAC/D7xC,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,IAAK,eACrBW,KAAK7H,MAAMw5C,gBAAkB3xC,KAAK7H,MAAMw5C,eAAez1B,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,SAY/CpH,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBAErD1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAE8qB,WAAY,UAAYzoB,QAAQ,QAChD7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,QAEd7C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAO1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,aAAzC,WAAxB,KACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,mBAAzC,aAA3B,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,mBAAzC,aAA3B,MAIAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,sBAAzC,uBAA3B,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,uBAAzC,wBAA3B,MAIAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,iBACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAS1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,oBAAzC,oBAA1B,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,sBAAzC,sBAA3B,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQkH,MAAO,8BAA+BhH,QAAS,kBAAMqlB,EAAK+sB,aAAa,8BAA/E,uBAA3B,MAaAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAKqsB,uBAA5B,oBAA3B,QAMRt1C,EAAAC,EAAAC,cAACurB,GAAA,EAAD,KAGKvnB,KAAK7H,MAAMo6B,aAAevyB,KAAK7H,MAAMo6B,aAAarW,IAAI,SAAC7Y,EAAK2C,GAAN,OACnDlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAK,EAACf,IAAKzgB,EAAG1J,MAAO,CAAE8f,WAAY2I,EAAK5S,mBAAmB9O,EAAI0kB,WAErEjsB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAQnM,EAAI9H,OAA7B,IAAsC8H,EAAIke,UAA1C,KAAuDle,EAAI0kB,QAA3D,MACAjsB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAE8f,WAAY/Y,EAAI4tC,aAAe,YAAc,IAAMzhC,MAAM,UAExEnM,EAAI0tC,cAAcjlC,QAAQ,GAF/B,aAIAhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAE8f,WAAY/Y,EAAI6tC,cAAgB,YAAc,IAAM1hC,MAAM,UAEzEnM,EAAI2tC,cAAcllC,QAAQ,GAF/B,cAMAhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,SAASlT,MAAO,CAAC8f,WAAY,YACrC/Y,EAAIqrC,eAAkBrrC,EAAIqrC,cAAcxyB,IAAI,SAAAhP,GAAI,OAC7CpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAACmD,MAAOyN,EAAK,EAAI,QAAU,QAAxC,IAAkDA,EAAlD,QAERpR,EAAAC,EAAAC,cAAA,WACCqH,EAAI+uB,iBALT,IAK4BrN,EAAK6sB,eAAevuC,EAAI+uB,mBACpDt2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,SAASlT,MAAO,CAAC8f,WAAY,YACrC/Y,EAAIsrC,gBAAmBtrC,EAAIsrC,eAAezyB,IAAI,SAAAhP,GAAI,OAC/CpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAACmD,MAAOyN,EAAK,EAAI,QAAU,QAAxC,IAAkDA,EAAlD,QAERpR,EAAAC,EAAAC,cAAA,WACCqH,EAAIgvB,kBALT,IAK6BtN,EAAK6sB,eAAevuC,EAAIgvB,oBAErDv2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAQnM,EAAIgsC,cAG7BvzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI4rC,eAA/B,IAAgDlqB,EAAK6sB,eAAevuC,EAAI4rC,iBACxEnzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI6rC,iBAA/B,IAAkDnqB,EAAK6sB,eAAevuC,EAAI6rC,mBAC1EpzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAIivB,yBAA/B,KAUAx2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAE8f,WAAY,WAAa5M,MAAM,UAE9CnM,EAAIiuC,YAAcjuC,EAAIiuC,WAAWp1B,IAAI,SAAAhP,GAAI,OACtCpR,EAAAC,EAAAC,cAAA,gBAAQ,IAAI8L,KAAKoF,EAAKiiC,UAAUtT,qBAAhC,SACI//B,EAAAC,EAAAC,cAAA,QAAM0K,MAAO,kBAAoBwG,EAAK+hC,gBAAtC,KAAyD/hC,EAAK+hC,eAAiB,KAAQnjC,QAAQ,GAA/F,OADJ,SAEIhQ,EAAAC,EAAAC,cAAA,QAAM0K,MAAO,4BAAb,IAA2CwG,EAAKolB,yBAAhD,OAFJ,SAGIx2B,EAAAC,EAAAC,cAAA,QAAM0K,MAAO,oBAAsBwG,EAAKgiC,kBAAxC,KAA6DhiC,EAAKgiC,iBAAmB,KAAQpjC,QAAQ,GAArG,OAHJ,SAIIhQ,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,EAAK4zB,YAAc,EAAI,QAAU,QAAvD,KAAmE5zB,EAAK4zB,YAAxE,SAJJ,SAKYhlC,EAAAC,EAAAC,cAAA,kBAOvBF,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,mBAlkBjBqI,IAAMC,WA+kBxBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAUJ+J,UC9mBT2E,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAqBVq2C,kBAtBmBz5C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsBC,SAAAC,IAAA,IAAAgR,EAAAxc,EAAA8X,EAAAC,EAAAqB,EAAAyJ,EAAA,OAAAvX,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,OAEhBxS,OAAOgN,SAASa,MAAQ,eAEpBqpB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACjDhc,EAAKK,SAAS,CAAEowC,kBAAmBjiB,GAAaA,EAAU13B,SAItDkb,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAChB,EACX8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aAEnBsM,EAAiBvR,YAAY,WAC7B,IAAI5Y,EAAO,IAAInE,KAEXmE,EAAKjE,aAAe,KAAO,IAC3BwD,QAAQC,IAAI,8CAA+CQ,EAAK+c,sBAEhErgB,WAAW,WACPpH,EAAK4wC,oBACN,KACH5wC,EAAKK,SAAS,CACVwwC,eACIvtB,YAAY,WACRrZ,QAAQC,IAAI,kDAAmDQ,EAAK+c,sBAChE2D,GAjBT,GAiB4BrB,EAAYC,UAAUhY,EAAe8X,IACxD9pB,EAAK4wC,oBAEV,QAGX9b,cAAcD,KAEnB,KAGH70B,EAAK4wC,mBAvCW,yBAAAjzB,EAAAK,SAAAR,MAtBDxd,EAkEnB8wC,cAAgB,WACZ7mC,QAAQC,IAAI,mBACZ4qB,cAAc90B,EAAKpJ,MAAMszB,8BACzB4K,cAAc90B,EAAKpJ,MAAMi6C,iBArEV7wC,EA0EnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQyX,EAAK9D,GACxC5V,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmB6R,GACxC1Z,aAAa6H,QAAQ,mBAAoB+N,EAAUpD,QAAQ,IAC3DjG,SAASkD,eAAe,mBAAmB6I,SA/E5BrQ,EAyFnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAMszB,8BACzBlqB,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE/CW,KAAKmyC,sBA7FM5wC,EAoGnB+wC,YAAc,SAACt0C,GACXuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SArG3BkC,EA4HnByuB,kBAAoB,SAACC,GAIjB,OAAQA,GACJ,IAAK,aACD,MAAO,YAEX,IAAK,cACG,MAAO,aAEf,IAAK,aACG,MAAO,aAEf,IAAK,iBACD,MAAO,aAEX,IAAK,gBACD,MAAO,aAEX,IAAK,WACD,MAAO,aAEX,IAAK,UACD,MAAO,gBApJA1uB,EA2JnBqL,aAAc,SAACxR,EAAMM,GASjB,IARA,IAAI4Q,EAAM,SAAUlR,GAEhB,IADA,IAAImR,EAAM,EACDvG,EAAI,EAAGA,EAAI5K,EAAK/C,OAAQ2N,IAC7BuG,GAAOnR,EAAK4K,GAAG6F,MAEnB,OAAOU,EAAMnR,EAAK/C,QAElBmU,EAAS,GACJxG,EAAItK,EAAQ,EAAG+Q,EAAMrR,EAAK/C,OAAQ2N,EAAIyG,EAAKzG,IAAK,CACrD,IAAI0G,EAAMJ,EAAIlR,EAAKuR,MAAM3G,EAAItK,EAAQ,EAAGsK,IACxCwG,EAAOlJ,KAAK,CAAE2I,KAAM7Q,EAAK4K,GAAGiG,KAAM5M,MAAOqN,IAE7C,OAAOF,GAxKQjL,EA2KnBgxC,eAAe,SAAClvC,GACZ,IAAI8I,EAAM,GA2BV,OA1BG9I,EAAImvC,KACAnvC,EAAI2P,KAAO3P,EAAImvC,GAAGjc,MACjBpqB,GAAQ,mCAAqC9I,EAAImvC,GAAGjc,MAAM,UAE1DpqB,GAAO,iCAAmC9I,EAAImvC,GAAGjc,MAAM,UAGxDlzB,EAAI2P,KAAO3P,EAAImvC,GAAG/b,MACjBtqB,GAAQ,oCAAsC9I,EAAImvC,GAAG/b,MAAM,UAE3DtqB,GAAO,kCAAoC9I,EAAImvC,GAAG/b,MAAM,WAKhEtqB,GAAO,YACP9I,EAAI8R,IAAIlS,QAAQ,SAAAC,GAERiJ,GADDjJ,GAAW,GACF,8BAAgCA,EAAQ,UAC3CA,GAAW,IAAMA,GAAW,GACzB,8BAAgCA,EAAQ,UAEzC,4BAA8BA,EAAQ,YAI9CiJ,GAvMQ5K,EA0MnBkxC,mBAAqB,SAACpvC,GAElB,IAAIqvC,EAAM7sC,SAAS7J,cAAc,OACjC02C,EAAIp2C,MAAMgB,QAAU,QACpBo1C,EAAIp2C,MAAMgR,QAAU,OACpBolC,EAAIp2C,MAAM2a,WAAa,OACvBy7B,EAAIp2C,MAAMc,UAAY,OACtBs1C,EAAIp2C,MAAMq2C,OAAU,aAAap6B,GAAkBpG,mBAAmB9O,EAAI6L,WAE1E,IAAIzG,EAAS5C,SAAS7J,cAAc,OAEpC02C,EAAIE,YAAYnqC,GAChBA,EAAOnM,MAAMgB,QAAU,QACvBmL,EAAOnM,MAAM46B,KAAO,MACpBzuB,EAAOnM,MAAM6M,IAAM,MAEhB9F,EAAI6L,UAAY,EACfzG,EAAOnM,MAAMmD,MAAQ,QAErBgJ,EAAOnM,MAAMmD,MAAQ,MAGzBgJ,EAAO2D,UAAY/I,EAAInE,KAAO,IAAMmE,EAAI2P,IAAM,KAAM3P,EAAI6L,UAAW,YAGnE,IAAI2jC,EAAchtC,SAAS7J,cAAc,OAEzC02C,EAAIE,YAAYC,GAEhBA,EAAYv2C,MAAM6Q,SAAW,OAO7B,IAAMvE,EAAQE,aAAY4pC,EAAK,CAAEn2C,MAAOgF,EAAKpJ,MAAM26C,UAAW9pC,OAAQzH,EAAKpJ,MAAM26C,UAAW5c,aAAa,EAAMC,gBAAgB,IAG5GvtB,EAAMgB,qBAAqB,CAC1CC,QAAS,QACTC,UAAW,MACXC,gBAAiB,MACjBC,cAAe,QACfC,cAAe,MACfC,YAAa,UAGJC,QAAQ9G,EAAI0vC,gBAEzB,IAAI1mC,EAAU9K,EAAKqL,aAAavJ,EAAI0vC,eAAgB,IAC5CnqC,EAAMiE,cAAc,CACjCpN,MAAO,uBACPqN,UAAW,IAEJ3C,QAAQkC,GAESzD,EAAMwB,mBAAmB,CACxC3K,MAAO,UACP4K,YAAa,CACT7R,KAAM,UAEV8R,aAAc,GACdpB,aAAc,CACVC,IAAK,GACLC,OAAQ,KAGHe,QAAQ9G,EAAImtB,kBACrB/nB,EAAS5C,SAAS7J,cAAc,OAEpC02C,EAAIM,OAAOvqC,GACXA,EAAOnM,MAAMgB,QAAU,QAEvBmL,EAAO2D,UAAa7K,EAAKgxC,eAAelvC,GACxCwC,SAASkD,eAAe,aAAelD,SAASkD,eAAe,YAAYiqC,OAAON,GAGlF9pC,EAAM4B,uBAAuB,SAACC,GAEnC,IAAIC,EAAQD,EAAME,aAAaC,OAAOC,YAElCC,EAAS,GACTC,EAAS,GALgCC,GAAA,EAAAC,GAAA,EAAAC,OAAA5S,EAAA,IAO7C,QAAA6S,EAAAC,EAAiBV,EAAjBE,OAAAC,cAAAG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,KAAfO,EAAeJ,EAAA9L,MAGD,iBAAXkM,EAAK,IACfT,GAAU,UAAYS,EAAK,GAAGG,KAAO,OACrCZ,GAAU,UAAYS,EAAK,GAAGI,KAAO,OACrCb,GAAU,UAAYS,EAAK,GAAGK,IAAM,OACpCd,GAAU,UAAYS,EAAK,GAAGM,MAAQ,OAEtCf,GAAU,YADVC,EAA0C,KAAhCQ,EAAK,GAAGM,MAAQN,EAAK,GAAGG,MAAcH,EAAK,GAAGG,MAC1BI,QAAQ,GAAK,eAE3ChB,GAAU,IAAMS,EAAK,GAAGO,QAAQ,GAAK,KAlBM,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAI,EAAAY,QAAAZ,EAAAY,SAAA,WAAAf,EAAA,MAAAC,GAsBzCT,EAAMwB,OACTnB,GAAU,aAAe,IAAIhD,KAAK2C,EAAMwB,MAAMC,iBAAkB,QAEjE,IAAIC,EAAM,2BAA6BrB,EAAS,WAC5CC,EAAS,IACZoB,EAAM,yBAA2BrB,EAAS,YAEjC+nC,EAAYzmC,UAAYD,IAG7B5K,EAAK0xC,gBAxTU1xC,EA6TnB0xC,aAAc,WAEV,IAAIC,EAAWrtC,SAASkD,eAAe,YACnCoqC,EAAiB,GACrB,SAAS55C,EAAQ2F,GACT2G,SAASozB,cAAc,aAAama,WAAWnwC,QAAQ,SAASjF,GACzDA,EAAEq1C,WAAar1C,EAAEq1C,UAAUttC,MAAM,KAAK,IAAM7G,IAC3CsM,QAAQC,IAAI,OAAOvM,EAAMlB,EAAEq1C,UAAUttC,MAAM,KAAK,GAAI/H,GACpDk1C,EAASN,YAAY50C,GACrBm1C,EAAe7vC,KAAKtF,MAMpC,IAAK,IAAIrC,EAAQ,EAAGA,EAAQ4F,EAAKpJ,MAAMm7C,qBAAqBj7C,OAAQsD,IAErDpC,EADKgI,EAAKpJ,MAAMm7C,qBAAqB33C,GACrBuD,OA9UhBqC,EAoVnBgyC,qBAAuB,SAAClwC,GAEpB,IAAI0L,EAAU,IAAIjH,KAAKzE,EAAI0L,SAAS7C,iBAChCsnC,EAAUjyC,EAAKpJ,MAAM69B,iBAAiB5yB,OAAO,SAAAF,GAAO,OAAKA,EAAQ5I,OAAS+I,EAAI/I,OAAS4I,EAAQ6L,SAAWA,IAE9G,GADAvD,QAAQC,IAAI,UAAW+nC,GAClBA,EAAQn7C,OAeT,OAAO,EAdP,IAAIo7C,EAAa,CACbn5C,MAAO+I,EAAI/I,MACXyU,QAASA,EACTiE,IAAK3P,EAAI2P,IACTzX,OAAQ8H,EAAI9H,OACZ4gB,GAAI9Y,EAAI6L,UAAUpD,QAAQ,GAC1B2G,UAAWpP,EAAIoP,WAKnB,OAHAlR,EAAKpJ,MAAM69B,iBAAiB1yB,KAAKmwC,GAEjCn6C,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM69B,oBAC5D,GArWIz0B,EA6WnB4wC,iBA7WmB15C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA6WA,SAAAmL,IAAA,IAAA8F,EAAA7F,EAAAvuB,EAAAiyB,EAAAxyB,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,UAEZxF,SAASkD,eAAe,cACvBlD,SAASkD,eAAe,YAAYqD,UAAY,IAGpD7K,EAAKK,SAAS,CAAE8xC,2BAA4B,GAAIJ,qBAAsB,KAClEvjB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACb,cAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAElD,cAAhCgI,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAElD,aAAhCgI,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAErFgI,EAAKK,SAAS,CAAEowC,kBAAmBjiB,GAAaA,EAAU13B,UAGtD03B,IAAaA,EAAU13B,OApBZ,CAAA8xB,EAAA9e,KAAA,SAAA6e,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAqBFvuB,GArBE,IAAA2X,EAAA6c,EAAA,OAAAtR,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,cAuBP9J,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,uBAEvG1V,EAAU,mBACIE,GAAO,SAAU,SAASC,OAAOH,GAEjD6c,EAAe5uB,EAAKyuB,kBAAkBzuB,EAAKpJ,MAAM83B,WAC1Czc,YAAgB,cACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAASwc,GAExC/0B,EAAO,CACP+V,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAGpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GACzJvc,EAAWhR,QAAQ,SAACC,EAASutB,GAEzB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAE9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAOlFy0B,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQP,IAA9C,IAIIM,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GAM7B42B,EAAY,CACZjgC,KAAMkJ,EACNjJ,KAAM+I,EACN9I,IAAK+I,EACL9I,MAAO4I,EACPm3B,OAAQ/2B,GAGRQ,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAIRC,EAAKC,KAAeJ,UAAUC,GAM9Bs+B,GAJAn/B,EAAWs3B,KAAK12B,UAAUu2B,GAIXp2B,EAAGA,EAAGld,OAAS,IAC9Bs7C,IACAA,EAAapd,MAAQod,EAAapd,MAAMzqB,QAAQ,GAChD6nC,EAAand,OAASmd,EAAand,OAAO1qB,QAAQ,GAClD6nC,EAAald,MAAQkd,EAAald,MAAM3qB,QAAQ,IAIpD,IAAMinC,EAAiB9+B,EAAWiI,IAAI,SAAAoU,GAClC,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAIpIsjB,EAAU,CACVziC,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAGpC+H,EAAawQ,OAAO+gC,GAAStxC,KAAK,SAAAM,GAC9B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CACxB,IAAI5X,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxBu5C,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EAAavI,MAAM0F,KAAKwe,IAAI3b,EAAa7c,OAAS,EAAG,IAC1Dwc,WAAYA,EAAWlI,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,EAAG,IAC7DyzC,KAAMt3B,EAASA,EAASnc,OAAS,GACjCm6C,GAAImB,EACJjsC,gBAAiBA,EACjBqH,QAASkF,GAAc,IAAInM,KAAKmM,EAAWA,EAAW5b,OAAS,GAAG,IAAI6T,iBACtEhN,KAAM6wB,EAAUp0B,GAAOuD,KACvB6zC,eAAgBA,EAChBviB,iBAAkBA,GAGtBp1B,EAAK8T,WAA6C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,OAAOC,QAAQ,GAC/E1Q,EAAK4X,IAAMD,EAAQC,IAInBzR,EAAKK,SAAS,CAAE0xC,qBAAoB,GAAAt8B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMm7C,sBAAjB,CAAuCl4C,KAAS,WAEhF4E,KAAK7H,MAAMm7C,sBAAwBtzC,KAAK7H,MAAMm7C,qBAAqBthC,KAAK,SAAUjW,EAAGkW,GACjF,OAAOA,EAAE/C,UAAYnT,EAAEmT,YAE3BlP,KAAKyyC,mBAAmBr3C,aAYpCoQ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,0BA/JtC6uB,EAAA/e,KAAA,GAmKD,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnK9B,yBAAAF,EAAA7K,SAAA2K,KAqBFvuB,EAAQ,EArBN,aAqBSA,EAAQo0B,EAAU13B,QArB3B,CAAA8xB,EAAA9e,KAAA,gBAAA8e,EAAAI,cAAAL,EAqBFvuB,GArBE,iBAqBmCA,IArBnCwuB,EAAA9e,KAAA,iBAAA8e,EAAA9e,KAAA,iBAsKXtK,EAAOE,UAAU,kBAtKN,yBAAAkpB,EAAA5K,SAAA0K,MA7WA1oB,EA0hBnB4W,uBAAyB,SAACC,GAItB5M,QAAQC,IAAI,iBAAkB2M,IA9hBf7W,EAmiBnB8W,YAAc,SAAChV,EAAK7K,EAAM8xC,GAGtB,GADA9+B,QAAQC,IAAIpI,GACRA,EAAI/I,OAAS+I,EAAI9H,OAAQ,CACzB,GAAY,OAAR/C,EAAe,CACf+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAChC,IAAIhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,MAAO,KAAM/W,EAAK4W,wBACtE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAIpC,GAAY,QAAR9xC,EAAgB,CAChB+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAC5BhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,OAAQ,KAAM/W,EAAK4W,wBACvE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,UAGpCvpC,EAAOE,UAAU,yBA9jBrBM,EAAKpJ,MAAQ,CACT4K,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAoBjkB,aAAaC,QAAQ,oBAAsBD,aAAaC,QAAQ,oBAAuB,aAC3Gy4C,kBAAmB,EACnBc,UAAW,IACX7iB,UAAW,iBACXC,gBAAiB,GACjB+hB,YAAa,mBACb5+B,UAAW,GACX2iB,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GACtH+5C,qBAAsB,GACtB51B,WAAYpkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGokB,WAAYrkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,IAfzFgI,qIAiGGq6B,EAAMkY,EAAWC,GACnC,OAAOnY,mCAkeF,IAAAlX,EAAA1kB,KAIL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KAE+B,mBAAzBpD,OAAOwC,SAASswB,KAA4B7vB,EAAAC,EAAAC,cAAC6b,GAAD,MAAsB,GAEpE/b,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsS,GAAD,MALJ,IAKoBxS,EAAAC,EAAAC,cAACksC,GAAD,MAEhBpsC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,QACY1rB,KAAK7H,MAAMolB,kBADvB,YACmDvd,KAAK7H,MAAMm7C,sBAAwBtzC,KAAK7H,MAAMm7C,qBAAqBj7C,OADtH,IAEIyD,EAAAC,EAAAC,cAAA,QAAMgD,GAAG,eAAe1C,MAAO,CAAE6Q,SAAU,OAAQ1N,MAAO,SAA1D,IAAsEO,KAAK7H,MAAMu7C,2BAAjF,OAIR53C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,cACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM26C,UAAW5zC,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,YAOnCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,gBAAmBW,KAAK7H,MAAMulB,WAAWrlB,OAAQ,KACjFyD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,gBAAmBW,KAAK7H,MAAMwlB,WAAWtlB,OAAQ,KAEjFyD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAO3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,YAmBzCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMglB,EAAKytB,qBAAhF,SACAr2C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMglB,EAAK2tB,kBAAhF,UAMRv2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACtG,QAAS,EAAGf,MAAO,CAACgR,QAAQ,QAAStO,GAAG,qBAhqBrDoF,IAAMC,WA+wBnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MClzBTA,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAqBVq2C,kBAtBmBz5C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsBC,SAAAC,IAAA,IAAAgR,EAAAxc,EAAA8X,EAAAC,EAAAqB,EAAAyJ,EAAA,OAAAvX,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,OAEhBxS,OAAOgN,SAASa,MAAQ,eAEpBqpB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACjDhc,EAAKK,SAAS,CAAEowC,kBAAmBjiB,GAAaA,EAAU13B,SAItDkb,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAChB,EACX8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aAEnBsM,EAAiBvR,YAAY,WAC7B,IAAI5Y,EAAO,IAAInE,KAEXmE,EAAKjE,aAAe,KAAO,IAC3BwD,QAAQC,IAAI,8CAA+CQ,EAAK+c,sBAEhErgB,WAAW,WACPpH,EAAKyyC,oBACN,KACHzyC,EAAKK,SAAS,CACVwwC,eACIvtB,YAAY,WACRrZ,QAAQC,IAAI,kDAAmDQ,EAAK+c,sBAChE2D,GAjBT,GAiB4BrB,EAAYC,UAAUhY,EAAe8X,IACxD9pB,EAAKyyC,oBAEV,QAGX3d,cAAcD,KAEnB,KAGH70B,EAAKyyC,mBAvCW,yBAAA90B,EAAAK,SAAAR,MAtBDxd,EAkEnB8wC,cAAgB,WACZ7mC,QAAQC,IAAI,mBACZ4qB,cAAc90B,EAAKpJ,MAAM87C,yBACzB5d,cAAc90B,EAAKpJ,MAAMi6C,iBArEV7wC,EA0EnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQyX,EAAK9D,GACxC5V,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmB6R,GACxC1Z,aAAa6H,QAAQ,mBAAoB+N,EAAUpD,QAAQ,IAC3DjG,SAASkD,eAAe,mBAAmB6I,SA/E5BrQ,EAyFnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAM87C,yBACzB1yC,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE/CW,KAAKg0C,sBA7FMzyC,EAoGnB+wC,YAAc,SAACt0C,GACXuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SArG3BkC,EA4HnByuB,kBAAoB,SAACC,GAIjB,OAAQA,GACJ,IAAK,aACD,MAAO,YAEX,IAAK,cACG,MAAO,aAEf,IAAK,aACG,MAAO,aAEf,IAAK,iBACD,MAAO,aAEX,IAAK,gBACD,MAAO,aAEX,IAAK,WACD,MAAO,aAEX,IAAK,UACD,MAAO,gBApJA1uB,EA2JnBqL,aAAc,SAACxR,EAAMM,GASjB,IARA,IAAI4Q,EAAM,SAAUlR,GAEhB,IADA,IAAImR,EAAM,EACDvG,EAAI,EAAGA,EAAI5K,EAAK/C,OAAQ2N,IAC7BuG,GAAOnR,EAAK4K,GAAG6F,MAEnB,OAAOU,EAAMnR,EAAK/C,QAElBmU,EAAS,GACJxG,EAAItK,EAAQ,EAAG+Q,EAAMrR,EAAK/C,OAAQ2N,EAAIyG,EAAKzG,IAAK,CACrD,IAAI0G,EAAMJ,EAAIlR,EAAKuR,MAAM3G,EAAItK,EAAQ,EAAGsK,IACxCwG,EAAOlJ,KAAK,CAAE2I,KAAM7Q,EAAK4K,GAAGiG,KAAM5M,MAAOqN,IAE7C,OAAOF,GAxKQjL,EA2KnBgxC,eAAe,SAAClvC,GACZ,IAAI8I,EAAM,GA4BV,OA1BG9I,EAAImvC,KACAnvC,EAAI2P,KAAO3P,EAAImvC,GAAGjc,MACjBpqB,GAAQ,mCAAqC9I,EAAImvC,GAAGjc,MAAM,UAE1DpqB,GAAO,iCAAmC9I,EAAImvC,GAAGjc,MAAM,UAGxDlzB,EAAI2P,KAAO3P,EAAImvC,GAAG/b,MACjBtqB,GAAQ,oCAAsC9I,EAAImvC,GAAG/b,MAAM,UAE3DtqB,GAAO,kCAAoC9I,EAAImvC,GAAG/b,MAAM,WAKhEtqB,GAAO,YACP9I,EAAI8R,IAAIlS,QAAQ,SAAAC,GAERiJ,GADDjJ,GAAW,GACF,8BAAgCA,EAAQ,UAC3CA,GAAW,IAAMA,GAAW,GACzB,8BAAgCA,EAAQ,UAEzC,4BAA8BA,EAAQ,YAI9CiJ,GAxMQ5K,EA2MnBkxC,mBAAqB,SAACpvC,GAElB,IAAIqvC,EAAM7sC,SAAS7J,cAAc,OACjC02C,EAAIp2C,MAAMgB,QAAU,QACpBo1C,EAAIp2C,MAAMgR,QAAU,OACpBolC,EAAIp2C,MAAM2a,WAAa,OACvBy7B,EAAIp2C,MAAMc,UAAY,OACtBs1C,EAAIp2C,MAAMq2C,OAAU,aAAap6B,GAAkBpG,mBAAmB9O,EAAI6L,WAE1E,IAAIzG,EAAS5C,SAAS7J,cAAc,OAEpC02C,EAAIE,YAAYnqC,GAChBA,EAAOnM,MAAMgB,QAAU,QACvBmL,EAAOnM,MAAM46B,KAAO,MACpBzuB,EAAOnM,MAAM6M,IAAM,MAEhB9F,EAAI6L,UAAY,EACfzG,EAAOnM,MAAMmD,MAAQ,QAErBgJ,EAAOnM,MAAMmD,MAAQ,MAIzB,IAAI0M,EAAM9I,EAAInE,KAAO,IAAMmE,EAAI2P,IAAM,KAAM3P,EAAI6L,UAAW,YAE1D/C,GAAO,+CACJ9I,EAAI6wC,YACA7wC,EAAI6wC,WAAa,GAChB/nC,GAAQ,wCAA0C9I,EAAI6wC,UAAUpoC,QAAQ,GAAG,eAE3EK,GAAO,qCAAuC9I,EAAI6wC,UAAUpoC,QAAQ,GAAI,aAI7EzI,EAAI6wC,YACA7wC,EAAI6wC,WAAa,GAChB/nC,GAAQ,yCAA2C,IAAM9I,EAAI6wC,WAAWpoC,QAAQ,GAAG,eAEnFK,GAAO,wCAA0C,IAAM9I,EAAI6wC,WAAWpoC,QAAQ,GAAI,YAI1FK,GAAO,SACP1D,EAAO2D,UAAYD,EAEnB,IAAI0mC,EAAchtC,SAAS7J,cAAc,OAEzC02C,EAAIE,YAAYC,GAEhBA,EAAYv2C,MAAM6Q,SAAW,OAO7B,IAAMvE,EAAQE,aAAY4pC,EAAK,CAAEn2C,MAAOgF,EAAKpJ,MAAM26C,UAAW9pC,OAAQzH,EAAKpJ,MAAM26C,UAAW5c,aAAa,EAAMC,gBAAgB,IAG5GvtB,EAAMgB,qBAAqB,CAC1CC,QAAS,QACTC,UAAW,MACXC,gBAAiB,MACjBC,cAAe,QACfC,cAAe,MACfC,YAAa,UAGJC,QAAQ9G,EAAI0vC,gBAEzB,IAAI1mC,EAAU9K,EAAKqL,aAAavJ,EAAI0vC,eAAgB,IAC5CnqC,EAAMiE,cAAc,CACjCpN,MAAO,uBACPqN,UAAW,IAEJ3C,QAAQkC,GAESzD,EAAMwB,mBAAmB,CACxC3K,MAAO,UACP4K,YAAa,CACT7R,KAAM,UAEV8R,aAAc,GACdpB,aAAc,CACVC,IAAK,GACLC,OAAQ,KAGHe,QAAQ9G,EAAImtB,kBACrB/nB,EAAS5C,SAAS7J,cAAc,OAEpC02C,EAAIM,OAAOvqC,GACXA,EAAOnM,MAAMgB,QAAU,QAEvBmL,EAAO2D,UAAa7K,EAAKgxC,eAAelvC,GACxCwC,SAASkD,eAAe,aAAelD,SAASkD,eAAe,YAAYiqC,OAAON,GAGlF9pC,EAAM4B,uBAAuB,SAACC,GAEnC,IAAIC,EAAQD,EAAME,aAAaC,OAAOC,YAElCC,EAAS,GACTC,EAAS,GALgCC,GAAA,EAAAC,GAAA,EAAAC,OAAA5S,EAAA,IAO7C,QAAA6S,EAAAC,EAAiBV,EAAjBE,OAAAC,cAAAG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,KAAfO,EAAeJ,EAAA9L,MAGD,iBAAXkM,EAAK,IACfT,GAAU,UAAYS,EAAK,GAAGG,KAAO,OACrCZ,GAAU,UAAYS,EAAK,GAAGI,KAAO,OACrCb,GAAU,UAAYS,EAAK,GAAGK,IAAM,OACpCd,GAAU,UAAYS,EAAK,GAAGM,MAAQ,OAEtCf,GAAU,YADVC,EAA0C,KAAhCQ,EAAK,GAAGM,MAAQN,EAAK,GAAGG,MAAcH,EAAK,GAAGG,MAC1BI,QAAQ,GAAK,eAE3ChB,GAAU,IAAMS,EAAK,GAAGO,QAAQ,GAAK,KAlBM,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAI,EAAAY,QAAAZ,EAAAY,SAAA,WAAAf,EAAA,MAAAC,GAsBzCT,EAAMwB,OACTnB,GAAU,aAAe,IAAIhD,KAAK2C,EAAMwB,MAAMC,iBAAkB,QAEjE,IAAIC,EAAM,2BAA6BrB,EAAS,WAC5CC,EAAS,IACZoB,EAAM,yBAA2BrB,EAAS,YAEjC+nC,EAAYzmC,UAAYD,IAG7B5K,EAAK0xC,gBA7UU1xC,EAkVnB0xC,aAAc,WAEV,IAAIC,EAAWrtC,SAASkD,eAAe,YACnCoqC,EAAiB,GACrB,SAAS55C,EAAQ2F,GACT2G,SAASozB,cAAc,aAAama,WAAWnwC,QAAQ,SAASjF,GACzDA,EAAEq1C,WAAar1C,EAAEq1C,UAAUttC,MAAM,KAAK,IAAM7G,IAC3CsM,QAAQC,IAAI,OAAOvM,EAAMlB,EAAEq1C,UAAUttC,MAAM,KAAK,GAAI/H,GACpDk1C,EAASN,YAAY50C,GACrBm1C,EAAe7vC,KAAKtF,MAMpC,IAAK,IAAIrC,EAAQ,EAAGA,EAAQ4F,EAAKpJ,MAAMg8C,gBAAgB97C,OAAQsD,IAEhDpC,EADKgI,EAAKpJ,MAAMg8C,gBAAgBx4C,GAChBuD,OAnWhBqC,EAyWnBgyC,qBAAuB,SAAClwC,GAEpB,IAAI0L,EAAU,IAAIjH,KAAKzE,EAAI0L,SAAS7C,iBAChCsnC,EAAUjyC,EAAKpJ,MAAM69B,iBAAiB5yB,OAAO,SAAAF,GAAO,OAAKA,EAAQ5I,OAAS+I,EAAI/I,OAAS4I,EAAQ6L,SAAWA,IAE9G,GADAvD,QAAQC,IAAI,UAAW+nC,GAClBA,EAAQn7C,OAeT,OAAO,EAdP,IAAIo7C,EAAa,CACbn5C,MAAO+I,EAAI/I,MACXyU,QAASA,EACTiE,IAAK3P,EAAI2P,IACTzX,OAAQ8H,EAAI9H,OACZ4gB,GAAI9Y,EAAI6L,UAAUpD,QAAQ,GAC1B2G,UAAWpP,EAAIoP,WAKnB,OAHAlR,EAAKpJ,MAAM69B,iBAAiB1yB,KAAKmwC,GAEjCn6C,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM69B,oBAC5D,GA1XIz0B,EAkYnByyC,iBAlYmBv7C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAkYA,SAAAmL,IAAA,IAAA8F,EAAA7F,EAAAvuB,EAAAiyB,EAAAxyB,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,UAEZxF,SAASkD,eAAe,cACvBlD,SAASkD,eAAe,YAAYqD,UAAY,IAGpD7K,EAAKK,SAAS,CAAEwyC,sBAAuB,GAAID,gBAAiB,KACxDpkB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACb,cAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAElD,cAAhCgI,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAElD,aAAhCgI,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAErFgI,EAAKK,SAAS,CAAEowC,kBAAmBjiB,GAAaA,EAAU13B,UAGtD03B,IAAaA,EAAU13B,OApBZ,CAAA8xB,EAAA9e,KAAA,SAAA6e,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAqBFvuB,GArBE,IAAA2X,EAAA6c,EAAA,OAAAtR,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,cAuBP9J,EAAKK,SAAS,CAAEwyC,sBAAuBz4C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,uBAElG1V,EAAU,mBACIE,GAAO,SAAU,SAASC,OAAOH,GAEjD6c,EAAe5uB,EAAKyuB,kBAAkBzuB,EAAKpJ,MAAM83B,WAC1Czc,YAAgB,cACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAASwc,GAExC/0B,EAAO,CACP+V,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAGpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GAGrJqC,EAAa5e,EAAWA,EAAW5b,OAAO,GAE1Cg8C,GADaxhB,EAAW,GAAKA,EAAW,GAAYA,EAAW,GAC9CA,EAAW,GAAKA,EAAW,IAC5CqhB,EAAgD,KAAjCrhB,EAAW,GAAKA,EAAW,IAAWwhB,EACzD7oC,QAAQC,IAAKskB,EAAUp0B,GAAOJ,OAAQ0Y,EAAWA,EAAW5b,OAAO,GAAI67C,GAGnEjgC,EAAWhR,QAAQ,SAACC,EAASutB,GACzB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAGlFy0B,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQP,IAA9C,IAEIM,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GAE7B42B,EAAY,CACZjgC,KAAMkJ,EACNjJ,KAAM+I,EACN9I,IAAK+I,EACL9I,MAAO4I,EACPm3B,OAAQ/2B,GAGRQ,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAGRC,EAAKC,KAAeJ,UAAUC,GAE9Bs+B,GADAn/B,EAAWs3B,KAAK12B,UAAUu2B,GACXp2B,EAAGA,EAAGld,OAAS,IAC9Bs7C,IACAA,EAAapd,MAAQod,EAAapd,MAAMzqB,QAAQ,GAChD6nC,EAAand,OAASmd,EAAand,OAAO1qB,QAAQ,GAClD6nC,EAAald,MAAQkd,EAAald,MAAM3qB,QAAQ,IAIpD,IAAMinC,EAAiB9+B,EAAWiI,IAAI,SAAAoU,GAClC,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAIpIsjB,EAAU,CACVziC,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAGpC+H,EAAawQ,OAAO+gC,GAAStxC,KAAK,SAAAM,GAC9B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CACxB,IAAI5X,EAAO,CACPG,OAASw0B,EAAUp0B,GAAOJ,OAC1BjB,MAAOy1B,EAAUp0B,GAAOrB,MACxBu5C,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EAAavI,MAAM0F,KAAKwe,IAAI3b,EAAa7c,OAAS,EAAG,IAC1Dwc,WAAYA,EAAWlI,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,EAAG,IAC7DyzC,KAAMt3B,EAASA,EAASnc,OAAS,GACjCm6C,GAAImB,EACJjsC,gBAAiBA,EACjBqH,QAASkF,GAAc,IAAInM,KAAKmM,EAAWA,EAAW5b,OAAS,GAAG,IAAI6T,iBACtEhN,KAAM6wB,EAAUp0B,GAAOuD,KACvB6zC,eAAgBA,EAChBviB,iBAAkBA,EAClB0jB,UAAWA,GAGf94C,EAAK8T,WAA6C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,OAAOC,QAAQ,GAC/E1Q,EAAK4X,IAAMD,EAAQC,IAEnBzR,EAAKK,SAAS,CAAEuyC,gBAAe,GAAAn9B,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMg8C,iBAAjB,CAAkC/4C,KAAS,WAEtE4E,KAAK7H,MAAMg8C,iBAAmBn0C,KAAK7H,MAAMg8C,gBAAgBniC,KAAK,SAAUjW,EAAGkW,GACvE,OAAOA,EAAE/C,UAAYnT,EAAEmT,YAE3BlP,KAAKyyC,mBAAmBr3C,aAYxCoQ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,0BAtJtC6uB,EAAA/e,KAAA,GA0JD,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OA1J9B,yBAAAF,EAAA7K,SAAA2K,KAqBFvuB,EAAQ,EArBN,aAqBSA,EAAQo0B,EAAU13B,QArB3B,CAAA8xB,EAAA9e,KAAA,gBAAA8e,EAAAI,cAAAL,EAqBFvuB,GArBE,iBAqBmCA,IArBnCwuB,EAAA9e,KAAA,iBAAA8e,EAAA9e,KAAA,iBA6JXtK,EAAOE,UAAU,kBA7JN,yBAAAkpB,EAAA5K,SAAA0K,MAlYA1oB,EAsiBnB4W,uBAAyB,SAACC,GAItB5M,QAAQC,IAAI,iBAAkB2M,IA1iBf7W,EA+iBnB8W,YAAc,SAAChV,EAAK7K,EAAM8xC,GAGtB,GADA9+B,QAAQC,IAAIpI,GACRA,EAAI/I,OAAS+I,EAAI9H,OAAQ,CACzB,GAAY,OAAR/C,EAAe,CACf+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAChC,IAAIhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,MAAO,KAAM/W,EAAK4W,wBACtE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAIpC,GAAY,QAAR9xC,EAAgB,CAChB+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAC5BhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,OAAQ,KAAM/W,EAAK4W,wBACvE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,UAGpCvpC,EAAOE,UAAU,yBA1kBrBM,EAAKpJ,MAAQ,CACT4K,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAoBjkB,aAAaC,QAAQ,oBAAsBD,aAAaC,QAAQ,oBAAuB,aAC3Gy4C,kBAAmB,EACnBc,UAAW,IACX7iB,UAAW,iBACXC,gBAAiB,GACjB+hB,YAAa,mBACb5+B,UAAW,GACX2iB,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GACtH46C,gBAAiB,GACjBz2B,WAAYpkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGokB,WAAYrkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,IAfzFgI,qIAiGGq6B,EAAMkY,EAAWC,GACnC,OAAOnY,mCA8eF,IAAAlX,EAAA1kB,KAIL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KAEKH,EAAAC,EAAAC,cAAC6b,GAAD,MAED/b,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsS,GAAD,MALJ,IAKoBxS,EAAAC,EAAAC,cAACksC,GAAD,MAEhBpsC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,QACY1rB,KAAK7H,MAAMolB,kBADvB,YACmDvd,KAAK7H,MAAMg8C,iBAAmBn0C,KAAK7H,MAAMg8C,gBAAgB97C,OAD5G,IAEIyD,EAAAC,EAAAC,cAAA,QAAMgD,GAAG,eAAe1C,MAAO,CAAE6Q,SAAU,OAAQ1N,MAAO,SAA1D,IAAsEO,KAAK7H,MAAMi8C,sBAAjF,OAIRt4C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,cACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM26C,UAAW5zC,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,SACvBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,KAAM,YAOnCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,gBAAmBW,KAAK7H,MAAMulB,WAAWrlB,OAAQ,KACjFyD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,gBAAmBW,KAAK7H,MAAMwlB,WAAWtlB,OAAQ,KAEjFyD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAO3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,YAmBzCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMglB,EAAKsvB,qBAAhF,SACAl4C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMglB,EAAK2tB,kBAAhF,UAMRv2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACtG,QAAS,EAAGf,MAAO,CAACgR,QAAQ,QAAStO,GAAG,qBA5qBrDoF,IAAMC,WA2xBnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MC/zBT5f,GAAcC,aAbL,SAACzQ,GAAD,MAAY,CACzB0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,IAEzBkQ,YAAa,CACXpR,SAAU,WACVqR,MAAO5Q,EAAMS,QAAQ,GACrB8L,IAAKvM,EAAMS,QAAQ,GACnBoC,MAAO7C,EAAMI,QAAQyQ,KAAK,QAIVJ,CAAmB,SAACxR,GAAU,IACxC6R,EAAyC7R,EAAzC6R,SAAU5P,EAA+BjC,EAA/BiC,QAAS6P,EAAsB9R,EAAtB8R,QAAYC,EADSnV,OAAAoV,GAAA,EAAApV,CACCoD,EADD,kCAEhD,OACEC,EAAAC,EAAAC,cAACoR,GAAA,EAAD3U,OAAAqV,OAAA,CAAgBC,mBAAiB,EAACxP,UAAWT,EAAQwI,MAAUsH,GAC7D9R,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,MAAM+O,GACzBC,EACC7R,EAAAC,EAAAC,cAACgS,GAAA,EAAD,CAAYxG,aAAW,QAAQjJ,UAAWT,EAAQyP,YAAa7N,QAASiO,GACtE7R,EAAAC,EAAAC,cAACiS,GAAAlS,EAAD,OAEA,QAKJmS,GAAgBb,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJgH,QAAS1Q,EAAMS,QAAQ,MAFLgQ,CAIlBc,MAEEC,GAAgBf,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,MAHLgQ,CAKlBgB,MAEW,SAASC,GAAkBzS,GAAO,IAAA+K,EAIvBxC,IAAMyC,UAAS,GAJQC,EAAArO,OAAAsO,GAAA,EAAAtO,CAAAmO,EAAA,GAIxC8E,EAJwC5E,EAAA,GAIlCyH,EAJkCzH,EAAA,GAAA0H,EAMrBpK,IAAMyC,SAAS,CACvCzL,KAAO,GACPqT,WAAY,KARiCC,EAAAjW,OAAAsO,GAAA,EAAAtO,CAAA+V,EAAA,GAkBzCG,GAlByCD,EAAA,GAAAA,EAAA,GAkB3B,WAClBH,GAAQ,KAIV,OACEzS,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,WAAWK,GAAG,cAAcS,MAAM,UAAUnD,MAAO,CAACgB,QAAQ,QAASoC,QAVjE,WACtB6O,GAAQ,KASN,SAGAzS,EAAAC,EAAAC,cAAC4S,GAAA,EAAD,CAAQ0lC,YAAU,EAAC3mC,QAASgB,EAAaE,kBAAgB,0BAA0BnD,KAAMA,GACvF5P,EAAAC,EAAAC,cAACu4C,GAAD,CAAav1C,GAAG,0BAA0B2O,QAASgB,EAAajP,QAASiP,GACzE7S,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQT,WAAW,EAAMK,WAAS,EAACM,QAASiP,EAAalP,MAAM,WAC1DnG,aAAaC,QAAQ,oBAD1B,IACiDD,aAAaC,QAAQ,sBAKtEuC,EAAAC,EAAAC,cAACw4C,GAAD,CAAenlC,UAAQ,EAACrQ,GAAG,SAEsB,UAA5C1F,aAAaC,QAAQ,oBAAmCuC,EAAAC,EAAAC,cAACy4C,GAAD,MAAmB34C,EAAAC,EAAAC,cAAC04C,GAAD,OAGhF54C,EAAAC,EAAAC,cAAC24C,GAAD,KAGE74C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQJ,WAAS,EAACM,QAASiP,EAAalP,MAAM,WAA9C,YCvEV,IAAM4qC,GAAsB,IAAIlO,gBAAa,kEAEvC9b,eAEF,SAAAA,EAAYxkB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAqgB,IACf9e,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAA4nB,GAAA1e,KAAA3B,KAAMnE,KAyJVy+B,cAAgB,WACZj4B,EAAayP,oBACRxP,KAAK,SAACM,GACH,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAChC,GAAIxH,GAAQA,EAAKA,KAAM,CACnB,IAAI2W,EAAY3W,EAAKA,KACrB2W,EAAUC,KAAK,SAAUjW,EAAGkW,GACxB,OAAO,IAAInK,KAAKmK,EAAEC,YAAc,IAAIpK,KAAK/L,EAAEmW,cAE/C5Y,aAAa6H,QAAQ,eAAgB1H,KAAK+I,UAAUuP,QAnKjDxQ,EAyKnBqzC,kBAAoB,SAACl3B,GAEbA,EAAapkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GAEzG,IAFA,IAFgC2wB,EAAA,SAIvBvuB,GACL,IAAMuH,EAAUwa,EAAW/hB,GAIvBuH,EAAQ5I,OAAU4I,EAAQ3H,QAC1B8G,EAAa0W,mBAAmB7V,EAAQhE,MAAMoD,KAAK,SAAA0W,GAC/C,IAAIC,EAAgBD,EAAU5d,KAC9B,GAAI6d,EAAc5gB,OAAQ,CACtB,IAAIw8C,EAAkB3xC,EAAQhE,KAAKka,cAAgB,MAC/C07B,EAAkB5xC,EAAQhE,KAAKka,cAAgB,MAC/CC,EAAQJ,EAAc7V,OAAO,SAAAC,GAAG,OAAIA,EAAInE,OAASgE,EAAQhE,OAASmE,EAAI9H,SAAWs5C,GAAmBxxC,EAAI9H,SAAWu5C,KACnHz7B,EAAMhhB,SACN6K,EAAQ3H,OAAS8d,EAAM,GAAG9d,OAC1B2H,EAAQ5I,MAAQ+e,EAAM,GAAG/e,MACzB4I,EAAQoW,SAAWD,EAAM,GAAGC,SAC5BhgB,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUkb,SAhB7D/hB,EAAQ,EAAGA,EAAQ+hB,EAAWrlB,OAAQsD,IAASuuB,EAA/CvuB,GAyBT,IAAIgiB,EAAarkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GA7BzEw4B,EAAA,SA+BvBp2B,GACL,IAAMuH,EAAUya,EAAWhiB,GACvBuH,EAAQ5I,OAAU4I,EAAQ3H,QAC1B8G,EAAa0W,mBAAmB7V,EAAQhE,MAAMoD,KAAK,SAAA0W,GAC/C,IAAIC,EAAgBD,EAAU5d,KAC9B,GAAI6d,EAAc5gB,OAAQ,CACtB,IAAIw8C,EAAkB3xC,EAAQhE,KAAKka,cAAgB,MAC/C07B,EAAkB5xC,EAAQhE,KAAKka,cAAgB,MAC/CC,EAAQJ,EAAc7V,OAAO,SAAAC,GAAG,OAAIA,EAAInE,OAASgE,EAAQhE,OAASmE,EAAI9H,SAAWs5C,GAAmBxxC,EAAI9H,SAAWu5C,KACnHz7B,EAAMhhB,SACN6K,EAAQ3H,OAAS8d,EAAM,GAAG9d,OAC1B2H,EAAQ5I,MAAQ+e,EAAM,GAAG/e,MACzB4I,EAAQoW,SAAWD,EAAM,GAAGC,SAC5BhgB,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUmb,SAbtE,IAAShiB,EAAQ,EAAGA,EAAQgiB,EAAWtlB,OAAQsD,IAASo2B,EAA/Cp2B,IAxMM4F,EAmVnBgpC,mBAAqB,SAAC5uC,GAElB,IAAI6uC,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GACzC4F,EAAKkpC,iBAAiBD,EAAc7uC,IAtVrB4F,EA0VnBkpC,iBA1VmB,eAAA9rB,EAAAlmB,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA0VA,SAAAC,EAAOyrB,EAAc7uC,GAArB,IAAA+uC,EAAAhY,EAAAiY,EAAAvvC,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEf9J,EAAKK,SAAS,CAAEgpC,YAAajvC,IAG7B4F,EAAKK,SAAS,CAAEipC,aAAa,EAAOhgB,YAAa,IAC7C6f,EAAe,GACGnpC,EAAKpJ,MAAM2yC,gBAPlBpY,EAAA7T,GAAA9iB,EAAA+iB,KAAA,SAAA4T,EASN/2B,GATM,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAWPjQ,EAAO,CACP+V,SAAY,MACZJ,cAAiBy5B,EAAa7uC,GAAOJ,OACrCyV,YAAew5B,EAAa7uC,GAAOrB,OAKvC+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAG3B,GAAI2X,EAAQ/B,aAAew5B,EAAa7uC,GAAOrB,MAAO,CAIlD,IAAIwmC,EAA8C,KAA/B/tB,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC5D+d,EAAY4gB,EAAa7uC,GAC7BiuB,EAAU5W,IAAMD,EAAQC,IACxB4W,EAAUzN,GAAK2kB,EACflX,EAAUmhB,IAAOh4B,EAAQC,IAAMD,EAAQlH,MACvC+d,EAAUohB,KAAM,IAAIljC,MAAOoE,iBAG3Bw+B,EAAapnC,KAAKsmB,MAGvB1T,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IAEtDrf,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQwE,KA1CjCmf,EAAA7T,KAAA,EAiDL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAjD1B,wBAAApL,EAAAK,SAAAmT,KASN/2B,EAAQ,EATF,YASKA,EAAQ6uC,EAAanyC,QAT1B,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAmI,EASN/2B,GATM,eASkCA,IATlCyuB,EAAA/e,KAAA,gBAuDX1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAIjB,OAHA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYR,EACrCnpC,EAAKpJ,MAAM8yC,WAAWjlC,GAAGmlC,mBAAoB,OAC7C5pC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAMnD1pC,EAAKK,SAAS,CAAEipC,aAAa,IAlEd,yBAAAzgB,EAAA7K,SAAAR,MA1VA,gBAAAS,EAAA6lB,GAAA,OAAA1mB,EAAAc,MAAAzf,KAAA5H,YAAA,GAAAmJ,EAsanB6pC,sBAtamB,eAAAC,EAAA5yC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsaK,SAAAmL,EAAOtuB,GAAP,IAAA6uC,EAAAvX,EAAAqY,EAAAr/B,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,OAEhBm/B,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GAIzC4F,EAAKK,SAAS,CAAE2pC,mBAAmB,IACnC//B,QAAQC,IAAI,kBAAmB9P,GAPXs3B,EAAApU,GAAA9iB,EAAA+iB,KAAA,SAAAmU,EAUXt3B,GAVW,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAaImI,GAAO,SAAU,SAEjCvH,EAAOuH,YAAgB,YACvBE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAew5B,EAAa7uC,GAAOrB,MACnCsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO6uC,GAAgBA,EAAa7uC,GAAOJ,SAG1F8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SACpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CACnDmT,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,iBAAkByY,EAAS5Y,MAGnE,IAAI6Y,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GACrHZ,EAAWhR,QAAQ,SAACC,EAASvH,GACzB+L,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,MA6B5BsI,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQivC,EAAa7uC,SAKrD6P,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,0BAE7C2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IACtD9pB,EAAOE,UAAUupC,EAAa7uC,GAAOJ,OAAS,qBAlFlC4uB,EAAA9e,KAAA,EAqFV,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OArFrB,wBAAAH,EAAA5K,SAAA0T,KAUXt3B,EAAQ,EAVG,YAUAA,EAAQ6uC,EAAanyC,QAVrB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAA0I,EAUXt3B,GAVW,eAU6BA,IAV7BivB,EAAAvf,KAAA,gBAyFhB1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAGjB,OAFA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYV,OACrCjpC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAOnD1pC,EAAKK,SAAS,CAAE2pC,mBAAmB,IAKnC//B,QAAQC,IAAI,yBAA0B++B,GAzGlB,yBAAA5f,EAAArL,SAAA0K,MAtaL,gBAAAqb,GAAA,OAAA+F,EAAA5rB,MAAAzf,KAAA5H,YAAA,GAAAmJ,EAihBnBkqC,4BAjhBmB,eAAA/gB,EAAAjyB,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAihBW,SAAA6L,EAAOhvB,GAAP,IAAA6uC,EAAA3I,EAAA6J,EAAAz/B,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2T,GAAA,cAAAA,EAAAzT,KAAAyT,EAAAvnB,MAAA,OAEtBm/B,EAAejpC,EAAKpJ,MAAM4K,WAAWpH,GAIzC4F,EAAKK,SAAS,CAAE2pC,mBAAmB,IACnC//B,QAAQC,IAAI,kBAAmB9P,GAPLkmC,EAAAhjB,GAAA9iB,EAAA+iB,KAAA,SAAA+iB,EAUjBlmC,GAViB,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAgT,GAAA,cAAAA,EAAA9S,KAAA8S,EAAA5mB,MAAA,cAaFmI,GAAO,SAAU,SAEjCvH,EAAOuH,YAAgB,YACvBE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAew5B,EAAa7uC,GAAOrB,MACnCsZ,SAAY,iBACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO6uC,GAAgBA,EAAa7uC,GAAOJ,SAG1F8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAClIb,EAAWhR,QAAQ,SAACC,EAASvH,GACzB+L,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IAExB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,KAQzD,IAAI6R,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GACjCvJ,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,eAAgB2Z,EAAaA,EAAa7c,OAAS,IAG3F,IAAIszC,EAAY,CACZjgC,KAAMkJ,EACNjJ,KAAM+I,EACN9I,IAAK+I,EACL9I,MAAO4I,EACPm3B,OAAQ/2B,GAGRQ,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAIRC,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,KAAM8Z,EAAOE,GAGjDtB,EAAW5b,OAAS,IACpBmyC,EAAa7uC,GAAO+L,gBAAkBA,EACtC8iC,EAAa7uC,GAAOkwC,UAAYp2B,KAAKjB,GACrCg2B,EAAa7uC,GAAOgM,cAAgBmkC,KAAK12B,UAAUu2B,GACnDnB,EAAa7uC,GAAOuZ,aAAeA,EAAaA,EAAa7c,OAAS,IAG1EmT,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQivC,EAAa7uC,SAKrD6P,QAAQC,IAAI++B,EAAa7uC,GAAOJ,OAAQ,0BAE7C2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IACtD9pB,EAAOE,UAAUupC,EAAa7uC,GAAOJ,OAAS,qBA7F5B02B,EAAA5mB,KAAA,EAgGhB,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhGf,wBAAA2H,EAAA1S,SAAAsiB,KAUjBlmC,EAAQ,EAVS,YAUNA,EAAQ6uC,EAAanyC,QAVf,CAAAu6B,EAAAvnB,KAAA,gBAAAunB,EAAArI,cAAAsX,EAUjBlmC,GAViB,eAUuBA,IAVvBi3B,EAAAvnB,KAAA,gBAoGtB1P,GACA4F,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACC,EAAS8C,GACpC,GAAI9C,EAAQvH,OAASA,EAGjB,OAFA4F,EAAKpJ,MAAM8yC,WAAWjlC,GAAGklC,UAAYV,OACrCjpC,EAAKK,SAAS,CAAEqpC,WAAY1pC,EAAKpJ,MAAM8yC,eAOnD1pC,EAAKK,SAAS,CAAE2pC,mBAAmB,IAKnC//B,QAAQC,IAAI,yBAA0B++B,GApHZ,yBAAA5X,EAAArT,SAAAoL,MAjhBX,gBAAAohB,GAAA,OAAArhB,EAAAjL,MAAAzf,KAAA5H,YAAA,GAAAmJ,EAyoBnByqC,oBAzoBmBvzC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAyoBG,SAAA2T,IAAA,IAAAqY,EAAAvD,EAAA5rC,EAAA4X,EAAAtH,EAAA7Q,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAkU,GAAA,cAAAA,EAAAhU,KAAAgU,EAAA9nB,MAAA,OAElB9J,EAAKK,SAAS,CAAE2pC,mBAAmB,IAE/BT,EAAkBvpC,EAAKpJ,MAAM2yC,gBAEjCt/B,QAAQC,IAAI,kBAAmBlK,EAAKpJ,MAAM2yC,gBAAgBzyC,QANxCkvC,EAAA1oB,GAAA9iB,EAAA+iB,KAAA,SAAAyoB,EAST5rC,GATS,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAA0T,GAAA,cAAAA,EAAAxT,KAAAwT,EAAAtnB,MAAA,cAUVkI,EAAgBC,GAAO,SAAU,SACjCvH,EAAOuH,YAAgB,YACXA,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY,MACZH,YAAezP,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOrB,MACjDsZ,SAAY,cACZC,SAAYL,GAAOD,GAAeE,OAAO,oBACzCK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxClS,EAAKK,SAAS,CAAE4pC,kBAAmB7vC,EAAQ,EAAI,KAAO4F,EAAKpJ,MAAM2yC,iBAAmBvpC,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,SAGtH8G,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAMtB,GALAuM,EAAWhR,QAAQ,SAAAC,GACfwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAI9E+Q,EAAW5b,OAAS,EAAG,CAEvByyC,EAAgBnvC,GAAO+L,gBAAkBA,EACzC,IAAIujC,EAAa1pC,EAAKpJ,MAAM8yC,WAC5B1pC,EAAKpJ,MAAM8yC,YAAc1pC,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GACnEswC,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgpC,GACjE,IAAIxc,EAAYob,EAAgB1nC,OAAO,SAAAC,GAAG,OAAIA,EAAI/I,OAAS4I,EAAQ5I,QAE/Do1B,EAAUr3B,SACV4yC,EAAWtvC,GAAOuvC,UAAUgB,GAAYxkC,gBAAkBgoB,EAAU,GAAGhoB,qBAInFnG,EAAKK,SAAS,CAAEqpC,WAAYA,IAC5B3xC,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUyoC,UAKtDz/B,QAAQC,IAAIlK,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,OAAQ,0BAE3D2a,MAAM,SAAAnW,GACLwB,EAAKK,SAAS,CAAEipB,YAAatpB,EAAKpJ,MAAM0yB,YAAc,IAEtD9pB,EAAOE,UAAUM,EAAKpJ,MAAM2yC,gBAAgBnvC,GAAOJ,OAAS,qBA7DlDo3B,EAAAtnB,KAAA,EAgER,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhEvB,wBAAAqI,EAAApT,SAAAgoB,KAST5rC,EAAQ,EATC,YASEA,EAAQ4F,EAAKpJ,MAAM2yC,gBAAgBzyC,QATrC,CAAA86B,EAAA9nB,KAAA,gBAAA8nB,EAAA5I,cAAAgd,EAST5rC,GATS,eAS6CA,IAT7Cw3B,EAAA9nB,KAAA,gBAmElB9J,EAAKK,SAAS,CAAE2pC,mBAAmB,IAnEjB,yBAAApY,EAAA5T,SAAAkT,MAzoBHlxB,EA+sBnBysB,oBAAsB,SAACC,GACnB,IAAIC,EAAW,GACf,IACI,IAAK,IAAIloB,EAAI,EAAGA,EAAIioB,EAAM51B,OAAQ2N,IAC9BkoB,EAAS5qB,KAAK6qB,OAAOC,aAAaH,EAAMjoB,KAE9C,MAAOhI,IAET,OAAOkwB,EAASG,KAAK,KAvtBN9sB,EA0tBnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQ+V,EAAOvG,EAAQpD,GAIlDrO,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmBmQ,GACxChY,aAAa6H,QAAQ,mBAAoB4J,GACzCzR,aAAa6H,QAAQ,gBAAiBwG,GAIlCsM,GAAcA,EAAW5b,OAAS,GAClCwN,SAASkD,eAAe,mBAAmB6I,SAvuBhCrQ,EA2uBnByuB,kBAAoB,SAACC,GAGjB,OAAQA,GACJ,IAAK,aACD,OAAI,IAAInoB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,cACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,aACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,iBACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,gBACD,MAAO,YAEX,IAAK,WACD,MAAO,YAEX,IAAK,UACD,MAAO,eA9wBAznB,EAqxBnBsyB,oBAAsB,SAACv5B,EAAO4I,GAG1B,IAEIitB,EAAe5uB,EAAKyuB,kBAAkB,WACtC/jB,EAAOuH,YAAgB2c,GACvB2D,EAAoBtgB,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAChDulB,EAAU,CACVrgB,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,UACZC,SAAYL,GAAOsgB,GAAmBrgB,OAT1B,oBAUZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAVjB,qBAYhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAClCsC,EAAO,GACX,GAAIrC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAKtD,IAJA,IAAIs5B,EAAcD,EAAUt2B,KACxB44B,EAAoB,GAAIC,EAAY,EAG/Bt4B,EAAQg2B,EAAYt5B,OAAS,GAAIsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC3E,IAAMuH,EAAUyuB,EAAYh2B,GACxBuH,IACA8wB,EAAkB1wB,KAAKJ,EAAQ,IAC/B+wB,GAAa/wB,EAAQ,IAM7B6wB,EAAOG,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQgf,IAC3CzyB,EAAKK,SAAS,CAAEuyB,eAAgBF,EAAY,KAE5C,IAAIG,EAAgBL,GAAQA,EAAKA,EAAK17B,OAAS,GAC/CmT,QAAQC,IAAInR,EAAO,OAAQ85B,GAEvBA,GACA7yB,EAAKK,SAAS,CAAEyyB,kBAAmBD,EAAeE,mBAAoB3C,EAAYA,EAAYt5B,OAAS,GAAG,KAG1Gs5B,EAAYA,EAAYt5B,OAAS,GAAG,GAAK47B,EAAY,IACrDzoB,QAAQC,IAAI,kBAAmBvI,OAj0B5B3B,EA60BnBwzC,qBAAuB,SAACx5C,GAepB,IACIy5C,GADY17C,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,IAC9E6J,OAAO,SAAAC,GAAG,OAAIA,EAAInE,OAAS3D,IACnD,GAAIy5C,GAAWA,EAAQ38C,OAAQ,CAE3B,IAAIk5B,EAAQyjB,EAAQ,GAIpBzzC,EAAKsyB,oBAAoBtC,EAAMj3B,OAE/B,IAGIiZ,EAAgBC,GAAO,SAAU,SAIjCpY,GAHOoY,YAAgB,YAGhB,CACPrC,SAAY,MACZH,YAAeugB,EAAMj3B,MACrBsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOD,GAAeE,OAXtB,oBAYZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAZjB,sBAgBhBpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIwtB,EAAczvB,EAAgBiC,EAAK,SAEvC,GADA4I,QAAQC,IAAI,aAAc2kB,GACtBA,GAAeA,EAAYh1B,KAAM,EAE7BA,EAAOg1B,EAAYh1B,MAEJ8gB,IAAI,SAAAoU,GACnB,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAHxI,IAQI5oB,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GACzJp1B,EAAK6H,QAAQ,SAACC,EAASutB,GACnB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAI5F,IAAI4V,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAGRC,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAI8lB,EAAMh2B,OAAQ,gBAAiB8Z,EAAOE,GAE9CA,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAI8lB,EAAMh2B,OAAQ,gBAAiB8Z,EAAOE,GAElD,IAAIR,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3Cyb,EAAYvb,KAAIC,UAAUL,GAE9BvJ,QAAQC,IAAI8lB,EAAMh2B,OAAQ,MAAOwZ,EAAU2b,GAC3CllB,QAAQC,IAAI8lB,EAAMh2B,OAAQ,OAAQiZ,EAAUiB,KAAKjB,IAGjD,IAAIpZ,EAAO,CACP+V,SAAYogB,EAAMjY,SAClBvI,cAAiBwgB,EAAMh2B,OACvByV,YAAeugB,EAAMj3B,OAEzB+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B2X,EAAQhI,OAAyC,KAA/BgI,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAI/DtK,EAAK0zB,gBAAgBvtB,EAAiB6pB,EAAMh2B,OAAQwX,EAAQC,IAAKD,EAAQhI,eAj7B1ExJ,EAq8BnBotB,kBAAoB,WAIhB,IAAIC,EAAU,GAUd,GATArtB,EAAKpJ,MAAM8yC,WAAWhoC,QAAQ,SAAAC,GACtBA,EAAQoF,eAAiB,KACzBpF,EAAQgoC,WAAahoC,EAAQgoC,UAAUjoC,QAAQ,SAAAsuB,GAC3C3C,EAAQtrB,KAAK,UAAYiuB,EAAMj3B,WAMvCs0B,GAAWA,EAAQv2B,OAAQ,CAC3B,IAAI8zC,EAAc,CACdrd,KAAQ,KACRF,QAAWA,EAAQP,KAAK,KACxB/zB,MAASiH,EAAKpJ,MAAMs2B,UACpBM,KAAQxtB,EAAKpJ,MAAMiK,WACnB4sB,OAAUztB,EAAKpJ,MAAMiK,YAGzBoJ,QAAQC,IAAI,uBAAwB0gC,GACpC9B,GAAoB3b,KAAKj1B,KAAK+I,UAAU2pC,MA79B7B5qC,EAm+BnBrD,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SAp+B3BkC,EAu+BnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IA1+Bd0B,EA6+BnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OAj/Bf7Q,EAo/BnBwkC,kBAAoB,SAACC,GAEjB,OAAIA,EACOA,EAAOl6B,QAAQ,GAEfk6B,GAz/BIzkC,EA4/BnB0zC,iBAAmB,WACf1zC,EAAKK,SAAS,CAAEszC,sBAAuB3zC,EAAKpJ,MAAM+8C,wBA7/BnC3zC,EAggCnB4zC,kBAAoB,SAAC55C,GACjB,IAAIy5C,EAAUzzC,EAAKpJ,MAAM05B,oBAAoBzuB,OAAO,SAAAC,GAAG,OAAIA,EAAInE,OAAS3D,IACxE,OAAIy5C,EAAQ38C,OACD,OAAS28C,EAAQ,GAAGpjB,eAEpB,IArgCIrwB,EAygCnB6zC,gBAAkB,SAAC75C,GAEf8G,EAAagzC,gBAAgB95C,GAAQ+G,KAAK,SAAAmvB,GACtC,GAAIA,GAAQA,EAAKr2B,MAAQq2B,EAAKr2B,KAAK/C,OAC/B,MAAO,SAAWo5B,EAAKr2B,KAAK,GAAGk3B,4BA7gCxB/wB,EAihCnB+zC,iBAAiB,SAACxI,GAIfxzC,aAAa6H,QAAQ,mBAAoB2rC,GACzCxzC,aAAa6H,QAAQ,mBAAoB,SACzC0E,SAASkD,eAAe,eAAe6I,SAvhCvBrQ,EAyhCnBg0C,aAAc,SAACzI,GACXxzC,aAAa6H,QAAQ,mBAAoB2rC,GACzCxzC,aAAa6H,QAAQ,mBAAoB,UACzC0E,SAASkD,eAAe,eAAe6I,SA1hCvCrQ,EAAKpJ,MAAQ,CAETq9C,SAAU,CACNC,WAAY,QACZC,aAAc,UACdC,aAAc,YACdC,eAAgB,YAChBC,oBAAqB,aACrBC,aAAc,UACdC,WAAY,QACZC,cAAe,WACfC,cAAe,WACfC,eAAgB,YAChBC,iBAAkB,SAClBC,eAAgB,YAChBC,iBAAkB,eAClBC,oBAAqB,iBACrBC,aAAc,OACdC,cAAe,WACfC,YAAa,SACbC,YAAa,UAkBjB3yB,UAAW,GACXiU,eAAgB,GAChB6S,aAAa,EACbuB,WAAY,EACZb,mBAAmB,EACnB2J,sBAAsB,EACtBrjB,oBAAqBv4B,aAAaC,QAAQ,wBAA0BE,KAAKC,MAAMJ,aAAaC,QAAQ,yBAA2B,GAC/HuxC,gBAAiBxxC,aAAaC,QAAQ,oBAAsBE,KAAKC,MAAMJ,aAAaC,QAAQ,qBAAuB,GACnH0xC,WAAY3xC,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGw2B,UAAWz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GACjGwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGmkB,WAAYpkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGokB,WAAYrkB,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpG02B,UAAW,kBAGf1uB,EAAKyqC,oBAAsBzqC,EAAKyqC,oBAAoBzoC,KAAzB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAxDZA,mFA2DC,IAAAmjB,EAAA1kB,KAGhBnH,OAAOgN,SAASa,MAAQ,WAGxB1G,KAAKqsC,kBAGL,IAAI7yC,EAASF,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAC/Ek1B,EAAYj1B,GAAUA,EAAOi1B,UAC7BhpB,EAAcnM,aAAaC,QAAQ,gBAAkBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBACrF6I,EAAaqD,GAAeA,EAAYrD,WAC5CpC,KAAK4B,SAAS,CAAE6sB,UAAWA,EAAWrsB,WAAYA,IAGlD,IAAImR,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SACvB0L,KAASsW,cAFR,GAIQwB,EAAYC,UAAUhY,EAAe8X,KAExDgf,GAAoBnb,OAAS,SAACtsB,KAM9BynC,GAAoBlb,UAAY,SAACruB,GAC7B,IAAIsuB,EAAUv2B,OAAOw2B,KAAKvuB,EAAQ1F,MAC9BA,EAAOspB,EAAKsJ,oBAAoBsB,KAAKC,QAAQH,IAC7CI,EAAW/1B,KAAKC,MAAM0B,GAG1BvC,OAAOgN,SAASa,MAAQ,mBAAqB8oB,EAASn3B,OAEtDqsB,EAAKvsB,MAAM8yC,YAAcvmB,EAAKvsB,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GAEnEswC,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgpC,GACjE,IAAIxc,EAAYF,EAASpsB,OAAO,SAAAC,GAAG,OAAIA,EAAIssB,IAAMzsB,EAAQ5I,QACrDo1B,EAAUr3B,OAAS,GAAKq3B,EAAU,GAAG1c,KAAO0c,EAAU,GAAGvT,KACzDuI,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYl5B,IAAM0c,EAAU,GAAG1c,IACtE0R,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAY/vB,GAAKuT,EAAU,GAAGvT,GACrEuI,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYnB,IAAMrb,EAAU,GAAGqb,IACtErmB,EAAKvsB,MAAM8yC,WAAWtvC,GAAOuvC,UAAUgB,GAAYlB,IAAMtb,EAAU,GAAGsb,IAEtEtmB,EAAKvsB,MAAM8yC,WAAWtvC,GAAOwvC,mBAAoB,OAK7DzmB,EAAK9iB,SAAS,CAAEqpC,WAAYvmB,EAAKvsB,MAAM8yC,cAgB3CZ,GAAoBza,QAAU,SAAC5xB,GAC3BwN,QAAQC,IAAI,eAAgBzN,GAC5BnF,OAAOwC,SAAS4uC,UAUpBplB,YAAY,WACRH,EAAK2nB,mBACN,iDAmFO,IAAAtnB,EAAA/kB,KACdA,KAAK4B,SAAS,CAAEo2B,eAAgB,GAAI6S,aAAa,EAAOhgB,YAAa,EAAGuhB,WAAY,IAEpF/pC,EAAaiqC,uBACRhqC,KAAK,SAACM,GAGH,GAAIA,EAAIxH,KAAM,CAEV,IAAI88B,EAAat1B,EAAIxH,MAAQwH,EAAIxH,KAAKA,KACtC88B,EAAWlmB,KAAK,SAAUjW,EAAGkW,GACzB,OAAOA,EAAEy6B,WAAa3wC,EAAE2wC,aAI5B3nB,EAAKnjB,SAAS,CAAEo2B,eAAgBE,EAAW,GAAGye,UAI9C,IAFA,IAAIj5B,EAAa,GAAIC,EAAa,GAVxBiqB,EAAA,SAYDjsC,GACL,IAAMuH,EAAUg1B,EAAWv8B,GACvBi7C,EAAW7xB,EAAK5sB,MAAMq9C,SAAStyC,EAAQ4pC,WAC3CthC,QAAQC,IAAI,UAAWmrC,EAAU1zC,EAAQwpC,YAErCkK,IACAprC,QAAQC,IAAI,UAAWvI,EAAQ4pC,UAAW8J,GAC1Cv0C,EAAaw0C,oBAAoBD,GAAUt0C,KAAK,SAAAM,GAM5C,GALA4I,QAAQC,IAAIvI,EAAQ4pC,UAAWlqC,EAAIxH,KAAKA,MACxC88B,EAAWv8B,GAAOuvC,UAAYtoC,EAAIxH,MAAQwH,EAAIxH,KAAKA,KACnD88B,EAAWv8B,GAAOsQ,KAAOrJ,EAAIxH,MAAQwH,EAAIxH,KAAK6Q,KAC9C8Y,EAAKnjB,SAAS,CAAEqpC,WAAY/S,IAExBh1B,EAAQwpC,YAAc,KAAwC,YAA/BxU,EAAWv8B,GAAOmxC,WAA2B5pC,EAAQwpC,YAAc,IAElG,IAFyG,IAAAoK,EAAA,SAEhGC,GACL,IAAMC,EAAep0C,EAAIxH,KAAKA,KAAK27C,GAC/BE,EAAY,CACZ/3C,KAAM83C,EAAaz7C,OACnByX,IAAKgkC,EAAaE,IAClB/6B,GAAI66B,EAAaG,eACjB54B,OAAQ2Z,EAAWv8B,GAAOmxC,UAC1B/9B,SAAS,IAAIjH,MAAOoE,kBAGxB,IAAIkrC,EAAQ99C,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GAChGi6C,EAAU4D,EAAMh0C,OAAO,SAAAC,GAAG,OAAIA,EAAInE,MAAQ83C,EAAaz7C,SAE3DiQ,QAAQC,IAAIurC,EAAaz7C,OAAQi4C,GAC5BA,EAAQn7C,SACTqlB,EAAWpa,KAAK2zC,GAChB39C,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUkb,MAhBjDq5B,EAAa,EAAGA,EAAan0C,EAAIxH,KAAKA,KAAK/C,OAAS,EAAG0+C,IAAc,CAAAD,EAArEC,GAqBb,GAAI7zC,EAAQwpC,aAAe,KAAwC,YAA/BxU,EAAWv8B,GAAOmxC,WAA2B5pC,EAAQwpC,aAAe,IAAO,CAEzF9pC,EAAIxH,KAAKA,KACfmZ,UAH+F,IAAA8iC,EAAA,SAKlGN,GACL,IAAMC,EAAep0C,EAAIxH,KAAKA,KAAK27C,GAC/BE,EAAY,CACZ/3C,KAAM83C,EAAaz7C,OACnByX,IAAKgkC,EAAaE,IAClB/6B,GAAI66B,EAAaG,eACjB54B,OAAQ2Z,EAAWv8B,GAAOmxC,UAC1B/9B,SAAS,IAAIjH,MAAOoE,kBAGxB,IAAIorC,EAAQh+C,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GAEhGi6C,EAAU8D,EAAMl0C,OAAO,SAAAC,GAAG,OAAIA,EAAInE,MAAQ83C,EAAaz7C,SAE3DiQ,QAAQC,IAAI,UAAWurC,EAAaz7C,OAAQi4C,GACvCA,EAAQn7C,SACTslB,EAAWra,KAAK2zC,GAChB39C,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUmb,MAjB1D,IAASo5B,EAAa,EAAGA,EAAan0C,EAAIxH,KAAKA,KAAK/C,OAAS,EAAG0+C,IAAc,KAEtEE,EAUAzD,EAZsE6D,EAArEN,OAsBd7gC,MAAM,SAAAnW,GAELyL,QAAQC,IAAI,mBAAoB1L,OAjEnCpE,EAAQ,EAAGA,EAAQu8B,EAAW7/B,OAAQsD,IAAS,KAEhDi7C,EAFgDhP,EAA/CjsC,OA2EhBua,MAAM,SAAC7U,MAILk2C,QAAQ,SAACC,GAGR7uC,WAAW,WACPoc,EAAK6vB,kBAAkB,OACxB,OAMX50C,KAAK4B,SAAS,CAAEipC,aAAa,qCAitBxB,IAAAvkB,EAAAtmB,KASD+mC,EAAsBvzB,GAAO,SAAU,SACvCwzB,EAAgBxzB,GAAO,UAAW,SAwBtC,OAvBwBA,GAAO,IAAI1L,KAAQ,SACrByjB,UAAUwb,EAAqBC,IACjDhnC,KAAK7H,MAAM8yC,YAAcjrC,KAAK7H,MAAM8yC,WAAWhoC,QAAQ,SAACgpC,EAAetwC,GAC/DswC,EAAc3jC,cAAgB,KAAQ2jC,EAAcd,mBACpDc,EAAcf,WAAae,EAAcf,UAAUjoC,QAAQ,SAACC,EAASgqC,GACjE,GAAIA,EAAS,EAAG,CACZ,IAAIC,EAAmB7zC,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GAC7G4zC,EAAiB/pC,OAAO,SAAAC,GAAG,OAAIA,EAAI/I,QAAU4I,EAAQ5I,QACtDjC,SACT6K,EAAQ6L,SAAU,IAAIjH,MAAOoE,iBAC7BihC,EAAiB7pC,KAAKJ,GACtB5J,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAU2qC,IACxD3hC,QAAQC,IAAIvI,EAAQhE,KAAO,gBAAkBguC,EAAS,IAAK,IAAIplC,MAAOoE,kBACtEoa,EAAKtW,QAAQ9M,EAAQhE,KAAO,gBAAkBguC,EAAS,UAW3EpxC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MAEA/b,EAAAC,EAAAC,cAACsS,GAAD,MACAxS,EAAAC,EAAAC,cAACy7C,GAAD,CAAW3K,UAAW9sC,KAAK7H,MAAMu/C,mBACjC57C,EAAAC,EAAAC,cAAC27C,GAAD,CAAkBpK,eAAgB,CAAEzf,cAAe9tB,KAAK7H,MAAM21B,cAAeuG,kBAAmBr0B,KAAK7H,MAAMk8B,kBAAmBC,mBAAoBt0B,KAAK7H,MAAMm8B,mBAAoBkZ,eAAgBxtC,KAAK7H,MAAMq1C,eAAgBtd,gBAAiBlwB,KAAK7H,MAAM+3B,gBAAiBS,YAAa3wB,KAAK7H,MAAMw4B,YAAaC,UAAW5wB,KAAK7H,MAAMy4B,UAAWF,UAAW1wB,KAAK7H,MAAMu4B,UAAW7b,WAAY7U,KAAK7H,MAAM0c,cAEvY/Y,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACpF,UAAU,WAAWlB,QAAS,EAAGf,MAAO,CAAE0Q,YAAa,MAAOC,aAAc,QACxGnR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,WAA9C,mBACqBhH,OAAOqK,KAAK9C,KAAK7H,MAAMq9C,UAAUn9C,OADtD,QACmE2H,KAAK7H,MAAM6/B,eAD9E,OAGIl8B,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAM4mB,EAAK+lB,oBAAhD,WAHJ,OAcIvwC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAK2uB,qBAA5B,yBAMRn5C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO,CAAE6rB,SAAU,SAC5BrsB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAK9B,UACjEpC,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,aAOvCW,KAAK7H,MAAM+8C,sBAAwBl1C,KAAK7H,MAAM8yC,WAAajrC,KAAK7H,MAAM8yC,WAAW/uB,IAAI,SAACkxB,EAAWzxC,GAAZ,OAGnFyxC,EAAUlC,UAAYpvC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACzChI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,OAAQ8O,WAAY,YAAakC,UAAW,WAYjExiB,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,SAChB7C,EAAAC,EAAAC,cAAA,aAAKL,EAAQ,EAAb,KAAkByxC,EAAUzxC,OAASyxC,EAAUN,UAAY,IAAMM,EAAU/U,KAA3E,IAAkF+U,EAAU9kC,eAAiB8kC,EAAUV,WAAvH,MADJ,SACqJU,EAAUnhC,KAAK9F,OAAO,GAAI,IAG/KrK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACpF,UAAU,WAAWlB,QAAS,GAEzD+vC,EAAUlC,WAAakC,EAAUlC,UAAUhvB,IAAI,SAAC1J,EAAYxM,GAAb,OAC5ClK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgiB,UAAW,WAEvBxiB,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmBK,EAAW2kC,gBAAiBhqC,SAAU,SAC1FnH,EAAI,EADT,KACcwM,EAAWjX,OADzB,IACkCiX,EAAW0kC,IAD7C,KACoD1kC,EAAW2kC,eAD/D,MAKC3kC,EAAW9K,gBAAkB5L,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE0gB,OAAQ,WAAatd,QAAS,kBAAM4mB,EAAK2O,gBAAgBziB,EAAW9K,gBAAiB8K,EAAWtT,KAAMsT,EAAWQ,IAAKR,EAAW2J,GAAI3J,EAAW7K,iBACzL7L,EAAAC,EAAAC,cAACqxC,GAAD,CAAW3lC,gBAAiB8K,EAAW9K,gBAAiBY,cAAekK,EAAW2J,GAAIxU,cAAe6K,EAAW7K,iBAC1G,GAET6K,EAAWq5B,UACR/vC,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,KACK8T,EAAWq5B,UAAY/vC,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE8f,WAAY5J,EAAWQ,IAAMR,EAAWq5B,UAAY,UAAY,MAAO1+B,SAAU,SAAhG,QAA+GrR,EAAAC,EAAAC,cAAA,SAAIwW,EAAWq5B,WAAar5B,EAAWq5B,UAAU//B,QAAQ,IAAxK,KAA0L,GADtN,OAGK0G,EAAW0C,aAAepZ,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,wBAAwBpK,MAAO,CAAE8f,WAAY5J,EAAW0C,cAAgB,GAAK,UAAY1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,aAAe,GAAK,YAAc,MAAO/H,SAAU,SAApM,OAAkNrR,EAAAC,EAAAC,cAAA,SAAIwW,EAAW0C,cAAjO,IAAoP1C,EAAW0C,aAAe,GAAK,KAAO1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,cAAgB,GAAK,MAAQ1C,EAAW0C,cAAgB,IAAM1C,EAAW0C,aAAe,GAAK,UAAY,OAA/a,KAAic,IAE9d,UAyDpB,KAET,GAGLpZ,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOhoB,GAAG,YAAYwI,aAAW,gBAAgByf,cAAY,EAACC,KAAK,SAC/DprB,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWC,OAAK,EAAClrB,MAAO,CAAE8qB,WAAY,WAGjCpnB,KAAK7H,MAAM+8C,sBAAwBl1C,KAAK7H,MAAM8yC,WAAajrC,KAAK7H,MAAM8yC,WAAW/uB,IAAI,SAACkxB,EAAWzxC,GAAZ,OAElFyxC,EAAUlC,UAAYpvC,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAO,EAAMf,IAAK9qB,GAC9CG,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAE8f,WAAY,cACzBtgB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQlD,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmBi7B,EAAUV,aAAe/tC,QAAQ,YAAce,QAAS,kBAAM4mB,EAAKivB,aAAanI,EAAUN,aAC7IM,EAAUN,UAAY,IAAMM,EAAU/U,KADxC,IAC+C+U,EAAUV,WADzD,KACsE5wC,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,OAF7E,OAKMD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAce,QAAS,kBAAM4mB,EAAKgvB,iBAAiBlI,EAAUN,aAA7E,UAKLM,EAAUlC,WAAakC,EAAUlC,UAAUhvB,IAAI,SAAC1J,EAAYxM,GAAb,OAC5ClK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEgiB,UAAW,SACzBxiB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAASE,QAAS,kBAAM4mB,EAAKyuB,qBAAqBviC,EAAWjX,UACvDO,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmBK,EAAW2kC,kBAA9D,KAAmFr7C,EAAAC,EAAAC,cAAA,SAAIgK,EAAI,EAAR,KAAnF,IAAoGwM,EAAWjX,OAA/G,IAAwHiX,EAAW0kC,IAAnI,KAA0I1kC,EAAW2kC,eAArJ,OACAr7C,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,gDAAZ,OAAkE4f,EAAK6uB,kBAAkB3iC,EAAWjX,QAApG,WAYd,KAEL,cA5vCZ6I,IAAMC,WA4xCZ+jB,eAHS,SAACjwB,GACrB,MAAO,CAAEJ,MAAOI,EAAMJ,MAAMA,MAAMqD,OAEE,CAAEsjB,kBAA3B0J,CAA4C/H,IC9xCrD2M,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAgEVw2C,cAAgB,WACZ7mC,QAAQC,IAAI,mBACZ4qB,cAAc90B,EAAKpJ,MAAMszB,8BACzB4K,cAAc90B,EAAKpJ,MAAMi6C,iBApEV7wC,EAuEnB+wC,YAAc,SAACt0C,GACXuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SAxE3BkC,EA4EnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQyX,EAAK9D,GACxC5V,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmB6R,GACxC1Z,aAAa6H,QAAQ,mBAAoB+N,EAAUpD,QAAQ,IAC3DjG,SAASkD,eAAe,mBAAmB6I,SAjF5BrQ,EAoFnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IAvFd0B,EAgGnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAMszB,8BACzBlqB,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAG/CW,KAAKmyC,sBArGM5wC,EA0GnBq2C,eAAiB,WAEbpsC,QAAQC,IAAI,uBAEZ,IAAI8H,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAIrC,GAHc0L,KAASsW,cAFR,GAKQwB,EAAYC,UAAUhY,EAAe8X,GAAU,CAClE,IAAIG,EAAe,IACfjqB,EAAKpJ,MAAM65C,kBAAoB,MAC/BxmB,EAA8C,IAA/BjqB,EAAKpJ,MAAM65C,mBAE9BzwC,EAAKK,SAAS,CAAE6pB,6BAA8B5G,YAAY,WAAQtjB,EAAK+xC,wBAA2B9nB,OA1HvFjqB,EA8HnByuB,kBAAoB,SAACC,GAKjB,OAAQA,GACJ,IAAK,aACD,OAAI,IAAInoB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,cACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,aACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,iBACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,gBACD,MAAO,WAEX,IAAK,WACD,MAAO,YAEX,IAAK,UACD,MAAO,cAnKAznB,EA0KnBgyC,qBAAsB,SAAClwC,GAEnB,IAAI0L,EAAU,IAAIjH,KAAKzE,EAAI0L,SAAS7C,iBAEjCsnC,EAAUjyC,EAAKpJ,MAAM69B,iBAAiB5yB,OAAO,SAAAF,GAAO,OAAKA,EAAQ5I,OAAS+I,EAAI/I,OAAS4I,EAAQ6L,SAAWA,IAG7G,GAFDvD,QAAQC,IAAI,UAAW+nC,IAElBA,EAAQn7C,OAAO,CAEf,IAAIo7C,EAAa,CACbn5C,MAAO+I,EAAI/I,MACXyU,QAASA,EACTiE,IAAK3P,EAAI2P,IACTzX,OAAQ8H,EAAI9H,OACZ4gB,GAAK9Y,EAAI6L,UAAUpD,QAAQ,GAC3B2G,UAAWpP,EAAIoP,WAEnBlR,EAAKpJ,MAAM69B,iBAAiB1yB,KAAKmwC,GAEjCn6C,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM69B,qBA7LxDz0B,EAkMnB4wC,iBAlMmB15C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAkMA,SAAAC,IAAA,IAAAgR,EAAAsO,EAAAnU,EAAAvuB,EAAAsQ,EAAA2hB,EAAAxyB,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEf9J,EAAKK,SAAS,CAAE8xC,2BAA4B,GAAIJ,qBAAsB,KAClEvjB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAGrFgI,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,GAXDnU,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAaNvuB,GAbM,IAAA2X,EAAA,OAAAuL,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAeX9J,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,uBAEvG1V,EAAU,mBACIE,GAAO,SAAU,SAASC,OAAOH,GAElC/R,EAAKyuB,kBAAkBzuB,EAAKpJ,MAAM83B,WACjDhkB,EAAOuH,YAAgB,aACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAGpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAGmwC,EAAqB,GAAIrjC,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAC1Jb,EAAWhR,QAAQ,SAACC,EAASutB,GACzB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAE3D,IAAI4E,KAAK5E,EAAQ,IAAI40C,cAAsB,IAAIhwC,KAAK5E,EAAQ,IAAI60C,WAAiB,IAAIjwC,KAAK5E,EAAQ,IAAI80C,UAGzHH,EAAqBv0C,KAAK,CACtBq1B,EAAG,IAAI7wB,KAAK5E,EAAQ,IAAIqtB,UACxBqI,GAAK11B,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IAGjDsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,KAMzD,IAAI+0C,EAAM/jB,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQP,IAC9CjJ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,MAAO08C,GAG5C,IAAIljC,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GAEjCvJ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,MAAOwZ,EAAUG,GACtD1J,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,OAAQiZ,EAAUiB,KAAKjB,IAG5D,IAQIa,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAIRC,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,gBAAiB8Z,EAAOE,GAG7D,IAAIo+B,EAAep+B,EAAGA,EAAGld,OAAS,GAC9Bs7C,IACAA,EAAapd,MAAQod,EAAapd,MAAMzqB,QAAQ,GAChD6nC,EAAand,OAASmd,EAAand,OAAO1qB,QAAQ,GAClD6nC,EAAald,MAAQkd,EAAald,MAAM3qB,QAAQ,IAGpD,IAAI8nC,EAAU,CACVziC,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAGpC+H,EAAawQ,OAAO+gC,GAAStxC,KAAK,SAAAM,GAC9B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAGxBkC,EAAeA,EAAavI,MAAOuI,EAAa7c,OAAS,EAAI6c,EAAa7c,QAE1E,IAAI6/C,EAAc,EAAGC,EAAgB,EAAGC,EAAoBljC,EAAa,GAAImjC,EAAsBnjC,EAAa,GAChHA,EAAajS,QAAQ,SAACC,EAAS8C,GACvBA,EAAI,GAAK9C,GAAW,IAAMA,GAAW,IACjCk1C,GAAqBl1C,IACrBk1C,EAAoBl1C,EACpBg1C,GAAe,GAInBlyC,EAAI,GAAK9C,GAAW,IAAMA,GAAW,IACjCA,GAAWm1C,IACXA,EAAsBn1C,EACtBi1C,GAAiB,KAK7B,IAAIG,EAAezjC,EAAW,GAc9B,GAbAA,EAAW5R,QAAQ,SAACC,EAAS8C,GACrBA,EAAI,GAAKsyC,EAAep1C,IACxBo1C,EAAep1C,EACD,KAItBsI,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,aAAcsZ,GAEnDrJ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,oBAAqB28C,GAC1D32C,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,gBAAkBkvB,IAGlJA,GAAe,GAAKC,GAAiB,EACrC,GAA8B,eAA1B52C,EAAKpJ,MAAM85C,YAA8B,CACzC,GAAI0B,GAAgB5gC,EAAQC,KAAO2gC,EAAapd,MAAO,CACnD,IAAIrnB,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC1DzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAAUkF,GAAcA,EAAWA,EAAW5b,OAAO,GAAG,GACxDoa,UAAW,MACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAE3Bm/B,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKgyC,qBAAqBn4C,GAE1BmG,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,WAAaqpB,EAAUp0B,GAAOJ,OAE1D,GAAIo4C,GAAgB5gC,EAAQC,KAAO2gC,EAAald,MAAO,CAC/CvnB,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACGzQ,EAAO,CACNG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAAUkF,GAAcA,EAAWA,EAAW5b,OAAO,GAAG,GACxDoa,UAAW,OACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAE3Bm/B,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKgyC,qBAAqBn4C,GAE1BmG,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,YAAcqpB,EAAUp0B,GAAOJ,YAExD,CAEH,IAAI40B,EAAe5uB,EAAKyuB,kBAAkB,WACtC/jB,EAAOuH,YAAgB2c,GACvB2D,EAAoBtgB,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAChDulB,EAAU,CACVrgB,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAY,UACZC,SAAYL,GAAOsgB,GAAmBrgB,OAAOH,GAC7CQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAExCjR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAClCsC,EAAO,GACX,GAAIrC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CACtD,IAAIs5B,EAAcD,EAAUt2B,KACxB44B,EAAoB,GACxBrC,EAAY1uB,QAAQ,SAACC,EAASutB,GAC1BuD,EAAkB1wB,KAAKJ,EAAQ,MAKnC,IAAIkxB,GAFJL,EAAOG,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQgf,MAEfD,EAAKA,EAAK17B,OAAS,GAG/C,GAFAmT,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,OAAQ64B,GAEzCrhB,EAAQC,IAAMohB,GAAiBuf,GAAgB5gC,EAAQC,KAAO2gC,EAAapd,MAAO,CAClF,IAAIrnB,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAE1DzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJvf,cAAeA,EACf1sB,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAAUkF,GAAcA,EAAWA,EAAW5b,OAAO,GAAG,GACxDoa,UAAW,MACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAI3Bm/B,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKgyC,qBAAqBn4C,GAE1BmG,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,WAAaqpB,EAAUp0B,GAAOJ,OAG1D,GAAIwX,EAAQC,IAAMohB,GAAiBuf,GAAgB5gC,EAAQC,KAAO2gC,EAAald,MAAO,CAC9EvnB,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACIzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJvf,cAAeA,EACf1sB,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAAUkF,GAAcA,EAAWA,EAAW5b,OAAO,GAAG,GACxDoa,UAAW,OACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAE3Bm/B,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKgyC,qBAAqBn4C,GAE1BmG,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,YAAcqpB,EAAUp0B,GAAOJ,oBA0BnFiQ,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,0BA7SlC2jB,EAAA7T,KAAA,GAiTL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAjT1B,yBAAApL,EAAAK,SAAA2K,KAaNvuB,EAAQ,EAbF,YAaKA,EAAQo0B,EAAU13B,QAbvB,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAaNvuB,GAbM,eAa+BA,IAb/ByuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MAlMAxd,EA2fnB+xC,qBA3fmB76C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA2fI,SAAAmL,IAAA,IAAAsT,EAAA7pB,EAAAqc,EAAAsO,EAAAtM,EAAAp2B,EAAAP,EAAAm9C,EAAA,OAAA15B,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,UAEnB9J,EAAKK,SAAS,CAAE8xC,2BAA4B,KAExCnW,EAAW/pB,YAAgB,YACf,mBACZE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS4pB,GAExCxN,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBAEb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAErFiS,QAAQC,IAAI,YAAalK,EAAKpJ,MAAMolB,kBAAmBwS,GAEvDxuB,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,IAEZtO,IAAaA,EAAU13B,OApBR,CAAAuyB,EAAAvf,KAAA,SAAA0mB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAqBNp2B,GArBM,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAsBLnI,EAAU6sB,EAAUp0B,GACtBP,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAtB1B,oBAuBJK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAvBzB,qBA0BJ8kC,EAAY58C,EAAQ,EAAI,KAAOuH,EAAQ3H,OAC3CgG,EAAKK,SAAS,CAAE8xC,2BAA4B6E,IAE5C1/C,OAAOgN,SAASa,MAAQ,OAAS6xC,EAEjCl2C,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAImgD,EAAoB,GACxBxkC,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClB,IAAIu1C,EAAwC,KAA3Bv1C,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAEtDu1C,GAAa,KACa,EAC1BD,EAAkBl1C,KAAK,6BAA+Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,YAEhJsyC,IAAc,KACY,EAC1BD,EAAkBl1C,KAAK,2BAA6Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,cAMtJ,IAAIi4B,EAAiB,GAMrB,GALApqB,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClBk7B,EAAe96B,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAI7Es1C,EAAkBngD,OAAQ,CAE1B,IAAI+C,EAAO,CACP+V,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAEpC+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAExB,IAAI9D,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC9DwyB,EAAU/6B,KAAK,CACX/H,OAAQw0B,EAAUp0B,GAAOJ,OACzByX,IAAKD,EAAQC,IACb9D,UAAWA,EACXspC,kBAAmBA,EAAkBnqB,KAAK,OAC1C3mB,gBAAiB02B,IAErB5yB,QAAQC,IAAI,YAAa4yB,GACzB98B,EAAKK,SAAS,CAAE0xC,qBAAsBjV,aAWlD7yB,QAAQC,IAAI,wBAhGT0e,EAAA9e,KAAA,EAmGL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnG1B,wBAAAH,EAAA5K,SAAAwS,KAqBNp2B,EAAQ,EArBF,aAqBKA,EAAQo0B,EAAU13B,QArBvB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EAqBNp2B,GArBM,iBAqB+BA,IArB/BivB,EAAAvf,KAAA,kCAAAuf,EAAArL,SAAA0K,MA3fJ1oB,EAomBnB4W,uBAAyB,SAACC,GAMtB5M,QAAQC,IAAI,iBAAkB2M,IA1mBf7W,EAgnBnB8W,YAAc,SAAChV,EAAK7K,EAAM8xC,GAItB,GADA9+B,QAAQC,IAAIpI,GACRA,EAAI/I,OAAS+I,EAAI9H,OAAQ,CACzB,GAAY,OAAR/C,EAAe,CACf+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAChC,IAAIhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAY9R,EAAKpJ,MAAMkb,WAE3BkF,GAAkBhG,sBAAsB+F,EAAY,MAAO,KAAM/W,EAAK4W,wBACtE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAIpC,GAAY,QAAR9xC,EAAgB,CAChB+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAC5BhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAY9R,EAAKpJ,MAAMkb,WAE3BkF,GAAkBhG,sBAAsB+F,EAAY,OAAQ,KAAM/W,EAAK4W,wBACvE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,UAGpCvpC,EAAOE,UAAU,yBA1oBrBM,EAAKpJ,MAAQ,CACT4K,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAmB,WACnBy0B,kBAAmB,EACnB/hB,UAAW,aACXC,gBAAiB,GACjB7c,UAAU,GACV4+B,YAAc,cACdjc,iBAAmB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,IAI3HgI,EAAK+xC,qBAAuB/xC,EAAK+xC,qBAAqB/vC,KAA1B9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAC5BA,EAAKq2C,eAAiBr2C,EAAKq2C,eAAer0C,KAApB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAhBPA,mFAoBC,IAAAmjB,EAAA1kB,KAEhBnH,OAAOgN,SAASa,MAAQ,gBAExB,IAAIqpB,EAAY/vB,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,mBACjDvd,KAAK4B,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAM7C,IAAIkb,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aAEnBsM,EAAiBvR,YAAY,WAC7B,IAAI5Y,EAAO,IAAInE,KACf0D,QAAQC,IAAI,+BAAgCQ,EAAK+c,sBAC7C/c,EAAKjE,aAAe,IAAM,IAC1BwD,QAAQC,IAAI,8CAA+CQ,EAAK+c,sBAEhErgB,WAAW,WACP+b,EAAKytB,oBACN,KACHztB,EAAK9iB,SAAS,CACVwwC,eACIvtB,YAAY,WACRrZ,QAAQC,IAAI,kDAAmDQ,EAAK+c,sBAChE2D,GAjBT,GAiB4BrB,EAAYC,UAAUhY,EAAe8X,IACxD3G,EAAKytB,oBAEV,QAGX9b,cAAcD,KAEnB,oDAgCHC,cAAcr2B,KAAK7H,MAAMszB,8BACzB4K,cAAcr2B,KAAK7H,MAAMi6C,iDAqjBpB,IAAArtB,EAAA/kB,KAIL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MACA/b,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsS,GAAD,MAHJ,IAGoBxS,EAAAC,EAAAC,cAACksC,GAAD,MAEhBpsC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,iBACqB1rB,KAAK7H,MAAMm7C,sBAAwBtzC,KAAK7H,MAAMm7C,qBAAqBj7C,OADxF,IAEIyD,EAAAC,EAAAC,cAAA,QAAMgD,GAAG,eAAe1C,MAAO,CAAE6Q,SAAU,OAAQ1N,MAAO,SAA1D,IAAsEO,KAAK7H,MAAMu7C,2BAAjF,OAMR53C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAO3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,YAKzCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM85C,YAAa/yC,KAAK,cAAchB,SAAU8B,KAAKod,mBACrEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,YACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,gBAAiB,qBAM9CvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKotB,qBAAhF,SACAr2C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKstB,kBAAhF,UAsBRv2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACtG,QAAS,GAGpB2C,KAAK7H,MAAMm7C,qBAAuBtzC,KAAK7H,MAAMm7C,qBAAqBp3B,IAAI,SAAC7Y,EAAK2C,GAAN,OAEnElK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEyqB,SAAU,OAAQzZ,QAAS,SACvCxR,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAEmD,MAAO4D,EAAI6L,UAAY,EAAI,QAAU,QAA1D,IAAqE7L,EAAI9H,OAAzE,IAAkF8H,EAAI2P,IAAtF,IAA2FlX,EAAAC,EAAAC,cAAA,aAAKqH,EAAI6L,UAAUpD,QAAQ,GAA3B,QAU1FzI,EAAIqE,gBAAgBrP,OAAS,EAAKyD,EAAAC,EAAAC,cAACsT,GAAAvT,EAAD,CAC/BkE,QAAS,CACL2I,MAAO,CACHpQ,KAAM,cACNwQ,OAAQ,KAEZtC,MAAO,CACH6I,KAAM,GACNC,MAAO,QAEXC,MAAO,CACHjX,KAAM,YAEVkX,MAAO,CACHC,QAAS,CACLC,SAAS,KAIrBC,OAAQ,CAAC,CACLzU,KAAMiI,EAAIqE,gBAAgBiF,MAAM0F,KAAKwe,IAAIxtB,EAAIqE,gBAAgBrP,OAAS,GAAI,MAY9EG,KAAK,cACL+D,MAAO,IACPyM,OAAQ,MAIP,GAILlN,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBAInFP,EAAI+wB,cAAgBt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAI+wB,cAAgB,QAAU,MAAO9Y,WAAY,SAAtG,cACLjY,EAAI+wB,cADC,IACe/wB,EAAI2P,IAAM3P,EAAI+wB,cAAgB,MAAQ,QAChE,GACVt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAIyoC,KAAO,QAAU,MAAOxwB,WAAY,SAA7F,UACYjY,EAAIyoC,MAEhBhwC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,QAEUT,EAAI8R,IAAI+G,IAAI,SAAChP,EAAMwpB,GAAP,OACdxpB,GAAQ,GAAKpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO,QAAS6b,WAAY,SAA3C,IAAuDpO,EAAvD,SAA6EpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,GAAQ,GAAK,MAAQ,GAAIoO,WAAY,SAA3D,IAAuEpO,EAAvE,YAKlGpR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,WAEWhI,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAGjc,MAAQ,QAAU,GAAIjb,WAAY,SAA1E,UAA4FjY,EAAImvC,GAAGjc,OAF9G,gBAGoBlzB,EAAImvC,GAAGhc,OAH3B,QAIW16B,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAG/b,MAAQ,MAAQ,GAAInb,WAAY,SAAxE,WAA2FjY,EAAImvC,GAAG/b,SAKjH36B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBACpF9H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACJ6X,EAAK5sB,MAAM,mBAAqBkL,EAAI9H,OAASyK,GAA+JlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA1JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,UAAUC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,MAAO,mBAAqBA,EAAI9H,OAASyK,KAAvI,QAGxDlK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACVpR,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAWI,MAAM,MAAMzG,KAAK,SAAS0G,KAAK,YAAYG,MAAO0lB,EAAK5sB,MAAMkb,UAAWnV,SAAU6mB,EAAKutB,eAIlGx2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GAEJ6X,EAAK5sB,MAAM,oBAAsBkL,EAAI9H,OAASyK,GAAoKlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA/JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,YAAYC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,OAAQ,oBAAsBA,EAAI9H,OAASyK,KAA3I,cASpE,YAj1BN5B,IAAMC,WA61BnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,gBCj4BTA,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAgEVw2C,cAAgB,WACZ7mC,QAAQC,IAAI,mBACZ4qB,cAAc90B,EAAKpJ,MAAMszB,8BACzB4K,cAAc90B,EAAKpJ,MAAMi6C,iBApEV7wC,EAyEnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQyX,EAAK9D,GACxC5V,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmB6R,GACxC1Z,aAAa6H,QAAQ,mBAAoB+N,EAAUpD,QAAQ,IAC3DjG,SAASkD,eAAe,mBAAmB6I,SA9E5BrQ,EAiFnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IApFd0B,EA6FnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAMszB,8BACzBlqB,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAG/CW,KAAKmyC,sBAlGM5wC,EAsGnB+wC,YAAc,SAACt0C,GACXuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SAvG3BkC,EA0GnBq2C,eAAiB,WAEbpsC,QAAQC,IAAI,uBAEZ,IAAI8H,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAIrC,GAHc0L,KAASsW,cAFR,GAKQwB,EAAYC,UAAUhY,EAAe8X,GAAU,CAClE,IAAIG,EAAe,IACfjqB,EAAKpJ,MAAM65C,kBAAoB,MAC/BxmB,EAA8C,IAA/BjqB,EAAKpJ,MAAM65C,mBAE9BzwC,EAAKK,SAAS,CAAE6pB,6BAA8B5G,YAAY,WAAQtjB,EAAK+xC,wBAA2B9nB,OA1HvFjqB,EA8HnByuB,kBAAoB,SAACC,GAKjB,OAAQA,GACJ,IAAK,aACD,OAAI,IAAInoB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,cACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,aACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,iBACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,gBACD,MAAO,WAEX,IAAK,WACD,MAAO,YAEX,IAAK,UACD,MAAO,cAnKAznB,EA0KnBgyC,qBAAuB,SAAClwC,GAEpB,IAAI0L,EAAU,IAAIjH,KAAKzE,EAAI0L,SAAS7C,iBAChCsnC,EAAUjyC,EAAKpJ,MAAM69B,iBAAiB5yB,OAAO,SAAAF,GAAO,OAAKA,EAAQ5I,OAAS+I,EAAI/I,OAAS4I,EAAQ6L,SAAWA,IAE9G,GADAvD,QAAQC,IAAI,UAAW+nC,GAClBA,EAAQn7C,OAeT,OAAO,EAdP,IAAIo7C,EAAa,CACbn5C,MAAO+I,EAAI/I,MACXyU,QAASA,EACTiE,IAAK3P,EAAI2P,IACTzX,OAAQ8H,EAAI9H,OACZ4gB,GAAI9Y,EAAI6L,UAAUpD,QAAQ,GAC1B2G,UAAWpP,EAAIoP,WAKnB,OAHAlR,EAAKpJ,MAAM69B,iBAAiB1yB,KAAKmwC,GAEjCn6C,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM69B,oBAC5D,GA3LIz0B,EAmMnB4wC,iBAnMmB15C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAmMA,SAAAC,IAAA,IAAAgR,EAAAsO,EAAAnU,EAAAvuB,EAAAsQ,EAAA2hB,EAAAxyB,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEf9J,EAAKK,SAAS,CAAE8xC,2BAA4B,GAAIJ,qBAAsB,KAClEvjB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAGrFgI,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,GAXDnU,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAaNvuB,GAbM,IAAA2X,EAAA,OAAAuL,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAeX9J,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,aAE9H1V,EAAU,mBACIE,GAAO,SAAU,SAASC,OAAOH,GAElC/R,EAAKyuB,kBAAkBzuB,EAAKpJ,MAAM83B,WACjDhkB,EAAOuH,YAAgB,aACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAGpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAImwC,EAAuB,GAAIrjC,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAC7Jb,EAAWhR,QAAQ,SAACC,EAASutB,GACzB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAE3D,IAAI4E,KAAK5E,EAAQ,IAAI40C,cAAsB,IAAIhwC,KAAK5E,EAAQ,IAAI60C,WAAiB,IAAIjwC,KAAK5E,EAAQ,IAAI80C,UAGzHH,EAAqBv0C,KAAK,CACtBq1B,EAAG,IAAI7wB,KAAK5E,EAAQ,IAAIqtB,UACxBqI,GAAI11B,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IAGhDsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,KAM/CgxB,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQP,IAA9C,IAIIM,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GAc7BM,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAIRC,EAAKC,KAAeJ,UAAUC,GAI9Bs+B,EAAep+B,EAAGA,EAAGld,OAAS,GAC9Bs7C,IACAA,EAAapd,MAAQod,EAAapd,MAAMzqB,QAAQ,GAChD6nC,EAAand,OAASmd,EAAand,OAAO1qB,QAAQ,GAClD6nC,EAAald,MAAQkd,EAAald,MAAM3qB,QAAQ,IAIpD,IAAI4sC,EAAY,CACZ1jC,OAAQP,EACRkkC,WAAY,GACZC,WAAY,GACZC,aAAc,EACdC,oBAAoB,EACpBC,gBAAgB,GAGhBC,EAAOC,KAAK7jC,UAAUsjC,GACtBQ,EAAgBF,EAAKA,EAAK3gD,OAAS,GAOnC6gD,GAAiBA,EAAcD,MAAQC,EAAcC,QACrD3tC,QAAQC,IAAI,OAAQskB,EAAUp0B,GAAOJ,OAAQ29C,GAGjD,IAAItF,EAAU,CACVziC,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAGpC+H,EAAawQ,OAAO+gC,GAAStxC,KAAK,SAAAM,GAC9B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAGxBkC,EAAeA,EAAavI,MAAOuI,EAAa7c,OAAS,EAAI6c,EAAa7c,QAU1EkJ,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,eAIpI,GAA8B,oBAA1BznB,EAAKpJ,MAAM85C,YACX,GAAI0B,GAAgB5gC,EAAQC,KAAO2gC,EAAapd,OAAStiB,EAAWA,EAAW5b,OAAS,GAAG,IAAM4b,EAAWA,EAAW5b,OAAS,GAAG,GAAI,CACnI,IAAI6W,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC1DzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,MACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAGvBqC,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,YAAcqpB,EAAUp0B,GAAOJ,OACvDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,wBAGrI,GAAI2qB,GAAgB5gC,EAAQC,KAAO2gC,EAAald,OAASxiB,EAAWA,EAAW5b,OAAS,GAAG,IAAM4b,EAAWA,EAAW5b,OAAS,GAAG,GAAI,CACtI6W,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACIzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,OACXvT,KAAM6wB,EAAUp0B,GAAOuD,MAEvBqC,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,aAAeqpB,EAAUp0B,GAAOJ,OACxDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,yBAIxIznB,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,0BAqBpJxd,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,0BA/NlC2jB,EAAA7T,KAAA,GAmOL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnO1B,yBAAApL,EAAAK,SAAA2K,KAaNvuB,EAAQ,EAbF,YAaKA,EAAQo0B,EAAU13B,QAbvB,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAaNvuB,GAbM,eAa+BA,IAb/ByuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MAnMAxd,EA8anB+xC,qBA9amB76C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA8aI,SAAAmL,IAAA,IAAAsT,EAAA7pB,EAAAqc,EAAAsO,EAAAtM,EAAAp2B,EAAAP,EAAAm9C,EAAA,OAAA15B,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,UAEnB9J,EAAKK,SAAS,CAAE8xC,2BAA4B,KAExCnW,EAAW/pB,YAAgB,YACf,mBACZE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS4pB,GAExCxN,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBAEb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAErFiS,QAAQC,IAAI,YAAalK,EAAKpJ,MAAMolB,kBAAmBwS,GAEvDxuB,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,IAEZtO,IAAaA,EAAU13B,OApBR,CAAAuyB,EAAAvf,KAAA,SAAA0mB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAqBNp2B,GArBM,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAsBLnI,EAAU6sB,EAAUp0B,GACtBP,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAtB1B,oBAuBJK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAvBzB,qBA0BJ8kC,EAAY58C,EAAQ,EAAI,KAAOuH,EAAQ3H,OAC3CgG,EAAKK,SAAS,CAAE8xC,2BAA4B6E,IAE5C1/C,OAAOgN,SAASa,MAAQ,OAAS6xC,EAEjCl2C,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAImgD,EAAoB,GACxBxkC,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClB,IAAIu1C,EAAwC,KAA3Bv1C,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAEtDu1C,GAAa,KACa,EAC1BD,EAAkBl1C,KAAK,6BAA+Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,YAEhJsyC,IAAc,KACY,EAC1BD,EAAkBl1C,KAAK,2BAA6Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,cAMtJ,IAAIi4B,EAAiB,GAMrB,GALApqB,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClBk7B,EAAe96B,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAI7Es1C,EAAkBngD,OAAQ,CAE1B,IAAI+C,EAAO,CACP+V,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAEpC+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAExB,IAAI9D,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC9DwyB,EAAU/6B,KAAK,CACX/H,OAAQw0B,EAAUp0B,GAAOJ,OACzByX,IAAKD,EAAQC,IACb9D,UAAWA,EACXspC,kBAAmBA,EAAkBnqB,KAAK,OAC1C3mB,gBAAiB02B,IAErB5yB,QAAQC,IAAI,YAAa4yB,GACzB98B,EAAKK,SAAS,CAAE0xC,qBAAsBjV,aAWlD7yB,QAAQC,IAAI,wBAhGT0e,EAAA9e,KAAA,EAmGL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnG1B,wBAAAH,EAAA5K,SAAAwS,KAqBNp2B,EAAQ,EArBF,aAqBKA,EAAQo0B,EAAU13B,QArBvB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EAqBNp2B,GArBM,iBAqB+BA,IArB/BivB,EAAAvf,KAAA,kCAAAuf,EAAArL,SAAA0K,MA9aJ1oB,EAuhBnB4W,uBAAyB,SAACC,GAMtB5M,QAAQC,IAAI,iBAAkB2M,IA7hBf7W,EAmiBnB8W,YAAc,SAAChV,EAAK7K,EAAM8xC,GAItB,GADA9+B,QAAQC,IAAIpI,GACRA,EAAI/I,OAAS+I,EAAI9H,OAAQ,CACzB,GAAY,OAAR/C,EAAe,CACf+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAChC,IAAIhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,MAAO,KAAM/W,EAAK4W,wBACtE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAIpC,GAAY,QAAR9xC,EAAgB,CAChB+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAC5BhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,OAAQ,KAAM/W,EAAK4W,wBACvE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,UAGpCvpC,EAAOE,UAAU,yBA/jBrBM,EAAKpJ,MAAQ,CACT4K,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAmB,WACnBy0B,kBAAmB,EACnB/hB,UAAW,iBACXC,gBAAiB,GACjB+hB,YAAa,mBACb5+B,UAAW,GACX2iB,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,IAI1HgI,EAAK+xC,qBAAuB/xC,EAAK+xC,qBAAqB/vC,KAA1B9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAC5BA,EAAKq2C,eAAiBr2C,EAAKq2C,eAAer0C,KAApB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAhBPA,mFAoBC,IAAAmjB,EAAA1kB,KAEhBnH,OAAOgN,SAASa,MAAQ,MAExB,IAAIqpB,EAAY/vB,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,mBACjDvd,KAAK4B,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAM7C,IAAIkb,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aAEnBsM,EAAiBvR,YAAY,WAC7B,IAAI5Y,EAAO,IAAInE,KACf0D,QAAQC,IAAI,+BAAgCQ,EAAK+c,sBAC7C/c,EAAKjE,aAAe,IAAM,IAC1BwD,QAAQC,IAAI,8CAA+CQ,EAAK+c,sBAEhErgB,WAAW,WACP+b,EAAKytB,oBACN,KACHztB,EAAK9iB,SAAS,CACVwwC,eACIvtB,YAAY,WACRrZ,QAAQC,IAAI,kDAAmDQ,EAAK+c,sBAChE2D,GAjBT,GAiB4BrB,EAAYC,UAAUhY,EAAe8X,IACxD3G,EAAKytB,oBAEV,QAGX9b,cAAcD,KAEnB,oDA6BHC,cAAcr2B,KAAK7H,MAAMszB,8BACzB4K,cAAcr2B,KAAK7H,MAAMi6C,iDA6epB,IAAArtB,EAAA/kB,KAIL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MACA/b,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsS,GAAD,MAHJ,IAGoBxS,EAAAC,EAAAC,cAACksC,GAAD,MAEhBpsC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,iBACqB1rB,KAAK7H,MAAMm7C,sBAAwBtzC,KAAK7H,MAAMm7C,qBAAqBj7C,OADxF,IAEIyD,EAAAC,EAAAC,cAAA,QAAMgD,GAAG,eAAe1C,MAAO,CAAE6Q,SAAU,OAAQ1N,MAAO,SAA1D,IAAsEO,KAAK7H,MAAMu7C,2BAAjF,OAMR53C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAO3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,YAKzCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM85C,YAAa/yC,KAAK,cAAchB,SAAU8B,KAAKod,mBACrEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,YACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,gBAAiB,kBAClCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,oBAAqB,yBAQlDvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKotB,qBAAhF,SACAr2C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKstB,kBAAhF,UAsBRv2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACtG,QAAS,GAGpB2C,KAAK7H,MAAMm7C,qBAAuBtzC,KAAK7H,MAAMm7C,qBAAqBp3B,IAAI,SAAC7Y,EAAK2C,GAAN,OAEnElK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEyqB,SAAU,OAAQzZ,QAAS,SACvCxR,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAEmD,MAAO4D,EAAI6L,UAAY,EAAI,QAAU,QAA1D,IAAqE7L,EAAI9H,OAAzE,IAAkF8H,EAAI2P,IAAtF,IAA2FlX,EAAAC,EAAAC,cAAA,aAAKqH,EAAI6L,UAAUpD,QAAQ,GAA3B,QAU1FzI,EAAIqE,gBAAgBrP,OAAS,EAAIyD,EAAAC,EAAAC,cAACsT,GAAAvT,EAAD,CAC9BkE,QAAS,CACL2I,MAAO,CACHpQ,KAAM,cACNwQ,OAAQ,KAEZtC,MAAO,CACH6I,KAAM,GACNC,MAAO,QAEXC,MAAO,CACHjX,KAAM,YAEVkX,MAAO,CACHC,QAAS,CACLC,SAAS,KAIrBC,OAAQ,CAAC,CACLzU,KAAMiI,EAAIqE,gBAAgBiF,MAAM0F,KAAKwe,IAAIxtB,EAAIqE,gBAAgBrP,OAAS,GAAI,MAY9EG,KAAK,cACL+D,MAAO,IACPyM,OAAQ,MAIP,GAILlN,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBAInFP,EAAI+wB,cAAgBt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAI+wB,cAAgB,QAAU,MAAO9Y,WAAY,SAAtG,cACLjY,EAAI+wB,cADC,IACe/wB,EAAI2P,IAAM3P,EAAI+wB,cAAgB,MAAQ,QAChE,GACVt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAIyoC,KAAO,QAAU,MAAOxwB,WAAY,SAA7F,UACYjY,EAAIyoC,MAEhBhwC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,QAEUT,EAAI8R,IAAI+G,IAAI,SAAChP,EAAMwpB,GAAP,OACdxpB,GAAQ,GAAKpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO,QAAS6b,WAAY,SAA3C,IAAuDpO,EAAvD,SAA6EpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,GAAQ,GAAK,MAAQ,GAAIoO,WAAY,SAA3D,IAAuEpO,EAAvE,YAKlGpR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,WAEWhI,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAGjc,MAAQ,QAAU,GAAIjb,WAAY,SAA1E,UAA4FjY,EAAImvC,GAAGjc,OAF9G,gBAGoBlzB,EAAImvC,GAAGhc,OAH3B,QAIW16B,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAG/b,MAAQ,MAAQ,GAAInb,WAAY,SAAxE,WAA2FjY,EAAImvC,GAAG/b,SAKjH36B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBACpF9H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACJ6X,EAAK5sB,MAAM,mBAAqBkL,EAAI9H,OAASyK,GAA+JlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA1JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,UAAUC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,MAAO,mBAAqBA,EAAI9H,OAASyK,KAAvI,QAGxDlK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACNpR,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAWI,MAAM,MAAMzG,KAAK,SAAS0G,KAAK,YAAYG,MAAO0lB,EAAK5sB,MAAMkb,UAAWnV,SAAU6mB,EAAKutB,eAGtGx2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GAEJ6X,EAAK5sB,MAAM,oBAAsBkL,EAAI9H,OAASyK,GAAoKlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA/JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,YAAYC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,OAAQ,oBAAsBA,EAAI9H,OAASyK,KAA3I,cASpE,YAxwBN5B,IAAMC,WAoxBnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MCvzBTA,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACnBzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAgENw2C,cAAgB,WACZ7mC,QAAQC,IAAI,mBACZ4qB,cAAc90B,EAAKpJ,MAAMszB,8BACzB4K,cAAc90B,EAAKpJ,MAAMi6C,iBApEV7wC,EAyEnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQyX,EAAK9D,GACxC5V,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GACzCjC,aAAa6H,QAAQ,kBAAmB6R,GACxC1Z,aAAa6H,QAAQ,mBAAoB+N,EAAUpD,QAAQ,IAC3DjG,SAASkD,eAAe,mBAAmB6I,SA9E5BrQ,EAiFnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IApFd0B,EA6FnB6b,kBAAoB,SAACpf,GACjBq4B,cAAc90B,EAAKpJ,MAAMszB,8BACzBlqB,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAG/CW,KAAKmyC,sBAlGM5wC,EAsGnB+wC,YAAc,SAACt0C,GACXuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,SAvG3BkC,EA0GnBq2C,eAAiB,WAEbpsC,QAAQC,IAAI,uBAEZ,IAAI8H,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAIrC,GAHc0L,KAASsW,cAFR,GAKQwB,EAAYC,UAAUhY,EAAe8X,GAAU,CAClE,IAAIG,EAAe,IACfjqB,EAAKpJ,MAAM65C,kBAAoB,MAC/BxmB,EAA8C,IAA/BjqB,EAAKpJ,MAAM65C,mBAE9BzwC,EAAKK,SAAS,CAAE6pB,6BAA8B5G,YAAY,WAAQtjB,EAAK+xC,wBAA2B9nB,OA1HvFjqB,EA8HnByuB,kBAAoB,SAACC,GAKjB,OAAQA,GACJ,IAAK,aACD,OAAI,IAAInoB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,cACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,aACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,iBACD,OAAI,IAAIlhB,MAAOkhB,qBAAuB,WAC3B,WAEA,WAEf,IAAK,gBACD,MAAO,WAEX,IAAK,WACD,MAAO,YAEX,IAAK,UACD,MAAO,cAnKAznB,EA0KnBgyC,qBAAuB,SAAClwC,GAEpB,IAAI0L,EAAU,IAAIjH,KAAKzE,EAAI0L,SAAS7C,iBAChCsnC,EAAUjyC,EAAKpJ,MAAM69B,iBAAiB5yB,OAAO,SAAAF,GAAO,OAAKA,EAAQ5I,OAAS+I,EAAI/I,OAAS4I,EAAQ6L,SAAWA,IAE9G,GADAvD,QAAQC,IAAI,UAAW+nC,GAClBA,EAAQn7C,OAeT,OAAO,EAdP,IAAIo7C,EAAa,CACbn5C,MAAO+I,EAAI/I,MACXyU,QAASA,EACTiE,IAAK3P,EAAI2P,IACTzX,OAAQ8H,EAAI9H,OACZ4gB,GAAI9Y,EAAI6L,UAAUpD,QAAQ,GAC1B2G,UAAWpP,EAAIoP,WAKnB,OAHAlR,EAAKpJ,MAAM69B,iBAAiB1yB,KAAKmwC,GAEjCn6C,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM69B,oBAC5D,GA3LIz0B,EAmMnB4wC,iBAnMmB15C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAmMA,SAAAC,IAAA,IAAAgR,EAAAsO,EAAAnU,EAAAvuB,EAAAsQ,EAAA2hB,EAAAxyB,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEf9J,EAAKK,SAAS,CAAE8xC,2BAA4B,GAAIJ,qBAAsB,KAClEvjB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBACb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAGrFgI,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,GAXDnU,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAaNvuB,GAbM,IAAA2X,EAAA,OAAAuL,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAeX9J,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,aAE9H1V,EAAU,mBACIE,GAAO,SAAU,SAASC,OAAOH,GAElC/R,EAAKyuB,kBAAkBzuB,EAAKpJ,MAAM83B,WACjDhkB,EAAOuH,YAAgB,aACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAExC7Q,EAAO,CACP+V,SAAY4e,EAAUp0B,GAAO2d,SAC7BtI,YAAe+e,EAAUp0B,GAAOrB,MAChCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGxCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAGpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KACtBsM,EAAkB,GAAImwC,EAAuB,GAAIrjC,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAC7Jb,EAAWhR,QAAQ,SAACC,EAASutB,GACzB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAE3D,IAAI4E,KAAK5E,EAAQ,IAAI40C,cAAsB,IAAIhwC,KAAK5E,EAAQ,IAAI60C,WAAiB,IAAIjwC,KAAK5E,EAAQ,IAAI80C,UAGzHH,EAAqBv0C,KAAK,CACtBq1B,EAAG,IAAI7wB,KAAK5E,EAAQ,IAAIqtB,UACxBqI,GAAI11B,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IAGhDsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,KAM/CgxB,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQP,IAA9C,IAIIM,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3CC,EAAeC,KAAIC,UAAUL,GAc7BM,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAIRC,EAAKC,KAAeJ,UAAUC,GAI9Bs+B,EAAep+B,EAAGA,EAAGld,OAAS,GAC9Bs7C,IACAA,EAAapd,MAAQod,EAAapd,MAAMzqB,QAAQ,GAChD6nC,EAAand,OAASmd,EAAand,OAAO1qB,QAAQ,GAClD6nC,EAAald,MAAQkd,EAAald,MAAM3qB,QAAQ,IAIpD,IAAI4sC,EAAY,CACZ1jC,OAAQP,EACRkkC,WAAY,GACZC,WAAY,GACZC,aAAc,EACdC,oBAAoB,EACpBC,gBAAgB,GAGhBC,EAAOC,KAAK7jC,UAAUsjC,GACtBQ,EAAgBF,EAAKA,EAAK3gD,OAAS,GAOnC6gD,GAAiBA,EAAcD,MAAQC,EAAcC,QACrD3tC,QAAQC,IAAI,OAAQskB,EAAUp0B,GAAOJ,OAAQ29C,GAGjD,IAAItF,EAAU,CACVziC,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAGpC+H,EAAawQ,OAAO+gC,GAAStxC,KAAK,SAAAM,GAC9B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAGxBkC,EAAeA,EAAavI,MAAOuI,EAAa7c,OAAS,EAAI6c,EAAa7c,QAU1EkJ,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,eAIpI,GAA8B,aAA1BznB,EAAKpJ,MAAM85C,aAAyD,iBAA1B1wC,EAAKpJ,MAAM85C,YAErD,GAAIiH,GAAiBA,EAAcD,MAAQC,EAAcC,OAAQ,CAC7D,IAAIjqC,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC1DzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,MACXvT,KAAM6wB,EAAUp0B,GAAOuD,KACvBk6C,SAAWJ,EAAKrsC,MAAM0F,KAAKwe,IAAImoB,EAAK3gD,OAAS,EAAG,IAChDghD,YAAa,kBAGb93C,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,cACvC1C,OAAOgN,SAASa,MAAQ,aAAeqpB,EAAUp0B,GAAOJ,OACxDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,wBAGrI,GAAIkwB,GAAiBA,EAAcD,MAAQC,EAAcC,OAAQ,CAChEjqC,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACIzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,OACXvT,KAAM6wB,EAAUp0B,GAAOuD,KACvBk6C,SAAWJ,EAAKrsC,MAAM0F,KAAKwe,IAAImoB,EAAK3gD,OAAS,EAAG,IAChDghD,YAAa,oBAGb93C,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,cACvC1C,OAAOgN,SAASa,MAAQ,cAAgBqpB,EAAUp0B,GAAOJ,OACzDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,yBAIxIznB,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,kBAI5I,GAA8B,aAA1BznB,EAAKpJ,MAAM85C,aAAyD,oBAA1B1wC,EAAKpJ,MAAM85C,YACrD,GAAI0B,GAAgB5gC,EAAQC,KAAO2gC,EAAapd,OAAStiB,EAAWA,EAAW5b,OAAS,GAAG,IAAM4b,EAAWA,EAAW5b,OAAS,GAAG,GAAI,CAC/H6W,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACIzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,MACXvT,KAAM6wB,EAAUp0B,GAAOuD,KACvBm6C,YAAa,iBAIb93C,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,YAAcqpB,EAAUp0B,GAAOJ,OACvDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,wBAGrI,GAAI2qB,GAAgB5gC,EAAQC,KAAO2gC,EAAald,OAASxiB,EAAWA,EAAW5b,OAAS,GAAG,IAAM4b,EAAWA,EAAW5b,OAAS,GAAG,GAAI,CACtI6W,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAA9D,IACIzQ,EAAO,CACPG,OAAQw0B,EAAUp0B,GAAOJ,OACzBjB,MAAOy1B,EAAUp0B,GAAOrB,MACxB0Y,IAAKD,EAAQC,IACb9D,UAAWA,EACX2kC,SAAU3+B,EAAaA,EAAa7c,OAAS,GAC7C8c,IAAKD,EACL42B,KAAMr2B,KAAKjB,GACXg+B,GAAImB,EACJjsC,gBAAiBA,EACjBmwC,qBAAsBA,EACtB9oC,QAASkF,GAAcA,EAAWA,EAAW5b,OAAS,GAAG,GACzDoa,UAAW,OACXvT,KAAM6wB,EAAUp0B,GAAOuD,KACvBm6C,YAAa,kBAGb93C,EAAKgyC,qBAAqBn4C,KAC1BijC,EAAU/6B,KAAKlI,GACfmG,EAAKK,SAAS,CAAE0xC,qBAAsBjV,IACtC98B,EAAKyO,QAAQ+f,EAAUp0B,GAAOJ,OAAS,YACvC1C,OAAOgN,SAASa,MAAQ,aAAeqpB,EAAUp0B,GAAOJ,OACxDgG,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,yBAIxIznB,EAAKK,SAAS,CAAE8xC,2BAA4B/3C,EAAQ,EAAI,KAAOo0B,EAAUp0B,GAAOJ,OAAS,QAAS,IAAIuM,MAAOkhB,qBAAuB,0BAkBpJxd,QAAQC,IAAIskB,EAAUp0B,GAAOJ,OAAQ,0BA/RlC2jB,EAAA7T,KAAA,GAmSL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnS1B,yBAAApL,EAAAK,SAAA2K,KAaNvuB,EAAQ,EAbF,YAaKA,EAAQo0B,EAAU13B,QAbvB,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAaNvuB,GAbM,eAa+BA,IAb/ByuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MAnMAxd,EA8enB+xC,qBA9emB76C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA8eI,SAAAmL,IAAA,IAAAsT,EAAA7pB,EAAAqc,EAAAsO,EAAAtM,EAAAp2B,EAAAP,EAAAm9C,EAAA,OAAA15B,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,UAEnB9J,EAAKK,SAAS,CAAE8xC,2BAA4B,KAExCnW,EAAW/pB,YAAgB,YACf,mBACZE,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS4pB,GAExCxN,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBAEb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAErFiS,QAAQC,IAAI,YAAalK,EAAKpJ,MAAMolB,kBAAmBwS,GAEvDxuB,EAAKK,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAGzCgmC,EAAY,IAEZtO,IAAaA,EAAU13B,OApBR,CAAAuyB,EAAAvf,KAAA,SAAA0mB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAqBNp2B,GArBM,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAsBLnI,EAAU6sB,EAAUp0B,GACtBP,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAtB1B,oBAuBJK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAvBzB,qBA0BJ8kC,EAAY58C,EAAQ,EAAI,KAAOuH,EAAQ3H,OAC3CgG,EAAKK,SAAS,CAAE8xC,2BAA4B6E,IAE5C1/C,OAAOgN,SAASa,MAAQ,OAAS6xC,EAEjCl2C,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAImgD,EAAoB,GACxBxkC,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClB,IAAIu1C,EAAwC,KAA3Bv1C,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAEtDu1C,GAAa,KACa,EAC1BD,EAAkBl1C,KAAK,6BAA+Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,YAEhJsyC,IAAc,KACY,EAC1BD,EAAkBl1C,KAAK,2BAA6Bm1C,EAAU3sC,QAAQ,GAAK,QAAU,IAAIhE,KAAK5E,EAAQ,IAAI8lB,qBAAqB7iB,OAAO,EAAG,GAAK,cAMtJ,IAAIi4B,EAAiB,GAMrB,GALApqB,EAAS5Y,KAAK6H,QAAQ,SAAAC,GAClBk7B,EAAe96B,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAI7Es1C,EAAkBngD,OAAQ,CAE1B,IAAI+C,EAAO,CACP+V,SAAY,MACZJ,cAAiBgf,EAAUp0B,GAAOJ,OAClCyV,YAAe+e,EAAUp0B,GAAOrB,OAEpC+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAE3B,GAAI2X,GAAWA,EAAQC,IAAK,CAExB,IAAI9D,EAA4C,KAA/B6D,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,MAC9DwyB,EAAU/6B,KAAK,CACX/H,OAAQw0B,EAAUp0B,GAAOJ,OACzByX,IAAKD,EAAQC,IACb9D,UAAWA,EACXspC,kBAAmBA,EAAkBnqB,KAAK,OAC1C3mB,gBAAiB02B,IAErB5yB,QAAQC,IAAI,YAAa4yB,GACzB98B,EAAKK,SAAS,CAAE0xC,qBAAsBjV,aAWlD7yB,QAAQC,IAAI,wBAhGT0e,EAAA9e,KAAA,EAmGL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAnG1B,wBAAAH,EAAA5K,SAAAwS,KAqBNp2B,EAAQ,EArBF,aAqBKA,EAAQo0B,EAAU13B,QArBvB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EAqBNp2B,GArBM,iBAqB+BA,IArB/BivB,EAAAvf,KAAA,kCAAAuf,EAAArL,SAAA0K,MA9eJ1oB,EAulBnB4W,uBAAyB,SAACC,GAMtB5M,QAAQC,IAAI,iBAAkB2M,IA7lBf7W,EAmmBnB8W,YAAc,SAAChV,EAAK7K,EAAM8xC,GAItB,GADA9+B,QAAQC,IAAIpI,GACRA,EAAI/I,OAAS+I,EAAI9H,OAAQ,CACzB,GAAY,OAAR/C,EAAe,CACf+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAChC,IAAIhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,MAAO,KAAM/W,EAAK4W,wBACtE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAIpC,GAAY,QAAR9xC,EAAgB,CAChB+I,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,IAC5BhyB,EAAa,CACbhe,MAAO+I,EAAI/I,MACXiB,OAAQ8H,EAAI9H,OACZ8X,UAAW9R,EAAKpJ,MAAMkb,WAE1B7H,QAAQC,IAAI6M,GACZC,GAAkBhG,sBAAsB+F,EAAY,OAAQ,KAAM/W,EAAK4W,wBACvE5W,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiB6xC,GAAe,UAGpCvpC,EAAOE,UAAU,yBA/nBrBM,EAAKpJ,MAAQ,CACT4K,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAmB,WACnBy0B,kBAAmB,EACnB/hB,UAAW,iBACXC,gBAAiB,GACjB+hB,YAAa,YACb5+B,UAAW,GACX2iB,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,IAI1HgI,EAAK+xC,qBAAuB/xC,EAAK+xC,qBAAqB/vC,KAA1B9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAC5BA,EAAKq2C,eAAiBr2C,EAAKq2C,eAAer0C,KAApB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAhBPA,mFAoBC,IAAAmjB,EAAA1kB,KAEhBnH,OAAOgN,SAASa,MAAQ,MAExB,IAAIqpB,EAAY/vB,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,mBACjDvd,KAAK4B,SAAS,CAAEowC,kBAAmBjiB,EAAU13B,SAM7C,IAAIkb,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aAEnBsM,EAAiBvR,YAAY,WAC7B,IAAI5Y,EAAO,IAAInE,KACf0D,QAAQC,IAAI,+BAAgCQ,EAAK+c,sBAC7C/c,EAAKjE,aAAe,IAAM,IAC1BwD,QAAQC,IAAI,8CAA+CQ,EAAK+c,sBAEhErgB,WAAW,WACP+b,EAAKytB,oBACN,KACHztB,EAAK9iB,SAAS,CACVwwC,eACIvtB,YAAY,WACRrZ,QAAQC,IAAI,kDAAmDQ,EAAK+c,sBAChE2D,GAjBT,GAiB4BrB,EAAYC,UAAUhY,EAAe8X,IACxD3G,EAAKytB,oBAEV,QAGX9b,cAAcD,KAEnB,oDA6BHC,cAAcr2B,KAAK7H,MAAMszB,8BACzB4K,cAAcr2B,KAAK7H,MAAMi6C,iDA6iBpB,IAAArtB,EAAA/kB,KAIL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MACA/b,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsS,GAAD,MAHJ,IAGoBxS,EAAAC,EAAAC,cAACksC,GAAD,MAEhBpsC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,iBACqB1rB,KAAK7H,MAAMm7C,sBAAwBtzC,KAAK7H,MAAMm7C,qBAAqBj7C,OADxF,IAEIyD,EAAAC,EAAAC,cAAA,QAAMgD,GAAG,eAAe1C,MAAO,CAAE6Q,SAAU,OAAQ1N,MAAO,SAA1D,IAAsEO,KAAK7H,MAAMu7C,2BAAjF,OAMR53C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAO3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKod,mBACjEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,SAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,SACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,UAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,UACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,UACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,UAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,YAKzCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,eACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM85C,YAAa/yC,KAAK,cAAchB,SAAU8B,KAAKod,mBAGrEthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAE/BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,oBAAqB,sBACtCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,sBAQ/CvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKotB,qBAAhF,SACAr2C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAKstB,kBAAhF,UAsBRv2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACtG,QAAS,GAGpB2C,KAAK7H,MAAMm7C,qBAAuBtzC,KAAK7H,MAAMm7C,qBAAqBp3B,IAAI,SAAC7Y,EAAK2C,GAAN,OAEnElK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEyqB,SAAU,OAAQzZ,QAAS,SACvCxR,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAEmD,MAAO4D,EAAI6L,UAAY,EAAI,QAAU,QAA1D,IAAqE7L,EAAI9H,OAAzE,IAAkF8H,EAAI2P,IAAtF,IAA2FlX,EAAAC,EAAAC,cAAA,aAAKqH,EAAI6L,UAAUpD,QAAQ,GAA3B,OAA3F,aAA+IzI,EAAIg2C,aAUlJh2C,EAAIqE,gBAAgBrP,OAAS,EAAIyD,EAAAC,EAAAC,cAACsT,GAAAvT,EAAD,CAC9BkE,QAAS,CACL2I,MAAO,CACHpQ,KAAM,cACNwQ,OAAQ,KAEZtC,MAAO,CACH6I,KAAM,GACNC,MAAO,QAEXC,MAAO,CACHjX,KAAM,YAEVkX,MAAO,CACHC,QAAS,CACLC,SAAS,KAIrBC,OAAQ,CAAC,CACLzU,KAAMiI,EAAIqE,gBAAgBiF,MAAM0F,KAAKwe,IAAIxtB,EAAIqE,gBAAgBrP,OAAS,GAAI,MAY9EG,KAAK,cACL+D,MAAO,IACPyM,OAAQ,MAIP,GAILlN,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBAInFP,EAAI+wB,cAAgBt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAI+wB,cAAgB,QAAU,MAAO9Y,WAAY,SAAtG,cACLjY,EAAI+wB,cADC,IACe/wB,EAAI2P,IAAM3P,EAAI+wB,cAAgB,MAAQ,QAChE,GACVt4B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAO4D,EAAI2P,IAAM3P,EAAIyoC,KAAO,QAAU,MAAOxwB,WAAY,SAA7F,UACYjY,EAAIyoC,MAEhBhwC,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,QACUT,EAAI8R,IAAI+G,IAAI,SAAChP,EAAMwpB,GAAP,OACdxpB,GAAQ,GAAKpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO,QAAS6b,WAAY,SAA3C,IAAuDpO,EAAvD,SAA6EpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,GAAQ,GAAK,MAAQ,GAAIoO,WAAY,SAA3D,IAAuEpO,EAAvE,YAGlGpR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,WAEWhI,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAGjc,MAAQ,QAAU,GAAIjb,WAAY,SAA1E,UAA4FjY,EAAImvC,GAAGjc,OAF9G,gBAGoBlzB,EAAImvC,GAAGhc,OAH3B,QAIW16B,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO4D,EAAI2P,KAAO3P,EAAImvC,GAAG/b,MAAQ,MAAQ,GAAInb,WAAY,SAAxE,WAA2FjY,EAAImvC,GAAG/b,QAE7G36B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAAvB,SACWT,EAAI+1C,SAASl9B,IAAI,SAAChP,EAAMwpB,GAAP,OACpB56B,EAAAC,EAAAC,cAAA,gBAAQkR,EAAK+rC,MAAQ/rC,EAAK+rC,KAAKntC,QAAQ,GAAvC,WAEJhQ,EAAAC,EAAAC,cAAA,WAJJ,gBAKkBqH,EAAI+1C,SAASl9B,IAAI,SAAChP,EAAMwpB,GAAP,OAC3B56B,EAAAC,EAAAC,cAAA,gBAAQkR,EAAKisC,QAAUjsC,EAAKisC,OAAOrtC,QAAQ,GAA3C,WAEJhQ,EAAAC,EAAAC,cAAA,WARJ,mBASqBqH,EAAI+1C,SAASl9B,IAAI,SAAChP,EAAMwpB,GAAP,OAC9B56B,EAAAC,EAAAC,cAAA,gBAAQkR,EAAKosC,WAAapsC,EAAKosC,UAAUxtC,QAAQ,GAAjD,aAMZhQ,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMzQ,MAAO,CAAEgR,QAAS,OAAS3J,WAAS,EAACpF,UAAU,WAAWqF,QAAQ,iBACpF9H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACJ6X,EAAK5sB,MAAM,mBAAqBkL,EAAI9H,OAASyK,GAA+JlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA1JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,UAAUC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,MAAO,mBAAqBA,EAAI9H,OAASyK,KAAvI,QAGxDlK,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GACNpR,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAWI,MAAM,MAAMzG,KAAK,SAAS0G,KAAK,YAAYG,MAAO0lB,EAAK5sB,MAAMkb,UAAWnV,SAAU6mB,EAAKutB,eAGtGx2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,GAEJ6X,EAAK5sB,MAAM,oBAAsBkL,EAAI9H,OAASyK,GAAoKlK,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAA/JD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYc,MAAM,YAAYC,QAAS,kBAAMqlB,EAAK1M,YAAYhV,EAAK,OAAQ,oBAAsBA,EAAI9H,OAASyK,KAA3I,cASpE,YAr1BN5B,IAAMC,WAi2BnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MCj4BT5f,GAAcC,aAbL,SAACzQ,GAAD,MAAY,CACzB0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,IAEzBkQ,YAAa,CACXpR,SAAU,WACVqR,MAAO5Q,EAAMS,QAAQ,GACrB8L,IAAKvM,EAAMS,QAAQ,GACnBoC,MAAO7C,EAAMI,QAAQyQ,KAAK,QAIVJ,CAAmB,SAACxR,GAAU,IACxC6R,EAAyC7R,EAAzC6R,SAAU5P,EAA+BjC,EAA/BiC,QAAS6P,EAAsB9R,EAAtB8R,QAAYC,EADSnV,OAAAoV,GAAA,EAAApV,CACCoD,EADD,kCAEhD,OACEC,EAAAC,EAAAC,cAACoR,GAAA,EAAD3U,OAAAqV,OAAA,CAAgBC,mBAAiB,EAACxP,UAAWT,EAAQwI,MAAUsH,GAC7D9R,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,MAAM+O,GACzBC,EACC7R,EAAAC,EAAAC,cAACgS,GAAA,EAAD,CAAYxG,aAAW,QAAQjJ,UAAWT,EAAQyP,YAAa7N,QAASiO,GACtE7R,EAAAC,EAAAC,cAACiS,GAAAlS,EAAD,OAEA,QAKJmS,GAAgBb,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJgH,QAAS1Q,EAAMS,QAAQ,MAFLgQ,CAIlBc,MAEEC,GAAgBf,aAAW,SAACzQ,GAAD,MAAY,CAC3C0J,KAAM,CACJ5I,OAAQ,EACR4P,QAAS1Q,EAAMS,QAAQ,MAHLgQ,CAKlBgB,MAEW,SAASC,GAAkBzS,GAExC,IAAIk3C,EAAiBl3C,EAAMoM,UAAUioB,gBAErC1kB,QAAQC,IAAI,iBAAkBsnC,GAJiB,IAAAnsC,EAMvBxC,IAAMyC,UAAS,GANQC,EAAArO,OAAAsO,GAAA,EAAAtO,CAAAmO,EAAA,GAMxC8E,EANwC5E,EAAA,GAMlCyH,EANkCzH,EAAA,GAAA0H,EAQrBpK,IAAMyC,SAAS,CACvCzL,KAAO,GACPqT,WAAY,GACZwhB,UAAW,gBAXkCvhB,EAAAjW,OAAAsO,GAAA,EAAAtO,CAAA+V,EAAA,GA0BzCG,GA1ByCD,EAAA,GAAAA,EAAA,GA0B3B,WAClBH,GAAQ,KAIV,OACEzS,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,WAAWK,GAAG,iBAAiBS,MAAM,UAAUnD,MAAO,CAACgB,QAAQ,QAASoC,QAVpE,WACtB6O,GAAQ,KASN,SAGAzS,EAAAC,EAAAC,cAAC4S,GAAA,EAAD,CAAQvQ,SAAU,KAAMsP,QAASgB,EAAaE,kBAAgB,0BAA0BnD,KAAMA,GAC5F5P,EAAAC,EAAAC,cAACu9C,GAAD,CAAav6C,GAAG,0BAA0B2O,QAASgB,GAAnD,OAkBCokC,EAAe7zC,KAlBhB,MAkByB6zC,EAAe//B,IAlBxC,MAkBgD+/B,EAAehoC,OAlB/D,MAsBAjP,EAAAC,EAAAC,cAACw9C,GAAD,CAAenqC,UAAQ,EAACrQ,GAAG,SAG3BlD,EAAAC,EAAAC,cAAC0M,GAAD,CAAeT,UAAW,CAAC0B,aAAaopC,EAAeA,eAAgBxoC,aAAcwoC,EAAeviB,qBAKpG10B,EAAAC,EAAAC,cAACy9C,GAAD,KAKE39C,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQJ,WAAS,EAACM,QAASiP,EAAalP,MAAM,WAA9C,gBCvGJ4oB,eAEF,SAAAA,EAAYxsB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAqoB,IACf9mB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAA4vB,GAAA1mB,KAAA3B,KAAMnE,KAyDVuhB,kBAAoB,SAACpf,GAEjBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAG/CW,KAAK05C,qBA/DMn4C,EAqEnBm4C,gBArEmBjhD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAqED,SAAAC,IAAA,IAAAgR,EAAA7F,EAAAvuB,EAAA,OAAAkjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OACV0kB,EAAYxuB,EAAKpJ,MAAM4K,WAAWxB,EAAKpJ,MAAMolB,mBAEb,aAAhChc,EAAKpJ,MAAMolB,oBACXwS,EAAYz2B,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAKrFgI,EAAKK,SAAS,CAAE+3C,WAAY,KATdzvB,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAULvuB,GAVK,IAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,UAWJhI,EAAM0sB,EAAUp0B,GAER4F,EAAKpJ,MAAM05B,oBAAoBzuB,OAAO,SAAA8J,GAAI,OAAIA,EAAK5S,OAAS+I,EAAI/I,QACjEjC,OAdH,CAAA6mB,EAAA7T,KAAA,eAeN9J,EAAK+vB,qBAAqBjuB,EAAI/I,MAAO+I,EAAK1H,EAAQ,GAf5CujB,EAAA7T,KAAA,EAgBA,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhB/B,wBAAApL,EAAAK,SAAA2K,KAULvuB,EAAQ,EAVH,YAUMA,EAAQo0B,EAAU13B,QAVxB,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAULvuB,GAVK,eAUgCA,IAVhCyuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MArECxd,EA2FnByuB,kBAAoB,SAACC,GAGjB,OAAQA,GACJ,IAAK,aACD,MAAO,YAEX,IAAK,cAGL,IAAK,aAGL,IAAK,iBACD,MAAO,aAEX,IAAK,gBAGL,IAAK,WACD,MAAO,aAEX,IAAK,UACD,MAAO,eAlHA1uB,EA0HnBq4C,qBAAqB,SAACt/C,EAAO21B,GAEzBzkB,QAAQC,IAAKnR,EAAM21B,GAEnB,IAAIhkB,EAAO1K,EAAKyuB,kBAAkBC,GAG9BrC,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxCulB,EAAU,CACVrgB,SAAY,MACZH,YAAe1W,EACfsZ,SAAYqc,EACZpc,SAAYL,GAAOoa,GAAWna,OAPlB,oBAQZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OARjB,qBAUhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAEtC,GAAIC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAItD,IAHA,IAAIs5B,EAAcD,EAAUt2B,KACeo1B,EAAiB,GAEnD70B,EAAQ,EAAGA,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CACrD,IAAMuH,EAAUyuB,EAAYh2B,GAC5B60B,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,2BAG5F,IAAMszC,EAAiBphB,EAAYzV,IAAI,SAAAoU,GACnC,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAIpIupB,EAAiBvgD,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,mBAE/FsgD,EAAe9G,eAAiBA,EAChC8G,EAAerpB,iBAAmBA,EAGlCjvB,EAAKK,SAAS,CAACsuB,gBAAiB2pB,QAhKzBt4C,EAyKnB+vB,qBAAuB,SAACh3B,EAAOi3B,EAAOuoB,GACdtmC,GAAO,SAAU,SAArC,IAEIvH,EAAOuH,YAAgB,aACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxCulB,EAAU,CACVrgB,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,cACZC,SAAYL,GAAOoa,GAAWna,OAPlB,oBAQZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OARjB,qBAUhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAEtC,GAAIC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAMtD,IALA,IAAIs5B,EAAcD,EAAUt2B,KACeo1B,EAAiB,GAExDoB,EAAiB,EAEZj2B,EAAQg2B,EAAYt5B,OAAS,IAAKsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC5E,IAAMuH,EAAUyuB,EAAYh2B,GAE5B,GAAIuH,EAAS,CACT,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAEhDiuB,GAAO,KACPS,GAAkB,GAGlBT,IAAQ,KACRS,GAAkB,GAI1BpB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,2BAS5F,GAJA+L,QAAQC,IAAI,aAAc8lB,EAAMryB,KAAM0yB,EAAgBpB,GAEtDjvB,EAAKK,SAAS,CAAE+3C,WAAY,SAAWG,EAAa,KAAOvoB,EAAMryB,KAAO,cAAgB0yB,IAEpFA,GAAkB,GAGlB,IADcrwB,EAAKpJ,MAAM05B,oBAAoBzuB,OAAO,SAAA8J,GAAI,OAAIA,EAAK5S,OAASA,IAC7DjC,OAAQ,CACjBk5B,EAAMK,eAAiBA,EACvBL,EAAMwoB,WAAax4C,EAAKpJ,MAAMolB,kBAE9B,IAAI7V,EAAkB,GACtBiqB,EAAY1uB,QAAQ,SAAAC,GAChBwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAIlF,IAAM6vC,EAAiBphB,EAAYzV,IAAI,SAAAoU,GACnC,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAMxIiB,EAAM7pB,gBAAkBA,EACxB6pB,EAAMwhB,eAAkBA,EACxBxhB,EAAMf,iBAAoBA,EAE1BjvB,EAAKK,SAAS,CAAEiwB,oBAAmB,GAAA7a,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM05B,qBAAjB,CAAsCN,KAAU,mBA9OpFhwB,EA2PnBuwB,yBA3PmBr5B,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA2PQ,SAAAmL,IAAA,IAAA8H,EAAAp2B,EAAAsQ,EAAA2hB,EAAA4D,EAAA,OAAA3S,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,OAAA0mB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAEdp2B,GAFc,IAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,WAGbhI,EAAM9B,EAAKpJ,MAAM05B,oBAAoBl2B,IAElCq+C,YALU,CAAA7vB,EAAA9e,KAAA,eAMC,mBACZY,EAAOuH,YAAgB,YACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxBuH,GAAO,SAAU,SAEjCge,EAAU,CACVrgB,SAAY,MACZH,YAAe3N,EAAI/I,MACnBsZ,SAAY,cACZC,SAAYL,GAAOoa,GAAWna,OATlB,oBAUZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAVjB,qBAYhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAEtC,GAAIC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAMtD,IALA,IAAIs5B,EAAcD,EAAUt2B,KAGxBw2B,EAAiB,EAAGqoB,EAAkB,EAAGC,EAAe,EAAGC,EAAiB,GAAIC,EAAkB,EAE7Fz+C,EAAQg2B,EAAYt5B,OAAS,EAAGsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC1E,IAAMuH,EAAUyuB,EAAYh2B,GAE5B,GAAIuH,EAAS,CACT,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAChDiuB,GAAO,IACPS,GAAkB,EAClBwoB,EAAkBl3C,EAAQ,GAC1Bi3C,EAAiB,IAAIryC,KAAK5E,EAAQ,IAAIgJ,kBAEtCilB,GAAO,KACP8oB,GAAmB,EACnBG,EAAkBl3C,EAAQ,GAC1Bi3C,EAAiB,IAAIryC,KAAK5E,EAAQ,IAAIgJ,kBAEtCilB,GAAO,IACP+oB,GAAgB,IAK5B,IAAIxyC,EAAkB,GACtBiqB,EAAY1uB,QAAQ,SAAAC,GAChBwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAIlFG,EAAIqE,gBAAkBA,EAGtB,IAAI2yC,EAAS54B,aAAO,YAAc9lB,EAAQ,GAAK,IAAM0H,EAAInE,KAAO,kBAAoB0yB,EAAgB,4BAA6BqoB,EAAgB,6BAA8BC,EAAa,QAE5L34C,EAAKK,SAAS,CAAE+3C,WAAaU,IAC7B7uC,QAAQC,IAAIpI,EAAI9H,OAAQq2B,EAAgBqoB,EAAiBC,GAEzD,IAAII,EAAe,iBAAmB1oB,EAAgB,4BAA6BqoB,EAAgB,6BAA8BC,EAAa,WAAa,IAAIpyC,KAAK6pB,EAAYA,EAAYt5B,OAAO,GAAG,IAAI2wB,qBAE1M3lB,EAAIg3C,OAASC,GAET1oB,GAAkB,GAAMqoB,GAAmB,GAAKC,GAAgB,KAEhE72C,EAAI22C,aAAc,EAClB32C,EAAI82C,eAAiBA,EACrB92C,EAAI+2C,gBAAkBA,EAEtBvhD,OAAOgN,SAASa,MAAQ,OAASrD,EAAI9H,OACrCiQ,QAAQC,IAAI,yBAA2BpI,EAAI9H,OAAS,WAEpDgG,EAAKyO,QAAQ,yBAA2B3M,EAAI9H,OAAS,WACrDgG,EAAKK,SAAS,CAAEiwB,oBAAqBtwB,EAAKpJ,MAAM05B,qBAAuB,WACnE7xB,KAAK8xC,aAAa,qBA7EnB3nB,EAAA9e,KAAA,GAwFT,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAxFtB,yBAAAH,EAAA5K,SAAAwS,KAEdp2B,EAAQ,EAFM,YAEHA,EAAQ4F,EAAKpJ,MAAM05B,oBAAoBx5B,QAFpC,CAAAuyB,EAAAvf,KAAA,eAAAuf,EAAAL,cAAAwH,EAEdp2B,GAFc,eAE4CA,IAF5CivB,EAAAvf,KAAA,gCAAAuf,EAAArL,SAAA0K,MA3PR1oB,EA2VnBg5C,sBA3VmB9hD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA2VK,SAAA6L,IAAA,IAAA+H,EAAA/2B,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2T,GAAA,cAAAA,EAAAzT,KAAAyT,EAAAvnB,MAAA,OAAAqnB,EAAA7T,GAAA9iB,EAAA+iB,KAAA,SAAA4T,EAEX/2B,GAFW,IAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAgT,GAAA,cAAAA,EAAA9S,KAAA8S,EAAA5mB,MAAA,cAGVhI,EAAM9B,EAAKpJ,MAAM05B,oBAAoBl2B,GAEvCP,EAAO,CACP+V,SAAY,MACZJ,cAAiB1N,EAAI9H,OACrByV,YAAe3N,EAAI/I,OAEvB+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAEvB2X,GAAWA,EAAQC,MACpB3P,EAAI2P,IAAMD,EAAQC,IAClB3P,EAAI0H,QAAyC,KAA9BgI,EAAQC,IAAOD,EAAQlH,OAAWkH,EAAQlH,OAAOC,QAAQ,GAErEzI,EAAI+2C,kBACN/2C,EAAIm3C,YAAgD,KAAjCznC,EAAQC,IAAI3P,EAAI+2C,iBAAqB/2C,EAAI+2C,iBAAiBtuC,QAAQ,IAGtFvK,EAAKK,SAAS,CAAEiwB,oBAAqBtwB,EAAKpJ,MAAM05B,qBAAuB,WAClEv4B,aAAa6H,QAAQ,sBAAuB1H,KAAK+I,UAAUxC,KAAK7H,MAAM05B,2BAvBlEI,EAAA5mB,KAAA,EA6BV,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OA7BrB,wBAAA2H,EAAA1S,SAAAmT,KAEX/2B,EAAQ,EAFG,YAEAA,EAAQ4F,EAAKpJ,MAAM05B,oBAAoBx5B,QAFvC,CAAAu6B,EAAAvnB,KAAA,eAAAunB,EAAArI,cAAAmI,EAEX/2B,GAFW,eAE+CA,IAF/Ci3B,EAAAvnB,KAAA,gCAAAunB,EAAArT,SAAAoL,MA3VLppB,EA6XnBk5C,eAAiB,SAACp3C,GAGdmI,QAAQC,IAAI,MAAMpI,GAEfA,EAAI0vC,eAAe16C,OAAO,IACzBiB,aAAa6H,QAAQ,iBAAkB1H,KAAK+I,UAAUa,IACtD9B,EAAKK,SAAS,CAACsuB,gBAAiB7sB,GAAM,WAClCwC,SAASkD,eAAe,kBAAkB6I,YArYnCrQ,EA8YnBm5C,cAAgB,WAET7hD,OAAO2M,QAAQ,6CACdjE,EAAKK,SAAS,CAAEiwB,oBAAqB,KACrCv4B,aAAa6H,QAAQ,sBAAsB,MAlZhCI,EAsZnBrD,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,MAAM0C,UAvZjCR,EA2ZnBqwC,eAAiB,SAACzlC,GACd,IAAK0lC,MAAM1lC,GACP,MAAO,KAAOA,EAAM,KAAQL,QAAQ,GAAK,MA7Z9BvK,EAmanByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IAtad0B,EAyanB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OA7af7Q,EA+anBuwC,aAAe,SAACt5C,GAEZ+I,EAAKpJ,MAAM05B,oBAAoB7f,KAAK,SAAUjW,EAAGkW,GAC7C,MAAY,eAARzZ,GAAyBuD,EAAEi+C,YACnBj+C,EAAEi+C,cAAgB/nC,EAAE+nC,YAAe,EAAIj+C,GAAK,EAAI,EAEjDkW,EAAEzZ,GAAQuD,EAAEvD,KAI3B+I,EAAKK,SAAS,CAAEiwB,oBAAqBtwB,EAAKpJ,MAAM05B,oBAAqBkgB,WAAYv5C,KAtbjF+I,EAAKpJ,MAAQ,CACT48B,aAAc,GACd4F,YAAa,GACbC,aAAc,GACdC,KAAM,GACNC,cAAe,aACfjqB,aAAc,EACdS,MAAO,EACPiI,QAAS,EACTwhB,eAAe,EACfh4B,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHgkB,kBAAmB,aACnBy0B,kBAAmB,EACnB/hB,UAAW,aACX5c,UAAW,GACX4+B,YAAa,cACbjc,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GACtHw4C,WAAY,cACZlgB,oBAAqBv4B,aAAaC,QAAQ,wBAA0BE,KAAKC,MAAMJ,aAAaC,QAAQ,yBAA2B,IAtBpHgI,mFA6BC,IAAAmjB,EAAA1kB,KACZuT,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SAGrC,GAFc0L,KAASsW,cAFR,GAIQwB,EAAYC,UAAUhY,EAAe8X,GAExD,IAAI+K,EAAiBvR,YAAY,YAClB,IAAI/c,MACNE,aAAe,IAAM,IAC1BW,WAAW,WACP+b,EAAKoN,4BACN,KACHjN,YAAY,WACRH,EAAKoN,2BACLpN,EAAK61B,yBACN,MACHlkB,cAAcD,KAEnB,sCA2YF,IAAArR,EAAA/kB,KAEL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KAG8B,eAAzBpD,OAAOwC,SAASswB,KAAwB7vB,EAAAC,EAAAC,cAAC6b,GAAD,MAAsB,GAG/D/b,EAAAC,EAAAC,cAACsS,GAAD,MAECtO,KAAK7H,MAAM+3B,gBACZp0B,EAAAC,EAAAC,cAAC2+C,GAAD,CAAiB1yC,UAAW,CAAC2xC,qBAAuB55C,KAAK45C,qBAAsB1pB,gBAAkBlwB,KAAK7H,MAAM+3B,mBAC1G,GACFp0B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAC/C7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAEnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,gBACgB1rB,KAAK7H,MAAM05B,oBAAoBx5B,OAD/C,MACyDyD,EAAAC,EAAAC,cAACmwB,GAAApwB,EAAD,CAAa2D,QAAS,kBAAMqlB,EAAK21B,mBAD1F,eACwH,IAAI5yC,MAAOoE,kBAElIlM,KAAK7H,MAAM45C,WAAaj2C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,SAAGH,EAAAC,EAAAC,cAAA,yBAAH,IAAwBgE,KAAK7H,MAAM45C,WAAnC,MAAsD,IAKnFj2C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAU3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAK20B,oBAAhF,QAEC15C,KAAK7H,MAAMwhD,WAAa79C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KAAG+D,KAAK7H,MAAMwhD,WAAd,MAAiC,IAG9D79C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAMqlB,EAAK+M,6BAAhF,aAQRh2B,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBAErD1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAE8qB,WAAY,UAAYzoB,QAAQ,QAChD7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,QACd7C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAjB,OAEA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAO1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,aAAzC,UAAxB,KACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,UAEA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,aAIA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAS1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAK+sB,aAAa,iBAAzC,iBAC1Bh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,iBACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,oBACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,eACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAS1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAMqlB,EAAKw1B,0BAA5B,kBAMlCz+C,EAAAC,EAAAC,cAACurB,GAAA,EAAD,KAIKvnB,KAAK7H,MAAM05B,oBAAsB7xB,KAAK7H,MAAM05B,oBAAoB3V,IAAI,SAAC7Y,EAAK2C,GAAN,OACjElK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAK,EAACf,IAAKzgB,EAAG1J,MAAO,CAAE8f,WAAY/Y,EAAI22C,YAAc,YAAc,KACzEl+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAQxJ,EAAI,GAE7BlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAjB,IAAyB1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQ0nB,KAAK,QAAQvoB,QAAQ,YAAYrC,MAAO,CAAEmD,MAAQ4D,EAAI0H,OAAc1H,EAAI0H,OAAS,EAAI,QAAU,MAAhC,IAAyCrL,QAAS,kBAAMqlB,EAAK01B,eAAep3C,KAAnJ,IAA2JA,EAAInE,KAA/J,IAAsKmE,EAAI2P,IAA1K,KAAiL3P,EAAI0H,OAAS,IAAM1H,EAAI0H,OAAQ,KAAO,GAAvN,KAA6NjP,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,MAA7N,MAIzBD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI02C,YAC/Bj+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAIuuB,gBAE/B91B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI22C,YAAc,MAAQ,MACrDl+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI82C,gBAC/Br+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI+2C,iBAC/Bt+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAIg3C,OAAS54B,aAAOpe,EAAIg3C,QAAS,IAC5Dv+C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI2P,IAA/B,IAAqC3P,EAAIm3C,WAAa,IAAMn3C,EAAIm3C,WAAY,KAAO,OAGtF1+C,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,mBA1iBjBqI,IAAMC,WAwjBxBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAUJ+J,MC5lBTuyB,eACF,SAAAA,EAAY/+C,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAA46C,IACfr5C,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAmiD,GAAAj5C,KAAA3B,KAAMnE,KAwDVyyB,eAAiB,SAACC,GACd,IAAIC,EAAgB,2CAA6CjtB,EAAKpJ,MAAMs2B,UAAY,cAAgBltB,EAAKpJ,MAAMiK,WAAa,eAAiBb,EAAKpJ,MAAMiK,WAAa,KACzKmsB,EAAQG,KAAKF,GACbjtB,EAAKotB,kBAAkBJ,IA5DRhtB,EA8DnBysB,oBAAsB,SAACC,GACnB,IAAIC,EAAW,GACf,IACI,IAAK,IAAIloB,EAAI,EAAGA,EAAIioB,EAAM51B,OAAQ2N,IAC9BkoB,EAAS5qB,KAAK6qB,OAAOC,aAAaH,EAAMjoB,KAE9C,MAAOhI,IAET,OAAOkwB,EAASG,KAAK,KAtEN9sB,EA2EnBotB,kBAAoB,SAACJ,GACjB,IAAIK,EAAUrtB,EAAKpJ,MAAMglB,WAAWjB,IAAI,SAAAhZ,GACpC,MAAO,UAAYA,EAAQ5I,QAG3Bu0B,EAAe,CACfC,KAAQ,KACRF,QAHJA,EAAUA,EAAQP,KAAK,KAInB/zB,MAASiH,EAAKpJ,MAAMs2B,UACpBM,KAAQxtB,EAAKpJ,MAAMiK,WACnB4sB,OAAUztB,EAAKpJ,MAAMiK,YAGzBmsB,EAAQG,KAAKj1B,KAAK+I,UAAUqsB,KAxFbttB,EA2FnBs5C,WAAY,SAACt/C,EAAUhD,GAEnB,KADegJ,EAAKpJ,MAAM2iD,WAAWziD,QAAUkJ,EAAKpJ,MAAM2iD,WAAW13C,OAAO,SAAA8J,GAAI,OAAIA,EAAK3R,SAAWA,KACxFlD,OAAO,CACf,IAAI+C,EAAO,CAACG,OAAOA,EAAQhD,OAAOA,EAAQwiD,YAAY,IAAIjzC,MAAOkhB,sBACjEznB,EAAKK,SAAS,CAACk5C,WAAU,GAAA9jC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM2iD,YAAjB,CAA8B1/C,KAAQ,WAC3D9B,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUxC,KAAK7H,MAAM2iD,aAC7D96C,KAAKgQ,QAAQzU,EAAQ,IAAMhD,GAE3BiT,QAAQC,IAAIrQ,EAAKG,OAAQ,IAAMH,EAAK7C,OAAS,IAAI6C,EAAK2/C,YACtD/6C,KAAK4B,SAAS,CAACo5C,iBAAkB5/C,EAAKG,OAAQ,IAAMH,EAAK7C,OAAS,IAAI6C,EAAK2/C,iBApGpEx5C,EAwGnB0tB,oBAAsB,SAACV,GACnBA,EAAQW,OAAS,SAACtsB,GACdrB,EAAK+sB,eAAeC,GACpBhtB,EAAKotB,kBAAkBJ,IAE3BA,EAAQY,UAAY,SAACruB,GACjB,IAAIsuB,EAAUv2B,OAAOw2B,KAAKvuB,EAAQ1F,MAC9BA,EAAOmG,EAAKysB,oBAAoBsB,KAAKC,QAAQH,IAC7CI,EAAW/1B,KAAKC,MAAM0B,GAEtBq0B,EAAkBluB,EAAKpJ,MAAMglB,WACjC5b,EAAKpJ,MAAMglB,YAAc5b,EAAKpJ,MAAMglB,WAAWla,QAAQ,SAACC,EAASvH,GAC7D,IAAI+zB,EAAYF,EAASpsB,OAAO,SAAAC,GAAG,OAAIA,EAAIssB,IAAMzsB,EAAQ5I,QACrDo1B,EAAUr3B,OAAS,GAAKq3B,EAAU,GAAG1c,KAAO0c,EAAU,GAAGvT,KAEzD3Q,QAAQC,IAAIikB,EAAU,IAEtBD,EAAgB9zB,GAAOqX,IAAM0c,EAAU,GAAG1c,IAC1Cyc,EAAgB9zB,GAAOosB,QAAU2H,EAAU,GAAGvT,GAC9CsT,EAAgB9zB,GAAOy2B,iBAAmB1C,EAAU,GAAGurB,IACvDxrB,EAAgB9zB,GAAO02B,kBAAoB3C,EAAU,GAAGwrB,IACxDzrB,EAAgB9zB,GAAOk1C,kBAAoBnhB,EAAU,GAAGwS,EACxDzS,EAAgB9zB,GAAO0zC,aAAe3f,EAAU,GAAGyrB,GACnD1rB,EAAgB9zB,GAAOy/C,SAAW1rB,EAAU,GAAG2rB,GAC/C5rB,EAAgB9zB,GAAO2/C,UAAY5rB,EAAU,GAAG6rB,EAChD9rB,EAAgB9zB,GAAO6/C,UAAY9rB,EAAU,GAAG+rB,GAEhDhsB,EAAgB9zB,GAAO+/C,gBAAkBhsB,EAAU,GAAGisB,GACtDlsB,EAAgB9zB,GAAOigD,aAAelsB,EAAU,GAAGmsB,GACnDpsB,EAAgB9zB,GAAOmgD,iBAAmBpsB,EAAU,GAAGqsB,GACvDtsB,EAAgB9zB,GAAOqgD,cAAgBtsB,EAAU,GAAGusB,GAKpDxsB,EAAgB9zB,GAAOo1C,eAAiBrhB,EAAU,GAAGurB,IAAMvrB,EAAU,GAAGwrB,KAAKpvC,QAAQ,GACrF2jB,EAAgB9zB,GAAOq1C,eAAkBthB,EAAU,GAAGwrB,IAAMxrB,EAAU,GAAGurB,KAAKnvC,QAAQ,GAElF4jB,EAAU,GAAGurB,IAAMvrB,EAAU,GAAGwrB,IAAM,GACtCzrB,EAAgB9zB,GAAOs1C,cAAe,EACtC1vC,EAAKs5C,WAAW33C,EAAQ3H,OAAQ,YAEhCk0B,EAAgB9zB,GAAOs1C,cAAe,EAGtCvhB,EAAU,GAAGwrB,IAAMxrB,EAAU,GAAGurB,IAAM,GACtCxrB,EAAgB9zB,GAAOu1C,eAAgB,EACvC3vC,EAAKs5C,WAAW33C,EAAQ3H,OAAQ,aAGhCk0B,EAAgB9zB,GAAOu1C,eAAgB,KAQnD,IAAIgL,EAAU36C,EAAKpJ,MAAM45C,WACzBtiB,GAAmBA,EAAgBzd,KAAK,SAAUjW,EAAGkW,GACjD,OAAOA,EAAEiqC,GAAWngD,EAAEmgD,KAE1B36C,EAAKK,SAAS,CAAEub,WAAYsS,KAGhClB,EAAQqB,QAAU,SAAC5xB,GACfwN,QAAQC,IAAI,eAAgBzN,IAGhC6mB,YAAY,WAER,IAAIgL,EAAO,sCAAwCtuB,EAAKpJ,MAAMs2B,UAAY,cAAgBltB,EAAKpJ,MAAMiK,WAAa,eAAiBb,EAAKpJ,MAAMiK,WAAa,KAC1JoJ,QAAQC,IAAI,cAAgBokB,GAC7BtB,EAAQG,KAAKmB,IACd,OAlLYtuB,EAqOnB46C,mBAAmB,WACf56C,EAAKK,SAAS,CAACw6C,gBAAkB,KACjC/5C,EAAaiqC,uBACZhqC,KAAK,SAACM,GAEH,GAAIA,EAAIxH,KAAM,CAEV,IAAI88B,EAAat1B,EAAIxH,MAAQwH,EAAIxH,KAAKA,KACtC88B,EAAWlmB,KAAK,SAAUjW,EAAGkW,GACzB,OAAOA,EAAEy6B,WAAa3wC,EAAE2wC,aAG5B,IAAK,IAAI/wC,EAAQ,EAAGA,EAAQu8B,EAAW7/B,OAAQsD,IAAS,CACpD,IAAMuH,EAAUg1B,EAAWv8B,GACZ4F,EAAKpJ,MAAMq9C,SAAStyC,EAAQ4pC,YAEvCvrC,EAAKK,SAAS,CAAEw6C,gBAAe,GAAAplC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMikD,iBAAjB,CAAkCl5C,MAIzE3B,EAAK+sB,eAAe/sB,EAAKgtB,YAIhCrY,MAAM,SAAC7U,MAELk2C,QAAQ,SAACC,OA/PGj2C,EAmQnByO,QAAU,SAACT,GACP,GAAGhO,EAAKpJ,MAAMkkD,QAAQ,CAClB,IAAIx8C,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,KAvQlB0B,EA2QnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OA/Qf7Q,EAkRnB6b,kBAAoB,SAACpf,GACjBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAAY,IAAAqlB,EAAA1kB,KACvD+vB,EAAY/vB,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,mBACjDvd,KAAK4B,SAAS,CAAEub,WAAY4S,GAAW,kBAAKrL,EAAKiK,kBAAkBjK,EAAK6J,cArR7DhtB,EAwRnBuwC,aAAe,SAACt5C,GACZ+I,EAAKpJ,MAAMglB,WAAWnL,KAAK,SAAUjW,EAAGkW,GACpC,OAAOA,EAAEzZ,GAAQuD,EAAEvD,KAEvB+I,EAAKK,SAAS,CAAEub,WAAY5b,EAAKpJ,MAAMglB,WAAY40B,WAAYv5C,KA5RhD+I,EAkTnB+6C,iBAAiB,SAACC,GACd,OAAK1K,MAAM0K,GAIAA,EAFAA,EAAIzwC,QAAQ,IArTRvK,EA4TnBqwC,eAAiB,SAACzlC,GACd,IAAK0lC,MAAM1lC,GACP,MAAO,KAAQA,EAAM,KAAQL,QAAQ,GAAM,MA9ThCvK,EAiUnB0rB,cAAgB,SAACjvB,GACbuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE/CW,KAAKktB,qBApUM3rB,EAuUnB+b,cAAgB,SAACtf,EAAG1D,GAEhBkR,QAAQC,IAAI,MAAOzN,EAAG1D,GAEJ,KAAd0D,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAAS,EACxCzb,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KACpC,KAAdhf,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAASzb,EAAKpJ,MAAMglB,WAAW9kB,OAAS,GAC9EkJ,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KAG7DrU,WAAW,WACPpH,EAAK2rB,mBACN,MAnVY3rB,EAsVnBi7C,aAAe,SAACj1C,GAEZjO,aAAa6H,QAAQ,UAAWoG,EAAMzF,OAAOwF,SAC7C/F,EAAKK,SAAS,CAACy6C,QAAW90C,EAAMzF,OAAOwF,SAAS,WAC5CkE,QAAQC,IAAI,UAAWlK,EAAKpJ,MAAMkkD,QAAS90C,EAAMzF,OAAOwF,YA1V7C/F,EA8VnBqL,aAAe,SAACxR,EAAMM,GAYlB,IARA,IAAI4Q,EAAM,SAAUlR,GAEhB,IADA,IAAImR,EAAM,EACDvG,EAAI,EAAGA,EAAI5K,EAAK/C,OAAQ2N,IAC7BuG,GAAOnR,EAAK4K,GAAG6F,MAEnB,OAAOU,EAAMnR,EAAK/C,QAElBmU,EAAS,GACJxG,EAAItK,EAAQ,EAAG+Q,EAAMrR,EAAK/C,OAAQ2N,EAAIyG,EAAKzG,IAAK,CACrD,IAAI0G,EAAMJ,EAAIlR,EAAKuR,MAAM3G,EAAItK,EAAQ,EAAGsK,IACxCwG,EAAOlJ,KAAK,CAAE2I,KAAM7Q,EAAK4K,GAAGiG,KAAM5M,MAAOqN,IAE7C,OAAOF,GA9WQjL,EAgXnB2rB,gBAAkB,SAAC5yB,EAAOiB,GAInBjB,GACHiH,EAAKK,SAAS,CAAEsuB,gBAAiB,GAAKusB,iBAAkBlhD,EAAQjB,MAAQA,GAAS,WAC7EkR,QAAQC,IAAI,aAAcnR,KAG9B,IACIiZ,EAAgBC,GAAO,SAAU,SAErC,GAA2B,cAAxBjS,EAAKpJ,MAAM83B,UAA0B,CAClC,IAAIhkB,EAAOuH,YAAgB,YAC3BD,EAAgBC,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAGlD,IAAI7Q,EAAO,CACP+V,SAAY,MACZH,YAAe1W,GAASiH,EAAKpJ,MAAMmC,MACnCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOD,GAAeE,OAZtB,oBAaZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAbjB,qBAiBhBpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIwtB,EAAczvB,EAAgBiC,EAAK,SAEvC,GAAIwtB,GAAeA,EAAYh1B,KAAM,CAEjC,IAAIA,EAAOg1B,EAAYh1B,KAEjBi1B,EAAQj1B,EAAK8gB,IAAI,SAAAoU,GACnB,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAGpI5oB,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GACzJp1B,EAAK6H,QAAQ,SAACC,EAASutB,GACnB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAI5F,IAAI4V,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAGRC,EAAKC,KAAeJ,UAAUC,GAM9BN,GAHAQ,EAAKC,KAAeJ,UAAUC,GAGnB,CAAEL,OAAQP,EAAcQ,OAAQ,KAC3Cyb,EAAYvb,KAAIC,UAAUL,GA4D9B,GAtDAxT,EAAKK,SAAS,CAAEsuB,gBAAiBG,EAAOM,YAAapb,EAAGA,EAAGld,OAAS,GAAIu4B,UAAWnb,KAAKjB,GAAWkc,UAAWA,EAAU/jB,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,GAAI,IAAKwc,WAAYA,EAAWlI,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,EAAG,KAAO,WAEpO2H,KAAK7H,MAAMwR,aAAaQ,QAAQnK,KAAK7H,MAAM+3B,iBAE3ClwB,KAAK7H,MAAMoS,aAAaJ,QAAQqmB,GAEhC,IAAInkB,EAAUrM,KAAK4M,aAAa5M,KAAK7H,MAAM+3B,gBAAiB,IAE5DlwB,KAAK7H,MAAM24B,cAAc3mB,QAAQkC,GAGjCrM,KAAK7H,MAAMyQ,MAAM4B,uBAAuB,SAACC,GAErC,IAAIC,EAAQD,EAAME,aAAaC,OAAOC,YAElCC,EAAS,GACTC,EAAS,GALkCC,GAAA,EAAAC,GAAA,EAAAC,OAAA5S,EAAA,IAO/C,QAAA6S,EAAAC,EAAiBV,EAAjBE,OAAAC,cAAAG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,KAAfO,EAAeJ,EAAA9L,MAEE,iBAAXkM,EAAK,IACZT,GAAU,aAAeS,EAAK,GAAGG,KAAO,OACxCZ,GAAU,aAAeS,EAAK,GAAGI,KAAO,OACxCb,GAAU,YAAcS,EAAK,GAAGK,IAAM,OACtCd,GAAU,cAAgBS,EAAK,GAAGM,MAAQ,OAE1Cf,GAAU,cADVC,EAA0C,KAAhCQ,EAAK,GAAGM,MAAQN,EAAK,GAAGG,MAAcH,EAAK,GAAGG,MACxBI,QAAQ,GAAK,SAE7ChB,GAAU,WAAaS,EAAK,GAAGO,QAAQ,GAAK,KAjBL,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAI,EAAAY,QAAAZ,EAAAY,SAAA,WAAAf,EAAA,MAAAC,GAqB3CT,EAAMwB,KACNnB,GAAU,aAAe,IAAIhD,KAAK2C,EAAMwB,MAAMC,iBAAmB,OAEjEpB,GAAU,iBAGd,IAGIqB,EAAM,2BAA6BrB,EAAS,WAC5CC,EAAS,IACToB,EAAM,yBAA2BrB,EAAS,YAL3BjF,SAASkD,eAAe,kBAOhCqD,UAAYD,MAM/B/Q,GAAQA,EAAK4W,KAAK,SAAUjW,EAAGkW,GAC3B,OAAO,IAAInK,KAAKmK,EAAE,IAAM,IAAInK,KAAK/L,EAAE,MAEnCX,EAAK/C,OAAS,EAAG,CACjBiB,aAAa6H,QAAQ,oBAAqB1H,KAAK+I,UAAUpH,IACzDmG,EAAKK,SAAS,CAAEmvB,kBAAmB31B,IAGnC,IAAI41B,EAAkB,EAAGC,EAAgB,EACzC71B,EAAK6H,QAAQ,SAAAC,GAET,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAChDiuB,GAAO,KACPH,GAAmB,GAEnBG,IAAQ,KACRF,GAAiB,GAGTE,IAGhB5vB,EAAKK,SAAS,CAAEqvB,cAAeA,EAAeD,gBAAiBA,SA7f3EzvB,EAAKpJ,MAAQ,CACT0K,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGgkB,kBAAmB,aACnBJ,WAAc,GACd29B,WAAaxhD,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACrG02B,UAAW,iBACXmsB,gBAAgB,GAChBp/B,OAAQ,GACRq/B,QAA6C,SAApC/iD,aAAaC,QAAQ,WAC9Bw4C,WAAY,UACZyD,SAAU,CACNC,WAAY,QACZC,aAAc,UACdC,aAAc,YACdC,eAAgB,YAChBC,oBAAqB,aACrBC,aAAc,UACdC,WAAY,QACZC,cAAe,WACfC,cAAe,WACfC,eAAgB,YAChBC,iBAAkB,SAClBC,eAAgB,YAChBC,iBAAkB,eAClBC,oBAAqB,iBACrBC,aAAc,OACdC,cAAe,WACfC,YAAa,SACbC,YAAa,SAeZgG,gBAAiB,cACjBC,kBAAmB,gBACnBC,mBAAoB,WACpBC,oBAAoB,WACpBC,YAAY,WACZC,oBAAoB,YAG7Bx7C,EAAKotB,kBAAoBptB,EAAKotB,kBAAkBprB,KAAvB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAtDVA,mFAsLC,IAAAwjB,EAAA/kB,KAEhBnH,OAAOgN,SAASa,MAAQ,cACxB1G,KAAK4B,SAAS,CAAEub,WAAYnd,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,qBAE7D,IAAI/jB,EAASC,KAAKC,MAAMJ,aAAaC,QAAQ,eACzCk1B,EAAYj1B,GAAUA,EAAOi1B,UAC7BhpB,EAAchM,KAAKC,MAAMJ,aAAaC,QAAQ,gBAC9C6I,EAAaqD,GAAeA,EAAYrD,WAC5CpC,KAAK4B,SAAS,CAAE6sB,UAAWA,EAAWrsB,WAAYA,GAAc,WAC5DpC,KAAKuuB,QAAU,IAAI4N,gBAAa,kEAChCn8B,KAAKivB,oBAAoBjvB,KAAKuuB,WAGlC,IAAM0H,EAAapwB,SAASkD,eAAe,WAC3ClD,SAASkD,eAAe,WAAWqD,UAAY,GAC/C,IAAI4wC,EAASnkD,OAAOokD,WAEdr0C,EAAQE,aAAYmtB,EAAY,CAAE15B,MAAOygD,EAAM,EAAGh0C,OAAQ,IAAKktB,aAAa,EAAMC,gBAAgB,IAClGxsB,EAAef,EAAMgB,uBACvBknB,EAAgBloB,EAAMiE,cAAc,CACpCpN,MAAO,uBACPqN,UAAW,IAEXvC,EAAe3B,EAAMwB,mBAAmB,CACxC3K,MAAO,UACP4K,YAAa,CACT7R,KAAM,UAEV8R,aAAc,GACdpB,aAAc,CACVC,IAAK,GACLC,OAAQ,KAGhBpJ,KAAK4B,SAAS,CAAEgH,MAAOA,EAAOe,aAAcA,EAAcmnB,cAAeA,EAAevmB,aAAcA,IAEtGvK,KAAKm8C,qBAELt3B,YAAY,WACLE,EAAK5sB,MAAMmC,OACVyqB,EAAKmI,mBAEV,sCAsSE,IAAA5G,EAAAtmB,KAOL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,CAAiBiB,kBAAoB9Y,KAAK8Y,oBAI1Chd,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAOpJ,WAAS,GAC3B7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAEnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAEnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAOnBhI,EAAAC,EAAAC,cAAA,2BAAmBgE,KAAK7H,MAAM45C,WAA9B,KAPJ,IAOsDj2C,EAAAC,EAAAC,cAAA,WAClDF,EAAAC,EAAAC,cAAA,uBAAegE,KAAK7H,MAAM6iD,iBAA1B,MAQJl/C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBAGhFpd,KAAK7H,MAAMikD,iBAAmBp8C,KAAK7H,MAAMikD,gBAAgBlgC,IAAI,SAAAhZ,GAAO,OACjEpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU7hB,MAAO,CAACmD,MAAOyD,EAAQwpC,WAAW,EAAI,QAAS,OAAQrtC,MAAO6D,EAAQ4pC,WAAY5pC,EAAQ4pC,UAApG,KAAiH5pC,EAAQwpC,WAAzH,QAGH1sC,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,KARnC,SAWIpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,qBAAsB,yBA0CvDvD,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBAErD1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAE8qB,WAAY,UAAYzoB,QAAQ,QAChD7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,QAQd7C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,mBAAzC,UAAb,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAO1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,aAAzC,WAAxB,KAGAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAYxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,mBAAzC,UAAZ,SA+BRh2C,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAACyqB,SAAS,OAAQ5G,UAAU,UACxCrkB,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBACzD1L,EAAAC,EAAAC,cAACurB,GAAA,EAAD,KAMKvnB,KAAK7H,MAAMglB,WAAand,KAAK7H,MAAMglB,WAAWjB,IAAI,SAAC7Y,EAAK2C,GAAN,OAC/ClK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUhJ,SAAUiI,EAAKnuB,MAAM6kB,SAAWhX,EAAI,SAAW,KAExD1J,MAAO,CAAC0gB,OAAO,WAAYwK,OAAK,EAACf,IAAKzgB,EAAGtG,QAAS,kBAAM4mB,EAAK4G,gBAAgB7pB,EAAI/I,MAAO+I,EAAI9H,UAYzFO,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,wBAAyBpK,MAAO,CAAE8f,WAAY/Y,EAAI4tC,aAAe,UAAY,KAIzF5tC,EAAI0tC,cAAJ,MAAA/5B,OAA0B3T,EAAI0tC,eAAkB,GAGhDzqB,EAAKsrB,eAAevuC,EAAI+uB,mBAG7Bt2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,OAAOlT,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmB9O,EAAI0kB,WAAzE,OAA4F1kB,EAAInE,KAAhG,IAAuGmE,EAAI2P,IAA3G,IAAiH3P,EAAI0kB,QAAJ,IAAA/Q,OAAkB3T,EAAI0kB,QAAtB,MAAoC,GAArJ,KACAjsB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,gBAAgBpK,MAAO,CAAC0M,OAAO,OAAQoT,WAAY/Y,EAAI2P,IAAM3P,EAAI2P,KAAO3P,EAAIgsC,aAAe,QAAU,MAAQ,UAA9H,MAA4IhsC,EAAIgsC,cAGhJvzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,wBAAwBpK,MAAO,CAAE8f,WAAY/Y,EAAI6tC,cAAgB,UAAY,KAI7F7tC,EAAI2tC,cAAJ,MAAAh6B,OAA0B3T,EAAI2tC,eAAkB,GAGhD1qB,EAAKsrB,eAAevuC,EAAIgvB,oBAGzBv2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,cAAlB,KAAkCrD,EAAIm4C,WACtC1/C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,cAAlB,KAAkCrD,EAAIi4C,WACtCx/C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,aAAjB,KAAiCrD,EAAI+3C,aAmCxCt/C,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,WASrBD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAElBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMpH,MAAO,CAAEgB,QAAS,WAAaD,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAG1F7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAEnBhI,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAOrG,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAC5D7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IACtBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,KAAY5C,EAAAC,EAAAC,cAAA,aAAKgE,KAAK7H,MAAMskD,iBAAhB,OAKb3gD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACtBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAADvlB,OAAAoJ,EAAA,EAAApJ,CAAA,CAAa6D,MAAO0H,GAAOuiB,aAA3B,QAA+C,CAAEnpB,UAAW,SAC7DtB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKitB,eACjEnxB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,MAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,MACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,OAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,OACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,OACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,MAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,UAYrCvD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,mBACRlD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,aAGZlD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAE2f,UAAW,SAAUjT,OAAQ,SACjElN,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,SAAa5C,EAAAC,EAAAC,cAAA,aAAKgE,KAAK7H,MAAMskD,iBAAhB,KAAb,KAGI3gD,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBAC3B1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAC3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,SAE1Cxf,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,SAA4D1T,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEmD,MAAO,YAAnB,OAAqCO,KAAK7H,MAAM64B,gBAAhD,KAA5D,MAAoIl1B,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEmD,MAAO,QAAnB,SAAmCO,KAAK7H,MAAM84B,cAA9C,KAApI,KACAn1B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,aACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,UACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,QACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,QACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,OACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,UACA1T,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBiR,MAAM,UAA7C,YAIR1T,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WACtCpnB,KAAK7H,MAAM44B,mBAAqB/wB,KAAK7H,MAAM44B,kBAAoB/wB,KAAK7H,MAAM44B,kBAAkB7U,IAAI,SAAC7Y,EAAK2C,GAAN,OAC7FlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUZ,IAAKzgB,EAAG1J,MAAO,CAAE8f,WAAgC,KAAnB/Y,EAAI,GAAKA,EAAI,IAAYA,EAAI,IAAM,GAAM,UAAgC,KAAnBA,EAAI,GAAKA,EAAI,IAAYA,EAAI,KAAO,GAAM,UAAY,SAEhJvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU8W,EAAKnuB,MAAM4Y,eACtCjV,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAU,IAAI1H,KAAKzE,EAAI,IAAI6I,kBAC5CpQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAjB,IAA2B1T,EAAAC,EAAAC,cAAA,SAAwB,KAAnBqH,EAAI,GAAKA,EAAI,IAAYA,EAAI,KAA2B,KAAnBA,EAAI,GAAKA,EAAI,IAAYA,EAAI,IAAIyI,QAAQ,GAAnF,MAC3BhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI,IAC/BvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI,IAC/BvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI,IAC/BvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI,IAC/BvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,UAAUnM,EAAI,OAGlC,kBA1zB3Be,IAAMC,WAi1BtBL,GAAS,CACXuiB,YAAa,CACT4B,SAAU,OACVD,aAAc,SAIP0yB,MCt1BTA,eACF,SAAAA,EAAY/+C,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAA46C,IACfr5C,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAmiD,GAAAj5C,KAAA3B,KAAMnE,KA0DVyyB,eAAiB,SAACC,GACd,IAAIC,EAAgB,2CAA6CjtB,EAAKpJ,MAAMs2B,UAAY,cAAgBltB,EAAKpJ,MAAMiK,WAAa,eAAiBb,EAAKpJ,MAAMiK,WAAa,KACzKmsB,EAAQG,KAAKF,GACbjtB,EAAKotB,kBAAkBJ,IA9DRhtB,EAgEnBysB,oBAAsB,SAACC,GACnB,IAAIC,EAAW,GACf,IACI,IAAK,IAAIloB,EAAI,EAAGA,EAAIioB,EAAM51B,OAAQ2N,IAC9BkoB,EAAS5qB,KAAK6qB,OAAOC,aAAaH,EAAMjoB,KAE9C,MAAOhI,IAET,OAAOkwB,EAASG,KAAK,KAxEN9sB,EA6EnBotB,kBAAoB,SAACJ,GACjB,IAAIK,EAAUrtB,EAAKpJ,MAAMglB,WAAWjB,IAAI,SAAAhZ,GACpC,MAAO,UAAYA,EAAQ5I,QAG3Bu0B,EAAe,CACfC,KAAQ,KACRF,QAHJA,EAAUA,EAAQP,KAAK,KAInB/zB,MAASiH,EAAKpJ,MAAMs2B,UACpBM,KAAQxtB,EAAKpJ,MAAMiK,WACnB4sB,OAAUztB,EAAKpJ,MAAMiK,YAGzBmsB,EAAQG,KAAKj1B,KAAK+I,UAAUqsB,KA1FbttB,EA6FnBs5C,WAAa,SAACt/C,EAAQhD,GAElB,KADcgJ,EAAKpJ,MAAM2iD,WAAWziD,QAAUkJ,EAAKpJ,MAAM2iD,WAAW13C,OAAO,SAAA8J,GAAI,OAAIA,EAAK3R,SAAWA,KACtFlD,OAAQ,CACjB,IAAI+C,EAAO,CAAEG,OAAQA,EAAQhD,OAAQA,EAAQwiD,YAAY,IAAIjzC,MAAOkhB,sBACpEznB,EAAKK,SAAS,CAAEk5C,WAAU,GAAA9jC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM2iD,YAAjB,CAA6B1/C,KAAS,WAC5D9B,aAAa6H,QAAQ,aAAc1H,KAAK+I,UAAUxC,KAAK7H,MAAM2iD,aAC7D96C,KAAKgQ,QAAQzU,EAAS,IAAMhD,GAE5BiT,QAAQC,IAAIrQ,EAAKG,OAAS,IAAMH,EAAK7C,OAAS,IAAM6C,EAAK2/C,YACzD/6C,KAAK4B,SAAS,CAAEo5C,iBAAkB5/C,EAAKG,OAAS,IAAMH,EAAK7C,OAAS,IAAM6C,EAAK2/C,aAE/EliD,OAAOgN,SAASa,MAAQtL,EAAKG,OAAS,IAAMH,EAAK7C,OAAS,IAAM6C,EAAK2/C,eAxG9Dx5C,EA4GnB0tB,oBAAsB,SAACV,GACnBA,EAAQW,OAAS,SAACtsB,GACdrB,EAAK+sB,eAAeC,GACpBhtB,EAAKotB,kBAAkBJ,IAE3BA,EAAQY,UAAY,SAACruB,GACjB,IAAIsuB,EAAUv2B,OAAOw2B,KAAKvuB,EAAQ1F,MAC9BA,EAAOmG,EAAKysB,oBAAoBsB,KAAKC,QAAQH,IAC7CI,EAAW/1B,KAAKC,MAAM0B,GAEtBq0B,EAAkBluB,EAAKpJ,MAAMglB,WACjC5b,EAAKpJ,MAAMglB,YAAc5b,EAAKpJ,MAAMglB,WAAWla,QAAQ,SAACC,EAASvH,GAC7D,IAAI+zB,EAAYF,EAASpsB,OAAO,SAAAC,GAAG,OAAIA,EAAIssB,IAAMzsB,EAAQ5I,QACrDo1B,EAAUr3B,OAAS,GAAKq3B,EAAU,GAAG1c,KAAO0c,EAAU,GAAGvT,KAEzDsT,EAAgB9zB,GAAOqX,IAAM0c,EAAU,GAAG1c,IAC1Cyc,EAAgB9zB,GAAOosB,QAAU2H,EAAU,GAAGvT,GAC9CsT,EAAgB9zB,GAAOy2B,iBAAmB1C,EAAU,GAAGurB,IACvDxrB,EAAgB9zB,GAAO02B,kBAAoB3C,EAAU,GAAGwrB,IACxDzrB,EAAgB9zB,GAAOk1C,kBAAoBnhB,EAAU,GAAGwS,EACxDzS,EAAgB9zB,GAAO0zC,aAAe3f,EAAU,GAAGyrB,GACnD1rB,EAAgB9zB,GAAOy/C,SAAW1rB,EAAU,GAAG2rB,GAC/C5rB,EAAgB9zB,GAAO2/C,UAAY5rB,EAAU,GAAG6rB,EAChD9rB,EAAgB9zB,GAAO6/C,UAAY9rB,EAAU,GAAG+rB,GAEhDhsB,EAAgB9zB,GAAO+/C,gBAAkBhsB,EAAU,GAAGisB,GACtDlsB,EAAgB9zB,GAAOigD,aAAelsB,EAAU,GAAGmsB,GACnDpsB,EAAgB9zB,GAAOmgD,iBAAmBpsB,EAAU,GAAGqsB,GACvDtsB,EAAgB9zB,GAAOqgD,cAAgBtsB,EAAU,GAAGusB,GACpDxsB,EAAgB9zB,GAAOqvC,IAAMx3B,GAAOkc,EAAU,GAAGsb,IAAI,uBAKrDvb,EAAgB9zB,GAAOo1C,eAAiBrhB,EAAU,GAAGurB,IAAMvrB,EAAU,GAAGwrB,KAAKpvC,QAAQ,GACrF2jB,EAAgB9zB,GAAOq1C,eAAiBthB,EAAU,GAAGwrB,IAAMxrB,EAAU,GAAGurB,KAAKnvC,QAAQ,GAEjF4jB,EAAU,GAAGurB,IAAMvrB,EAAU,GAAGwrB,IAAM,GACtCzrB,EAAgB9zB,GAAOs1C,cAAe,EACtC1vC,EAAKs5C,WAAW33C,EAAQ3H,OAAQ,YAEhCk0B,EAAgB9zB,GAAOs1C,cAAe,EAGtCvhB,EAAU,GAAGwrB,IAAMxrB,EAAU,GAAGurB,IAAM,GACtCxrB,EAAgB9zB,GAAOu1C,eAAgB,EACvC3vC,EAAKs5C,WAAW33C,EAAQ3H,OAAQ,aAGhCk0B,EAAgB9zB,GAAOu1C,eAAgB,EAGvC3vC,EAAKpJ,MAAMmC,OAAS4I,EAAQ5I,OAC5BiH,EAAKK,SAAS,CAAEs7C,UAAWxtB,EAAU,GAAG1c,IAAKmqC,YAAaztB,EAAU,GAAGvT,QAOnF,IAAI+/B,EAAU36C,EAAKpJ,MAAM45C,WACzBtiB,GAAmBA,EAAgBzd,KAAK,SAAUjW,EAAGkW,GACjD,OAAOA,EAAEiqC,GAAWngD,EAAEmgD,KAE1B36C,EAAKK,SAAS,CAAEub,WAAYsS,KAGhClB,EAAQqB,QAAU,SAAC5xB,GACfwN,QAAQC,IAAI,eAAgBzN,IAGhC6mB,YAAY,WAER,IAAIgL,EAAO,sCAAwCtuB,EAAKpJ,MAAMs2B,UAAY,cAAgBltB,EAAKpJ,MAAMiK,WAAa,eAAiBb,EAAKpJ,MAAMiK,WAAa,KAC3JoJ,QAAQC,IAAI,cAAgBokB,GAC5BtB,EAAQG,KAAKmB,IACd,OAxLYtuB,EAgQnB67C,eAAgB,WAEZ/6C,EAAag7C,kBAAkB97C,EAAKpJ,MAAMglB,YACzC7a,KAAK,SAACM,GACCA,EAAIxH,MACJoQ,QAAQC,IAAI7I,EAAIxH,QAGvB8a,MAAM,SAAC7U,MACLk2C,QAAQ,SAACC,OAzQGj2C,EA6QnB46C,mBAAqB,WACjB56C,EAAKK,SAAS,CAAEw6C,gBAAiB,KACjC/5C,EAAaiqC,uBACRhqC,KAAK,SAACM,GAEH,GAAIA,EAAIxH,KAAM,CAEV,IAAI88B,EAAat1B,EAAIxH,MAAQwH,EAAIxH,KAAKA,KACtC88B,EAAWlmB,KAAK,SAAUjW,EAAGkW,GACzB,OAAOA,EAAEy6B,WAAa3wC,EAAE2wC,aAG5B,IAAK,IAAI/wC,EAAQ,EAAGA,EAAQu8B,EAAW7/B,OAAQsD,IAAS,CACpD,IAAMuH,EAAUg1B,EAAWv8B,GACZ4F,EAAKpJ,MAAMq9C,SAAStyC,EAAQ4pC,YAEvCvrC,EAAKK,SAAS,CAAEw6C,gBAAe,GAAAplC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMikD,iBAAjB,CAAkCl5C,MAIzE3B,EAAK+sB,eAAe/sB,EAAKgtB,YAIhCrY,MAAM,SAAC7U,MAELk2C,QAAQ,SAACC,OAvSDj2C,EA2SnByO,QAAU,SAACT,GACP,GAAIhO,EAAKpJ,MAAMkkD,QAAS,CACpB,IAAIx8C,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,KA/SlB0B,EAmTnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OAvTf7Q,EA0TnB6b,kBAAoB,SAACpf,GACjBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAAY,IAAAqlB,EAAA1kB,KACvD+vB,EAAY/vB,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,mBACjDvd,KAAK4B,SAAS,CAAEub,WAAY4S,GAAa,kBAAMrL,EAAKiK,kBAAkBjK,EAAK6J,cA7ThEhtB,EAgUnBuwC,aAAe,SAACt5C,GACZ+I,EAAKpJ,MAAMglB,WAAWnL,KAAK,SAAUjW,EAAGkW,GACpC,OAAOA,EAAEzZ,GAAQuD,EAAEvD,KAEvB+I,EAAKK,SAAS,CAAEub,WAAY5b,EAAKpJ,MAAMglB,WAAY40B,WAAYv5C,KApUhD+I,EA0VnB+6C,iBAAmB,SAACC,GAChB,OAAK1K,MAAM0K,GAIAA,EAFAA,EAAIzwC,QAAQ,IA7VRvK,EAoWnBqwC,eAAiB,SAACzlC,GACd,IAAK0lC,MAAM1lC,GACP,MAAO,KAAQA,EAAM,KAAQL,QAAQ,GAAM,MAtWhCvK,EAyWnB0rB,cAAgB,SAACjvB,GACbuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE/CW,KAAKktB,qBA5WM3rB,EA+WnB+b,cAAgB,SAACtf,EAAG1D,GAEhBkR,QAAQC,IAAI,MAAOzN,EAAG1D,GAEJ,KAAd0D,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAAS,EACxCzb,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KACpC,KAAdhf,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAASzb,EAAKpJ,MAAMglB,WAAW9kB,OAAS,GAC9EkJ,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KAG7DrU,WAAW,WACPpH,EAAK2rB,mBACN,MA3XY3rB,EA8XnBi7C,aAAe,SAACj1C,GAEZjO,aAAa6H,QAAQ,UAAWoG,EAAMzF,OAAOwF,SAC7C/F,EAAKK,SAAS,CAAEy6C,QAAS90C,EAAMzF,OAAOwF,SAAW,WAC7CkE,QAAQC,IAAI,UAAWlK,EAAKpJ,MAAMkkD,QAAS90C,EAAMzF,OAAOwF,YAlY7C/F,EAsYnBqL,aAAe,SAACxR,EAAMM,GAYlB,IARA,IAAI4Q,EAAM,SAAUlR,GAEhB,IADA,IAAImR,EAAM,EACDvG,EAAI,EAAGA,EAAI5K,EAAK/C,OAAQ2N,IAC7BuG,GAAOnR,EAAK4K,GAAG6F,MAEnB,OAAOU,EAAMnR,EAAK/C,QAElBmU,EAAS,GACJxG,EAAItK,EAAQ,EAAG+Q,EAAMrR,EAAK/C,OAAQ2N,EAAIyG,EAAKzG,IAAK,CACrD,IAAI0G,EAAMJ,EAAIlR,EAAKuR,MAAM3G,EAAItK,EAAQ,EAAGsK,IACxCwG,EAAOlJ,KAAK,CAAE2I,KAAM7Q,EAAK4K,GAAGiG,KAAM5M,MAAOqN,IAE7C,OAAOF,GAtZQjL,EAwZnB2rB,gBAAkB,SAAC5yB,EAAOiB,GAIlBjB,GACAiH,EAAKK,SAAS,CAAEsuB,gBAAiB,GAAIusB,iBAAkBlhD,EAAQjB,MAAOA,GAAS,WAC3EkR,QAAQC,IAAI,aAAcnR,KAGlC,IACIiZ,EAAgBC,GAAO,SAAU,SAErC,GAA4B,cAAxBjS,EAAKpJ,MAAM83B,UAA2B,CACtC,IAAIhkB,EAAOuH,YAAgB,YAC3BD,EAAgBC,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAGhD,GAAI1K,EAAKpJ,MAAMmlD,kBAAmB,CAC1BrxC,EAAOuH,YAAgB,cACC,cAAxBjS,EAAKpJ,MAAM83B,YACXhkB,EAAOuH,YAAgB,cAC3BD,EAAgBC,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAGhD,IAAI7Q,EAAO,CACP+V,SAAY,MACZH,YAAe1W,GAASiH,EAAKpJ,MAAMmC,MACnCsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOD,GAAeE,OAnBtB,oBAoBZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OApBjB,qBAwBhBpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIwtB,EAAczvB,EAAgBiC,EAAK,SAEvC,GAAIwtB,GAAeA,EAAYh1B,KAAM,CAEjC,IAAIA,EAAOg1B,EAAYh1B,KAEjBi1B,EAAQj1B,EAAK8gB,IAAI,SAAAoU,GACnB,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAGpI5oB,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GACzJp1B,EAAK6H,QAAQ,SAACC,EAASutB,GACnB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAI5F,IAAI4V,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAGRC,EAAKC,KAAeJ,UAAUC,GAM9BN,GAHAQ,EAAKC,KAAeJ,UAAUC,GAGnB,CAAEL,OAAQP,EAAcQ,OAAQ,KAC3Cyb,EAAYvb,KAAIC,UAAUL,GA4D9B,GA1DAvJ,QAAQC,IAAInR,EAAO,MAAOya,EAAU2b,GAIpCnvB,EAAKK,SAAS,CAAEsuB,gBAAiBG,EAAOM,YAAapb,EAAGA,EAAGld,OAAS,GAAIu4B,UAAWnb,KAAKjB,GAAWkc,UAAWA,EAAU/jB,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,GAAI,IAAKwc,WAAYA,EAAWlI,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,EAAG,KAAO,WAEpO2H,KAAK7H,MAAMwR,aAAaQ,QAAQnK,KAAK7H,MAAM+3B,iBAE3ClwB,KAAK7H,MAAMoS,aAAaJ,QAAQqmB,GAEhC,IAAInkB,EAAUrM,KAAK4M,aAAa5M,KAAK7H,MAAM+3B,gBAAiB,IAE5DlwB,KAAK7H,MAAM24B,cAAc3mB,QAAQkC,GAGjCrM,KAAK7H,MAAMyQ,MAAM4B,uBAAuB,SAACC,GAErC,IAAIC,EAAQD,EAAME,aAAaC,OAAOC,YAElCC,EAAS,GACTC,EAAS,GALkCC,GAAA,EAAAC,GAAA,EAAAC,OAAA5S,EAAA,IAO/C,QAAA6S,EAAAC,EAAiBV,EAAjBE,OAAAC,cAAAG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,KAAfO,EAAeJ,EAAA9L,MAEE,iBAAXkM,EAAK,IACZT,GAAU,UAAYS,EAAK,GAAGG,KAAO,OACrCZ,GAAU,UAAYS,EAAK,GAAGI,KAAO,OACrCb,GAAU,UAAYS,EAAK,GAAGK,IAAM,OACpCd,GAAU,UAAYS,EAAK,GAAGM,MAAQ,OAEtCf,GAAU,cADVC,EAA0C,KAAhCQ,EAAK,GAAGM,MAAQN,EAAK,GAAGG,MAAcH,EAAK,GAAGG,MACxBI,QAAQ,GAAK,SAE7ChB,GAAU,WAAaS,EAAK,GAAGO,QAAQ,GAAK,KAjBL,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAI,EAAAY,QAAAZ,EAAAY,SAAA,WAAAf,EAAA,MAAAC,GAqB3CT,EAAMwB,KACNnB,GAAU,UAAY,IAAIhD,KAAK2C,EAAMwB,MAAMC,iBAAmB,OAE9DpB,GAAU,iBAGd,IAGIqB,EAAM,2BAA6BrB,EAAS,WAC5CC,EAAS,IACToB,EAAM,yBAA2BrB,EAAS,YAL3BjF,SAASkD,eAAe,kBAOhCqD,UAAYD,MAM/B/Q,GAAQA,EAAK4W,KAAK,SAAUjW,EAAGkW,GAC3B,OAAO,IAAInK,KAAKmK,EAAE,IAAM,IAAInK,KAAK/L,EAAE,MAEnCX,EAAK/C,OAAS,EAAG,CACjBiB,aAAa6H,QAAQ,oBAAqB1H,KAAK+I,UAAUpH,IACzDmG,EAAKK,SAAS,CAAEmvB,kBAAmB31B,IAGnC,IAAI41B,EAAkB,EAAGC,EAAgB,EACzC71B,EAAK6H,QAAQ,SAAAC,GAET,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAChDiuB,GAAO,KACPH,GAAmB,GAEnBG,IAAQ,KACRF,GAAiB,GAGTE,IAGhB5vB,EAAKK,SAAS,CAAEqvB,cAAeA,EAAeD,gBAAiBA,SA5iB3EzvB,EAAKpJ,MAAQ,CACT0K,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGgkB,kBAAmB,aACnBJ,WAAY,GACZ29B,WAAYxhD,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpG02B,UAAW,iBACXmsB,gBAAiB,GACjBp/B,OAAQ,GACRsgC,mBAAmB,EACnBb,iBAAkB,0BAClBJ,QAA6C,SAApC/iD,aAAaC,QAAQ,WAC9Bw4C,WAAY,UACZyD,SAAU,CACNC,WAAY,QACZC,aAAc,UACdC,aAAc,YACdC,eAAgB,YAChBC,oBAAqB,aACrBC,aAAc,UACdC,WAAY,QACZC,cAAe,WACfC,cAAe,WACfC,eAAgB,YAChBC,iBAAkB,SAClBC,eAAgB,YAChBC,iBAAkB,eAClBC,oBAAqB,iBACrBC,aAAc,OACdC,cAAe,WACfC,YAAa,SACbC,YAAa,SAebgG,gBAAiB,cACjBC,kBAAmB,gBACnBC,mBAAoB,WACpBC,oBAAqB,WACrBC,YAAa,WACbC,oBAAqB,YAG7Bx7C,EAAKotB,kBAAoBptB,EAAKotB,kBAAkBprB,KAAvB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAxDVA,mFA4LC,IAAAwjB,EAAA/kB,KAEhBnH,OAAOgN,SAASa,MAAQ,cACxB1G,KAAK4B,SAAS,CAAEub,WAAYnd,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,qBAE7D,IAAI/jB,EAASC,KAAKC,MAAMJ,aAAaC,QAAQ,eACzCk1B,EAAYj1B,GAAUA,EAAOi1B,UAC7BhpB,EAAchM,KAAKC,MAAMJ,aAAaC,QAAQ,gBAC9C6I,EAAaqD,GAAeA,EAAYrD,WAC5CpC,KAAK4B,SAAS,CAAE6sB,UAAWA,EAAWrsB,WAAYA,GAAc,WAC5DpC,KAAKuuB,QAAU,IAAI4N,gBAAa,kEAChCn8B,KAAKivB,oBAAoBjvB,KAAKuuB,WAGlC,IAAM0H,EAAapwB,SAASkD,eAAe,WAC3ClD,SAASkD,eAAe,WAAWqD,UAAY,GAE/C,IAAI7P,EAAQ1D,OAAO0kD,OAAOhhD,MAAQ,IAAKyM,EAASnQ,OAAO0kD,OAAOv0C,OAAS,EACnE,iEAAiEw0C,KAAKC,UAAUC,aAChFnhD,EAAQ1D,OAAO0kD,OAAOhhD,OAI1B,IAAMqM,EAAQE,aAAYmtB,EAAY,CAAE15B,MAAOA,EAAOyM,OAAQA,EAAQktB,aAAa,EAAMC,gBAAgB,IACnGxsB,EAAef,EAAMgB,uBACvBknB,EAAgBloB,EAAMiE,cAAc,CACpCpN,MAAO,uBACPqN,UAAW,IAEXvC,EAAe3B,EAAMwB,mBAAmB,CACxC3K,MAAO,UACP4K,YAAa,CACT7R,KAAM,UAEV8R,aAAc,GACdpB,aAAc,CACVC,IAAK,GACLC,OAAQ,KAGhBpJ,KAAK4B,SAAS,CAAEgH,MAAOA,EAAOe,aAAcA,EAAcmnB,cAAeA,EAAevmB,aAAcA,IAEtGvK,KAAKm8C,qBAEL,IAAI5oC,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE3B8X,EAAc9X,GAAO,IAAI1L,KAAQ,SACvB0L,KAASsW,cAFR,GAIQwB,EAAYC,UAAUhY,EAAe8X,KACxDxG,YAAY,WACJE,EAAK5sB,MAAMmC,OACXyqB,EAAKmI,mBAEV,KAEHrI,YAAY,WACRrZ,QAAQC,IAAI,aAAa,IAAI3D,MAAO61C,cACL,IAA3B,IAAI71C,MAAO61C,cACX54B,EAAKq4B,kBAEX,uCA4TD,IAAA92B,EAAAtmB,KAOL,OACIlE,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,CAAiBiB,kBAAmB9Y,KAAK8Y,oBAEzChd,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,GAE3B7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAEnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMpH,MAAO,CAAEgB,QAAS,WAAaD,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAG1F7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAEnBhI,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMrG,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAC3D7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IACnBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,SAAcsB,KAAK7H,MAAMskD,iBAAzB,IAA4Cz8C,KAAK7H,MAAM+kD,UAAvD,IAAmEl9C,KAAK7H,MAAMglD,YAAX,IAAAnmC,OAA6BhX,KAAK7H,MAAMglD,YAAxC,KAAyD,GAA5H,OAKJrhD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAClBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAADvlB,OAAAoJ,EAAA,EAAApJ,CAAA,CAAa6D,MAAO0H,GAAOuiB,aAA3B,QAA+C,CAAEnpB,UAAW,SACxDtB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKitB,eACjEnxB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,MAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,MACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,OAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,OACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,OACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,MAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,UAW7CvD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,mBACRlD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,aAGZlD,EAAAC,EAAAC,cAAC2c,GAAA,EAAD,CAAQC,QAAM,GACV9c,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAA,gCAFJ,IAE+BF,EAAAC,EAAAC,cAAA,WAE3BF,EAAAC,EAAAC,cAAA,mBAAcgE,KAAK7H,MAAMu4B,WAAa1wB,KAAK7H,MAAMu4B,UAAUxU,IAAI,SAAChP,EAAMwpB,GAAP,OAC3DxpB,GAAQ,GAAKpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAO,QAAS6b,WAAY,SAA3C,IAAuDpO,EAAvD,SAA6EpR,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,GAAQ,GAAK,MAAQ,GAAIoO,WAAY,SAA3D,IAAuEpO,EAAvE,WAI9FpR,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,iBAVJ,IAUiBgE,KAAK7H,MAAM0c,YAAc7U,KAAK7H,MAAM0c,WAAWqH,IAAI,SAAChP,EAAMwpB,GAAP,OAC5D56B,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAEmD,MAAOyN,EAAOoZ,EAAKnuB,MAAMg8B,eAAiB,QAAU,GAAI7Y,WAAYpO,EAAOoZ,EAAKnuB,MAAMg8B,eAAiB,OAAS,KAA/H,KAAwIjnB,EAAO,KAAQpB,QAAQ,GAA/J,YAGJhQ,EAAAC,EAAAC,cAAA,WACCgE,KAAK7H,MAAMw4B,YAAc70B,EAAAC,EAAAC,cAAA,QAAMkR,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAE7ChI,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,qDAAqDpK,MAAO,CAAEmD,MAAOO,KAAK7H,MAAM+kD,WAAal9C,KAAK7H,MAAMw4B,YAAY4F,MAAQ,QAAU,GAAIjb,WAAY,SAAlK,aAAuLtb,KAAK7H,MAAMw4B,YAAY4F,MAAMzqB,QAAQ,IAAUhQ,EAAAC,EAAAC,cAAA,WAFhN,sBAGFgE,KAAK7H,MAAMw4B,YAAY6F,OAAO1qB,QAAQ,GAAGhQ,EAAAC,EAAAC,cAAA,WAC7DF,EAAAC,EAAAC,cAAA,QAAM0K,MAAM,mDAAmDpK,MAAO,CAAEmD,MAAOO,KAAK7H,MAAM+kD,WAAal9C,KAAK7H,MAAMw4B,YAAY8F,MAAQ,MAAQ,GAAInb,WAAY,SAA9J,aAAmLtb,KAAK7H,MAAMw4B,YAAY8F,MAAM3qB,QAAQ,IAAUhQ,EAAAC,EAAAC,cAAA,YAC5N,GAEVF,EAAAC,EAAAC,cAAA,QAAMkR,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAEmD,MAAOO,KAAK7H,MAAM+kD,UAAYl9C,KAAK7H,MAAMy4B,UAAY,QAAU,MAAOtV,WAAY,SAAtH,UACYtb,KAAK7H,MAAMy4B,WAAa5wB,KAAK7H,MAAMy4B,UAAU9kB,QAAQ,IAIjEhQ,EAAAC,EAAAC,cAAA,WA3BJ,KA2BYF,EAAAC,EAAAC,cAAA,gBAkD5BF,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAEnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAME,QAAQ,gBACVD,WAAS,EAACtG,QAAS,GAKnBvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAClBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBAGhFpd,KAAK7H,MAAMikD,iBAAmBp8C,KAAK7H,MAAMikD,gBAAgBlgC,IAAI,SAAAhZ,GAAO,OACjEpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU7hB,MAAO,CAAEmD,MAAOyD,EAAQwpC,WAAa,EAAI,QAAU,OAASrtC,MAAO6D,EAAQ4pC,WAAY5pC,EAAQ4pC,UAAzG,KAAsH5pC,EAAQwpC,WAA9H,QAGH1sC,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,KARnC,SAWIpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,qBAAsB,wBAOnDvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAClBhI,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,GAAGrC,MAAO,CAAEmK,YAAa,QAAU/G,QAAS,kBAAM4mB,EAAK61B,uBAAvE,YAKJrgD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAClBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,qBAApB,kBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMmlD,kBAAmBp+C,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBAEjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,OAAO,GAAO,OACxBvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,OAAO,GAAQ,UAyCzCvD,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBAErD1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAE8qB,WAAY,UAAYzoB,QAAQ,QAChD7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,QAQd7C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,mBAAzC,UAAb,MACAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,QAAO1T,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,aAAzC,WAAxB,KAGAh2C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAYxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQE,QAAS,kBAAM4mB,EAAKwrB,aAAa,mBAAzC,UAAZ,SA+BZh2C,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAEyqB,SAAU,OAAQ5G,UAAW,UACvCrkB,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ5qB,MAAO,CAAEC,MAAO,QAAUiL,aAAW,gBACrD1L,EAAAC,EAAAC,cAACurB,GAAA,EAAD,KAMKvnB,KAAK7H,MAAMglB,WAAand,KAAK7H,MAAMglB,WAAWjB,IAAI,SAAC7Y,EAAK2C,GAAN,OAC/ClK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUhJ,SAAUiI,EAAKnuB,MAAM6kB,SAAWhX,EAAI,SAAW,KAErD1J,MAAO,CAAE0gB,OAAQ,WAAawK,OAAK,EAACf,IAAKzgB,EAAGtG,QAAS,kBAAM4mB,EAAK4G,gBAAgB7pB,EAAI/I,MAAO+I,EAAInE,QAY/FpD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,wBAAwBpK,MAAO,CAAE8f,WAAY/Y,EAAI4tC,aAAe,UAAY,KAIxF5tC,EAAI0tC,cAAJ,MAAA/5B,OAA0B3T,EAAI0tC,eAAkB,GAGhDzqB,EAAKsrB,eAAevuC,EAAI+uB,mBAG7Bt2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW9X,MAAM,OAAOlT,MAAO,CAAE8f,WAAYkK,EAAKnU,mBAAmB9O,EAAI0kB,WAAzE,OAA2F1kB,EAAInE,KAA/F,IAAsGmE,EAAI2P,IAA1G,IAAgH3P,EAAI0kB,QAAJ,IAAA/Q,OAAkB3T,EAAI0kB,QAAtB,MAAoC,GAApJ,KACAjsB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,gBAAgBpK,MAAO,CAAE0M,OAAQ,OAAQoT,WAAY/Y,EAAI2P,IAAM3P,EAAI2P,KAAO3P,EAAIgsC,aAAe,QAAU,MAAQ,UAAhI,MAA+IhsC,EAAIgsC,cAGnJvzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,wBAAwBpK,MAAO,CAAE8f,WAAY/Y,EAAI6tC,cAAgB,UAAY,KAIzF7tC,EAAI2tC,cAAJ,MAAAh6B,OAA0B3T,EAAI2tC,eAAkB,GAGhD1qB,EAAKsrB,eAAevuC,EAAIgvB,oBAG7Bv2B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,cAAjB,KAAiCrD,EAAIm4C,WACrC1/C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,cAAjB,KAAiCrD,EAAIi4C,WACrCx/C,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,aAAjB,KAAiCrD,EAAI+3C,aAmCxCt/C,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,SAQjBD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAOnBhI,EAAAC,EAAAC,cAAA,2BAAmBgE,KAAK7H,MAAM45C,WAA9B,KAPJ,IAOsDj2C,EAAAC,EAAAC,cAAA,WAClDF,EAAAC,EAAAC,cAAA,uBAAegE,KAAK7H,MAAM6iD,iBAA1B,MAOJl/C,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,EAAGC,GAAI,GAElBhI,EAAAC,EAAAC,cAACkL,GAAA,EAAD,KACIpL,EAAAC,EAAAC,cAACmL,GAAA,EAAD,CACIC,QAAStL,EAAAC,EAAAC,cAACqL,GAAA,EAAD,CAAQC,QAAStH,KAAK7H,MAAMkkD,QAASn+C,SAAU8B,KAAKw8C,aAAch1C,aAAW,iBACtFvI,MAAOe,KAAK7H,MAAMkkD,QAAU,YAAc,0BA76B5Dj4C,IAAMC,WAy8BtBL,GAAS,CACXuiB,YAAa,CACT4B,SAAU,OACVD,aAAc,SAIP0yB,2BC39BT5tB,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAsCVqC,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAC1C,IAAIjE,EAAO4C,EAAE8D,OAAOzC,MACpBgD,EAAa0W,mBAAmB3d,GAAMkH,KAAK,SAAAM,GACvC,IAAIxH,EAAOwH,EAAIxH,KAEf9B,aAAa6H,QAAQ,iBAAkB1H,KAAK+I,UAAUpH,IACtDmG,EAAKK,SAAS,CAAEsb,eAAgB9hB,OA9CrBmG,EAmDnB0rB,cAAgB,SAACjvB,GACbuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE3CW,KAAK7H,MAAM4Y,eACX/Q,KAAKktB,gBAAgBltB,KAAK7H,MAAM6Y,gBAvDzBzP,EA4DnBq8C,gBAAkB,SAAC5/C,GAGf,GAFAuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAEpB,wBAAlBrB,EAAE8D,OAAOzC,MAAiC,CAE1C,IAAIw+C,EAA0BvkD,aAAaC,QAAQ,4BAA8BE,KAAKC,MAAMJ,aAAaC,QAAQ,4BAEjHgI,EAAKK,SAAS,CAAEk8C,gBAAiBrlD,OAAOqK,KAAK+6C,GAA2B,IAAKA,wBAAyBA,MAnE3Ft8C,EAuEnB6b,kBAAoB,SAACpf,GACjBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAC1C,IAAI0D,EAAaxB,EAAKpJ,MAAM4K,WAC5BxB,EAAKK,SAAS,CAAEub,WAAYpa,EAAW/E,EAAE8D,OAAOzC,QAAU,WACtDW,KAAK4B,SAAS,CAAEob,OAAQ,OAGN,aAAlBhf,EAAE8D,OAAOzC,OACTkC,EAAKK,SAAS,CAAEub,WAAY7jB,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,WAG9GyG,KAAK4B,SAAS,CAAEob,OAAQ,QAlFjBzb,EAsFnB4rB,oBAtFmB10B,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsFG,SAAAC,IAAA,IAAAg/B,EAAA7zB,EAAAvuB,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAElB9J,EAAKK,UAALm8C,EAAA,CACI1wB,kBAAmB,GAAIC,iBAAkB,IAD7C70B,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,mBACmE,IADnEtlD,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,oBAC0F,GAD1FtlD,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,oBAEuB,GAFvBtlD,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,qBAE8C,GAF9CtlD,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,oBAEoE,IAFpEtlD,OAAAoJ,EAAA,EAAApJ,CAAAslD,EAAA,wBAE+F,IAF/FA,IAFkB7zB,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAQTvuB,GARS,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cASRnI,EAAU3B,EAAKpJ,MAAMglB,WAAWxhB,GAElCP,EAAO,CACP+V,SAAYjO,EAAQoW,SACpBvI,cAAiB7N,EAAQ3H,OACzByV,YAAe9N,EAAQ5I,OAE3B+H,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAC3B,GAAI2X,EAAS,CAET,IAAIhI,GAA0C,KAA/BgI,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,OAAOC,QAAQ,GAO3E,GANAiH,EAAQoJ,GAAKpR,EACbgI,EAAQxX,OAAS2H,EAAQ3H,OAEzBgG,EAAKpJ,MAAMglB,WAAWxhB,GAAOqX,IAAMD,EAAQC,IAC3CzR,EAAKpJ,MAAMglB,WAAWxhB,GAAOwgB,GAAKpR,EAE9BgI,GAAWA,EAAQrH,MAAQqH,EAAQnH,IACnCJ,QAAQC,IAAI,MAAOsH,GACLxR,EAAKpJ,MAAMm1B,iBAAiBlqB,OAAO,SAAAC,GAAG,OAAIA,EAAI2N,aAAe9N,EAAQ5I,QACtEjC,QACTkJ,EAAKK,SAAS,CAAE0rB,iBAAgB,GAAAtW,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMm1B,kBAAjB,CAAmCva,MAI3E,GAFAvH,QAAQC,IAAIvI,EAAQ3H,OAAQ,cAAewX,EAAQC,IAAMD,EAAQpH,KAAsB,GAAfoH,EAAQpH,KAAa,KAEzFoH,GAAWA,EAAQC,KAAQD,EAAQpH,KAAsB,GAAfoH,EAAQpH,KAAa,IACjDpK,EAAKpJ,MAAMo1B,sBAAsBnqB,OAAO,SAAAC,GAAG,OAAIA,EAAI2N,aAAe9N,EAAQ5I,QAC3EjC,QACTkJ,EAAKK,SAAS,CAAE2rB,sBAAqB,GAAAvW,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMo1B,uBAAjB,CAAwCxa,MAGrF,GAAIA,GAAWA,EAAQrH,MAAQqH,EAAQpH,KACnCH,QAAQC,IAAI,MAAOsH,GACLxR,EAAKpJ,MAAMk1B,kBAAkBjqB,OAAO,SAAAC,GAAG,OAAIA,EAAI2N,aAAe9N,EAAQ5I,QACvEjC,QACTkJ,EAAKK,SAAS,CAAEyrB,kBAAiB,GAAArW,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMk1B,mBAAjB,CAAoCta,MAIzEA,EAAQ7D,UAAY,EACpB3N,EAAKK,SAAS,CAAE4rB,kBAAmBjsB,EAAKpJ,MAAMq1B,kBAAoB,IAC7Dza,EAAQ7D,UAAY,EACzB3N,EAAKK,SAAS,CAAE6rB,kBAAmBlsB,EAAKpJ,MAAMs1B,kBAAoB,IAElElsB,EAAKK,SAAS,CAAE8rB,mBAAoBnsB,EAAKpJ,MAAMu1B,mBAAqB,IAGxEnsB,EAAKpJ,MAAMglB,YAAc5b,EAAKpJ,MAAMglB,WAAWnL,KAAK,SAAUjW,EAAGkW,GAC7D,OAAOA,EAAEkK,GAAKpgB,EAAEogB,KAEpB5a,EAAKK,SAAS,CAAEub,WAAY5b,EAAKpJ,MAAMglB,WAAYpM,cAAe7N,EAAQ3H,OAAQyV,YAAa9N,EAAQ5I,WA7DjG4kB,EAAA7T,KAAA,EAqER,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OArEvB,wBAAApL,EAAAK,SAAA2K,KAQTvuB,EAAQ,EARC,YAQEA,EAAQ4F,EAAKpJ,MAAMglB,WAAW9kB,QARhC,CAAA+xB,EAAA/e,KAAA,eAAA+e,EAAAG,cAAAL,EAQTvuB,GARS,eAQwCA,IARxCyuB,EAAA/e,KAAA,gCAAA+e,EAAA7K,SAAAR,MAtFHxd,EAiKnB0Z,WAAa,SAACF,EAAM4S,GACC,eAAbA,EACApsB,EAAKK,SAAS,CAAEgsB,UAAW7S,IACP,aAAb4S,GACPpsB,EAAKK,SAAS,CAAEisB,QAAS9S,KArKdxZ,EAwKnBsR,OAAS,WACL,IAAIzX,EAAO,CACP+V,SAAY,MACZJ,cAAiBxP,EAAKpJ,MAAM4Y,cAC5BC,YAAezP,EAAKpJ,MAAM6Y,aAE9B3O,EAAawQ,OAAOzX,GAAMkH,KAAK,SAAAM,GAC3B,IAAIxH,EAAOuF,EAAgBiC,EAAK,SAC5BmQ,EAAU3X,GAAQA,EAAKA,KAC3BmG,EAAKK,SAAS,CAAEksB,cAAe/a,IAE3BA,GAAWA,EAAQC,KACnBzR,EAAKK,SAAS,CAAEmsB,qBAAsD,KAA/Bhb,EAAQC,IAAMD,EAAQlH,OAAekH,EAAQlH,OAAOC,QAAQ,QApL5FvK,EAyNnBy8C,gBAAkB,WACdz8C,EAAKK,SAAS,CAAEi0B,iBAAiB,KA1NlBt0B,EA6NnB08C,mBA7NmBxlD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA6NE,SAAAmL,IAAA,IAAAi0B,EAAAxqC,EAAAyqC,EAAAC,EAAAC,EAAAtuB,EAAAuuB,EAAAvsB,EAAAp2B,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,UAEb6yC,EAAW38C,EAAKpJ,MAAMomD,YAAa,IAAKh9C,EAAKpJ,MAAMolB,kBAAmB,IAAK/J,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,cAAe,IAAKD,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,cAAe,OACxLlS,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,EAAOqf,SAAUA,IAGnE1yC,QAAQC,IAAI,WAAYyyC,GAEnB38C,EAAKpJ,MAAMomD,YARC,CAAA3zB,EAAAvf,KAAA,eASbtK,EAAOE,UAAU,uBATJ2pB,EAAA9B,OAAA,oBAac,QAA3BvnB,EAAKpJ,MAAMomD,YAbE,CAAA3zB,EAAAvf,KAAA,eAcb9J,EAAKi9C,cAdQ5zB,EAAA9B,OAAA,oBAiBc,aAA3BvnB,EAAKpJ,MAAMomD,YAjBE,CAAA3zB,EAAAvf,KAAA,gBAkBb9J,EAAKk9C,mBAlBQ7zB,EAAA9B,OAAA,qBAsBc,kBAA3BvnB,EAAKpJ,MAAMomD,YAtBE,CAAA3zB,EAAAvf,KAAA,gBAuBb9J,EAAKm9C,gBAvBQ9zB,EAAA9B,OAAA,qBA4Bc,gBAA3BvnB,EAAKpJ,MAAMomD,YA5BE,CAAA3zB,EAAAvf,KAAA,gBA6Bb9J,EAAKo9C,qBA7BQ/zB,EAAA9B,OAAA,qBAiCc,iBAA3BvnB,EAAKpJ,MAAMomD,YAjCE,CAAA3zB,EAAAvf,KAAA,gBAkCb9J,EAAKq9C,uBAlCQh0B,EAAA9B,OAAA,qBAwCc,yBAA3BvnB,EAAKpJ,MAAMomD,YAxCE,CAAA3zB,EAAAvf,KAAA,SA0CTqI,EAAYF,GAAOjS,EAAKpJ,MAAMy1B,WAC9BuwB,EAAU3qC,GAAOjS,EAAKpJ,MAAM01B,SAE1BuwB,EAAgB1qC,EAChB2qC,EAAYF,EA9CL,YAiDNC,EAAcS,eAAeR,EAAW,OAjDlC,CAAAzzB,EAAAvf,KAAA,YAmDTG,QAAQC,IAAR,WAAAuL,OAAuBonC,EAAc3qC,OAAO,gBAE5ClS,EAAKu9C,yBAAyBV,IAE1B78C,EAAKpJ,MAAM09B,gBAvDN,CAAAjL,EAAAvf,KAAA,gBAAAuf,EAAA9B,OAAA,2BAAA8B,EAAAvf,KAAA,GA2DH,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAkC,IAA/B/oB,EAAKpJ,MAAMglB,WAAW9kB,UA3DlD,QA8DT+lD,EAAcW,IAAI,EAAG,QA9DZn0B,EAAAvf,KAAA,wBAgEb9J,EAAKK,SAAS,CAAEi9B,cAAc,EAAMhJ,iBAAiB,IAhExCjL,EAAA9B,OAAA,kBAyEjBvnB,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,IAGlDrzB,QAAQC,IAAI,aAAclK,EAAKpJ,MAAMomD,aAEjCxuB,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EA/EDvsB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EAgFRp2B,GAhFQ,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,cAiFPnI,EAAU6sB,EAAUp0B,GAGtBP,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,iBACZC,SAAYL,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,oBAChDK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAO,qBAGxCpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAG3C,IADA,IAAI4b,EAAaD,EAAS5Y,KACjB8xC,EAAS,EAAGA,EAASj5B,EAAW5b,OAAS,GAAI60C,IAAU,CAE5D,IAAIzP,EAAexpB,EAAWtH,MAAMugC,EAAQA,EAAS,IACjD8R,EAAe/qC,EAAWtH,MAAMugC,EAAS,GAAIA,EAAS,IAK1D,GADA1hC,QAAQC,IAAI,MACRgyB,EAAaplC,QAAU,IAAM,IAAIyP,KAAKmM,EAAWi5B,GAAQ,IAAIlkB,qBAAuB,WAGpF,OAAQznB,EAAKpJ,MAAMomD,aACf,IAAK,aACDh9C,EAAK09C,mBAAmBxhB,EAAcv6B,EAAQ3H,OAAQyjD,GACtD,MACJ,IAAK,gBACDz9C,EAAK29C,sBAAsBzhB,EAAcv6B,EAAQ3H,OAAQyjD,GAOrEV,GAAerqC,EAAW5b,YAI9BmT,QAAQC,IAAI,wBA7HP0e,EAAA9e,KAAA,EAgIP,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhIxB,OAiIb/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IAjIjE,wBAAAn0B,EAAA5K,SAAAwS,KAgFRp2B,EAAQ,EAhFA,aAgFGA,EAAQo0B,EAAU13B,QAhFrB,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EAgFRp2B,GAhFQ,iBAgF6BA,IAhF7BivB,EAAAvf,KAAA,kCAAAuf,EAAArL,SAAA0K,MA7NF1oB,EAoWnBm9C,cApWmBjmD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAoWH,SAAA6L,IAAA,IAAAoF,EAAA2C,EAAA/2B,EAAAsQ,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2T,GAAA,cAAAA,EAAAzT,KAAAyT,EAAAvnB,MAAA,OAEZ9J,EAAKK,SAAS,CAAEm0B,iBAAkB,GAAI8I,cAAc,IAEhD9O,EAAYxuB,EAAKpJ,MAAMglB,WACT,EAAmB,EALzBuV,EAAA7T,GAAA9iB,EAAA+iB,KAAA,SAAA4T,EAMH/2B,GANG,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAgT,GAAA,cAAAA,EAAA9S,KAAA8S,EAAA5mB,MAAA,UAOFnI,EAAU6sB,EAAUp0B,IAGtB4F,EAAKpJ,MAAM09B,gBAVP,CAAA5D,EAAA5mB,KAAA,eAAA4mB,EAAAnJ,OAAA,gCAcRvnB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,SAIrD0Q,EAAOuH,YAAgB,aACvBE,EAAYF,GAAOjS,EAAKpJ,MAAM01B,SAASla,SAAS1H,GAEhD7Q,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,UACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KAC1B6Y,EAAWM,UAGX,IAAIwqB,EAAc9qB,EAAWtH,MAAM,EAAG,GAMtC,GAAIoyB,EAAY1mC,QAAU,EAAG,CAIzB,IAAI4mC,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAQ/C,GAPAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAIJ,GAAhBA,EAAmB,CACnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAW,GAG/BzI,QAAQC,IAAIvI,EAAQ3H,OAAQwjC,EAAaE,EAAUH,EAAcqgB,GAGjE,IAAIhgB,GAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAGlEszB,GAAYnB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAGlEszC,EAAa,CACbrwC,QAAS,IAAIjH,KAAKm2B,EAAY,IAAI/tB,WAAW/J,OAAO,EAAG,IACvD5K,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf6uB,WAAY,MACZwW,OAAQP,EACRzzB,KAAMsyB,EAAY,GAClBryB,IAAKqyB,EAAY,GACjByB,MAAOP,EACPz3B,gBAAiBA,EACjBmE,MAAOoyB,EAAY,IAGvB18B,EAAK89C,wBAAwBn8C,EAAQ5I,MAAO8kD,UAQpD5zC,QAAQC,IAAIvI,EAAQ3H,OAAQ,wBAEjC2a,MAAM,SAAAnW,GACLgB,EAAOE,UAAUiC,EAAQ3H,OAAS,6BAnG9B02B,EAAA5mB,KAAA,GAqGF,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OArG7B,yBAAA2H,EAAA1S,SAAAmT,KAMH/2B,EAAQ,EANL,YAMQA,EAAQo0B,EAAU13B,QAN1B,CAAAu6B,EAAAvnB,KAAA,gBAAAunB,EAAArI,cAAAmI,EAMH/2B,GANG,4BAAAi3B,EAAAuP,GAAA,CAAAvP,EAAAvnB,KAAA,gBAAAunB,EAAA9J,OAAA,oBAMkCntB,IANlCi3B,EAAAvnB,KAAA,gBAwGZ9J,EAAKK,SAAS,CAAEi9B,cAAc,EAAMhJ,iBAAiB,IAxGzC,yBAAAjD,EAAArT,SAAAoL,MApWGppB,EAgdnB+9C,yBAA2B,SAACp8C,EAAS+6B,EAAav2B,EAAiB63C,GAC/D,IAAIpgB,EAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,GAErDuhB,EAAcrgB,EAAuB,EAAXA,EAAe,IAGzCsgB,EAAe,GAAIC,GAAe,EAAMC,EAAiB,GAAIC,EAAgB,GAAIC,EAAaN,EAAe,GAAG,GAIpH,GAFA/zC,QAAQC,IAAIvI,EAAQ3H,OAAQ,gBAAiBgkD,GAEzCA,GAAkBA,EAAelnD,OAAQ,CAEzC,IAAK,IAAIsD,EAAQ,EAAGA,EAAQ4jD,EAAelnD,OAAQsD,IAAS,CACxD,IAAMmkD,EAAaP,EAAe5jD,GAClC8jD,EAAan8C,KAAK,CAAC,IAAIwE,KAAKg4C,EAAW,IAAIvvB,UAAWuvB,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,KAC1GA,EAAW,GAAKD,IAChBA,EAAaC,EAAW,IAKhC,IAAK,IAAIC,EAAc,EAAGA,EAAcR,EAAelnD,OAAQ0nD,IAAe,CAC1EH,EAAgBL,EAAeQ,GAE3BL,GAAgBE,EAAc,GAAKzgB,IACnC3zB,QAAQC,IAAIvI,EAAQ3H,OAAQ,mBAAoBqkD,EAAc,IAC9DD,EAAiB,CACb5wC,QAAS,SAAW,IAAIjH,KAAK83C,EAAc,IAAI1zC,iBAC/C3Q,OAAQ2H,EAAQ3H,OAChB0T,cAAekwB,EACfmC,SAAUke,EACV5f,iBAAkB,IAClB3uB,SAAUoB,KAAKC,MAAM,IAAS6sB,GAC9Bz3B,gBAAiBA,GAErBg4C,GAAe,GAKnB,IAAIxwC,EAA4C,KAA/BiwB,EAAWygB,EAAc,IAAYzgB,EAQtD,GAPA3zB,QAAQC,IAAIvI,EAAQ3H,OAAQ,YAAa2T,IAOpCwwC,GAAgBxwC,GAAa,EAAG,CAEjC,IAAID,EAAgBkwB,EAAsB,EAAXA,EAAe,IAC9CwgB,EAAe3wC,aAAeC,EAC9B0wC,EAAezwC,UAAYA,EAC3BywC,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,iBAC5B,MAIJ,GAFAx0C,QAAQC,IAAIvI,EAAQ3H,OAAQ,OAAQqkD,EAAc,KAE7CF,GAAgBE,EAAc,IAAMJ,EAAY,CACjD,IAAIS,EAAoC,KAAzB9gB,EAAWqgB,GAAoBrgB,EAC9CwgB,EAAe3wC,aAAewwC,EAC9BG,EAAezwC,UAAY+wC,EAC3BN,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,SAC5B,OAKR,IAAKN,IAAiBC,EAAe1wC,cAAe,CAC5CgxC,EAA0C,KAA/BL,EAAc,GAAKzgB,GAAkBA,EACpDwgB,EAAe3wC,aAAe4wC,EAAc,GAC5CD,EAAezwC,UAAY+wC,EAC3BN,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,aAGhC,IAAKN,GAAgBrtC,KAAKC,MAAM,IAAS6sB,IAAawgB,EAAe3wC,aAAc,CAC/E,IAAIkxC,EAA0C,KAAzB/gB,EAAW0gB,GAAoB1gB,EACpDwgB,EAAeQ,WAAaN,EAC5BF,EAAeS,iBAAmBF,EAClCP,EAAevqB,sBAAwBqqB,EAEvCl+C,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiC+gB,SApiBxDp+C,EA6iBnB8+C,yBAA2B,SAACn9C,EAAS+6B,EAAav2B,EAAiB63C,GAC/D,IAAIpgB,EAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,GAGrDuhB,EAAcrgB,EAAuB,GAAXA,EAAiB,IAG3CsgB,EAAe,GAAIC,GAAe,EAAMY,GAAiB,EAAMC,EAAa,EAAGZ,EAAiB,GAAIC,EAAgB,GAAIC,EAAaN,EAAe,GAAG,GAG3J,GAAIA,GAAkBA,EAAelnD,OAAQ,CAEzC,IAAK,IAAIsD,EAAQ,EAAGA,EAAQ4jD,EAAelnD,OAAQsD,IAAS,CACxD,IAAMmkD,EAAaP,EAAe5jD,GAClC8jD,EAAan8C,KAAK,CAAC,IAAIwE,KAAKg4C,EAAW,IAAIvvB,UAAWuvB,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,KAC1GD,EAAaN,EAAe5jD,GAAO,KACnCkkD,EAAaN,EAAe5jD,GAAO,IAI3C,IAAK,IAAIokD,EAAc,EAAGA,EAAcR,EAAelnD,OAAQ0nD,IAAe,CAC1EH,EAAgBL,EAAeQ,GAE3BL,GAAgBE,EAAc,GAAKzgB,IACnCwgB,EAAiB,CACb5wC,QAAS,QAAU,IAAIjH,KAAK83C,EAAc,IAAI1zC,iBAC9C3Q,OAAQ2H,EAAQ3H,OAChByT,aAAcmwB,EACdmC,SAAUke,EACV5f,iBAAkB,IAClB3uB,SAAUoB,KAAKC,MAAM,IAAS6sB,GAC9Bz3B,gBAAiBA,GAErBg4C,GAAe,GAKnB,IAAIxwC,EAA4C,KAA/B0wC,EAAc,GAAKzgB,GAAkBA,EAatD,IAAKugB,EAAc,CAEf,GAAIY,GAAkBpxC,GAAa,GAAK,CACpCqxC,GAAc,EACd,IAAIjwC,EAAW6uB,EAAuB,GAAXA,EAAiB,IAC5CwgB,EAAe1wC,cAAgBqB,EAC/BqvC,EAAezwC,UAAoC,KAAvBoB,EAAW6uB,GAAkBA,EACzDwgB,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,iBAAmBO,EAAa,OAC5DD,GAAiB,MACd,CACH,IAAIja,EAAmBsZ,EAAe1wC,cAClCq3B,GAAmE,KAAvCsZ,EAAc,GAAKvZ,GAA0BA,GAAkBv6B,QAAQ,GAEnG00C,EAAkBb,EAAe3wC,aACjCyxC,GAA+D,KAAtCb,EAAc,GAAKY,GAAyBA,GAAiB10C,QAAQ,GAElG,GAAIw6B,EAA0B,GAC1Bia,GAAc,EACdjwC,EAAW+1B,EAAuC,IAAnBA,EAA0B,IACzDsZ,EAAe1wC,cAAgBqB,EAC/BqvC,EAAezwC,UAAoC,KAAvBoB,EAAW6uB,GAAkBA,EACzDwgB,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,kBAAoBO,EAAa,YAE1D,GAAIE,GAAwB,IAAOA,GAAwB,GAAK,CACnEF,GAAc,EACdjwC,EAAW+1B,EAAuC,IAAnBA,EAA0B,IACzDsZ,EAAe1wC,cAAgBqB,EAC/BqvC,EAAezwC,UAAoC,KAAvBoB,EAAW6uB,GAAkBA,EACzDwgB,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,uBAAyBO,EAAa,OAClE,OAUR,GAAIX,EAAc,IAAMD,EAAe1wC,cAAe,CAClDzD,QAAQC,IAAIvI,EAAQ3H,OAAQ,8CAA+CqkD,EAAc,GAAID,EAAe1wC,cAAe,IAAInH,KAAK83C,EAAc,IAAI1zC,kBACtJ,OAMR,IAAKwzC,GAAgBE,EAAc,IAAMJ,EAAY,CACjDh0C,QAAQC,IAAIvI,EAAQ3H,OAAQ,wCAAyCqkD,EAAc,GAAIJ,EAAY,IAAI13C,KAAK83C,EAAc,IAAI1zC,kBAE9H,IAAI+zC,EAAoC,KAAzBT,EAAargB,GAAkBA,EAC9CwgB,EAAe1wC,cAAgBuwC,EAC/BG,EAAezwC,UAAY+wC,EAC3BN,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,SAC5B,OAKR,IAAKN,IAAiBC,EAAe1wC,cAAe,CAC5CgxC,EAA0C,KAA/BL,EAAc,GAAKzgB,GAAkBA,EACpDwgB,EAAe3wC,aAAe4wC,EAAc,GAC5CD,EAAezwC,UAAY+wC,EAC3BN,EAAexwC,YAAc,IAAIrH,KAAK83C,EAAc,IAAI1zC,iBACxDyzC,EAAeK,WAAa,aAGhC,IAAKN,GAAgBrtC,KAAKC,MAAM,IAAS6sB,IAAawgB,EAAe3wC,aAAc,CAC/E,IAAIkxC,EAA0C,KAAzBL,EAAa1gB,GAAkBA,EACpDwgB,EAAeQ,WAAaN,EAC5BF,EAAeS,iBAAmBF,EAClCP,EAAevqB,sBAAwBqqB,EACvCj0C,QAAQC,IAAIvI,EAAQ3H,OAAQ,iBAAkBokD,GAE9Cp+C,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiC+gB,SA9qBxDp+C,EAsrBnBo9C,mBAtrBmBlmD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsrBE,SAAA2T,IAAA,IAAA1C,EAAAuuB,EAAA7oB,EAAAxC,EAAAt3B,EAAAsQ,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAkU,GAAA,cAAAA,EAAAhU,KAAAgU,EAAA9nB,MAAA,OAEjB9J,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,EAAO/I,aAAc,IAEnE/F,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAAG7oB,EAAgB,EALpBxC,EAAApU,GAAA9iB,EAAA+iB,KAAA,SAAAmU,EAMRt3B,GANQ,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAA0T,GAAA,cAAAA,EAAAxT,KAAAwT,EAAAtnB,MAAA,UAOPnI,EAAU6sB,EAAUp0B,IAGtB4F,EAAKpJ,MAAM09B,gBAVF,CAAAlD,EAAAtnB,KAAA,eAAAsnB,EAAA7J,OAAA,gCAgBT7c,EAAOuH,YAAgB,aACvBE,EAAYF,GAAOjS,EAAKpJ,MAAM01B,SAASla,SAAS1H,GAEhD7Q,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,UACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KAC1B6Y,EAAWM,UAGX,IAAIwqB,EAAc9qB,EAAWtH,MAAM,EAAG,GAItC,GAAIoyB,EAAY1mC,QAAU,EAAG,CAGzB,IAAI4mC,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAQ/C,GAPAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAIJ,GAAhBA,EAAmB,CACnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAW,GAC/BvM,EAAgBse,QAAQ,CAACm5B,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAE/G3zC,QAAQC,IAAIvI,EAAQ3H,OAAQwjC,EAAaE,EAAUH,EAAcqgB,GAEjE,IAAIuB,EAAeltC,GAAO2rC,EAAc,IAAIwB,IAAI,CAAEC,KAAQ,EAAGC,OAAU,KACnEC,EAAattC,GAAO2rC,EAAc,IAAIwB,IAAI,CAAEC,KAAQ,GAAIC,OAAU,KAElEzlD,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAYL,GAAOktC,GAAcjtC,OAAO,oBACxCK,OAAUN,GAAOstC,GAAYrtC,OAAO,qBAGxCpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAy+C,GACnC,IAAIxB,EAAiB5+C,EAAgBogD,EAAiB,SACtDxB,EAAiBA,GAAkBA,EAAenkD,KAElDmG,EAAK8+C,yBAAyBn9C,EAAS+6B,EAAav2B,EAAiB63C,KAItErpC,MAAM,SAAAnW,GACLgB,EAAOE,UAAUiC,EAAQ3H,OAAS,uCAClCgG,EAAKK,SAAS,CAAEk0B,aAAcv0B,EAAKpJ,MAAM29B,aAAe,OAgEpEwoB,EAAcA,EAAcrqC,EAAW5b,OAAS,QAIhDmT,QAAQC,IAAIvI,EAAQ3H,OAAQ,sBAC5BwF,EAAOE,UAAUiC,EAAQ3H,OAAS,mCAClCgG,EAAKK,SAAS,CAAEk0B,aAAcv0B,EAAKpJ,MAAM29B,aAAe,MAG7D5f,MAAM,SAAAnW,GACLgB,EAAOE,UAAUiC,EAAQ3H,OAAS,iCAClCgG,EAAKK,SAAS,CAAEk0B,aAAcv0B,EAAKpJ,MAAM29B,aAAe,MA/J/CnD,EAAAtnB,KAAA,EAkKP,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAlKxB,OAoKb/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IApKjE,yBAAA3rB,EAAApT,SAAA0T,KAMRt3B,EAAQ,EANA,YAMGA,EAAQo0B,EAAU13B,QANrB,CAAA86B,EAAA9nB,KAAA,gBAAA8nB,EAAA5I,cAAA0I,EAMRt3B,GANQ,4BAAAw3B,EAAAgP,GAAA,CAAAhP,EAAA9nB,KAAA,gBAAA8nB,EAAArK,OAAA,oBAM6BntB,IAN7Bw3B,EAAA9nB,KAAA,gBAsKjB9J,EAAKK,SAAS,CAAEi9B,cAAc,EAAMhJ,iBAAiB,IACrDrqB,QAAQC,IAAI,gBAAiBgqB,GAvKZ,yBAAAtC,EAAA5T,SAAAkT,MAtrBFlxB,EAg2BnBu9C,yBAh2BmB,eAAAnS,EAAAl0C,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAg2BQ,SAAAkU,EAAOjY,GAAP,IAAAgV,EAAAuuB,EAAAzc,EAAAlmC,EAAAsQ,EAAAyH,EAAAtY,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAgjB,GAAA,cAAAA,EAAA9iB,KAAA8iB,EAAA52B,MAAA,OAEvB9J,EAAKK,SAAS,CAAEi9B,cAAc,IAE1B9O,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAAmB,EALdzc,EAAAhjB,GAAA9iB,EAAA+iB,KAAA,SAAA+iB,EAMdlmC,GANc,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAiU,GAAA,cAAAA,EAAA/T,KAAA+T,EAAA7nB,MAAA,UAObnI,EAAU6sB,EAAUp0B,IAGtB4F,EAAKpJ,MAAM09B,gBAVI,CAAA3C,EAAA7nB,KAAA,eAAA6nB,EAAApK,OAAA,gCAgBf7c,EAAOuH,YAAgB,aACvBE,EAAYF,GAAOuH,GAAMpH,SAAS1H,GAElC7Q,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,UACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAOuH,GAAMtH,OAAO,qBAGlCpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAI4b,EAAaD,EAAS5Y,KAC1B6Y,EAAWM,UAGX,IAAIwqB,EAAc9qB,EAAWtH,MAAM,EAAG,GAMtC,GAAIoyB,EAAY1mC,QAAU,EAAG,CAIzB,IAAI4mC,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAQ/C,GAPAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAIJ,GAAhBA,EAAmB,CACnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAW,GAC/BvM,EAAgBse,QAAQ,CAACm5B,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAE/G,IAEI6B,EAFcjmC,EAAKtH,OAAO,cAEK,IAAMlS,EAAKpJ,MAAMolB,kBAEhDsgC,EAA0BvkD,aAAaC,QAAQ,2BAA6BE,KAAKC,MAAMJ,aAAaC,QAAQ,4BAA8B,GAC1I0nD,EAAiBpD,EAAwBmD,GAAkBnD,EAAwBmD,GAAkB,GAEzGx1C,QAAQC,IAAIvI,EAAQ3H,OAAQwjC,EAAaE,EAAUH,EAAcqgB,GAGjE,IAAIhgB,GAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAKhgB,EAAU,CAC7B,IAAI8gB,EAA0C,KAA/Bd,EAAc,GAAKhgB,GAAkBA,EAChD+gB,EAAgD,KAA/Bf,EAAc,GAAKhgB,GAAkBA,EAEzC8gB,EAEjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,SAAU,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KAExO,IAAIb,EAAa,CACbrwC,QAAS,UAAY,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC9C3Q,OAAQ2H,EAAQ3H,OAChB0T,cAAekwC,EAAc,GAC7BgB,WAAYhB,EAAc,GAC1B7d,SAAUrD,EAAY,GACtBjvB,aAAcmwB,EACdS,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3Bs0C,iBAAkBF,EAAcp0C,QAAQ,GACxCqD,YAAa,IAAIrH,KAAKq3C,EAAc,IAAIjzC,iBACxC+E,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,MAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,MAE/D6B,EAAe39C,KAAK87C,GACpBvB,EAAwBmD,GAAkBC,EAC1C3nD,aAAa6H,QAAQ,0BAA2B1H,KAAK+I,UAAUq7C,KAOvE,IAAIze,GAAYnB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAK/f,EAAU,CACzB6gB,EAA0C,KAA/B7gB,EAAW+f,EAAc,IAAYlhB,EAAY,GAAhE,IACIijB,EAA+C,KAA/B9hB,EAAW+f,EAAc,IAAYlhB,EAAY,GAEpDgiB,EACjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,UAAW,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KAErOb,EAAa,CACbrwC,QAAS,WAAa,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC/C3Q,OAAQ2H,EAAQ3H,OAChB0T,cAAemwB,EACfkC,SAAUrD,EAAY,GACtBjvB,aAAcmwC,EAAc,GAC5BgB,WAAYhB,EAAc,GAC1Bvf,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3Bs0C,iBAAkBc,EAAap1C,QAAQ,GACvCqD,YAAa,IAAIrH,KAAKq3C,EAAc,IAAIjzC,iBACxC+E,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,MAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,MAE/D6B,EAAe39C,KAAK87C,GACpBvB,EAAwBmD,GAAkBC,EAE1Cz1C,QAAQC,IAAI,0BAA2BoyC,GACvCvkD,aAAa6H,QAAQ,0BAA2B1H,KAAK+I,UAAUq7C,IAI/Dt8C,EAAKK,SAAS,CAAEk8C,gBAAiBrlD,OAAOqK,KAAK+6C,GAA0BA,wBAAyBA,OAUhHS,EAAcA,EAAcrqC,EAAW5b,OAAS,QAIhDmT,QAAQC,IAAIvI,EAAQ3H,OAAQ,wBA9JjB23B,EAAA7nB,KAAA,EAiKb,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAjKlB,OAkKnB/oB,EAAKK,SAAS,CAAEq+B,aAAcllB,EAAKtH,OAAO,cAAgB,IAAM9X,EAAQ,MAAWuH,EAAQ3H,OAAQ+iD,YAAaA,IAlK7F,yBAAAprB,EAAA3T,SAAAsiB,KAMdlmC,EAAQ,EANM,YAMHA,EAAQo0B,EAAU13B,QANf,CAAA4pC,EAAA52B,KAAA,gBAAA42B,EAAA1X,cAAAsX,EAMdlmC,GANc,4BAAAsmC,EAAAE,GAAA,CAAAF,EAAA52B,KAAA,gBAAA42B,EAAAnZ,OAAA,oBAMuBntB,IANvBsmC,EAAA52B,KAAA,iCAAA42B,EAAA1iB,SAAAyT,MAh2BR,gBAAAxT,GAAA,OAAAmtB,EAAAltB,MAAAzf,KAAA5H,YAAA,GAAAmJ,EAsgCnBi9C,YAtgCmB/lD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAsgCL,SAAA8iB,IAAA,IAAA7R,EAAAuuB,EAAA7oB,EAAA8R,EAAA5rC,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAykB,GAAA,cAAAA,EAAAvkB,KAAAukB,EAAAr4B,MAAA,OAEV9J,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,IAE9C9O,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAAG7oB,EAAgB,EAL3B8R,EAAA1oB,GAAA9iB,EAAA+iB,KAAA,SAAAyoB,EAMD5rC,GANC,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAA8iB,GAAA,cAAAA,EAAA5iB,KAAA4iB,EAAA12B,MAAA,UAOAnI,EAAU6sB,EAAUp0B,IAEtB4F,EAAKpJ,MAAM09B,gBATT,CAAAkM,EAAA12B,KAAA,eAUF9J,EAAKK,SAAS,CAACi0B,iBAAkB,IAV/BkM,EAAAjZ,OAAA,gCAaF1tB,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,UACZC,SAAYL,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,oBAChDK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAI3C,IAFA,IAAI4b,EAAaD,EAAS5Y,KAEjB8xC,EAAS,EAAGA,EAASj5B,EAAW5b,OAAS,EAAG60C,IAAU,CAE3D,IAAInO,EAAc9qB,EAAWtH,MAAMugC,EAAQA,EAAS,GAMpD,GAAInO,EAAY1mC,QAAU,GAAK,IAAIyP,KAAKmM,EAAWi5B,GAAQ,IAAIlkB,qBAAuB,WAAY,CAE9F+V,EAAYxqB,UAEZ,IAAI0qB,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAS/C,GARAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAKJ,GAAhBA,EAAmB,CACnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAWi5B,EAAS,GACxCxlC,EAAgBse,QAAQ,CAACm5B,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAG/G,IAAIhgB,GAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAClEw1B,GAAYrD,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAGtE,GAAIqzC,EAAc,GAAKhgB,EAAU,CAE7B,IAAIgiB,EAAYhC,EAAc59C,EAAKpJ,MAAMw9B,mBAAoBqqB,EAAa,YACvEb,EAAc59C,EAAKpJ,MAAMw9B,oBAAsB2L,IAC9C6f,EAAY7f,EACZ0e,EAAa,SAIjB,IAAIC,EAAmC,KAAxBkB,EAAYhiB,GAAkBA,EACzC+gB,EAAgD,KAA/Bf,EAAc,GAAKhgB,GAAkBA,EAE1D1J,GAAiBwqB,EACjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,SAAU,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KACxO,IAAImB,GAA6B,KAAnBjiB,EAASmC,GAAcnC,GAAUrzB,QAAQ,GAGnDu1C,EAAqB7tC,GAAO2rC,EAAc,IAAIxrC,SAAS,EAAG,SAAS2tC,QAAQ,SAAS7tC,OAAO,QAI3F2rC,EAAa,CACbrwC,QAAS,UAAY,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC9Cq1C,UAAWF,EACX9lD,OAAQ2H,EAAQ3H,OAChB2T,UAAW+wC,EAAQn0C,QAAQ,GAC3Bs0C,iBAAkBF,EAAcp0C,QAAQ,GACxC8zB,iBAAkB,IAClB3wB,cAAekyC,EACf7f,SAAQ,GAAAtqB,OAAKsqB,EAAL,MAAAtqB,OAAkBoqC,EAAlB,MACRpB,WAAaA,EACb/uC,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzC3jC,MAAO4I,EAAQ5I,MACf6lD,WAAYhB,EAAc,GAC1BnwC,aAAcmwB,EACdqiB,QAAUvjB,EAAY,GACtB9uB,YAAagwC,EAAc,GAC3Bz3C,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,MAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,MAC/D79C,EAAKK,SAAS,CAAEg9B,eAAgBr9B,EAAKpJ,MAAMymC,eAAerqB,aAKlE,IAAI6qB,GAAYnB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAClEw1B,GAAYrD,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAK/f,EAAU,CAC7B,IAAI+hB,EAAYhC,EAAc59C,EAAKpJ,MAAMw9B,mBAAoBqqB,EAAa,YACvEb,EAAc59C,EAAKpJ,MAAMw9B,oBAAsB2L,IAC9C6f,EAAa7f,EACb0e,EAAa,SAGbC,EAAmC,KAAxB7gB,EAAW+hB,GAAmBljB,EAAY,GAAzD,IACIijB,EAA+C,KAA/B9hB,EAAW+f,EAAc,IAAYlhB,EAAY,GAErExI,GAAiBwqB,EACjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,UAAW,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KACzO,IAAImB,GAA6B,KAAnB9f,EAASlC,GAAckC,GAAUx1B,QAAQ,GACnDu1C,EAAqB7tC,GAAO2rC,EAAc,IAAIxrC,SAAS,EAAG,SAAS2tC,QAAQ,SAAS7tC,OAAO,QAG3F2rC,EAAa,CACbrwC,QAAS,WAAa,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC/Cq1C,UAAWF,EACX9lD,OAAQ2H,EAAQ3H,OAChB2T,UAAW+wC,EAAQn0C,QAAQ,GAC3Bs0C,iBAAkBc,EAAap1C,QAAQ,GACvC8zB,iBAAkB,IAClB3wB,cAAemwB,EACfkC,SAAQ,GAAAtqB,OAAMsqB,EAAN,MAAAtqB,OAAmBoqC,EAAnB,MACRpB,WAAaA,EACb/uC,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzC3jC,MAAO4I,EAAQ5I,MACf6lD,WAAYhB,EAAc,GAC1BnwC,aAAcmyC,EACdK,QAAUvjB,EAAY,GACtB9uB,YAAagwC,EAAc,GAC3Bz3C,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,KAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,QAS/Ed,EAAcA,EAAcrqC,EAAW5b,OAAS,QAIpDmT,QAAQC,IAAIvI,EAAQ3H,OAAQ,wBAjK9BwmC,EAAA12B,KAAA,EAoKA,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OApK/B,OAqKN/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IArKxE,wBAAAvc,EAAAxiB,SAAAgoB,KAMD5rC,EAAQ,EANP,YAMUA,EAAQo0B,EAAU13B,QAN5B,CAAAqrC,EAAAr4B,KAAA,gBAAAq4B,EAAAnZ,cAAAgd,EAMD5rC,GANC,4BAAA+nC,EAAAvB,GAAA,CAAAuB,EAAAr4B,KAAA,gBAAAq4B,EAAA5a,OAAA,oBAMoCntB,IANpC+nC,EAAAr4B,KAAA,gBAuKV9J,EAAKK,SAAS,CAAEi9B,cAAc,IAC9BrzB,QAAQC,IAAI,gBAAiBgqB,GAxKnB,yBAAAiO,EAAAnkB,SAAAqiB,MAtgCKrgC,EAkrCnBq9C,qBAlrCmBnmD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAkrCI,SAAA0kB,IAAA,IAAAzT,EAAAuuB,EAAA1W,EAAAjsC,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAwiC,GAAA,cAAAA,EAAAtiC,KAAAsiC,EAAAp2C,MAAA,OAEnB9J,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,IAE9C9O,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAAmB,EALlB1W,EAAA/oB,GAAA9iB,EAAA+iB,KAAA,SAAA8oB,EAMVjsC,GANU,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAAkmB,GAAA,cAAAA,EAAAhmB,KAAAgmB,EAAA95B,MAAA,UAOTnI,EAAU6sB,EAAUp0B,IAEtB4F,EAAKpJ,MAAM09B,gBATA,CAAAsP,EAAA95B,KAAA,eAUX9J,EAAKK,SAAS,CAACi0B,iBAAkB,IAVtBsP,EAAArc,OAAA,gCAaX1tB,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,iBACZC,SAAYL,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,oBAChDK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAI3C,IAFA,IAAI4b,EAAaD,EAAS5Y,KAFyB07C,EAAA,SAI1C5J,IAEDnO,EAAc9qB,EAAWtH,MAAMugC,EAAQA,EAAS,IAMxC34B,UAER7M,EAAkB,GACtBq3B,EAAY97B,QAAQ,SAAAy+C,GAChBh6C,EAAgBpE,KAAK,CAACo+C,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAE5G,IAAIC,EAA0D,KAAvCD,EAAc,GAAKA,EAAc,IAAYA,EAAc,GAClF,GAAGA,EAAc,IAAMA,EAAc,IAAMA,EAAc,IAAMA,EAAc,IAAMC,GAAmB,GAAI,CAEtG,IAAI1jB,EAAcyjB,EAAc,GAC5BvC,EAAgBlrC,EAAWi5B,EAAS,GAIpC/N,EAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,GACrDqD,EAAYrD,EAAY,GAAMA,EAAY,GAAK,IAAM,GAGrDkjB,EAAYhC,EAAc,GAAIa,EAAa,aAC5Cb,EAAc,IAAM7d,IACnB6f,EAAY7f,EACZ0e,EAAa,UAIjB,IAAIC,EAAmC,KAAxBkB,EAAYhiB,GAAkBA,EACzC+gB,EAAgD,KAA/Bf,EAAc,GAAKhgB,GAAkBA,EAExC8gB,EAEjB,IAAImB,GAA6B,KAAnBjiB,EAASmC,GAAcnC,GAAUrzB,QAAQ,GAGpDszC,EAAa,CACbrwC,QAAU,IAAIjH,KAAK45C,EAAc,IAAIx1C,iBACrC3Q,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf2U,cAAekyC,EACf7f,SAAQ,GAAAtqB,OAAKsqB,EAAL,MAAAtqB,OAAkBoqC,EAAlB,MACRjB,WAAYhB,EAAc,GAC1BiB,iBAAkBF,EAAcp0C,QAAQ,GACxCkD,aAAcmwB,EACdS,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3B01C,QAAUvjB,EAAY,GACtB9uB,YAAagwC,EAAc,GAC3BluC,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,EACjBs4C,WAAaA,GAEjBx0C,QAAQC,IAAI,qBAAsB2zC,GAElC79C,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,MAC/D79C,EAAKK,SAAS,CAAEg9B,eAAgBr9B,EAAKpJ,MAAMymC,eAAerqB,eAiDlE+pC,EAAcA,EAAcrqC,EAAW5b,OAAS,IA9G3C60C,EAAS,EAAGA,EAASj5B,EAAW5b,OAAS,EAAG60C,IAAU,KAEvDnO,EAQAr3B,EAVuDovC,EAAtD5J,QAkHT1hC,QAAQC,IAAIvI,EAAQ3H,OAAQ,wBA9IrB4pC,EAAA95B,KAAA,EAiJT,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAjJtB,OAkJf/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IAlJ/D,wBAAAnZ,EAAA5lB,SAAAqoB,KAMVjsC,EAAQ,EANE,YAMCA,EAAQo0B,EAAU13B,QANnB,CAAAopD,EAAAp2C,KAAA,gBAAAo2C,EAAAl3B,cAAAqd,EAMVjsC,GANU,4BAAA8lD,EAAAtf,GAAA,CAAAsf,EAAAp2C,KAAA,gBAAAo2C,EAAA34B,OAAA,oBAM2BntB,IAN3B8lD,EAAAp2C,KAAA,gBAoJnB9J,EAAKK,SAAS,CAAEi9B,cAAc,IApJX,yBAAA4iB,EAAAliC,SAAAikB,MAlrCJjiC,EA00CnBk9C,iBA10CmBhmD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA00CA,SAAAomB,IAAA,IAAAnV,EAAAuuB,EAAA7oB,EAAA4hB,EAAA17C,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2iC,GAAA,cAAAA,EAAAziC,KAAAyiC,EAAAv2C,MAAA,OAEf9J,EAAKK,SAAS,CAAEg9B,eAAgB,GAAIC,cAAc,IAE9C9O,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAAG7oB,EAAgB,EALtB4hB,EAAAx4B,GAAA9iB,EAAA+iB,KAAA,SAAAu4B,EAMN17C,GANM,IAAAuH,EAAA,OAAA2b,GAAA9iB,EAAAkjB,KAAA,SAAA4iC,GAAA,cAAAA,EAAA1iC,KAAA0iC,EAAAx2C,MAAA,UAOLnI,EAAU6sB,EAAUp0B,IAEtB4F,EAAKpJ,MAAM09B,gBATJ,CAAAgsB,EAAAx2C,KAAA,eAUP9J,EAAKK,SAAS,CAACi0B,iBAAkB,IAV1BgsB,EAAA/4B,OAAA,gCAaP1tB,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,UACZC,SAAYL,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,oBAChDK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAI3C,IAFA,IAAI4b,EAAaD,EAAS5Y,KAEjB8xC,EAAS,EAAGA,EAASj5B,EAAW5b,OAAS,EAAG60C,IAAU,CAE3D,IAAInO,EAAc9qB,EAAWtH,MAAMugC,EAAQA,EAAS,GAMpD,GAAInO,EAAY1mC,QAAU,GAAK,IAAIyP,KAAKmM,EAAWi5B,GAAQ,IAAIlkB,qBAAuB,WAAY,CAE9F+V,EAAYxqB,UAEZ,IAAI0qB,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAS/C,GARAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAKJ,GAAhBA,EAAmB,CACnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAWi5B,EAAS,GACxCxlC,EAAgBse,QAAQ,CAACm5B,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAG/G,IAAIhgB,GAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAKhgB,EAAU,CAC7B,IAAI8gB,EAAqE,KAA1Dd,EAAc59C,EAAKpJ,MAAMw9B,mBAAqBwJ,GAAkBA,EAC3E+gB,EAAgD,KAA/Bf,EAAc,GAAKhgB,GAAkBA,EAE1D1J,GAAiBwqB,EACjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,SAAU,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KAExO,IAAIb,EAAa,CACbrwC,QAAS,UAAY,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC9C3Q,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf2U,cAAekwC,EAAc59C,EAAKpJ,MAAMw9B,mBACxC2L,SAAUrD,EAAY,GACtBkiB,WAAYhB,EAAc,GAC1BiB,iBAAkBF,EAAcp0C,QAAQ,GACxCkD,aAAcmwB,EACdS,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3B01C,QAAUvjB,EAAY,GACtB9uB,YAAagwC,EAAc,GAC3BluC,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,MAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,MAC/D79C,EAAKK,SAAS,CAAEg9B,eAAgBr9B,EAAKpJ,MAAMymC,eAAerqB,aAKlE,IAAI6qB,GAAYnB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAK/f,EAAU,CACzB6gB,EAAsE,KAA3D7gB,EAAW+f,EAAc59C,EAAKpJ,MAAMy9B,qBAA6BqI,EAAY,GAA5F,IACIijB,EAA+C,KAA/B9hB,EAAW+f,EAAc,IAAYlhB,EAAY,GAErExI,GAAiBwqB,EACjBz0C,QAAQC,IAAIvI,EAAQ3H,OAAQ0iC,EAAY,GAAI,UAAW,gBAAiBA,EAAY,GAAI,eAAgBA,EAAY,GAAI,aAAckhB,EAAc,GAAI,cAAeA,EAAc,GAAI,mBAAoBA,EAAc,GAAIc,EAAU,KAErOb,EAAa,CACbrwC,QAAS,WAAa,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC/C3Q,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf2U,cAAemwB,EACfghB,iBAAkBc,EAAap1C,QAAQ,GACvCw1B,SAAUrD,EAAY,GACtBkiB,WAAYhB,EAAc,GAC1BnwC,aAAcmwC,EAAc59C,EAAKpJ,MAAMy9B,oBACvCgK,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3B01C,QAAUvjB,EAAY,GACtB9uB,YAAagwC,EAAc,GAC3BluC,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAEjB2K,KAAKC,MAAM,IAAQ2rB,EAAY,KAC/B18B,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,QAS/Ed,EAAcA,EAAcrqC,EAAW5b,OAAS,QAIpDmT,QAAQC,IAAIvI,EAAQ3H,OAAQ,wBAnIzBsmD,EAAAx2C,KAAA,EAsIL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAtI1B,OAuIX/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IAvInE,wBAAAuD,EAAAtiC,SAAA83B,KAMN17C,EAAQ,EANF,YAMKA,EAAQo0B,EAAU13B,QANvB,CAAAupD,EAAAv2C,KAAA,gBAAAu2C,EAAAr3B,cAAA8sB,EAMN17C,GANM,4BAAAimD,EAAAzf,GAAA,CAAAyf,EAAAv2C,KAAA,gBAAAu2C,EAAA94B,OAAA,oBAM+BntB,IAN/BimD,EAAAv2C,KAAA,gBAyIf9J,EAAKK,SAAS,CAAEi9B,cAAc,IAC9BrzB,QAAQC,IAAI,gBAAiBgqB,GA1Id,yBAAAmsB,EAAAriC,SAAA2lB,MA10CA3jC,EAy9CnB89C,wBAA0B,SAAC/kD,EAAO8kD,GAC9B,IAAInzC,EAAOuH,YAAgB,cACvBE,EAAYF,GAAOjS,EAAKpJ,MAAM01B,SAASla,SAAS1H,GAChDy8B,EAAa,EAAGG,EAAa,EAAGJ,EAAe,EAAGG,EAAgB,EAAGD,EAAmB,EAAGG,EAAmB,EAC9G9L,EAAc,GAAIE,EAAe,GAErC1xB,QAAQC,IAAI,+BAAgC2zC,GAC5C,IAAIhkD,EAAO,CACP+V,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,UACZC,SAAYL,GAAOE,GAAWD,OAAO,oBACrCK,OAAUN,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,qBAGhDpR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GADA4I,QAAQC,IAAI,iBAAkBuI,GAC1BA,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAInD,IAFA,IAAI4b,EAAaD,EAAS5Y,KAEjB8xC,EAAS,EAAGA,EAASj5B,EAAW5b,OAAS,EAAG60C,IAAU,CAE3D,IAAInO,EAAc9qB,EAAWtH,MAAMugC,EAAQA,EAAS,GAMpD,GAAInO,EAAY1mC,QAAU,GAAK,IAAIyP,KAAKmM,EAAWi5B,GAAQ,IAAIlkB,qBAAuB,WAAY,CAE9F+V,EAAYxqB,UAEZ,IAAI0qB,EAAW,GAAIv3B,EAAkB,GACrCq3B,EAAY97B,QAAQ,SAAAC,GAChB+7B,EAAS37B,KAAKJ,EAAQ,GAAKA,EAAQ,IACnCwE,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,OAElF,IAAIg8B,EAAeD,EAAS,GAAIH,EAAe,EAQ/C,GAPAG,EAASh8B,QAAQ,SAAAC,GACTg8B,GAAgBh8B,IAChBg8B,EAAeh8B,EACf47B,GAAgB,KAIJ,GAAhBA,EAAmB,CAEnB,IAAIb,EAAcc,EAAY,GAC1BogB,EAAgBlrC,EAAWi5B,EAAS,GACxCxlC,EAAgBse,QAAQ,CAACm5B,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,GAAIA,EAAc,KAE/G3zC,QAAQC,IAAInR,EAAOykC,EAAaE,EAAUH,EAAcb,EAAY,GAAG/tB,WAAW/J,OAAO,EAAG,KAE5F,IAAIg5B,GAAYlB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAKhgB,EAAU,CAE7B,IAAI8gB,EAA0C,KAA/Bd,EAAc,GAAKhgB,GAAkBA,EAChD+gB,EAAgD,KAA/Bf,EAAc,GAAKhgB,GAAkBA,EAEtD2iB,EAAW,CACX/yC,QAAS,UAAY,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC9C+C,cAAekwC,EAAc,GAC7B7d,SAAUrD,EAAY,GACtBkiB,WAAYhB,EAAc,GAC1BiB,iBAAkBF,EAAcp0C,QAAQ,GACxCkD,aAAcmwB,EACdS,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3BqD,YAAa,IAAIrH,KAAKq3C,EAAc,IAAIjzC,iBACxC+E,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAErBs1B,EAAY15B,KAAKw+C,GAEjBpZ,GAAc,EACdD,GAAgBwX,EAChBtX,GAAoBuX,EAGxB,IAAI9gB,GAAYnB,EAAY,GAAMA,EAAY,GAAK,IAAM,IAAKnyB,QAAQ,GAEtE,GAAIqzC,EAAc,GAAK/f,EAAU,CACzB6gB,EAA0C,KAA/B7gB,EAAW+f,EAAc,IAAYlhB,EAAY,GAAhE,IACIijB,EAA+C,KAA/B9hB,EAAW+f,EAAc,IAAYlhB,EAAY,GAEjE8jB,EAAY,CACZhzC,QAAS,WAAa,IAAIjH,KAAKm2B,EAAY,IAAI/xB,iBAC/C+C,cAAemwB,EACfghB,iBAAkBc,EAAap1C,QAAQ,GACvCw1B,SAAUrD,EAAY,GACtBkiB,WAAYhB,EAAc,GAC1BnwC,aAAcmwC,EAAc,GAC5Bvf,iBAAkB,IAClB1wB,UAAW+wC,EAAQn0C,QAAQ,GAC3BqD,YAAa,IAAIrH,KAAKq3C,EAAc,IAAIjzC,iBACxC+E,SAAUoB,KAAKC,MAAM,IAAQ2rB,EAAY,IACzCv2B,gBAAiBA,GAErBw1B,EAAa55B,KAAKy+C,GAElBlZ,GAAc,EACdD,GAAiBqX,EACjBnX,GAAoBoY,KAWpC,IAAIhgB,EAAc,CACdwH,WAAYA,EACZG,WAAYA,EACZJ,aAAcA,EAAa38B,QAAQ,GACnC88B,cAAeA,EAAc98B,QAAQ,GACrC68B,iBAAkBA,EAAiB78B,QAAQ,GAC3Cg9B,iBAAkBA,EAAiBh9B,QAAQ,IAE3CszC,IACAA,EAAWle,YAAcA,GAC7Bke,EAAWpiB,YAAcA,EACzBoiB,EAAWliB,aAAeA,EAG1B1xB,QAAQC,IAAI,aAAc2zC,GACtB/sC,KAAKC,MAAM,IAAQ2rB,EAAY,MAC/B18B,EAAKK,SAAS,CAAEm0B,iBAAgB,GAAA/e,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM49B,kBAAjB,CAAmCqpB,MAEnE9lD,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAUjB,EAAKpJ,MAAM49B,yBAKvEvqB,QAAQC,IAAInR,EAAO,yBApmDZiH,EA6mDnB09C,mBAAqB,SAACrhB,EAAYriC,EAAQyjD,GAEtC,GAAIphB,GAAcA,EAAWvlC,OAAS,EAAG,CAOrC,IADA,IAAIwlC,GAJJD,EAAaA,EAAWrpB,WAIC,IAAMqpB,EAAW,GAAG,GAAIE,EAASF,EAAW,IAAMA,EAAW,GAAG,GAChFjiC,EAAQ,EAAGA,EAAQiiC,EAAWvlC,OAAQsD,IACvCkiC,EAAUD,EAAWjiC,GAAO,KAC5BkiC,EAAUD,EAAWjiC,GAAO,IAC5BiiC,EAAWjiC,GAAO,GAAKmiC,IACvBA,EAASF,EAAWjiC,GAAO,IAInC,IAAIoiC,EAAqBH,EAAW,GAAG,GACnCI,EAAuBJ,EAAW,GAAG,GAErCK,EAAc,CACdhyB,KAAM2xB,EAAW,IAAMA,EAAW,GAAG,GACrClyB,KAAMkyB,EAAW,IAAMA,EAAW,GAAG,GACrCjyB,KAAMiyB,EAAW,IAAMA,EAAW,GAAG,GACrChyB,IAAKgyB,EAAW,IAAMA,EAAW,GAAG,GACpC/xB,MAAO+xB,EAAW,IAAMA,EAAW,GAAG,IAEtCM,EAAe,CACfjyB,KAAM2xB,EAAW,IAAMA,EAAW,GAAG,GACrClyB,KAAMkyB,EAAW,IAAMA,EAAW,GAAG,GACrCjyB,KAAMiyB,EAAW,IAAMA,EAAW,GAAG,GACrChyB,IAAKgyB,EAAW,IAAMA,EAAW,GAAG,GACpC/xB,MAAO+xB,EAAW,IAAMA,EAAW,GAAG,IAKtCO,EAAwD,KAA7CH,EAAuBD,GAA4BA,EAC9DikB,EAAe9jB,EAAatyB,IAAMqyB,EAAYryB,IAAMsyB,EAAatyB,IAAMqyB,EAAYryB,IACnFq2C,EAAgB/jB,EAAavyB,KAAOsyB,EAAYtyB,KAAOuyB,EAAavyB,KAAOsyB,EAAYtyB,KAK3F,GAAIwyB,GAAW,KAAON,EAAUokB,GAAiBnkB,EAASkkB,GAElD9jB,EAAaxyB,KAAOwyB,EAAaryB,OAASoyB,EAAYvyB,KAAOuyB,EAAYpyB,OAKrEwG,KAAK4Q,MAAMib,EAAaryB,QAAUwG,KAAK4Q,MAAMgb,EAAYvyB,OAAS2G,KAAK4Q,MAAMib,EAAaxyB,OAAS2G,KAAK4Q,MAAMgb,EAAYpyB,SAE1HL,QAAQC,IAAI,KAAO,IAAI3D,KAAK81B,EAAW,GAAG,IAAI1tB,WAAY,kBAC1D1E,QAAQC,IAAIlQ,EAAQ,yBAA0B4iC,EAAS,WAAYJ,EAAoB,WAAYC,GAEnGxyB,QAAQC,IAAIlQ,EAAQ,UAAWsiC,EAAS,SAAUC,GAClDtyB,QAAQC,IAAI,eAAgBmyB,GAC5BpyB,QAAQC,IAAIlQ,EAAQ,qDACpBiQ,QAAQC,IAAI,eAAgBuzC,GAExBA,GAAgBA,EAAa3mD,QAAQ,CAQrC,IALA,IAAI6pD,GAAkBD,EAAiBA,EAAgB,IAAM,IAAKn2C,QAAQ,GACtEmD,GAAiB+yC,EAAgBA,EAAe,IAAM,IAAKl2C,QAAQ,GAI9Dq2C,EAAc,EAAGA,EAAcnD,EAAa3mD,OAAQ8pD,IAAe,CAExE,GAAInD,EAAamD,GAAa,GAAKD,EAAgB,CAC7BA,EACGlD,EAAamD,GAAa,GAC/C,MAEJ,GAAmE,YAA/D,IAAIr6C,KAAKk3C,EAAamD,GAAa,IAAIn5B,qBAAoC,CACzDg2B,EAAamD,GAAa,GACvBnD,EAAamD,GAAa,GAC/C,OAKR,IADA,IAAIC,EAAcpD,EAAa,GAAG,GACzBqD,EAAe,EAAGA,EAAerD,EAAa3mD,SAC/C2mD,EAAaqD,GAAc,GAAKD,IAChCA,EAAcpD,EAAaqD,GAAc,GACrBrD,EAAaqD,GAAc,IAEiB,YAAhE,IAAIv6C,KAAKk3C,EAAaqD,GAAc,IAAIr5B,sBALeq5B,KAY/D,IADA,IAAIC,EAAaJ,EACRK,EAAe,EAAGA,EAAevD,EAAa3mD,OAAQkqD,IAAgB,CAC3E,KAAID,EAAatD,EAAauD,GAAc,IAIvC,CACDD,EAActD,EAAauD,GAAc,GAAIz2C,QAAQ,GACtCkzC,EAAauD,GAAc,GAC1C,MAEJ,GARID,GAActD,EAAauD,GAAc,GAAMvD,EAAauD,GAAc,GAAK,IAAM,GAAIz2C,QAAQ,GAClFkzC,EAAauD,GAAc,GAOsB,YAAhE,IAAIz6C,KAAKk3C,EAAauD,GAAc,IAAIv5B,qBACxC,MAKR,IADA,IAAIw5B,EAAmB,EAAGC,EAAqB,GACtCC,EAAe,EAAGA,EAAe1D,EAAa3mD,OAAQqqD,IAAgB,CAI3E,GAFkE,KAAjD1D,EAAa0D,GAAc,GAAKzzC,GAAuBA,GAEvD,GAAM,CACnBuzC,EAAmBxD,EAAa0D,GAAc,GAC9CD,EAAqBzD,EAAa0D,GAAc,GAChD,MAEJ,GAAI1D,EAAa0D,GAAc,GAAKR,EAAgB,CAChDM,EAAmBN,EACnBO,EAAqBzD,EAAa0D,GAAc,GAChD,MAEJ,GAAoE,YAAhE,IAAI56C,KAAKk3C,EAAa0D,GAAc,IAAI15B,qBAAoC,CAC5Ew5B,EAAmBxD,EAAa0D,GAAc,GAC9CD,EAAqBzD,EAAa0D,GAAc,GAChD,OAMR,IADA,IACSC,EAAe,EAAGA,EAAe3D,EAAa3mD,OAAQsqD,IAAgB,CAI3E,GAFuE,KAAjD3D,EAAa2D,GAAc,GAAK1zC,GAAuBA,IAEtD,IAAK,CACJ+vC,EAAa2D,GAAc,GACzB3D,EAAa2D,GAAc,GACjD,MAEJ,GAAI3D,EAAa2D,GAAc,GAAKT,EAAgB,CAC5BA,EACElD,EAAa2D,GAAc,GACjD,MAEJ,GAAoE,YAAhE,IAAI76C,KAAKk3C,EAAa2D,GAAc,IAAI35B,qBAAoC,CACxDg2B,EAAa2D,GAAc,GACzB3D,EAAa2D,GAAc,GACjD,OAIR,IAAI/jB,EAAiBtlC,aAAaC,QAAQ,kBAAoBE,KAAKC,MAAMJ,aAAaC,QAAQ,mBAAqB,GAGnH,GAAIylD,EAAa,GAAG,GAAKgD,GAAgBhD,EAAa,GAAG,GAAKgD,GAAgBhD,EAAa,GAAG,GAAKgD,EAAc,CAC7G,IAAI5C,EAAa,CACbrwC,QAAS,IAAIjH,KAAK81B,EAAW,GAAG,IAAI1xB,iBACpC3Q,OAAQA,EACR0T,cAAeA,EACfqyB,SAAU4gB,EACV7iB,gBAAgB,EAChBrwB,aAAc,EACd4wB,iBAAkB,IAClB3uB,SAAUoB,KAAKC,MAAM,IAAQrD,IAEjCmwC,EAAW/f,gBAAiB,EAc5B+f,EAAWjwC,YAAc,IAAIrH,KAAK26C,GAAoBv2C,iBACtDkzC,EAAWpwC,aAAewzC,EAO1BpD,EAAWlwC,WAAoE,KAAtDkwC,EAAWnwC,cAAgBmwC,EAAWpwC,cAAsBowC,EAAWnwC,eAAenD,QAAQ,GACvH8yB,EAAet7B,KAAK87C,GAEpB79C,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,QAgBvF79C,EAAKK,SAAS,CAAEi9B,cAAc,KAh0Dft9B,EAm0DnB29C,sBAAwB,SAACthB,EAAYriC,EAAQyjD,GACzC,GAAIphB,GAAcA,EAAWvlC,OAAS,EAAG,CAOrC,IADA,IAAIwlC,GAJJD,EAAaA,EAAWrpB,WAIC,IAAMqpB,EAAW,GAAG,GAAIE,EAASF,EAAW,IAAMA,EAAW,GAAG,GAChFjiC,EAAQ,EAAGA,EAAQiiC,EAAWvlC,OAAQsD,IACvCkiC,EAAUD,EAAWjiC,GAAO,KAC5BkiC,EAAUD,EAAWjiC,GAAO,IAC5BiiC,EAAWjiC,GAAO,GAAKmiC,IACvBA,EAASF,EAAWjiC,GAAO,IAInC,IAAIoiC,EAAqBH,EAAW,GAAG,GACnCI,EAAuBJ,EAAW,GAAG,GAErCK,EAAc,CACdhyB,KAAM2xB,EAAW,IAAMA,EAAW,GAAG,GACrClyB,KAAMkyB,EAAW,IAAMA,EAAW,GAAG,GACrCjyB,KAAMiyB,EAAW,IAAMA,EAAW,GAAG,GACrChyB,IAAKgyB,EAAW,IAAMA,EAAW,GAAG,GACpC/xB,MAAO+xB,EAAW,IAAMA,EAAW,GAAG,IAEtCM,EAAe,CACfjyB,KAAM2xB,EAAW,IAAMA,EAAW,GAAG,GACrClyB,KAAMkyB,EAAW,IAAMA,EAAW,GAAG,GACrCjyB,KAAMiyB,EAAW,IAAMA,EAAW,GAAG,GACrChyB,IAAKgyB,EAAW,IAAMA,EAAW,GAAG,GACpC/xB,MAAO+xB,EAAW,IAAMA,EAAW,GAAG,IAKtCO,EAAwD,KAA7CH,EAAuBD,GAA4BA,EAC9DikB,EAAe9jB,EAAatyB,IAAMqyB,EAAYryB,IAAMsyB,EAAatyB,IAAMqyB,EAAYryB,IACnFq2C,EAAgB/jB,EAAavyB,KAAOsyB,EAAYtyB,KAAOuyB,EAAavyB,KAAOsyB,EAAYtyB,KAK3F,GAAIwyB,IAAY,KAAO8jB,EAAgBpkB,GAAWmkB,EAAelkB,GAEzDI,EAAaxyB,KAAOwyB,EAAaryB,OAASoyB,EAAYpyB,MAAQoyB,EAAYvyB,OAKtE2G,KAAK4Q,MAAMib,EAAaryB,QAAUwG,KAAK4Q,MAAMgb,EAAYvyB,OAAS2G,KAAK4Q,MAAMib,EAAaxyB,OAAS2G,KAAK4Q,MAAMgb,EAAYpyB,UAE1HL,QAAQC,IAAI,KAAO,IAAI3D,KAAK81B,EAAW,GAAG,IAAI1tB,WAAY,kBAC1D1E,QAAQC,IAAIlQ,EAAQ,yBAA0B4iC,EAAS,WAAYJ,EAAoB,WAAYC,GAEnGxyB,QAAQC,IAAIlQ,EAAQ,UAAWsiC,EAAS,SAAUC,GAClDtyB,QAAQC,IAAI,eAAgBmyB,GAC5BpyB,QAAQC,IAAIlQ,EAAQ,qDACpBiQ,QAAQC,IAAI,eAAgBuzC,GAExBA,GAAgBA,EAAa3mD,QAAQ,CAQrC,IALA,IAAIuqD,GAAgBX,EAAiBA,EAAgB,IAAM,IAAKn2C,QAAQ,GACpE+2C,GAAiBb,EAAgBA,EAAe,IAAM,IAAKl2C,QAAQ,GAGnEg3C,EAAkB,EAAGC,EAAqB,GACrCZ,EAAc,EAAGA,EAAcnD,EAAa3mD,OAAQ8pD,IAAe,CAExE,GAAInD,EAAamD,GAAa,GAAKU,EAAe,CAC9CC,EAAkBD,EAClBE,EAAqB/D,EAAamD,GAAa,GAC/C,MAEJ,GAAmE,YAA/D,IAAIr6C,KAAKk3C,EAAamD,GAAa,IAAIn5B,qBAAoC,CAC3E85B,EAAkB9D,EAAamD,GAAa,GAC5CY,EAAqB/D,EAAamD,GAAa,GAC/C,OAKR,IADA,IAAIa,EAAehE,EAAa,GAAG,GAC1BqD,EAAe,EAAGA,EAAerD,EAAa3mD,SAC/C2qD,EAAehE,EAAaqD,GAAc,KAC1CW,EAAehE,EAAaqD,GAAc,GACrBrD,EAAaqD,GAAc,IAEgB,YAAhE,IAAIv6C,KAAKk3C,EAAaqD,GAAc,IAAIr5B,sBALeq5B,KAY/D,IADA,IAAIC,EAAaO,EACRN,EAAe,EAAGA,EAAevD,EAAa3mD,OAAQkqD,IAAgB,CAC3E,KAAID,EAAatD,EAAauD,GAAc,IAIvC,CACDD,EAActD,EAAauD,GAAc,GAAIz2C,QAAQ,GACtCkzC,EAAauD,GAAc,GAC1C,MAEJ,GARID,GAActD,EAAauD,GAAc,GAAMvD,EAAauD,GAAc,GAAK,IAAM,GAAIz2C,QAAQ,GAClFkzC,EAAauD,GAAc,GAOsB,YAAhE,IAAIz6C,KAAKk3C,EAAauD,GAAc,IAAIv5B,qBACxC,MAKR,IADA,IACS05B,EAAe,EAAGA,EAAe1D,EAAa3mD,OAAQqqD,IAAgB,CAI3E,GAFiE,KAAhD1D,EAAa0D,GAAc,GAAKE,GAAsBA,EAEvD,GAAM,CACC5D,EAAa0D,GAAc,GACzB1D,EAAa0D,GAAc,GAChD,MAEJ,GAAI1D,EAAa0D,GAAc,GAAKG,EAAe,CAC5BA,EACE7D,EAAa0D,GAAc,GAChD,MAEJ,GAAoE,YAAhE,IAAI56C,KAAKk3C,EAAa0D,GAAc,IAAI15B,qBAAoC,CACzDg2B,EAAa0D,GAAc,GACzB1D,EAAa0D,GAAc,GAChD,OAMR,IADA,IACSC,EAAe,EAAGA,EAAe3D,EAAa3mD,OAAQsqD,IAAgB,CAI3E,GAFsE,KAAhD3D,EAAa2D,GAAc,GAAKC,GAAsBA,IAErD,IAAK,CACJ5D,EAAa2D,GAAc,GACzB3D,EAAa2D,GAAc,GACjD,MAEJ,GAAI3D,EAAa2D,GAAc,GAAKE,EAAe,CAC3BA,EACE7D,EAAa2D,GAAc,GACjD,MAEJ,GAAoE,YAAhE,IAAI76C,KAAKk3C,EAAa2D,GAAc,IAAI35B,qBAAoC,CACxDg2B,EAAa2D,GAAc,GACzB3D,EAAa2D,GAAc,GACjD,OAIR,IAAI/jB,EAAiBtlC,aAAaC,QAAQ,kBAAoBE,KAAKC,MAAMJ,aAAaC,QAAQ,mBAAqB,GAGnH,GAAIylD,EAAa,GAAG,GAAKgD,GAAgBhD,EAAa,GAAG,GAAKgD,GAAgBhD,EAAa,GAAG,GAAKgD,EAAc,CAC7G,IAAI5C,EAAa,CACbrwC,QAAS,IAAIjH,KAAK81B,EAAW,GAAG,IAAI1xB,iBACpC3Q,OAAQA,EACR0T,cAAe,EACfqyB,SAAUuhB,EACVxjB,gBAAgB,EAChBrwB,aAAc4zC,EACdhjB,iBAAkB,IAClB3uB,SAAUoB,KAAKC,MAAM,IAAQswC,IAEjCxD,EAAW/f,gBAAiB,EAE5B+f,EAAWjwC,YAAc,IAAIrH,KAAKi7C,GAAoB72C,iBACtDkzC,EAAWnwC,cAAgB6zC,EAmB3B1D,EAAWlwC,WAAoE,KAAtDkwC,EAAWnwC,cAAgBmwC,EAAWpwC,cAAsBowC,EAAWnwC,eAAenD,QAAQ,GACvH8yB,EAAet7B,KAAK87C,GAEpB79C,EAAKK,SAAS,CAAEg9B,eAAc,GAAA5nB,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMymC,gBAAjB,CAAiCwgB,QAevF79C,EAAKK,SAAS,CAAEi9B,cAAc,KAphEft9B,EAwhEnByuB,kBAAoB,SAACC,GAKjB,OAAQA,GAqCJ,IAAK,aACD,MAAO,YAEX,IAAK,cAGL,IAAK,aAGL,IAAK,iBAGL,IAAK,gBAGL,IAAK,WAGL,IAAK,UACD,MAAO,eArlEA1uB,EA4lEnBqL,aAAe,SAACxR,EAAMM,GAYlB,IARA,IAAI4Q,EAAM,SAAUlR,GAEhB,IADA,IAAImR,EAAM,EACDvG,EAAI,EAAGA,EAAI5K,EAAK/C,OAAQ2N,IAC7BuG,GAAOnR,EAAK4K,GAAG6F,MAEnB,OAAOU,EAAMnR,EAAK/C,QAElBmU,EAAS,GACJxG,EAAItK,EAAQ,EAAG+Q,EAAMrR,EAAK/C,OAAQ2N,EAAIyG,EAAKzG,IAAK,CACrD,IAAI0G,EAAMJ,EAAIlR,EAAKuR,MAAM3G,EAAItK,EAAQ,EAAGsK,IACxCwG,EAAOlJ,KAAK,CAAE2I,KAAM7Q,EAAK4K,GAAGiG,KAAM5M,MAAOqN,IAE7C,OAAOF,GA5mEQjL,EA6nEnB2rB,gBAAkB,SAAC5yB,EAAOiB,EAAQimD,EAASyB,GAIvCz3C,QAAQC,IAAI,iCAAkCnR,EAAOiB,EAAQimD,EAASyB,GAEtE1hD,EAAKK,SAAS,CAAEsuB,gBAAiB,GAAKusB,iBAAkBlhD,GAAU,WAC9DiQ,QAAQC,IAAI,aAAcnR,KAK9B,IAAMgZ,EAAU,mBAUbsa,EAAYpa,GAAOguC,GAASb,IAAI,OAAQ,MAAMA,IAAI,SAAU,MAC3DxC,EAAU3qC,GAAOyvC,GAAQtC,IAAI,OAAQ,MAAMA,IAAI,SAAU,MAGzDvlD,EAAO,CACP+V,SAAY,MACZH,YAAe1W,EACfsZ,SAAYrS,EAAKpJ,MAAM83B,UACvBpc,SAAYL,GAAOoa,GAAWna,OAAOH,GACrCQ,OAAUN,GAAO2qC,GAAS1qC,OAAOH,IAIrCjR,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIwtB,EAAczvB,EAAgBiC,EAAK,SAEvC,GAAIwtB,GAAeA,EAAYh1B,KAAM,CAEjC,IAAIA,EAAOg1B,EAAYh1B,KAEjBi1B,EAAQj1B,EAAK8gB,IAAI,SAAAoU,GACnB,MAAO,CAAErkB,KAAM,IAAInE,KAAKwoB,EAAE,IAAIC,UAAW7kB,KAAMgF,WAAW4f,EAAE,IAAK3kB,KAAM+E,WAAW4f,EAAE,IAAK1kB,IAAK8E,WAAW4f,EAAE,IAAKzkB,MAAO6E,WAAW4f,EAAE,OAGpI5oB,EAAkB,GAAI8M,EAAW,GAAIC,EAAe,GAAIC,EAAW,GAAIC,EAAU,GAAIC,EAAW,GAAIC,EAAa,GAAIC,EAAS,GAAI0b,EAAmB,GACzJp1B,EAAK6H,QAAQ,SAACC,EAASutB,GACnB/oB,EAAgBpE,KAAK,CAACJ,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,KAC9EsR,EAASlR,KAAK,CAACJ,EAAQ,IAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,IACpEuR,EAAanR,KAAKJ,EAAQ,IAC1BwR,EAASpR,KAAKJ,EAAQ,IACtByR,EAAQrR,KAAKJ,EAAQ,IACrB0R,EAAStR,KAAKJ,EAAQ,IACtB2R,EAAWvR,KAAKJ,EAAQ,IACxB4R,EAAOxR,MAAMJ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAM,GACrDstB,EAAiBltB,KAAK,CAAE2I,KAAM,IAAInE,KAAK5E,EAAQ,IAAIqtB,UAAWlxB,MAAO6D,EAAQ,GAAIzD,MAAO,6BAI5F,IAAI4V,EAAQ,CACRJ,OAAQ,GACRD,OAAQF,EACRQ,OAAQ,GAGRC,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAInR,EAAO,gBAAiB+a,EAAOE,GAEvCA,EAAKC,KAAeJ,UAAUC,GAClC7J,QAAQC,IAAInR,EAAO,gBAAiB+a,EAAOE,GAE3C,IAAIR,EAAW,CAAEC,OAAQP,EAAcQ,OAAQ,IAC3Cyb,EAAYvb,KAAIC,UAAUL,GA6D9B,GA3DAvJ,QAAQC,IAAInR,EAAO,MAAOya,EAAU2b,GACpCllB,QAAQC,IAAInR,EAAO,OAAQka,EAAUiB,KAAKjB,IAG1CjT,EAAKK,SAAS,CAAEsuB,gBAAiBG,EAAOM,YAAapb,EAAGA,EAAGld,OAAS,GAAIu4B,UAAWnb,KAAKjB,GAAWkc,UAAWA,EAAU/jB,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,GAAI,IAAKwc,WAAYA,EAAWlI,MAAM0F,KAAKwe,IAAIhc,EAAWxc,OAAS,EAAG,KAAO,WAEpO2H,KAAK7H,MAAMwR,aAAaQ,QAAQnK,KAAK7H,MAAM+3B,iBAE3ClwB,KAAK7H,MAAMoS,aAAaJ,QAAQqmB,GAEhC,IAAInkB,EAAUrM,KAAK4M,aAAa5M,KAAK7H,MAAM+3B,gBAAiB,IAE5DlwB,KAAK7H,MAAM24B,cAAc3mB,QAAQkC,GAGjCrM,KAAK7H,MAAMyQ,MAAM4B,uBAAuB,SAACC,GAErC,IAAIC,EAAQD,EAAME,aAAaC,OAAOC,YAElCC,EAAS,GACTC,EAAS,GALkCC,GAAA,EAAAC,GAAA,EAAAC,OAAA5S,EAAA,IAO/C,QAAA6S,EAAAC,EAAiBV,EAAjBE,OAAAC,cAAAG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,KAAfO,EAAeJ,EAAA9L,MAEE,iBAAXkM,EAAK,IACZT,GAAU,aAAeS,EAAK,GAAGG,KAAO,OACxCZ,GAAU,aAAeS,EAAK,GAAGI,KAAO,OACxCb,GAAU,YAAcS,EAAK,GAAGK,IAAM,OACtCd,GAAU,cAAgBS,EAAK,GAAGM,MAAQ,OAE1Cf,GAAU,cADVC,EAA0C,KAAhCQ,EAAK,GAAGM,MAAQN,EAAK,GAAGG,MAAcH,EAAK,GAAGG,MACxBI,QAAQ,GAAK,SAE7ChB,GAAU,WAAaS,EAAK,GAAGO,QAAQ,GAAK,KAjBL,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,YAAAf,GAAA,MAAAI,EAAAY,QAAAZ,EAAAY,SAAA,WAAAf,EAAA,MAAAC,GAqB3CT,EAAMwB,KACNnB,GAAU,aAAe,IAAIhD,KAAK2C,EAAMwB,MAAMC,iBAAmB,OAEjEpB,GAAU,iBAGd,IAGIqB,EAAM,2BAA6BrB,EAAS,WAC5CC,EAAS,IACToB,EAAM,yBAA2BrB,EAAS,YAL3BjF,SAASkD,eAAe,kBAOhCqD,UAAYD,MAO/B/Q,GAAQA,EAAK4W,KAAK,SAAUjW,EAAGkW,GAC3B,OAAO,IAAInK,KAAKmK,EAAE,IAAM,IAAInK,KAAK/L,EAAE,MAEnCX,EAAK/C,OAAS,EAAG,CACjBiB,aAAa6H,QAAQ,oBAAqB1H,KAAK+I,UAAUpH,IACzDmG,EAAKK,SAAS,CAAEmvB,kBAAmB31B,IAGnC,IAAI41B,EAAkB,EAAGC,EAAgB,EAAGC,EAAW,EACvD91B,EAAK6H,QAAQ,SAAAC,GAET,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAChDiuB,GAAO,KACPH,GAAmB,GAEnBG,IAAQ,KACRF,GAAiB,GAGrBC,GAAYC,IAKhB5vB,EAAKK,SAAS,CAAEqvB,cAAeA,EAAeD,gBAAiBA,EAAiBI,uBAAwBF,EAAUG,aAAc7d,GAAOoa,GAAWna,OAAOH,UAxxEtJ/R,EAkyEnB+vB,qBAAuB,SAACh3B,EAAOi3B,GAE3B,IACItlB,EAAOuH,YAAgB,aACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxCulB,EAAU,CACVrgB,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,cACZC,SAAYL,GAAOoa,GAAWna,OAPlB,oBAQZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OARjB,qBAUhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAEtC,GAAIC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAMtD,IALA,IAAIs5B,EAAcD,EAAUt2B,KAGxBw2B,EAAiB,EAEZj2B,EAAQg2B,EAAYt5B,OAAS,IAAKsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC5E,IAAMuH,EAAUyuB,EAAYh2B,GAE5B,GAAIuH,EAAS,CACT,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAEhDiuB,GAAO,KACPS,GAAkB,EAClBpmB,QAAQC,IAAI8lB,EAAMh2B,OAAQ41B,EAAKjuB,EAAQ,KAGvCiuB,IAAQ,KACRS,GAAkB,EAClBpmB,QAAQC,IAAI8lB,EAAMh2B,OAAQ41B,EAAKjuB,EAAQ,MAKnDsI,QAAQC,IAAI,aAAc8lB,EAAMh2B,OAAQq2B,GACpCA,GAAkB,KAElBL,EAAMK,eAAiBA,EAEvBrwB,EAAKK,SAAS,CAAEiwB,oBAAmB,GAAA7a,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAM05B,qBAAjB,CAAsCN,KAAU,WAC/Ej4B,aAAa6H,QAAQ,sBAAuB1H,KAAK+I,UAAUxC,KAAK7H,MAAM05B,6BA/0EvEtwB,EAu1EnBuwB,yBAv1EmBr5B,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KAu1EQ,SAAAokC,IAAA,IAAAC,EAAAxnD,EAAAsQ,EAAA2hB,EAAA4D,EAAA,OAAA3S,GAAA9iB,EAAAkjB,KAAA,SAAAmkC,GAAA,cAAAA,EAAAjkC,KAAAikC,EAAA/3C,MAAA,OAAA83C,EAAAtkC,GAAA9iB,EAAA+iB,KAAA,SAAAqkC,EAEdxnD,GAFc,IAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAokC,GAAA,cAAAA,EAAAlkC,KAAAkkC,EAAAh4C,MAAA,cAGbhI,EAAM9B,EAAKpJ,MAAM05B,oBAAoBl2B,GAC3B,mBACZsQ,EAAOuH,YAAgB,YACvBoa,EAAYpa,GAAO,IAAI1L,MAAQ6L,SAAS1H,GACxCulB,EAAU,CACVrgB,SAAY,MACZH,YAAe3N,EAAI/I,MACnBsZ,SAAY,cACZC,SAAYL,GAAOoa,GAAWna,OAPlB,oBAQZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OARjB,qBAUhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAEtC,GAAIC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAMtD,IALA,IAAIs5B,EAAcD,EAAUt2B,KAGxBw2B,EAAiB,EAEZj2B,EAAQg2B,EAAYt5B,OAAS,EAAGsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC1E,IAAMuH,EAAUyuB,EAAYh2B,GAE5B,GAAIuH,EAAS,CAET,IAAIiuB,EAAkC,KAA3BjuB,EAAQ,GAAKA,EAAQ,IAAYA,EAAQ,GAChDiuB,GAAO,KACPS,GAAkB,GAElBT,GAAO,GACS,GAKxBS,GAAkB,IAClBvuB,EAAIgZ,WAAY,EAChBxjB,OAAOgN,SAASa,MAAQ,OAASrD,EAAI9H,OACrCiQ,QAAQC,IAAI,gCAAkCpI,EAAI9H,OAAS,WAE3DgG,EAAKyO,QAAQ,gCAAkC3M,EAAI9H,OAAS,WAE5DgG,EAAKK,SAAS,CAAEiwB,oBAAqBtwB,EAAKpJ,MAAM05B,0BA7CzCwxB,EAAAh4C,KAAA,EAkDb,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAlDlB,wBAAA+4B,EAAA9jC,SAAA4jC,KAEdxnD,EAAQ,EAFM,YAEHA,EAAQ4F,EAAKpJ,MAAM05B,oBAAoBx5B,QAFpC,CAAA+qD,EAAA/3C,KAAA,eAAA+3C,EAAA74B,cAAA44B,EAEdxnD,GAFc,eAE4CA,IAF5CynD,EAAA/3C,KAAA,gCAAA+3C,EAAA7jC,SAAA2jC,MAv1ER3hD,EA84EnBywB,cA94EmBv5B,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA84EH,SAAAwkC,IAAA,IAAA3nD,EAAA0H,EAAA,OAAAwb,GAAA9iB,EAAAkjB,KAAA,SAAAskC,GAAA,cAAAA,EAAApkC,KAAAokC,EAAAl4C,MAAA,OAEH1P,EAAQ,EAFL,YAEQA,EAAQ4F,EAAKpJ,MAAMglB,WAAW9kB,QAFtC,CAAAkrD,EAAAl4C,KAAA,eAGFhI,EAAM9B,EAAKpJ,MAAMglB,WAAWxhB,GAElC0G,EAAa2vB,cAAc3uB,EAAInE,MAAMoD,KAAK,SAAAmvB,GAyEtC,GAtEAjmB,QAAQC,IAAI,MAAOgmB,EAAKr2B,KAAKA,MAsEzBq2B,EAAKr2B,MAAQq2B,EAAKr2B,KAAKA,KAAK/C,OAAQ,CAEpC,IAAI65B,EAAcT,EAAKr2B,KAAKA,KAAK,GAC7B+2B,EAAU,CACVC,iBAAkBF,EAAYE,iBAC9BC,kBAAmBH,EAAYG,kBAC/BC,yBAA0BJ,EAAYI,yBACtC/2B,OAAQ22B,EAAY32B,OACpBkX,UAAWyf,EAAYE,iBAAmB,IAAMF,EAAYG,kBAC5DlW,GAAI+V,EAAYnK,QAChB/U,IAAKkf,EAAY3Q,WAGrBhgB,EAAKK,SAAS,CAAE2wB,aAAY,GAAAvb,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMo6B,cAAjB,CAA+BJ,KAAY,WAEnE74B,aAAa6H,QAAQ,eAAgB1H,KAAK+I,UAAUxC,KAAK7H,MAAMo6B,oBA7FnEgxB,EAAAl4C,KAAA,EAoGF,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OApG7B,OAE8C3uB,IAF9C4nD,EAAAl4C,KAAA,gCAAAk4C,EAAAhkC,SAAA+jC,MA94EG/hD,EAu/EnByO,QAAU,SAACT,GACP,IAAI1P,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAOA,EAAKW,WAChBrX,OAAOsX,gBAAgBC,MAAMvQ,IA1/Ed0B,EA8/EnBsyB,oBAAsB,SAACv5B,EAAO4I,GAG1B,IAEIitB,EAAe5uB,EAAKyuB,kBAAkB,WACtC/jB,EAAOuH,YAAgB2c,GACvB2D,EAAoBtgB,GAAO,IAAI1L,MAAQ6L,SAAS1H,GAChDulB,EAAU,CACVrgB,SAAY,MACZH,YAAe1W,EACfsZ,SAAY,UACZC,SAAYL,GAAOsgB,GAAmBrgB,OAT1B,oBAUZK,OAAUN,GAAO,IAAI1L,MAAQ2L,OAVjB,qBAYhBpR,EAAa0R,eAAeyd,GAASlvB,KAAK,SAAAmvB,GACtC,IAAIC,EAAY/wB,EAAgB8wB,EAAM,SAClCsC,EAAO,GACX,GAAIrC,GAAaA,EAAUt2B,MAAQs2B,EAAUt2B,KAAK/C,OAAQ,CAKtD,IAJA,IAAIs5B,EAAcD,EAAUt2B,KACxB44B,EAAoB,GAAIC,EAAY,EAG/Bt4B,EAAQg2B,EAAYt5B,OAAS,GAAIsD,EAAQg2B,EAAYt5B,OAAQsD,IAAS,CAC3E,IAAMuH,EAAUyuB,EAAYh2B,GACxBuH,IACA8wB,EAAkB1wB,KAAKJ,EAAQ,IAC/B+wB,GAAa/wB,EAAQ,IAM7B6wB,EAAOG,KAAI9e,UAAU,CAAEH,OAAQ,GAAID,OAAQgf,IAC3CzyB,EAAKK,SAAS,CAAEuyB,eAAgBF,EAAY,KAE5C,IAAIG,EAAgBL,GAAQA,EAAKA,EAAK17B,OAAS,GAC/CmT,QAAQC,IAAInR,EAAO,OAAQ85B,GAEvBA,GACA7yB,EAAKK,SAAS,CAAEyyB,kBAAmBD,EAAeE,mBAAoB3C,EAAYA,EAAYt5B,OAAS,GAAG,KAG1Gs5B,EAAYA,EAAYt5B,OAAS,GAAG,GAAK47B,EAAY,KACrDzoB,QAAQC,IAAI,kBAAmBvI,GAC/B3B,EAAKK,SAAS,CAAE2yB,kBAAiB,GAAAvd,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMo8B,mBAAjB,CAAoCrxB,WA3iFlE3B,EAsjFnB4Q,mBAAqB,SAACC,GAIlB,MAAO,SAHPA,GAAoB,KACF,GAAK,IAAMC,KAAKC,MAAM,IAA4B,KAAX,EAAVF,EAAc,KAAa,MAEtD,KADZA,EAAU,GAAK,IAAMC,KAAKC,MAAiB,EAAVF,EAAe,IAAM,MAChC,OA1jFf7Q,EAgkFnBszB,gBAAkB,SAACC,GAIf,IAFA,IAAIC,EAAez7B,aAAaC,QAAQ,gBACpCy7B,EAAe,EACVr5B,EAAQ,EAAGA,EAAQo5B,EAAa18B,OAAQsD,IAC7C,GAAoC,YAAhCo5B,EAAap5B,GAAOm0B,QAAuB,CAC3CkF,EAAeD,EAAap5B,GAAOq5B,aACnCzzB,EAAKK,SAAS,CAAEozB,aAAcA,IAC9B,MAGR,OAAOA,GA3kFQzzB,EA6kFnB0zB,gBAAkB,SAAChhB,EAAY1Y,EAAQ25B,GAGnCjhB,EAAaA,GAAcA,EAAWM,UAEtCjb,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUyR,IACvD3a,aAAa6H,QAAQ,mBAAoB5F,GAErC25B,GACA57B,aAAa6H,QAAQ,mBAAoB1H,KAAK+I,UAAU0yB,IAG5DrvB,SAASkD,eAAe,mBAAmB6I,SAzlF5BrQ,EA4lFnB4zB,oBAAsB,SAAC9xB,GACnB,IAAIqE,EAAkBrE,EAAIqE,iBAAmBrE,EAAIqE,gBAAgB6M,UACjEjb,aAAa6H,QAAQ,kBAAmB1H,KAAK+I,UAAUkF,IACvDpO,aAAa6H,QAAQ,mBAAoBkC,EAAI9H,QAE7C,IAAI65B,EAAwB/xB,EAAI+xB,sBAE5BA,GACA97B,aAAa6H,QAAQ,wBAAyB1H,KAAK+I,UAAU4yB,IAGjEvvB,SAASkD,eAAe,mBAAmB6I,SAvmF5BrQ,EA0mFnB+b,cAAgB,SAACtf,GAEbwN,QAAQC,IAAI,MAAOzN,EAAEq3B,SAEH,KAAdr3B,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAAS,EACxCzb,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KACpC,KAAdhf,EAAEq3B,SAAkB9zB,EAAKpJ,MAAM6kB,OAASzb,EAAKpJ,MAAMglB,WAAW9kB,OAAS,GAC9EkJ,EAAKK,SAAS,SAAA0zB,GAAS,MAAK,CAAEtY,OAAQsY,EAAUtY,OAAS,KAG7DrU,WAAW,WACPpH,EAAKg0B,qBACN,MApnFHh0B,EAAKpJ,MAAQ,CACTs9B,cAAe,EACf1H,oBAAqB,GACrB7Q,eAAgB,GAChBhb,WAAW,EACXF,SAAS,EACT8rB,cAAe,GACf4H,aAAa,EACbzK,eAAgB,GAChB2T,eAAgB,GAChB4kB,kBAAmB,GACnB3kB,cAAc,EACd0f,YAAa,MACbvtC,YAAa,GACbD,cAAe,GACfiF,SAAU,EACV/E,SAAU,EACVG,YAAa,WACb+L,WAAY7jB,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GAClGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGgkB,kBAAmB,aACnBoY,kBAAmB,EACnBC,mBAAoB,EACpBluB,gBAAiB,GACjBmuB,iBAAiB,EACjBgoB,wBAAyB,GACzB/nB,aAAc,EACd7F,UAAW,iBACXjT,OAAQ,GACR+Y,iBAAkBz8B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,GACtHy8B,iBAAkB18B,aAAaC,QAAQ,qBAAuBE,KAAKC,MAAMJ,aAAaC,QAAQ,sBAAwB,IAG1HgI,EAAK0Z,WAAa1Z,EAAK0Z,WAAW1X,KAAhB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IApCHA,mFA+Lf1I,OAAOgN,SAASa,MAAQ,WACxB1G,KAAK4B,SAAS,CAAEub,WAAYnd,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,qBAE7D,IAAM0Y,EAAapwB,SAASkD,eAAe,WAC3ClD,SAASkD,eAAe,WAAWqD,UAAY,GAC/C,IAAMxD,EAAQE,aAAYmtB,EAAY,CAAE15B,MAAO,IAAKyM,OAAQ,IAAKktB,aAAa,EAAMC,gBAAgB,IAC9FxsB,EAAef,EAAMgB,uBACvBknB,EAAgBloB,EAAMiE,cAAc,CACpCpN,MAAO,uBACPqN,UAAW,IAEXvC,EAAe3B,EAAMwB,mBAAmB,CACxC3K,MAAO,UACP4K,YAAa,CACT7R,KAAM,UAEV8R,aAAc,GACdpB,aAAc,CACVC,IAAK,GACLC,OAAQ,KAIhBpJ,KAAK4B,SAAS,CAAEgH,MAAOA,EAAOe,aAAcA,EAAcmnB,cAAeA,EAAevmB,aAAcA,qCAq6EjG,IAAAma,EAAA1kB,KACCyjD,EAAY,CACdxoC,WAAYjb,KAAKib,WACjB2S,UAAW,GACXC,QAAS,GACT61B,WAAY,sBACZC,YAAa,qBAGjBn4C,QAAQC,IAAI,iBAAkBzL,KAAK7H,MAAMymC,gBAEzC,IAAIglB,EAAe,EAA6CC,EAAsB,EAAGC,EAAc,EAAGC,EAAuB,EAAGC,EAAqB,EAAGC,EAAiB,EACzKC,EAAa,EAAGC,EAAW,EAAGC,EAAY,EAAGC,EAAiB,EAAGC,EAAY,EACjF,OACIxoD,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MACA/b,EAAAC,EAAAC,cAACsS,GAAD,MACAxS,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACtG,QAAS,EAAGf,MAAO,CAAEgR,QAAS,QAI1DxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAGnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SACrBxR,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAEgiB,UAAW,SAAUlC,WAAY,cAAtD,YAIAtgB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACtG,QAAS,GAGrCvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,eAApB,gBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMomD,YAAar/C,KAAK,cAAchB,SAAU8B,KAAK49C,iBACrE9hD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAjB,eACAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAjB,kBACAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,OAAjB,iBACAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAjB,0BAEAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAjB,oBAEAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAjB,cACAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,wBAAjB,qBACAvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,gBAAjB,yBAMZvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAS3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACuoD,GAAD,CAA0BvpC,mBAAoByoC,KAKlD3nD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,EAAGxH,MAAO,CAAEc,UAAW,QACzC4C,KAAK7H,MAAM0mC,aAAe/iC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAMglB,EAAKu5B,uBAAhD,UAAwFniD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,SAAGH,EAAAC,EAAAC,cAACwD,EAAA,EAAD,SAAS1D,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAAT,SAA4BD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAMglB,EAAKs5B,oBAAhD,gBAA5B,UAA8Hh+C,KAAK7H,MAAM8nC,aAAzI,IAAwJjgC,KAAK7H,MAAMmmD,YAAnK,MAAH,OADvH,gBAEoBt+C,KAAK7H,MAAM29B,eAOnCh6B,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACtG,QAAS,GAErCvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAGvBhI,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBAE/B1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAC3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU/qB,MAAO,CAAE8f,WAAY,cAE3BtgB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOnG,aAAaC,QAAQ,gBAAkB,EAAI,UAAY,YAAcuC,EAAAC,EAAAC,cAAA,SAAI1C,aAAaC,QAAQ,gBAAzB,MAMhGuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOnG,aAAaC,QAAQ,eAAiB,EAAI,UAAY,YAAeD,aAAaC,QAAQ,gBAErHuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOnG,aAAaC,QAAQ,uBAAyB,EAAI,UAAY,YAAcuC,EAAAC,EAAAC,cAAA,SAAI1C,aAAaC,QAAQ,uBAAzB,MACvGuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOnG,aAAaC,QAAQ,wBAA0B,EAAI,UAAY,YAAeD,aAAaC,QAAQ,yBAK9HuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,gBAAlB,QAAuC1G,KAAK7H,MAAMymC,gBAAkB5+B,KAAK7H,MAAMymC,eAAevmC,OAA9F,YAAiHiB,aAAaC,QAAQ,YAAtI,OAAuJD,aAAaC,QAAQ,cAG5KuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,iBAAkBkhB,QAAS,GAA7C,MAAoDtuB,aAAaC,QAAQ,kBAAzE,QAAiGyG,KAAK7H,MAAMymC,gBAAkB5+B,KAAK7H,MAAMymC,eAAevmC,OAASiB,aAAaC,QAAQ,mBACtLuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,8BAA+BkhB,QAAS,GAAzD,QAAkEtuB,aAAaC,QAAQ,kBAAvF,QAA+GD,aAAaC,QAAQ,eAEpIuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,sBAAsBkhB,QAAS,GAAjD,SAA2DtuB,aAAaC,QAAQ,uBAEhFuC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,6BAA8BkhB,QAAS,GAAxD,gBAAwE9rB,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEmD,MAAQnG,aAAaC,QAAQ,gBAAkByG,KAAK7H,MAAMymC,eAAevmC,OAAU,EAAI,UAAY,aAAgBiB,aAAaC,QAAQ,gBAAkByG,KAAK7H,MAAMymC,eAAevmC,QAAQyT,QAAQ,GAAhN,KAAxE,QAEOhQ,EAAAC,EAAAC,cAACwoD,GAAAzoD,EAAD,CAAamiD,SAAUl+C,KAAK7H,MAAM+lD,SAAU9iD,KAAM4E,KAAK7H,MAAMymC,mBAKxE9iC,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,SAG1Cxf,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UAKAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,YAEAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,WACA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,aAEA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,SAGAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,cAEAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,OACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,aACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,YAGA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,YACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,iBAOuB,OAA1ByB,KAAK7H,MAAMomD,aAAkD,cAA1Bv+C,KAAK7H,MAAMomD,aAAyD,iBAA1Bv+C,KAAK7H,MAAMomD,aAA4D,eAA1Bv+C,KAAK7H,MAAMomD,aAA0D,gBAA1Bv+C,KAAK7H,MAAMomD,YAC7KziD,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAACyqB,SAAS,OAAQ5G,UAAU,UAExCrkB,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBAG/B1L,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WAGtCpnB,KAAK7H,MAAMymC,eAAiB5+B,KAAK7H,MAAMymC,eAAe1iB,IAAI,SAAC7Y,EAAK2C,GAAN,OAKvDlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAK,EAACf,IAAKzgB,GAEjBlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAWxR,MAAO,CAAEmD,MAAO4D,EAAI6L,UAAY,EAAI,UAAY,YAAkB00C,GAA8BlzC,WAAWrN,EAAI6L,WAAa,IAAK7L,EAAI6L,UAAhJ,KAIApT,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,GAAeo2C,EAAe7gD,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAe6yC,GAA4BI,EAAgBC,GAAe9gD,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAY,EAAI,EAAI,EAAQmzC,GAAe/gD,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAY,EAAI,EAAI,EAA/X,CAAkY3U,MAAO,CAAEmD,MAAOykD,EAAa,EAAI,UAAY,aAA/a,IAAgcA,EAAWp4C,QAAQ,IAEndhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAWxR,MAAO,CAAEmD,MAAO4D,EAAI+8C,iBAAmB,EAAI,UAAY,YAAkByD,GAA4CnzC,WAAWrN,EAAI+8C,kBAAoB,IAAnK,IAAyK/8C,EAAI+8C,iBAA7K,KACAtkD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,GAAei2C,GAAgD1gD,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAA9I,CAAyJ3U,MAAO,CAAEmD,MAAS4D,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAY,EAAI,UAAY,cAAkB5N,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,UAAUnF,QAAQ,IAIzYhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAE2a,WAAY,QAAUvX,QAAS,kBAAMglB,EAAKyQ,oBAAoB9xB,KAAOA,EAAI9H,OAA9G,IAAsHO,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,MAAtH,MAEbD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAYxR,MAAO,CAAEmD,MAAO4D,EAAI0L,SAA0C,GAA/B1L,EAAI0L,QAAQ7I,QAAQ,QAAe,UAAY,YAAiB+9C,GAAmC5gD,EAAI0L,SAA0C,GAA/B1L,EAAI0L,QAAQ7I,QAAQ,QAAe,EAAI,GAAK7C,EAAI0L,QAAQ5I,OAAO,EAAG,KAG/NrK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,GAAeu2C,GAAoC,cAAlBhhD,EAAI28C,WAA4B,EAAI,EAAMsE,GAAgC,UAAlBjhD,EAAI28C,WAAwB,EAAI,GAAK38C,EAAI28C,YAElIlkD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI2L,cAEjBlT,EAAAC,EAAAC,cAACsrB,GAAA,EAAe08B,GAA2C3gD,EAAI0L,SAA0C,GAA/B1L,EAAI0L,QAAQ7I,QAAQ,QAAewK,WAAWrN,EAAI2L,aAAe3L,EAAI4N,UAAYP,WAAWrN,EAAI4L,cAAgB5L,EAAI4N,UAAa5N,EAAI4L,cAA/M,IAA+N5L,EAAI4N,SAAnO,KACAnV,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,yCAA0CrD,EAAI88C,YAG/DrkD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIi+B,UACjBxlC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAE2a,WAAY,QAAUvX,QAAS,kBAAMglB,EAAKwI,gBAAgB7pB,EAAI/I,MAAO+I,EAAI9H,OAAQ8H,EAAIm+C,QAASn+C,EAAI8L,eAAvI,MAAwJrT,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,MAAxJ,SAOhB,GAGLD,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU/qB,MAAO,CAAE8f,WAAY,cAE3BtgB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOmkD,EAAe,EAAI,UAAY,YAAc9nD,EAAAC,EAAAC,cAAA,SAAI1C,aAAa6H,QAAQ,eAAgByiD,EAAa93C,QAAQ,IAAK83C,EAAa93C,QAAQ,GAAxF,MAKxEhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOqkD,EAAc,EAAI,UAAY,YAAchoD,EAAAC,EAAAC,cAAA,SAAK8nD,EAAah4C,QAAQ,IAAQxS,aAAa6H,QAAQ,cAAe2iD,EAAYh4C,QAAQ,KAEjKhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOokD,EAAsB,EAAI,UAAY,YAAc/nD,EAAAC,EAAAC,cAAA,SAAI1C,aAAa6H,QAAQ,sBAAuB0iD,EAAoB/3C,QAAQ,IAAK+3C,EAAoB/3C,QAAQ,GAA7G,MAC/EhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOskD,EAAuB,EAAI,UAAY,YAAcjoD,EAAAC,EAAAC,cAAA,SAAK+nD,EAAsBj4C,QAAQ,IAAQxS,aAAa6H,QAAQ,uBAAwB4iD,EAAqBj4C,QAAQ,KAGrMhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAehuB,aAAa6H,QAAQ,iBAAkB8iD,GAAtD,IAAwE3qD,aAAa6H,QAAQ,qBAAsB6iD,EAAmBl4C,QAAQ,IAA9I,KAEAhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAahuB,aAAa6H,QAAQ,sBAAuB0iD,EAAoB/3C,QAAQ,IAArF,IAA2FxS,aAAa6H,QAAQ,uBAAwB4iD,EAAqBj4C,QAAQ,KAErKhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAahuB,aAAa6H,QAAQ,WAAYgjD,GAAW7qD,aAAa6H,QAAQ,YAAaijD,GAA3F,IAAwG9qD,aAAa6H,QAAQ,iBAAkBkjD,GAA/I,IAAiK/qD,aAAa6H,QAAQ,aAAcmjD,GAApM,KAGAxoD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UAEAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,cAaN,GAEqB,wBAA1BtnB,KAAK7H,MAAMomD,YAAwCziD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KAE/C+D,KAAK7H,MAAM2lD,gBAAkB99C,KAAK7H,MAAM2lD,gBAAgB5hC,IAAI,SAAAuK,GAAG,OAE5D3qB,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,eAAelL,MAAO,CAAEgR,QAAS,QAC5DxR,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAE3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU/qB,MAAO,CAAE8f,WAAY,aAAeqK,IAAKA,GAC/C3qB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWM,QAAS,GAAIrpB,UAAU,mBAAlC,IAAuDkoB,EAAvD,MAA8Dm9B,EAAe,EAAqB,EAAqB,EAAGC,EAAsB,EAAGC,EAAc,EAAGC,EAAuB,EAAGC,EAAqB,EAAGC,EAAiB,EAAqB,KAGhQnoD,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUZ,IAAKA,EAAM,EAAG9nB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,OAAQc,WAAY,cAG5EtgB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,WAKAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,YAEAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,WACA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,aAEA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,WACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,OACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,aACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,kBAAkBmI,MAAM,yCAA7C,YAGA5K,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,gBACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,cAORzC,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WAItC1C,EAAKvsB,MAAM0lD,wBAAwBp3B,GAAKvK,IAAI,SAAC7Y,EAAK2C,GAAN,OAKzClK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAK,EAACf,IAAKzgB,GAEjBlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAWxR,MAAO,CAAEmD,MAAO4D,EAAI6L,UAAY,EAAI,UAAY,YAAkB00C,GAA8BlzC,WAAWrN,EAAI6L,WAAa,IAAK7L,EAAI6L,UAAhJ,KAIApT,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,GAAeg2C,GAA8BzgD,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAArH,CAAgI3U,MAAO,CAAEmD,MAAS4D,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAY,EAAI,UAAY,aAAtP,KAAyQ5N,EAAI4L,eAAiB5L,EAAI6L,UAAY7L,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,UAAUnF,QAAQ,IAEnWhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAWxR,MAAO,CAAEmD,MAAO4D,EAAI+8C,iBAAmB,EAAI,UAAY,YAAkByD,GAA4CnzC,WAAWrN,EAAI+8C,kBAAoB,IAAnK,IAAwKtkD,EAAAC,EAAAC,cAAA,SAAIqH,EAAI+8C,iBAAR,MACxKtkD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,GAAei2C,GAAgD1gD,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAA9I,CAAyJ3U,MAAO,CAAEmD,MAAS4D,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,SAAY,EAAI,UAAY,cAAkB5N,EAAI4L,eAAiB5L,EAAI+8C,iBAAmB/8C,EAAIu8B,kBAAoB,IAAOv8B,EAAI4N,UAAUnF,QAAQ,IAIzYhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAE2a,WAAY,QAAUvX,QAAS,kBAAMglB,EAAKuQ,gBAAgB5xB,EAAIqE,gBAAiBrE,EAAI9H,UAAU8H,EAAI9H,OAAtI,IAA8IO,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,MAA9I,MAEbD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD7uB,OAAAqV,OAAA,CAAYxR,MAAO,CAAEmD,MAAsC,GAA/B4D,EAAI0L,QAAQ7I,QAAQ,QAAe,UAAY,YAAiB+9C,GAAkE,GAA/B5gD,EAAI0L,QAAQ7I,QAAQ,QAAe,EAAI,GAAK7C,EAAI0L,SAC/KjT,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI2L,cAEjBlT,EAAAC,EAAAC,cAACsrB,GAAA,EAAe08B,GAA0E,GAA/B3gD,EAAI0L,QAAQ7I,QAAQ,QAAewK,WAAWrN,EAAI2L,aAAe3L,EAAI4N,UAAYP,WAAWrN,EAAI4L,cAAgB5L,EAAI4N,UAAa5N,EAAI4L,cAAhM,IAAgN5L,EAAI4N,SAApN,KACAnV,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW5gB,MAAM,yCAA0CrD,EAAI88C,YAE/DrkD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI8L,aAEjBrT,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIi+B,aAUzBxlC,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU/qB,MAAO,CAAE8f,WAAY,cAE3BtgB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOmkD,EAAe,EAAI,UAAY,YAAc9nD,EAAAC,EAAAC,cAAA,SAAI1C,aAAa6H,QAAQ,eAAgByiD,EAAa93C,QAAQ,IAAK83C,EAAa93C,QAAQ,GAAxF,MAKxEhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOqkD,EAAc,EAAI,UAAY,YAAchoD,EAAAC,EAAAC,cAAA,SAAK8nD,EAAah4C,QAAQ,IAAQxS,aAAa6H,QAAQ,cAAe2iD,EAAYh4C,QAAQ,KAEjKhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOokD,EAAsB,EAAI,UAAY,YAAc/nD,EAAAC,EAAAC,cAAA,SAAI1C,aAAa6H,QAAQ,sBAAuB0iD,EAAoB/3C,QAAQ,IAAK+3C,EAAoB/3C,QAAQ,GAA7G,MAC/EhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAWhrB,MAAO,CAAEmD,MAAOskD,EAAuB,EAAI,UAAY,YAAcjoD,EAAAC,EAAAC,cAAA,SAAK+nD,EAAsBj4C,QAAQ,IAAQxS,aAAa6H,QAAQ,uBAAwB4iD,EAAqBj4C,QAAQ,KAGrMhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAehuB,aAAa6H,QAAQ,iBAAkB8iD,GAAtD,IAAwE3qD,aAAa6H,QAAQ,qBAAsB6iD,EAAmBl4C,QAAQ,IAA9I,KAEAhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAahuB,aAAa6H,QAAQ,sBAAuB0iD,EAAoB/3C,QAAQ,IAArF,IAA2FxS,aAAa6H,QAAQ,uBAAwB4iD,EAAqBj4C,QAAQ,KAErKhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,MAGAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UAEAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,UACAxrB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,eAYX,IAIH,GAGqB,iBAA1BtnB,KAAK7H,MAAMomD,YAERziD,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAKc,MAAM,UAAUisB,cAAY,GAApE,sBACwB1rB,KAAK7H,MAAM49B,iBAAiB19B,OADpD,SACkE2H,KAAK7H,MAAM01B,SAAW7tB,KAAK7H,MAAM01B,QAAU7tB,KAAK7H,MAAM01B,QAAQ3d,WAAW/J,OAAO,EAAG,KAAM,IAAI2B,MAAOoI,WAAW/J,OAAO,EAAG,KAEzL,GAEqB,iBAA1BnG,KAAK7H,MAAMomD,YACRziD,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBAE3B1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAE3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,SAE1Cxf,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,OAEAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,WACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,YACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,qBAEAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,SACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,QACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,OACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,WAKRzC,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WAItCpnB,KAAK7H,MAAM49B,iBAAmB/1B,KAAK7H,MAAM49B,iBAAiB7Z,IAAI,SAAC7Y,EAAK2C,GAAN,OAK3DlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUG,OAAK,EAACf,IAAKzgB,GACjBlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAathB,EAAI,GACjBlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAaxrB,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYrC,MAAO,CAAE2a,WAAY,QAAUvX,QAAS,kBAAMglB,EAAKuQ,gBAAgB5xB,EAAIqE,gBAAiBrE,EAAI9H,UAAU8H,EAAI9H,OAAtI,IAA8IO,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,MAA9I,MAEbD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI0L,QAAQ5I,OAAO,EAAG,KACnCrK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAY5gB,MAAM,6BAEd5K,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE8f,WAAY/Y,EAAI69B,YAAYuH,aAAeplC,EAAI69B,YAAYwH,YAAc,EAAI,UAAY,KAAM5sC,EAAAC,EAAAC,cAAA,SAAIqH,EAAI69B,YAAYwH,YAAlI,aAA4JrlC,EAAI69B,YAAYuH,aAA5K,OAA8LplC,EAAI69B,YAAYuH,aAAeplC,EAAI69B,YAAYwH,YAAY58B,QAAQ,GAAjQ,kBAFJ,IAE8RhQ,EAAAC,EAAAC,cAAA,WAF9R,mBAGqBqH,EAAI69B,YAAYyH,iBAHrC,QAG4DtlC,EAAI69B,YAAYyH,iBAAmBtlC,EAAI69B,YAAYwH,YAAY58B,QAAQ,GAHnI,eAGkJhQ,EAAAC,EAAAC,cAAA,WAC7IqH,EAAI25B,aAAe35B,EAAI25B,YAAY9gB,IAAI,SAACgZ,EAAWlvB,GAAZ,OACpClK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KAGIH,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEiJ,eAAgB,YAAa6W,WAAY,YAAaY,OAAQ,WAAatd,QAAS,kBAAMglB,EAAKuQ,gBAAgBC,EAAUxtB,gBAAiBrE,EAAI9H,OAAQ25B,KAAlK,IAAgLA,EAAUnmB,QAAQ5I,OAAO,EAAG,IAA5M,KAHJ,YAOJrK,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,QAAMM,MAAO,CAAE8f,WAAY/Y,EAAI69B,YAAY0H,cAAgBvlC,EAAI69B,YAAY2H,YAAc,EAAI,UAAY,KAAM/sC,EAAAC,EAAAC,cAAA,SAAIqH,EAAI69B,YAAY2H,YAAnI,WAA2JxlC,EAAI69B,YAAY0H,cAA3K,OAA8LvlC,EAAI69B,YAAY0H,cAAgBvlC,EAAI69B,YAAY2H,YAAY/8B,QAAQ,GAAlQ,iBAdJ,IAc8RhQ,EAAAC,EAAAC,cAAA,WAd9R,kBAeoBqH,EAAI69B,YAAY4H,iBAfpC,OAe0DzlC,EAAI69B,YAAY4H,iBAAmBzlC,EAAI69B,YAAY2H,YAAY/8B,QAAQ,GAfjI,eAegJhQ,EAAAC,EAAAC,cAAA,WAC3IqH,EAAI65B,cAAgB75B,EAAI65B,aAAahhB,IAAI,SAACgZ,EAAWlvB,GAAZ,OACtClK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACIH,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEiJ,eAAgB,YAAa6W,WAAY,YAAaY,OAAQ,WAAatd,QAAS,kBAAMglB,EAAKuQ,gBAAgBC,EAAUxtB,gBAAiBrE,EAAI9H,OAAQ25B,KAAlK,IAAgLA,EAAUnmB,QAAQ5I,OAAO,EAAG,IAA5M,MADJ,YAURrK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIq8B,OACjB5jC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIs8B,QACjB7jC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIsI,MACjB7P,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIuI,KACjB9P,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIwI,UAOpB,KAMX,OAQtB/P,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAEnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAErBxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMpH,MAAO,CAAEgB,QAAS,WAAaD,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAG1F7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IACnBhI,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAOrG,QAAS,EAAG0P,UAAU,MAAMvP,WAAW,SAASmG,WAAS,GAC5D7H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACtBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAADvlB,OAAAoJ,EAAA,EAAApJ,CAAA,CAAa6D,MAAO0H,GAAOuiB,aAA3B,QAA+C,CAAEnpB,UAAW,SAC7DtB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAM83B,UAAW/wB,KAAK,YAAYhB,SAAU8B,KAAKitB,eACjEnxB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,MAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,eAAgB,MACjCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,cAAe,OAChCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,kBAAmB,OACpCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,iBAAkB,OACnCvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,YAAa,MAC9BvD,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,WAAY,SAMhCvD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IACvBhI,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,yBAA8BsB,KAAK7H,MAAMskD,oBAS9C3gD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,mBACRlD,EAAAC,EAAAC,cAAA,OAAKgD,GAAG,aAGZlD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GAAIxH,MAAO,CAAE2f,UAAW,SAAUjT,OAAQ,SACjElN,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,sBAEI5C,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBAC3B1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAC3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,SAE1Cxf,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,aACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,SAA8CzC,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEmD,MAAO,YAAnB,OAAqCO,KAAK7H,MAAM64B,gBAAhD,KAA9C,MAAsHl1B,EAAAC,EAAAC,cAAA,KAAGM,MAAO,CAAEmD,MAAO,QAAnB,SAAmCO,KAAK7H,MAAM84B,cAA9C,KAAtH,KACAn1B,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,QACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,QACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,OACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,YAIRzC,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WAEtCpnB,KAAK7H,MAAM44B,mBAAqB/wB,KAAK7H,MAAM44B,kBAAoB/wB,KAAK7H,MAAM44B,kBAAkB7U,IAAI,SAAC7Y,EAAK2C,GAAN,OAC7FlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUZ,IAAKzgB,EAAG1J,MAAO,CAAE8f,WAAgC,KAAnB/Y,EAAI,GAAKA,EAAI,IAAYA,EAAI,IAAM,GAAM,UAAgC,KAAnBA,EAAI,GAAKA,EAAI,IAAYA,EAAI,KAAO,GAAM,UAAY,SAEhJvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAa5C,EAAKvsB,MAAM4Y,eACxBjV,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAa,IAAIxf,KAAKzE,EAAI,IAAI6I,kBAC9BpQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,SAAaxrB,EAAAC,EAAAC,cAAA,SAAwB,KAAnBqH,EAAI,GAAKA,EAAI,IAAYA,EAAI,KAA2B,KAAnBA,EAAI,GAAKA,EAAI,IAAYA,EAAI,IAAIyI,QAAQ,GAAnF,MACbhQ,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI,IACjBvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI,IACjBvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI,IACjBvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI,IACjBvH,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI,OAGpB,kBAlpG9Be,IAAMC,WA6qGnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MChtGTA,eACF,SAAAA,EAAYnxB,GAAO,IAAA0F,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuH,KAAAgtB,IACfzrB,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuH,KAAAvH,OAAAiJ,EAAA,EAAAjJ,CAAAu0B,GAAArrB,KAAA3B,KAAMnE,KAiBVqC,SAAW,SAACF,GACRuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAC1C,IAAIjE,EAAO4C,EAAE8D,OAAOzC,MACpBgD,EAAa0W,mBAAmB3d,GAAMkH,KAAK,SAAAM,GACvC,IAAIxH,EAAOwH,EAAIxH,KAEf9B,aAAa6H,QAAQ,iBAAkB1H,KAAK+I,UAAUpH,IACtDmG,EAAKK,SAAS,CAAEsb,eAAgB9hB,OAzBrBmG,EA8BnB0rB,cAAgB,SAACjvB,GACbuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,OAAS,WAE3CW,KAAK7H,MAAM4Y,eACX/Q,KAAKktB,gBAAgBltB,KAAK7H,MAAM6Y,gBAlCzBzP,EAuCnBq8C,gBAAkB,SAAC5/C,GAGf,GAFAuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAEpB,wBAAlBrB,EAAE8D,OAAOzC,MAAiC,CAE1C,IAAIw+C,EAA0BvkD,aAAaC,QAAQ,4BAA8BE,KAAKC,MAAMJ,aAAaC,QAAQ,4BAEjHgI,EAAKK,SAAS,CAAEk8C,gBAAiBrlD,OAAOqK,KAAK+6C,GAA2B,IAAKA,wBAAyBA,MA9C3Ft8C,EAkDnB6b,kBAAoB,SAACpf,GACjBuD,EAAKK,SAALnJ,OAAAoJ,EAAA,EAAApJ,CAAA,GAAiBuF,EAAE8D,OAAO5C,KAAOlB,EAAE8D,OAAOzC,QAC1C,IAAI0D,EAAaxB,EAAKpJ,MAAM4K,WAC5BxB,EAAKK,SAAS,CAAEub,WAAYpa,EAAW/E,EAAE8D,OAAOzC,QAAU,WACtDW,KAAK4B,SAAS,CAAEob,OAAQ,OAGN,aAAlBhf,EAAE8D,OAAOzC,OACTkC,EAAKK,SAAS,CAAEub,WAAY7jB,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,WAG9GyG,KAAK4B,SAAS,CAAEob,OAAQ,QA7DjBzb,EAkEnB0Z,WAAa,SAACF,EAAM4S,GACC,eAAbA,EACApsB,EAAKK,SAAS,CAAEgsB,UAAW7S,IACP,aAAb4S,GACPpsB,EAAKK,SAAS,CAAEisB,QAAS9S,KAtEdxZ,EA4GnB+7B,yBA5GmB7kC,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA4GQ,SAAAC,IAAA,IAAAwe,EAAAjqB,EAAAI,EAAAyJ,EAAA+M,EAAAvuB,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAA/e,MAAA,OAEvBG,QAAQC,IAAI,2BAA2B,IAAI3D,MAAOkhB,uBACvC,IAAIlhB,MAAOkhB,qBAAuB,WAAaqN,cAAc90B,EAAKpJ,MAAMqlC,uBAAyB,GACxGD,EAAW/pB,YAAgB,YAC/BjS,EAAKK,SAAS,CAAE6iD,oBAAqB,KAE/BnxC,EAAU,mBACZI,EAAYF,GAAO,IAAI1L,MAAQ6L,SAAS4pB,GAExCpgB,EAAc5b,EAAKpJ,MAAMglB,WAVN+M,EAAArL,GAAA9iB,EAAA+iB,KAAA,SAAAoL,EAadvuB,GAbc,IAAAuH,EAAArC,EAAA,OAAAge,GAAA9iB,EAAAkjB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA7T,MAAA,cAcbnI,EAAUia,EAAWxhB,GACvBP,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAYL,GAAOE,GAAWD,OAAOH,GACrCQ,OAAUN,GAAO,IAAI1L,MAAQ2L,OAAOH,IAGpCzS,EAAS,CACTtF,OAAQ2H,EAAQhE,KAChB0uB,UAAWpa,GAAOE,GAAWD,OAAOH,GACpCua,QAAUra,GAAO,IAAI1L,MAAQ2L,OAAOH,GACpCoxC,gBAAgB,EAChBC,SAAW,EACXC,YAAa,EACbC,SAAS,GAIbxiD,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD,IAAIysD,EAAc,CACdvpD,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf2Z,WAAYD,EAAS5Y,KACrB2pD,UAAU,GAEdlkD,EAAO6jD,gBAAiB,EACxBriD,EAAa2iD,kBAAkBF,GAAaxiD,KAAK,SAAAM,GAM7C,GALA/B,EAAO+jD,YAAa,EAEpB/jD,EAAO8jD,SAAY/hD,EAAIxH,MAAQwH,EAAIxH,KAAKoR,OACxC3L,EAAOgkD,QAAWjiD,EAAIxH,MAAQwH,EAAIxH,KAAKypD,QAEpCjiD,EAAIxH,MAAQwH,EAAIxH,KAAKypD,QAAQ,CAC5Br5C,QAAQC,IAAK,mBAAoBvI,EAAQ3H,QACrC,IAAIsE,EAAM,IAAIoQ,yBACdpQ,EAAI0P,KAAO,mBAAoBrM,EAAQ3H,OACvC1C,OAAOsX,gBAAgBC,MAAMvQ,WAOzC2L,QAAQC,IAAI,wBA/DDyT,EAAA7T,KAAA,EAkEb,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAlElB,OAmEnB/oB,EAAKK,SAAS,CAAC6iD,oBAAmB,GAAAztC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMssD,qBAAjB,CAAsC5jD,MAnErD,wBAAAqe,EAAAK,SAAA2K,KAadvuB,EAAQ,EAbM,YAaHA,EAAQwhB,EAAW9kB,QAbhB,CAAA+xB,EAAA/e,KAAA,gBAAA+e,EAAAG,cAAAL,EAadvuB,GAbc,iBAawBA,IAbxByuB,EAAA/e,KAAA,iCAAA+e,EAAA7K,SAAAR,MA5GRxd,EAsLnBy8C,gBAAkB,WACdz8C,EAAKK,SAAS,CAAEi0B,iBAAiB,KAvLlBt0B,EA0LnB0jD,iBA1LmBxsD,OAAAmmB,GAAA,EAAAnmB,CAAAomB,GAAA9iB,EAAA+iB,KA0LA,SAAAmL,IAAA,IAAAi0B,EAAAnuB,EAAAuuB,EAAA4G,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAzzB,EAAAp2B,EAAAP,EAAA,OAAAyjB,GAAA9iB,EAAAkjB,KAAA,SAAA2L,GAAA,cAAAA,EAAAzL,KAAAyL,EAAAvf,MAAA,OAEX6yC,EAAW38C,EAAKpJ,MAAMomD,YAAc,IAAMh9C,EAAKpJ,MAAMolB,kBAAoB,IAAM/J,GAAOjS,EAAKpJ,MAAMy1B,WAAWna,OAAO,cAAgB,IAAMD,GAAOjS,EAAKpJ,MAAM01B,SAASpa,OAAO,cAAgB,OAC/LlS,EAAKK,SAAS,CAAE6iD,oBAAqB,GAAI5lB,cAAc,EAAOqf,SAAUA,EAAUroB,iBAAiB,IAI/F9F,EAAYxuB,EAAKpJ,MAAMglB,WACvBmhC,EAAc,EAEd4G,EAAQ1xC,GAAOjS,EAAKpJ,MAAMy1B,WAC1Bu3B,EAAQ3xC,GAAOjS,EAAKpJ,MAAM01B,SAC1Bu3B,EAAMD,EAAMrlC,KAAKolC,EAAO,QACxBG,EAAWhzC,KAAKozC,KAAKL,EAAI,IAC7B55C,QAAQC,IAAI,MAAO45C,GAMfC,EAAiB9xC,GAAOjS,EAAKpJ,MAAMy1B,WAAW+yB,IAAI,SAAU,SAEvD4E,EAAc,EAtBR,aAsBWA,EAAcF,GAtBzB,CAAAz6B,EAAAvf,KAAA,SAwBPm6C,EAAchyC,GAAO8xC,GAAevG,IAAI,GAAI,QAChDvzC,QAAQC,IAAI,MAAO45C,GAzBRtzB,EAAAlT,GAAA9iB,EAAA+iB,KAAA,SAAAiT,EA4BFp2B,GA5BE,IAAAuH,EAAArC,EAAA,OAAAge,GAAA9iB,EAAAkjB,KAAA,SAAAkL,GAAA,cAAAA,EAAAhL,KAAAgL,EAAA9e,MAAA,UA6BDnI,EAAU6sB,EAAUp0B,IAEtB4F,EAAKpJ,MAAM09B,gBA/BR,CAAA1L,EAAA9e,KAAA,eAAA8e,EAAArB,OAAA,gCAmCH1tB,EAAO,CACP+V,SAAY,MACZH,YAAe9N,EAAQ5I,MACvBsZ,SAAY,aACZC,SAAWL,GAAO8xC,GAAe7xC,OAAO,oBACxCK,OAAU0xC,EAAY/xC,OAAO,qBAG7B5S,EAAS,CACTtF,OAAQ2H,EAAQhE,KAChB0uB,UAAWpa,GAAO8xC,GAAe7xC,OAAO,cACxCoa,QAAUra,GAAOgyC,GAAa/xC,OAAO,cACrCixC,gBAAgB,EAChBC,SAAW,EACXC,YAAa,GAIjBviD,EAAa0R,eAAe3Y,GAAMkH,KAAK,SAAAM,GACnC,IAAIoR,EAAWrT,EAAgBiC,EAAK,SAEpC,GAAIoR,GAAYA,EAAS5Y,MAAQ4Y,EAAS5Y,KAAK/C,OAAQ,CAEnD2b,EAAS5Y,KAAKsqD,MAEd,IAAIZ,EAAc,CACdvpD,OAAQ2H,EAAQ3H,OAChBjB,MAAO4I,EAAQ5I,MACf2Z,WAAYD,EAAS5Y,MAEzByF,EAAO6jD,gBAAiB,EAExBriD,EAAa2iD,kBAAkBF,GAAaxiD,KAAK,SAAAM,GAC7C/B,EAAO+jD,YAAa,EAEpBp5C,QAAQC,IAAI,OAAQ7I,EAAIxH,MACxByF,EAAO8jD,SAAY/hD,EAAIxH,MAAQwH,EAAIxH,KAAKoR,cAM5ChB,QAAQC,IAAI,wBA7Eb0e,EAAA9e,KAAA,EAgFD,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,OAhF9B,OAiFP/oB,EAAKK,SAAS,CAAEq+B,aAActkC,EAAQ,EAAI,KAAOuH,EAAQ3H,OAAQ+iD,YAAaA,IAE9E/8C,EAAKK,SAAS,CAAC6iD,oBAAmB,GAAAztC,OAAAve,OAAA6wB,GAAA,EAAA7wB,CAAM8I,EAAKpJ,MAAMssD,qBAAjB,CAAsC5jD,MAExEU,EAAKK,SAAS,CAAC0J,MAAM,IAErBE,QAAQC,IAAI,SAAU5K,GAvFf,yBAAAspB,EAAA5K,SAAAwS,KA4BFp2B,EAAQ,EA5BN,aA4BSA,EAAQo0B,EAAU13B,QA5B3B,CAAAuyB,EAAAvf,KAAA,gBAAAuf,EAAAL,cAAAwH,EA4BFp2B,GA5BE,8BAAAivB,EAAAuX,GAAA,CAAAvX,EAAAvf,KAAA,gBAAAuf,EAAA9B,OAAA,oBA4BmCntB,IA5BnCivB,EAAAvf,KAAA,wBA6FXi6C,EAAgBE,EA7FL56B,EAAAvf,KAAA,GA8FL,IAAIjK,QAAQ,SAAAkpB,GAAC,OAAI3hB,WAAW2hB,EAAG,IAAMyF,EAAU13B,UA9F1C,QAsBmCktD,IAtBnC36B,EAAAvf,KAAA,iBAqGf9J,EAAKK,SAAS,CAAEi9B,cAAc,IArGf,yBAAAjU,EAAArL,SAAA0K,MAxLf1oB,EAAKpJ,MAAQ,CAETglB,WAAY7jB,aAAaC,QAAQ,cAAgBE,KAAKC,MAAMJ,aAAaC,QAAQ,eAAiB,GAClGsJ,eAAgBvJ,aAAaC,QAAQ,mBAAqBE,KAAKC,MAAMJ,aAAaC,QAAQ,oBAAsB,GAChHwJ,WAAYzJ,aAAaC,QAAQ,eAAiBE,KAAKC,MAAMJ,aAAaC,QAAQ,gBAAkB,GACpGgkB,kBAAmB,aACnBsY,iBAAiB,EACjBgoB,wBAAyB,GACzB/nB,aAAc,EAEd+I,cAAc,EACd4lB,oBAAsB,IAE1BljD,EAAK0Z,WAAa1Z,EAAK0Z,WAAW1X,KAAhB9K,OAAA+K,EAAA,EAAA/K,CAAA8I,IAfHA,mFA6Ef1I,OAAOgN,SAASa,MAAQ,WACxB1G,KAAK4B,SAAS,CAAEub,WAAYnd,KAAK7H,MAAM4K,WAAW/C,KAAK7H,MAAMolB,oBAAsB,WAAU,IAAAmH,EAAA1kB,KAGzFA,KAAKs9B,2BAEL,IACIhS,EAAc9X,GAAO,IAAI1L,KAAQ,SAC/B6kB,EAAQnZ,KAASsW,aACnBvW,EAAgBC,GAAO,SAAU,SACjC6X,EAAU7X,GAAO,SAAU,SAE/B,GAAImZ,GANW,GAMQrB,EAAYC,UAAUhY,EAAe8X,GACxD,IAAI+K,EAAmBvR,YAAY,WAEN,KADd,IAAI/c,MACP61C,eACJh1C,WAAW,WACP+b,EAAK4Y,4BACN,KACHzY,YAAY,WACRH,EAAK4Y,4BACL,KACHjH,cAAcD,KAEpB,wCA+LN,IAAArR,EAAA/kB,KACCyjD,EAAY,CACdxoC,WAAYjb,KAAKib,WACjB2S,UAAW,GACXC,QAAS,GACT61B,WAAY,sBACZC,YAAa,qBAKjB,OACI7nD,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAAC6b,GAAD,MACA/b,EAAAC,EAAAC,cAACsS,GAAD,MACAxS,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACtG,QAAS,EAAGf,MAAO,CAAEgR,QAAS,QAI1DxR,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,IAGnBhI,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SACrBxR,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAYpC,MAAO,CAAEgiB,UAAW,SAAUlC,WAAY,cAAtD,kBAIAtgB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMqJ,UAAU,MAAMpJ,WAAS,EAACtG,QAAS,GAsBrCvB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACgiB,GAAA,EAAD,CAAa1hB,MAAO0H,GAAOuiB,aACvBzqB,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAYka,QAAQ,UAApB,oBACAniB,EAAAC,EAAAC,cAACkiB,GAAA,EAAD,CAAQ7e,MAAOW,KAAK7H,MAAMolB,kBAAmBre,KAAK,oBAAoBhB,SAAU8B,KAAKod,mBACjFthB,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO,aAAc,cAC9BW,KAAK7H,MAAM0K,gBAAkB7C,KAAK7H,MAAM0K,eAAeqZ,IAAI,SAAAhZ,GAAO,OAC/DpH,EAAAC,EAAAC,cAACmiB,GAAA,EAAD,CAAU9e,MAAO6D,GAAUA,QAS3CpH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,GACnBhI,EAAAC,EAAAC,cAACuoD,GAAD,CAA0BvpC,mBAAoByoC,KAKlD3nD,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAMwJ,MAAI,EAACrJ,GAAI,GAAIC,GAAI,EAAGxH,MAAO,CAAEc,UAAW,QACzC4C,KAAK7H,MAAM0mC,aAAe/iC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAMqlB,EAAKkgC,qBAAhD,UAAsFnpD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,SAAGH,EAAAC,EAAAC,cAACwD,EAAA,EAAD,SAAS1D,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,MAAT,SAA4BD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAQb,QAAQ,YAAYe,QAAS,kBAAMqlB,EAAKi5B,oBAAhD,gBAA5B,UAA8Hh+C,KAAK7H,MAAM8nC,aAAzI,IAAwJjgC,KAAK7H,MAAMmmD,YAAnK,MAAH,OADrH,gBAEoBt+C,KAAK7H,MAAM29B,gBAUvCh6B,EAAAC,EAAAC,cAAC8qB,GAAA,EAAD,CAAOxqB,MAAO,CAAEgR,QAAS,SAEzBxR,EAAAC,EAAAC,cAACgrB,GAAA,EAAD,CAAOE,KAAK,QAAQ1f,aAAW,gBACf1L,EAAAC,EAAAC,cAACmrB,GAAA,EAAD,CAAW7qB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,UAAYzoB,QAAQ,QAC3D7C,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAU1oB,QAAQ,OAAOrC,MAAO,CAAEgf,WAAY,SAC9Cxf,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,WACIzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,UACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,aACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,aACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,mBACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,iBACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,cACAzC,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,CAAW/oB,UAAU,mBAArB,8BAMRzC,EAAAC,EAAAC,cAACurB,GAAA,EAAD,CAAWjrB,MAAO,CAAEC,MAAO,GAAI6qB,WAAY,WAEtCpnB,KAAK7H,MAAMssD,qBAAuBzkD,KAAK7H,MAAMssD,oBAAsBzkD,KAAK7H,MAAMssD,oBAAoBvoC,IAAI,SAAC7Y,EAAK2C,GAAN,OACnGlK,EAAAC,EAAAC,cAACqrB,GAAA,EAAD,CAAUZ,IAAKzgB,GACXlK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAathB,EAAE,GACflK,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAI9H,QACjBO,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIuqB,WACjB9xB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIwqB,SACjB/xB,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIqhD,eAAiB,MAAO,MACzC5oD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIuhD,WAAa,MAAO,MACrC9oD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIshD,UACjB7oD,EAAAC,EAAAC,cAACsrB,GAAA,EAAD,KAAajkB,EAAIwhD,QAAU,MAAQ,QAItC,gBAxZ9BzgD,IAAMC,WAgbnBL,GAAS,CACX6yB,cAAe,CACXv5B,QAAS,OACTiH,SAAU,YAGduyB,UAAW,CACPx5B,QAAS,OACTkH,eAAgB,UAGpBuyB,SAAU,CACNz5B,QAAS,QAGbipB,YAAa,CACT4B,SAAU,OACVD,aAAc,QAElB8O,aAAc,CACV/a,UAAW,SACX9O,SAAU,OACVgT,UAAW,QAGf8W,aAAc,CACV96B,SAAU,QACV+6B,KAAM,EACN9tB,OAAQ,OACR7M,MAAO,OACP+hB,UAAW,UAKJ0O,MC/YA24B,GAvDG,WAEd,OACI7pD,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,KACIvJ,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,KACI9pD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAAC1nD,UAAWkD,IACjCxF,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,SAASznD,UAAWkD,IAChCxF,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,cAAcznD,UAAW2nD,KACrCjqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,WAAWznD,UAAW2uB,KAClCjxB,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,UAAUznD,UAAW4nD,KACjClqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,SAASznD,UAAW6nD,KAChCnqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,gBAAgBznD,UAAW8nD,KAEvCpqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,QAAQznD,UAAW4uB,KAC/BlxB,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,SAASznD,UAAW+nD,KAChCrqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,SAASznD,UAAWoqC,KAChC1sC,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,SAASznD,UAAWgoD,KAEhCtqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,qBAAqBznD,UAAWioD,KAC5CvqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,YAAYznD,UAAWkoD,KACnCxqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,kBAAkBznD,UAAWmoD,KACzCzqD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,mBAAmBznD,UAAWooD,KAC1C1qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,oBAAoBznD,UAAWqoD,KAI3C3qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,sBAAsBznD,UAAWsoD,KAC7C5qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,uBAAuBznD,UAAWuoD,KAC9C7qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,uBAAuBznD,UAAWwoD,KAE9C9qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,mBAAmBznD,UAAWu4B,KAC1C76B,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,YAAYznD,UAAWs2C,KACnC54C,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,eAAeznD,UAAWyoD,KAEtC/qD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,gBAAgBznD,UAAW0oD,KACvChrD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,iBAAiBznD,UAAWq2C,KACxC34C,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,gBAAgBznD,UAAW2oD,KACvCjrD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,uBAAuBznD,UAAW4oD,KAE9ClrD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,YAAYznD,UAAW6oD,KACnCnrD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,kBAAkBznD,UAAW8oD,KAGzCprD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,QAAQznD,UAAW+oD,KAG/BrrD,EAAAC,EAAAC,cAAC4pD,EAAA,EAAD,CAAOC,KAAK,IAAIznD,UAAWkD,eC1EhCmG,OAVf,WAEE,OACE3L,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAACorD,GAAD,MACAtrD,EAAAC,EAAAC,cAACqrD,EAAA,EAAD,QCNRC,IAASpuB,OACPp9B,EAAAC,EAAAC,cAACurD,EAAA,EAAD,CAAUvuD,MAAOA,GACf8C,EAAAC,EAAAC,cAACwrD,GAAD,OAEF3hD,SAASozB,cAAc","file":"static/js/main.f496cc33.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mylogo.92bbdbd4.png\";","import * as actionTypes from \"../action/types\";\r\nconst INTIAL_STATE = {\r\n    packs: [],\r\n    pack:[],\r\n    updatedPack:null\r\n  };\r\n export default (state = INTIAL_STATE,action)=>{\r\n    switch (action.type) {\r\n        case actionTypes.SET_PACK_LOADED:\r\n          return { ...state, packs:action.payload };\r\n        case actionTypes.EDIT_PACK_INFO:\r\n          return {...state,updatedPack:action.payload}\r\n          case actionTypes.GET_PACK_INFO_BY_ID:\r\n              return {...state,pack:action.payload}    \r\n     default:\r\n          return state;\r\n      }\r\n}\r\n\r\n","import { combineReducers } from 'redux';\r\n\r\nimport getPackReducer from './packReducer';\r\n\r\nexport default combineReducers({\r\n    packs: getPackReducer,\r\n});","export const SET_PACK_LOADED = 'SET PACK LOADED';\r\nexport const EDIT_PACK_INFO ='EDIT PACK INFO';\r\nexport const GET_PACK_INFO_BY_ID ='GET_PACK_INFO_BY_ID';\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport reducers from \"./reducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nexport default store;","class AuthService {\r\n\r\n    getLoggedInUserInfo() {\r\n        localStorage.getItem(\"UserInfo\");\r\n    }\r\n\r\n    getHeader() {\r\n\r\n\r\n        var tokens = localStorage.getItem(\"userTokens\") && JSON.parse(localStorage.getItem(\"userTokens\")); \r\n        var jwtToken =   tokens &&  tokens.jwtToken;\r\n\r\n        return { 'headers': {\r\n            'Authorization': 'Bearer ' + jwtToken,\r\n            'Content-Type':'application/json', \r\n            'Accept':'application/json', \r\n            'X-UserType':'USER',\r\n            'X-SourceID':'WEB',\r\n            'X-ClientLocalIP':'192.168.1.128',\r\n            'X-ClientPublicIP':'91.0.4472.114',\r\n            'X-MACAddress':'f0:18:98:26:c4:cc',\r\n            'X-PrivateKey':'I4O6PJAn'\r\n        } }\r\n    }\r\n\r\n    loginHeader() {\r\n        return { 'headers': {\r\n            'Content-Type':'application/json', \r\n            'Accept':'application/json', \r\n            'X-UserType':'USER',\r\n            'X-SourceID':'WEB',\r\n            'X-ClientLocalIP':'192.168.1.128',\r\n            'X-ClientPublicIP':'91.0.4472.114',\r\n            'X-MACAddress':'f0:18:98:26:c4:cc',\r\n            'X-PrivateKey':'I4O6PJAn'\r\n        } }\r\n    }\r\n    getImageHeader() {\r\n        return { 'headers': {'token': localStorage.getItem(\"token\")}}\r\n    }\r\n\r\n    getScannerHeader() {\r\n        return { 'headers': {\r\n            'Content-Type':'application/json', \r\n            'Accept':'application/json',\r\n      //      'Access-Control-Allow-Headers': \"x-csrf-token\",\r\n       //     'x-csrf-token':'dWsWEZqGaGd6RfARb33LKjPDdyuGUUrgi8Z4qvsB' \r\n            // 'sec-fetch-mode': 'cors',\r\n            // 'origin': 'localhost',\r\n\r\n            \r\n        } }\r\n    }\r\n\r\n    getNSESessionHeader(sessionId) {\r\n        return { 'headers': {\r\n            'sessionId': sessionId, \r\n            'Accept':'application/json',\r\n      //      'Access-Control-Allow-Headers': \"x-csrf-token\",\r\n       //     'x-csrf-token':'dWsWEZqGaGd6RfARb33LKjPDdyuGUUrgi8Z4qvsB' \r\n            // 'sec-fetch-mode': 'cors',\r\n            // 'origin': 'localhost',\r\n\r\n            \r\n        } }\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthService();","//my app api\r\nexport const API_KEY  = 'I4O6PJAn'; \r\nexport const LOGIN_API =  'https://apiconnect.angelbroking.com/rest/auth/angelbroking/user/v1/loginByPassword';\r\nexport const LOGOUT_API =  'https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/logout';\r\nexport const GET_USER_PROFILE =  'https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/getProfile';\r\nexport const GET_FUNDS =  'https://apiconnect.angelbroking.com/rest/secure/angelbroking/user/v1/getRMS';\r\nexport const GetOrderBook = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getOrderBook'; \r\nexport const GetTradeBook = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getTradeBook'; \r\nexport const GetAllTradableInstruments = 'https://margincalculator.angelbroking.com/OpenAPI_File/files/OpenAPIScripMaster.json'; \r\nexport const PlaceOrderApi = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/placeOrder'; \r\nexport const modifyOrderApi = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/modifyOrder'; \r\nexport const cancelOrderApi = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/cancelOrder'; \r\n\r\nexport const GetLTPAPI = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getLtpData'; \r\nexport const getCandleData = 'https://apiconnect.angelbroking.com/rest/secure/angelbroking/historical/v1/getCandleData'; \r\nexport const getPosition =  'https://apiconnect.angelbroking.com/rest/secure/angelbroking/order/v1/getPosition';\r\n\t\r\nexport const getScannedStocks =  'http://localhost:8081/getScannedStocks';\t\r\nexport const getNseTopStocks =  'http://localhost:8081/getNseTopStocks';\r\nexport const getSelectedStock =  'http://localhost:8081/getSelectedStock';\t\r\n\r\nexport const allIndices =  'https://www.nseindia.com/api/allIndices';\t\r\nexport const allIndices2Json =  'https://www1.nseindia.com/live_market/dynaContent/live_watch/stock_watch/liveIndexWatchData.json';\r\n\r\nexport const getIndiceStockApi =  'https://www.nseindia.com/api/equity-stockIndices?index=';\t\r\n","import axios from 'axios';\r\nimport AuthService from \"./AuthService\";\r\nimport  * as apiConstant from \"../../utils/config\";\r\n\r\nclass AdminService {\r\n\r\n    login(credentials) {\r\n         return axios.post(apiConstant.LOGIN_API, credentials, AuthService.loginHeader());\r\n    } \r\n\r\n    logout(credentials) {\r\n        return axios.post(apiConstant.LOGOUT_API, credentials, AuthService.getHeader());\r\n     } \r\n\r\n    getUserData(formData){\r\n        return axios.get(apiConstant.GET_USER_PROFILE, AuthService.getHeader());\r\n    }\r\n\r\n    getFunds(formData){\r\n        return axios.get(apiConstant.GET_FUNDS, AuthService.getHeader());\r\n    }\r\n\r\n    retrieveOrderBook(formData){\r\n        return axios.get(apiConstant.GetOrderBook, AuthService.getHeader());\r\n    }\r\n    retrieveTradeBook(formData){\r\n        return axios.get(apiConstant.GetTradeBook, AuthService.getHeader());\r\n    }\r\n    \r\n    retrieveallTradableInstruments(formData){\r\n        return axios.get(apiConstant.GetAllTradableInstruments,'');\r\n    }\r\n\r\n    placeOrder(credentials) {\r\n        return axios.post(apiConstant.PlaceOrderApi, credentials, AuthService.getHeader());\r\n    } \r\n    modifyOrder(credentials) {\r\n        return axios.post(apiConstant.modifyOrderApi, credentials, AuthService.getHeader());\r\n    } \r\n    cancelOrder(credentials) {\r\n\r\n        return axios.post(apiConstant.cancelOrderApi, credentials, AuthService.getHeader());\r\n    } \r\n\r\n    getLTP(credentials) {\r\n        return axios.post(apiConstant.GetLTPAPI, credentials, AuthService.getHeader());\r\n    } \r\n\r\n    getHistoryData(credentials) {\r\n        return axios.post(apiConstant.getCandleData, credentials, AuthService.getHeader());\r\n    } \r\n\r\n    scanStocks(credentials) {\r\n        return axios.post('https://chartink.com/screener/process', credentials, AuthService.getScannerHeader());\r\n     } \r\n\r\n     autoCompleteSearch(query) {\r\n        return axios.get('http://localhost:8081/search/'+query, '');\r\n     } \r\n     saveWatchList(data) {\r\n        return axios.get('http://localhost:8081/saveWatchList/'+data, '');\r\n     } \r\n     addIntoStaticData(data) {\r\n        return axios.post('http://localhost:8081/addIntoStaticData', data, '');\r\n     }\r\n     saveWatchListJSON(data) {\r\n        return axios.post('http://localhost:8081/saveWatchListJSON', data, '');\r\n     }\r\n     getWatchListJSON() {\r\n        return axios.get('/myJsonWatchList.json', '');\r\n     } \r\n     getStaticData() {\r\n        if(window.location.hostname == \"vijaykumarsaurav.github.io\")\r\n        return axios.get('/mtrade/staticData.json', '');\r\n        else\r\n        return axios.get('/staticData.json', '');\r\n     } \r\n     saveCandleHistory(data) {\r\n        return axios.post('http://localhost:8081/saveCandleHistory', data,  '');\r\n     } \r\n\r\n     backupHistoryData(data) {\r\n      return axios.post('http://localhost:8081/backupHistoryData', data,  '');\r\n   } \r\n\r\n\r\n   saveDeliveryData(data) {\r\n      return axios.post('http://localhost:8081/store_delivery_data', data,  '');\r\n   } \r\n\r\n   saveBidData(data) {\r\n      return axios.post('http://localhost:8081/store_bid_data', data,  '');\r\n   } \r\n\r\n   getDeliveryDataFromDb(symbol) {\r\n      return axios.get('http://localhost:8081/get_delivery_data?symbol='+symbol, '');\r\n   } \r\n   getBidDataFromDb(backDate,allSymbol,count) {\r\n      return axios.get('http://localhost:8081/get_bid_data?backDate='+backDate +\"&allSymbol=\"+allSymbol+\"&count=\"+count, '');\r\n   } \r\n\r\n   getBackUpdateList() {\r\n      return axios.get('http://localhost:8081/get_backup_date_list', '');\r\n   } \r\n\r\n   getPosition(data){\r\n      return axios.get(apiConstant.getPosition, AuthService.getHeader());\r\n   }\r\n\r\n   getAutoScanStock(){\r\n      return axios.get(apiConstant.getScannedStocks, '');\r\n   }\r\n\r\n   getNSETopStock(){\r\n      return axios.get(apiConstant.getNseTopStocks, '');\r\n   }\r\n\r\n   getSelectedStockFromDb(){\r\n      return axios.get(apiConstant.getSelectedStock, '');\r\n   }\r\n\r\n    //  getBNcpdata(){\r\n    //     return axios.get(apiConstant.'', AuthService.getHeader());\r\n    //  }\r\n\r\n    getIndiceStock(index){\r\n        return axios.get(apiConstant.getIndiceStockApi+index, '');\r\n    }\r\n\r\n    checkOtherApi(index){\r\n      //  return axios.get('http://localhost:8081/nse/get_indices', '');\r\n     //  return axios.get('http://localhost:3000/nse/get_index_stocks?symbol=bankNifty', '');\r\n        return axios.get(\"https://www1.nseindia.com/live_market/dynaContent/live_watch/stock_watch/liveIndexWatchData.json\", '');\r\n    }\r\n\r\n    checkSectorApiOther(index){\r\n        //  return axios.get('http://localhost:3000/nse/get_indices', '');\r\n         return axios.get('http://localhost:8081/nse/get_index_stocks?symbol='+index, '');\r\n       //return axios.get(\"https://www1.nseindia.com/live_market/dynaContent/live_watch/stock_watch/liveIndexWatchData.json\", '');\r\n      }\r\n\r\n    \r\n\r\n    getAllIndices(){\r\n        return axios.get(apiConstant.allIndices);\r\n    }\r\n\r\n    allIndicesDirectJSON(){\r\n        return axios.get('http://localhost:8081/nse/get_indices', '');\r\n      // return axios.get(apiConstant.allIndices2Json);\r\n     }\r\n\r\n     getBNcpdata(symbol){\r\n         if(symbol == 'NIFTY' || symbol == 'BANKNIFTY'){\r\n            return axios.get('http://localhost:8081/nse/getOptionChain?symbol='+symbol, '');\r\n         }else{\r\n            return axios.get('http://localhost:8081/nse/getOptionChainEquity?symbol='+symbol, '');\r\n         }\r\n        \r\n     }\r\n\r\n\r\n     getDeliveryData(symbol){\r\n        return axios.get('http://localhost:8081/nse/get_quote_info?companyName='+ symbol, '');\r\n     }\r\n\r\n     checkLiveBids(symbol){\r\n        return axios.get('http://localhost:8081/nse/get_quote_info?companyName='+ symbol, '');\r\n     }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default new AdminService();\r\n","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport MyLogo from './mylogo.png';\r\n\r\nconst LoginNavBar = (props) => {\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            {/* <AppBar position=\"static\" style={{backgroundColor: '#f44336'}}/> */}\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                <img alt=\"logo\"  style={{width:\"190px\"}} src={MyLogo} />\r\n\r\n                    {/* <div style={{width:\"300px\"}}>\r\n                        <Typography variant=\"h6\" style={style}>\r\n                             &nbsp;&nbsp;  M-Trade\r\n                        </Typography>\r\n                    </div>               */}\r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default LoginNavBar;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n// function Copyright() {\r\n//   return (\r\n//     <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n//       {'Copyright  '}\r\n//       <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n//         Bharti Airtel Ltd\r\n//       </Link>{' '}\r\n//       {new Date().getFullYear()}\r\n//       {'.'}\r\n//     </Typography>\r\n//   );\r\n// }\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#df0915',//theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function SignIn(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleOnChange = e => {\r\n    props.loginProps.onChange(e);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n        {/* <LoginNavBar/> */}\r\n\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <PersonIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"User Id\"\r\n            name=\"userName\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            onChange={handleOnChange}\r\n            value={props.loginProps.userName}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={handleOnChange}\r\n            value={props.loginProps.password}\r\n          />\r\n          {/* <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          /> */}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={props.loginProps.login}\r\n          >\r\n            Sign In\r\n          </Button>\r\n\r\n         \r\n          \r\n          {/* <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid> */}\r\n        </form>\r\n      </div>\r\n      {/* <Box mt={8}>\r\n        <Copyright />\r\n      </Box> */}\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// method calling\r\n\r\n// import React from \"react\";\r\n// import \"./styles.css\";\r\n\r\n// class Child extends React.Component {\r\n//   render() {\r\n//     return <input name=\"username\" onChange = {this.props.handler}/ >\r\n//   }\r\n// }\r\n\r\n// class Parent extends React.Component {\r\n//   constructor(props) {\r\n//     super(props)\r\n//     this.state = {\r\n//       username : \"vijay\"\r\n//     }\r\n//     this.handler = this.handler.bind(this)\r\n//   }\r\n\r\n//   handler(e) {\r\n//     console.log(e.target.name ); \r\n//     this.setState({\r\n//       [e.target.name]: e.target.value \r\n//     })\r\n//   }\r\n\r\n//   render() {\r\n//     return <>\r\n//     Hello:  {this.state.username} \r\n//      <Child handler = {this.handler} />\r\n     \r\n//      </>\r\n//   }\r\n// }\r\n\r\n// export default Parent;\r\n","import { toast } from 'react-toastify';\r\n\r\nclass Notify {\r\n\r\n    showError(msg) {\r\n        toast.error(msg, this.options());\r\n    }\r\n\r\n    showSuccess(msg) {\r\n        toast.success(msg , this.options());\r\n    }\r\n\r\n    showWarning(msg) {\r\n        toast.warn(msg , this.options());\r\n    }\r\n\r\n    options() {\r\n        return {\r\n            position: toast.POSITION.BOTTOM_RIGHT,\r\n          //  position: \"buttom-right\",\r\n            autoClose: 2000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: false\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default new Notify();","import Notify from \"./Notify\";\r\n\r\nexport function resolveResponse(response, msg) {\r\n   //console.log('response',response);\r\n    let data = {};\r\n        if (response.status === 200) {\r\n            data = response.data;\r\n            if(data.status) {\r\n                if(data.message){\r\n\r\n                    if(msg !== 'noPop')\r\n                    Notify.showSuccess(data.message);\r\n                }\r\n                return data;\r\n            }else{\r\n               \r\n                Notify.showError(data.message);\r\n                if(data.message === \"Invalid Token\"){\r\n                    window.location.replace(\"#/login\");\r\n                    localStorage.setItem('userTokens', '');\r\n                    localStorage.setItem('userProfile', '');\r\n                }\r\n                return Promise.reject(data.message);\r\n            }\r\n        }\r\n        else if(response && !response.status){\r\n            Notify.showError(data.message);\r\n        }   \r\n}","import React from 'react';\r\nimport AdminService from \"../service/AdminService\";\r\nimport LoginNavBar from \"../LoginNavbar\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LoginNewUI from './LoginNewUI';\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\n\r\nclass LoginComponent extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"V193588\",\r\n            password: \"\", \r\n            isDasable:false,\r\n            isError:false,\r\n            \r\n        };\r\n        this.login = this.login.bind(this);\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return(\r\n            <React.Fragment>\r\n                <LoginNavBar/>\r\n                \r\n                {/* <Container maxWidth=\"sm\">\r\n                     <br/><br/><br/> \r\n                    <Typography variant=\"h4\" style={styles.label}>Login</Typography>\r\n                    <form style={styles.formStyle}>\r\n                        <TextField type=\"text\"  required={true} label=\"Olms Id\" fullWidth margin=\"normal\" name=\"userName\" value={this.state.userName}  onChange={this.onChange}/>\r\n\r\n                        <TextField type=\"password\"  required={true} label=\"Password\" fullWidth margin=\"normal\" name=\"password\" value={this.state.password} onChange={this.onChange}/>\r\n                        <Grid item  xs={12} sm={8}>\r\n                            <Button disabled={this.state.isDasable}  variant=\"contained\" color=\"primary\" onClick={this.login}>Login</Button>\r\n                        </Grid>\r\n                        <Grid item  xs={12} sm={10}>\r\n                             {this.state.isDasable ? <InputLabel variant=\"subtitle1\" style={styles.waitMessage}> Please wait...</InputLabel> :\"\"} \r\n                             {this.state.isError ? <InputLabel variant=\"subtitle1\" style={styles.errorMessage}> {this.state.isError} </InputLabel>: \"\"}  \r\n                        </Grid>\r\n                    </form>\r\n                </Container> */}\r\n\r\n                {/* New Login UI */}\r\n                <LoginNewUI loginProps={ {onChange : this.onChange, login: this.login,   userName: this.state.userName, password:  this.state.password } }/>\r\n                \r\n                <Grid container justify=\"space-around\">\r\n                    <Grid justify={\"center\"} container  xs={12} sm={10}>\r\n                            {this.state.isDasable ? <InputLabel variant=\"subtitle1\" style={styles.waitMessage}> Please wait...</InputLabel> :\"\"} \r\n                            {this.state.isError ? <InputLabel variant=\"subtitle1\" style={styles.errorMessage}> {this.state.isError} </InputLabel>: \"\"}  \r\n                    </Grid>\r\n                </Grid>\r\n            </React.Fragment>\r\n\r\n\r\n        )\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n      const userTokens =   window.localStorage.getItem(\"userTokens\"); \r\n      if(userTokens){\r\n      //  const lastUrl = localStorage.getItem(\"lastUrl\"); \r\n        this.props.history.push('home');\r\n      }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n    login = (e) => {\r\n        \r\n        this.setState({ isError: \"\" });\r\n\r\n\r\n        e.preventDefault();\r\n\r\n        if(!this.state.userName && !this.state.password){\r\n            this.setState({ isError: \"Olms Id and Password are required.\" });\r\n            return;\r\n        }\r\n\r\n        if(!this.state.userName){\r\n            this.setState({ isError: \"Olms Id is required.\" });\r\n            return;\r\n        }\r\n        if(!this.state.password){\r\n            this.setState({ isError: \"Password is required.\" });\r\n            return;\r\n        }\r\n         \r\n        this.setState({ isDasable: true });\r\n\r\n \r\n\r\n        const loginPayload = {\r\n            clientcode:  this.state.userName,\r\n            password: this.state.password \r\n\r\n        };\r\n        AdminService.login(loginPayload)\r\n            .then(loginRes => {\r\n              //  Notify.showError(\"Olms Id and password is required.\");\r\n            //  alert(JSON.stringify(res));\r\n         //   console.log(\"res\",loginRes); \r\n\r\n              var data = resolveResponse(loginRes);\r\n              loginRes  = loginRes && loginRes.data; \r\n            //  console.log(\"resdata\",loginRes); \r\n              if(loginRes.status && loginRes.message !== 'SUCCESS'){\r\n                this.setState({ isError: loginRes.message });\r\n              }\r\n              \r\n               // data = res.data; \r\n                this.setState({ isDasable: false });\r\n\r\n                if(loginRes.data){\r\n                    window.localStorage.setItem(\"userTokens\",JSON.stringify(loginRes.data));\r\n                  \r\n\r\n                    AdminService.getUserData().then(profileRes => {\r\n                       // console.log('profiledata', profileRes); \r\n                          let data = resolveResponse(profileRes);\r\n                          profileRes =  profileRes && profileRes.data; \r\n                          if(profileRes.status & profileRes.message === 'SUCCESS'){\r\n                            window.localStorage.setItem(\"userProfile\",JSON.stringify(profileRes.data));\r\n                        //    this.props.history.push('/position');\r\n\r\n                            AdminService.getStaticData().then(res => {\r\n                                var data = res.data;\r\n                                //data = JSON.parse(data);   \r\n                                localStorage.setItem('staticData', JSON.stringify(data));\r\n\r\n                                var totalWatchlist = Object.keys(data);\r\n                                this.setState({ totalWatchlist: totalWatchlist });\r\n                                localStorage.setItem('totalWatchlist', JSON.stringify(totalWatchlist));\r\n\r\n                                this.setState({ staticData: data });\r\n                    \r\n                                var watchlist = [];\r\n                                totalWatchlist.forEach(element => {\r\n                    \r\n                                    var mylist = data[element];\r\n                                    mylist.forEach(element2 => {\r\n                                        var foundInWatchlist = watchlist.filter(row => row.token === element2.token);\r\n                                        if (!foundInWatchlist.length) {\r\n                                            watchlist.push(element2);\r\n                                        }\r\n                                    });\r\n                                });\r\n                    \r\n                                localStorage.setItem('watchList', JSON.stringify(watchlist));\r\n\r\n                                window.location.replace('#/home')\r\n\r\n                            });\r\n\r\n                            \r\n                            \r\n                          }\r\n                      })\r\n\r\n                  \r\n\r\n                }\r\n            });\r\n          \r\n            // setTimeout(() => {\r\n            //     this.setState({ isError: \"\" });\r\n            // }, 3000);\r\n\r\n\r\n           \r\n    }\r\n\r\n}\r\n\r\nconst styles ={\r\n    formStyle :{\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n    label: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    errorMessage:{\r\n        color:\"red\",\r\n        marginTop: '11px'\r\n    },\r\n    waitMessage:{\r\n        color:\"gray\",\r\n        marginTop: '11px'\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default LoginComponent;","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport { Link } from \"react-router-dom\";\r\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions';\r\nimport AdminService from \"./service/AdminService\";\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\n//import RouterComponent from '../RouterComponent'; \r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\nexport const AdminMenuList = (\r\n\r\n  <div>\r\n    {/* <ListSubheader inset>Upload & Create</ListSubheader> */}\r\n   \r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/home\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Home\" />\r\n    </ListItem>\r\n    \r\n    <ListItem button component='a' href={\"/mtrade/#/position\"} >  \r\n      <ListItemIcon>\r\n        <EmojiEmotionsIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Positions\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/sector-heat-map2\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Heat Map2\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/strong-charts\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Strong Charts\" />\r\n    </ListItem>\r\n\r\n\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/delivery\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Delivery\" />\r\n    </ListItem>\r\n\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/slow-motion\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Slow Motion\" />\r\n    </ListItem>\r\n\r\n\r\n   \r\n    <ListItem button component='a' target={'_blank'} href={\"/mtrade/#/find-fast-movement\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Fast Movement\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' target={'_blank'} href={\"/mtrade/#/index-charts\"} >  \r\n      <ListItemIcon>\r\n        <EqualizerIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Index Charts\" />\r\n    </ListItem>\r\n    \r\n\r\n\r\n  \r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/order-watchlist\"} >  \r\n      <ListItemIcon>\r\n        <EmojiEmotionsIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Order Watchlist\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/funds\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Funds\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/order\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Order Book\" />\r\n    </ListItem>\r\n    <ListItem button component='a' href={\"/mtrade/#/trade\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Trade Book\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/sector-heat-map\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Heat Map\" />\r\n    </ListItem>\r\n  \r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/market-depth\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Depth Live\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/market-depth-mobile\"} >  \r\n      <ListItemIcon>\r\n        <ShowChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Depth Live Mobile\" />\r\n    </ListItem>\r\n    \r\n    {/* <ListItem button component='a' href={\"/mtrade/#/bn-view\"} >  \r\n      <ListItemIcon>\r\n        <EmojiEmotionsIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"NiftyBank View\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/nifty-view\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Nifty View\" />\r\n    </ListItem>\r\n\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/sector\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Sector Top\" />\r\n    </ListItem> */}\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/backtest\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Backtest - Research\" />\r\n    </ListItem>\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/backup-history\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Backup History\" />\r\n    </ListItem>\r\n  \r\n\r\n\r\n    <ListItem button component='a' href={\"/mtrade/#/addtowatchlist\"} >  \r\n      <ListItemIcon>\r\n        <FileCopyIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary={\"Watchlist (\" + (localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')).length) + \")\"} />\r\n    </ListItem>\r\n  \r\n\r\n\r\n  </div>\r\n);\r\n\r\nfunction deleteAllCookies() {\r\n  var cookies = document.cookie.split(\";\");\r\n  for (var i = 0; i < cookies.length; i++) {\r\n      var cookie = cookies[i];\r\n      var eqPos = cookie.indexOf(\"=\");\r\n      var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n      document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n  }\r\n}\r\n\r\nfunction logoutPortal(){\r\n  //console.log(\"yo_man\")\r\n\r\n  if(window.confirm(\"Are you sure to logout?\")){\r\n\r\n  var userProfile = localStorage.getItem(\"userProfile\")\r\n  userProfile = userProfile && JSON.parse(userProfile);\r\n\r\n  var data = {\r\n    clientcode : userProfile && userProfile.clientcode\r\n    }\r\n\r\n    AdminService.logout(data)\r\n    .then(res => {\r\n    \r\n    localStorage.clear();\r\n    //localStorage.setItem('userTokens', '');\r\n    //localStorage.setItem('userProfile', '');\r\n    deleteAllCookies();\r\n    \r\n    window.location.replace(\"#/login\");\r\n    return;\r\n\r\n    });\r\n\r\n  }\r\n}\r\n\r\n\r\nexport const LogoutMenu = (\r\n  <div>\r\n\r\n    <Link to={''} style={{textDecoration: \"none\"}} onClick={logoutPortal}>\r\n      <ListItem button>\r\n          <ListItemIcon><PowerSettingsNewIcon/></ListItemIcon><ListItemText primary=\"Logout\" />\r\n      </ListItem>\r\n    </Link>\r\n\r\n\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  //const [anchorEl, setAnchorEl] = React.useState(null);\r\n  //const open = Boolean(anchorEl);\r\n\r\n  const handleChange = (event) => {\r\n    localStorage.setItem('invertColorFlag', event.target.checked);\r\n    setAuth(event.target.checked);\r\n   \r\n  };\r\n\r\n  // const handleMenu = (event) => {\r\n\r\n  //   setAnchorEl(event.currentTarget);\r\n  // };\r\n\r\n  // const handleClose = () => {\r\n  //   setAnchorEl(null);\r\n  // };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={auth} onChange={handleChange} aria-label=\"login switch\" />}\r\n          label={auth ? 'Black & White'  : 'Colorfull'}\r\n        />\r\n      </FormGroup>\r\n     \r\n      {/* <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Photos\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n//import \"./styles.css\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\n\r\n\r\nexport default function App( props ) {\r\n\r\n\r\n  var candleChartData =  props.candleChartData; \r\n  var vwapDataChart =  props.vwapDataChart; \r\n\r\n  var closeData = [], timeDate = []; \r\n\r\n  if(candleChartData){\r\n    for (let index = 0; index < candleChartData.length; index++) {\r\n      if(candleChartData[index]){\r\n        closeData.push(candleChartData[index][4]); \r\n        timeDate.push(new Date(candleChartData[index][0]).getHours() + \":\" +new Date(candleChartData[index][0]).getMinutes() ); \r\n      }\r\n    \r\n    }\r\n  }\r\n\r\n\r\n  const chartData = {\r\n    \r\n    labels: timeDate,\r\n    datasets: [\r\n      {\r\n        label: \"Close\",\r\n        data: closeData,\r\n        fill: true,\r\n        borderColor:  props.percentChange > 0 ? \"green\" : \"red\",\r\n       // backgroundColor: \"rgba(75,192,192,0.2)\",\r\n        //borderColor: \"\"\r\n      },\r\n      {\r\n        label: \"Vwap\",\r\n        data: vwapDataChart,\r\n        fill: true,\r\n      //  backgroundColor:  \"blue\",\r\n        borderColor: \"blue\",\r\n      },\r\n      // {\r\n      //   label: \"Diff\",\r\n      //   data: diffData,\r\n      //   fill: true,\r\n      //   onoffline : true,\r\n      //   backgroundColor:  \"rgba(75,192,192,0.1)\",\r\n      //   borderColor: \"blue\",\r\n        \r\n      // }\r\n     \r\n    ]\r\n  };\r\n  const options = {\r\n    maintainAspectRatio: false,\r\n    legend: {\r\n      display: false\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Line data={chartData} options={options} />\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nexport default function LightChartCom(props) {\r\n\tconst [open, setOpen] = React.useState(false);\r\n\t// var fileref=document.createElement('script')\r\n\t// fileref.setAttribute(\"type\",\"text/javascript\")\r\n\t// fileref.setAttribute(\"src\", 'https://unpkg.com/lightweight-charts@3.4.0/dist/lightweight-charts.standalone.production.js')\r\n\t// document.getElementsByTagName(\"head\")[0].appendChild(fileref)\r\n\r\n\tsetTimeout(() => {\r\n\r\n\t\tvar chart = window.LightweightCharts.createChart(document.getElementById('chart'), {\r\n\t\t\twidth: 600,\r\n\t\t\theight: 300,\r\n\t\t\trightPriceScale: {\r\n\t\t\t\tscaleMargins: {\r\n\t\t\t\t\ttop: 0.3,\r\n\t\t\t\t\tbottom: 0.25,\r\n\t\t\t\t},\r\n\t\t\t\tborderVisible: false,\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tbackgroundColor: 'white',   // '#131722',\r\n\t\t\t\ttextColor: '#d1d4dc',\r\n\t\t\t},\r\n\t\t\tgrid: {\r\n\t\t\t\tvertLines: {\r\n\t\t\t\t\tcolor: 'rgba(42, 46, 57, 0)',\r\n\t\t\t\t},\r\n\t\t\t\thorzLines: {\r\n\t\t\t\t\tcolor: 'rgba(42, 46, 57, 0.6)',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// var areaSeries = chart.addAreaSeries({\r\n\t\t// \ttopColor: 'rgba(38,198,218, 0.56)',\r\n\t\t// \tbottomColor: 'rgba(38,198,218, 0.04)',\r\n\t\t// \tlineColor: 'rgba(38,198,218, 1)',\r\n\t\t// \tlineWidth: 2,\r\n\t\t// });\r\n\t\t// areaSeries.setData(props.ChartData.areaSeries);\r\n\r\n\r\n\t\tvar candleSeries = chart.addCandlestickSeries({\r\n\t\t\tupColor: 'green',\r\n\t\t\tdownColor: 'red',\r\n\t\t\tborderDownColor: 'red',\r\n\t\t\tborderUpColor: 'green',\r\n\t\t\twickDownColor: 'red',\r\n\t\t\twickUpColor: 'green',\r\n\t\t});\r\n\r\n\t\t//candleSeries.setData(data);\r\n\t\tvar data = props.chartData && props.chartData.candleSeries;\r\n\t\tcandleSeries.setData(data);\r\n\r\n\r\n\r\n\t\tvar volumeSeries = chart.addHistogramSeries({\r\n\t\t\tcolor: '#26a69a',\r\n\t\t\tpriceFormat: {\r\n\t\t\t\ttype: 'volume',\r\n\t\t\t},\r\n\t\t\tpriceScaleId: '',\r\n\t\t\tscaleMargins: {\r\n\t\t\t\ttop: 0.8,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t//volumeSeries.setData(props.ChartData && props.ChartData.volumeData);\r\n\t\tvolumeSeries.setData(props.chartData && props.chartData.volumeSeries);\r\n\r\n\r\n\t\tchart.subscribeCrosshairMove((param) => {\r\n\r\n\t\t\tvar getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n\t\t\tvar string = \"\";\r\n\t\t\tvar change = \"\";\r\n\r\n\t\t\tfor (var elem of getit) {\r\n\r\n\t\t\t\tconsole.log(elem);\r\n\r\n\t\t\t\tif (typeof elem[1] == 'object') {\r\n\t\t\t\t\tstring += \" O: <b>\" + elem[1].open + \"</b>\";\r\n\t\t\t\t\tstring += \" H: <b>\" + elem[1].high + \"</b>\";\r\n\t\t\t\t\tstring += \" L: <b>\" + elem[1].low + \"</b>\";\r\n\t\t\t\t\tstring += \" C: <b>\" + elem[1].close + \"</b>\";\r\n\t\t\t\t\tchange = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n\t\t\t\t\tstring += \" CH: <b>\" + change.toFixed(2) + '%</b>';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstring += \"&nbsp;\" + elem[1].toFixed(2) + \" \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (param.time)\r\n\t\t\t\tstring += \" T: <b>\" + new Date(param.time).toLocaleString() + \"</b>\";\r\n\r\n\r\n\r\n\t\t\tconst domElement = document.getElementById('showChartTitle');\r\n\r\n\r\n\t\t\tvar str = \"<span style=color:green>\" + string + \"</span> \";\r\n\t\t\tif (change < 0)\r\n\t\t\t\tstr = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n\t\t\tdomElement.innerHTML = str;\r\n\t\t});\r\n\r\n\r\n\r\n\r\n\t\t// var datesForMarkers = [data[data.length - 19], data[data.length - 39]];\r\n\t\t// var indexOfMinPrice = 0;\r\n\t\t// for (var i = 1; i < datesForMarkers.length; i++) {\r\n\t\t// \tif (datesForMarkers[i].high < datesForMarkers[indexOfMinPrice].high) {\r\n\t\t// \t\tindexOfMinPrice = i;\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// var markers = [];\r\n\t\t// for (var i = 0; i < datesForMarkers.length; i++) {\r\n\t\t// \tif (i !== indexOfMinPrice) {\r\n\t\t// \t\tmarkers.push({ time: datesForMarkers[i].time, position: 'aboveBar', color: '#e91e63', shape: 'arrowDown', text: 'Sell @ ' + Math.floor(datesForMarkers[i].high + 2) });\r\n\t\t// \t} else {\r\n\t\t// \t\tmarkers.push({ time: datesForMarkers[i].time, position: 'belowBar', color: '#2196F3', shape: 'arrowUp', text: 'Buy @ ' + Math.floor(datesForMarkers[i].low - 2) });\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// markers.push({ time: data[data.length - 48].time, position: 'aboveBar', color: '#f68410', shape: 'circle', text: 'D' });\r\n\t\t// candleSeries.setMarkers(markers);\r\n\r\n\r\n\t\tvar smaData = calculateSMA(data, 20);\r\n\t\tvar smaLine = chart.addLineSeries({\r\n\t\t\tcolor: 'rgba(4, 111, 232, 1)',\r\n\t\t\tlineWidth: 2,\r\n\t\t});\r\n\t\tsmaLine.setData(smaData);\r\n\r\n\r\n\t\tfunction calculateSMA(data, count) {\r\n\t\t\tvar avg = function (data) {\r\n\t\t\t\tvar sum = 0;\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tsum += data[i].close;\r\n\t\t\t\t}\r\n\t\t\t\treturn sum / data.length;\r\n\t\t\t};\r\n\t\t\tvar result = [];\r\n\t\t\tfor (var i = count - 1, len = data.length; i < len; i++) {\r\n\t\t\t\tvar val = avg(data.slice(i - count + 1, i));\r\n\t\t\t\tresult.push({ time: data[i].time, value: val });\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\r\n\t\t// var minimumPrice = data[0].value;\r\n\t\t// var maximumPrice = minimumPrice;\r\n\t\t// for(var i = 1; i < data.length; i++) {\r\n\t\t//   var price = data[i].value;\r\n\t\t//   if (price > maximumPrice) {\r\n\t\t//     maximumPrice = price;\r\n\t\t//   }\r\n\t\t//   if (price < minimumPrice) {\r\n\t\t//     minimumPrice = price;\r\n\t\t//   }\r\n\t\t// }\r\n\t\t// var avgPrice = (maximumPrice + minimumPrice) / 2;\r\n\r\n\t\t// var lineWidth = 2;\r\n\t\t// var minPriceLine = {\r\n\t\t//   price: minimumPrice,\r\n\t\t//   color: '#be1238',\r\n\t\t//   lineWidth: lineWidth,\r\n\t\t//   lineStyle: window.LightweightCharts.LineStyle.Solid,\r\n\t\t//   axisLabelVisible: true,\r\n\t\t//   title: 'min price',\r\n\t\t// };\r\n\t\t// var avgPriceLine = {\r\n\t\t//   price: avgPrice,\r\n\t\t//   color: '#be1238',\r\n\t\t//   lineWidth: lineWidth,\r\n\t\t//   lineStyle: window.LightweightCharts.LineStyle.Solid,\r\n\t\t//   axisLabelVisible: true,\r\n\t\t//   title: 'avg price',\r\n\t\t// };\r\n\t\t// var maxPriceLine = {\r\n\t\t//   price: maximumPrice,\r\n\t\t//   color: '#be1238',\r\n\t\t//   lineWidth: lineWidth,\r\n\t\t//   lineStyle: window.LightweightCharts.LineStyle.Solid,\r\n\t\t//   axisLabelVisible: true,\r\n\t\t//   title: 'max price',\r\n\t\t// }\r\n\r\n\t\t//candleSeries.createPriceLine(minPriceLine);\r\n\t\t//candleSeries.createPriceLine(avgPriceLine);\r\n\t\t//candleSeries.createPriceLine(maxPriceLine);\r\n\t\t//chart.timeScale().fitContent();\r\n\r\n\r\n\r\n\t}, 100);\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\r\n\t\t\t<Grid direction=\"row\" container className=\"flexGrow\" spacing={1} style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n\t\t\t\t<Grid item xs={12} sm={12} >\r\n\r\n\t\t\t\t\r\n\t\t\t\t <div id=\"showChartTitle\" style={{ fontSize: \"12px\" }}> </div>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12} sm={12} >\r\n\t\t\t\t<div id=\"chart\">\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t\r\n\t\t\r\n\r\n\t\t</>\r\n\r\n\t);\r\n}","import React, {useEffect} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport { data } from 'jquery';\r\n\r\nimport LineChart from \"./LineChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n\r\n \r\n  const [open, setOpen] = React.useState(false);\r\n \r\n  var [values, setValues] = React.useState({\r\n    data : [],\r\n    candledata: {}\r\n})\r\n\r\n\r\n \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" id=\"showCandleChart\" color=\"primary\" style={{display:\"none\"}} onClick={handleClickOpen}>\r\n        Chart \r\n      </Button>\r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        {localStorage.getItem('cadleChartSymbol')}   {localStorage.getItem('candlePriceShow')}  ({localStorage.getItem('candleChangeShow')}%)\r\n        <br />\r\n\r\n        {localStorage.getItem('chartInfoDetails') ? <span style={{fontSize:'12px'}}>  \r\n        <b>FoundAt:</b>  {localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).foundAt.substr(0, 16)} &nbsp;&nbsp;\r\n        <b>Buy: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).buyExitPrice} &nbsp;&nbsp;\r\n        <b>Sell: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).sellEntyPrice} &nbsp;&nbsp;\r\n        <b>Change %: </b>  {localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).perChange} &nbsp;&nbsp;    <br />\r\n        <b>Change on High/Low %: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).perChange} &nbsp;&nbsp;\r\n        <b>SquareOffAt:</b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).squareOffAt}\r\n        </span> : \"\"}\r\n        \r\n      \r\n        </DialogTitle>\r\n        <DialogContent dividers id=\"chart\">\r\n\r\n        {/* body data\r\n        <ReactApexChart\r\n              options={props.data && props.data.options}\r\n              series={props.data && props.data.series}\r\n              type=\"bar\"\r\n              width=\"500\"\r\n            /> */}\r\n\r\n          {localStorage.getItem('candleChartData') ?   <ReactApexChart \r\n            options={{\r\n                      chart: {\r\n                        type: 'candlestick',\r\n                        height: 350\r\n                      },\r\n                      title: {\r\n                          text: '',\r\n                          align: 'left'\r\n                      },\r\n                      xaxis: {\r\n                          type: 'datetime',\r\n                      },\r\n                      yaxis: {\r\n                          tooltip: {\r\n                          enabled: true\r\n                          }\r\n                      }\r\n                  }}\r\n                  series={[{\r\n                    data:  localStorage.getItem('candleChartData') && JSON.parse(localStorage.getItem('candleChartData'))\r\n                      \r\n                  }]} \r\n                  type=\"candlestick\" \r\n                  width={500}\r\n                  height={350} \r\n          /> : \"\"}\r\n\r\n\r\n            { localStorage.getItem('candleChartDataInside') ? <ReactApexChart \r\n              options={{\r\n                        chart: {\r\n                          type: 'candlestick',\r\n                          height: 350\r\n                        },\r\n                        title: {\r\n                            text: '',\r\n                            align: 'left'\r\n                        },\r\n                        xaxis: {\r\n                            type: 'datetime',\r\n                        },\r\n                        yaxis: {\r\n                            tooltip: {\r\n                            enabled: true\r\n                            }\r\n                        }\r\n                    }}\r\n                    series={[{\r\n                      data:  localStorage.getItem('candleChartDataInside') && JSON.parse(localStorage.getItem('candleChartDataInside'))\r\n                        \r\n                    }]} \r\n            type=\"candlestick\" \r\n            width={500}\r\n            height={350} \r\n          />: \"\"}\r\n          \r\n          {/* below line chart \r\n          {localStorage.getItem('candleChartData') && localStorage.getItem('vwapDataChart') ? <LineChart candleChartData={JSON.parse(localStorage.getItem('candleChartData'))} percentChange={localStorage.getItem('candleChangeShow')} vwapDataChart={JSON.parse(localStorage.getItem('vwapDataChart'))}/>: \"\"}\r\n           */}\r\n        \r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ChartDialog from './ChartDialog'; \r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n\r\n  var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n  \r\n  const showCandleChart = (candleData, symbol) => {\r\n    candleData  = candleData && candleData.reverse();\r\n    localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n    localStorage.setItem('cadleChartSymbol', symbol)\r\n    document.getElementById('showCandleChart').click();\r\n  }\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        Patterns {foundPatternList && foundPatternList.length}\r\n      </Button>\r\n      <ChartDialog />\r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        Found Patterns\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n        <Table stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"medium\">\r\n        <TableRow variant=\"head\" >\r\n                    \r\n                    <TableCell align=\"left\"><b>Sr.</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Stock Name</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Pattern Name</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Time</b></TableCell> \r\n                    <TableCell align=\"left\"><b>BuyAt</b></TableCell>\r\n                    <TableCell align=\"left\"><b>SellAt</b></TableCell>\r\n\r\n                </TableRow>\r\n                <TableBody>\r\n                    \r\n                        {foundPatternList ? foundPatternList.map((idata, index) => (\r\n                            <TableRow hover key={index}>\r\n\r\n                                    <TableCell align=\"left\">{index} </TableCell>\r\n                                    <TableCell align=\"left\"> <Button  variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => showCandleChart(idata.candleChartData, idata.symbol)}>{idata.symbol} <EqualizerIcon /> </Button></TableCell>\r\n                                    <TableCell align=\"left\" >{idata.pattenName}</TableCell> \r\n                                    <TableCell align=\"left\" >{idata.time}</TableCell> \r\n                                    \r\n                                     <TableCell align=\"left\">{idata.BuyAt} </TableCell>\r\n                                     <TableCell align=\"left\">{idata.SellAt}</TableCell>\r\n                                   \r\n                            </TableRow>\r\n\r\n                        )):  \"\"  }\r\n\r\n                    </TableBody>\r\n\r\n\r\n                </Table>    \r\n\r\n\r\n\r\n         \r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import { resolveResponse } from \"./ResponseHandler\";\r\nimport AdminService from \"../components/service/AdminService\";\r\nimport TradeConfig from '../components/MyTrade/TradeConfig';\r\nimport * as moment from 'moment';\r\nimport Notify from './Notify';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\n\r\n\r\nclass CommonOrderMethod {\r\n\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    getMinPriceAllowTick = (minPrice) => {\r\n        minPrice = minPrice.toFixed(2);\r\n        // console.log(\"minPrice\",minPrice); \r\n        var wholenumber = parseInt(minPrice.split('.')[0]);\r\n        //  console.log(\"wholenumber\",wholenumber); \r\n        var decimal = parseFloat(minPrice.split('.')[1]);\r\n        // console.log(\"decimal\",decimal); \r\n        var tickedecimal = decimal - decimal % 5;\r\n        minPrice = parseFloat(wholenumber + '.' + tickedecimal);\r\n        //   console.log(\"minPricexxxx\",minPrice); \r\n        return minPrice;\r\n    }\r\n\r\n\r\n    placeSLMOrder = (slmOption) => {\r\n\r\n        var data = {\r\n            \"triggerprice\": slmOption.stopLossPrice,\r\n            \"tradingsymbol\": slmOption.tradingsymbol,\r\n            \"symboltoken\": slmOption.symboltoken,\r\n            \"quantity\": slmOption.quantity,\r\n            \"transactiontype\": slmOption.transactiontype === \"BUY\" ? \"SELL\" : \"BUY\",\r\n            \"exchange\": 'NSE',\r\n            \"producttype\": \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n        console.log(\"SLM option data\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n              //  this.setState({ orderid: data.data && data.data.orderid });\r\n                // this.updateOrderList(); \r\n                this.speckIt('hey Vijay, ' + slmOption.tradingsymbol + \" buy order placed\");\r\n              //  this.getTodayOrder();\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // getStockTokenDetails = (SYMBOL) => {\r\n    //     AdminService.autoCompleteSearch(SYMBOL).then(searchRes => {   \r\n    //         let searchResdata =  searchRes.data; \r\n    //         if(SYMBOL){\r\n    //             var uppercaseName =  SYMBOL.toUpperCase() + \"-EQ\"; \r\n    //             var found = searchResdata.filter(row => row.name  === SYMBOL && row.symbol === uppercaseName);      \r\n    //             console.log(\"found\", found); \r\n    //             if(found.length){ \r\n    //                return found[0]; \r\n    //             }\r\n    //         }\r\n    //      })\r\n    // }\r\n\r\n    updateOrderList = () => {\r\n        AdminService.retrieveOrderBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data && data.data) {\r\n                    var orderlist = data.data;\r\n                    orderlist.sort(function (a, b) {\r\n                        return new Date(b.updatetime) - new Date(a.updatetime);\r\n                    });\r\n                    localStorage.setItem('oderbookData', JSON.stringify(orderlist));\r\n                }\r\n            });\r\n    }\r\n    \r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n    historyWiseOrderPlace = (sectorItem, orderType, isAutomatic, callback) => {\r\n\r\n        var token = sectorItem.token;\r\n        var symbol = sectorItem.symbol;\r\n\r\n        // if (isAutomatic != \"Automatic\") {\r\n        //     if (!window.confirm(orderType + \" \" + symbol + \" Are you sure ? \")) {\r\n        //         return;\r\n        //     }\r\n        // }\r\n\r\n        var ltpdata = { \"exchange\": \"NSE\", \"tradingsymbol\": symbol, \"symboltoken\": token, }\r\n        AdminService.getLTP(ltpdata).then(res => {\r\n            let ltpres = resolveResponse(res, 'noPop');\r\n            var LtpData = ltpres && ltpres.data;\r\n            console.log(symbol, \" ltd data \", LtpData);\r\n            let quantity = 0;\r\n            if (LtpData && LtpData.ltp) {\r\n                let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                quantity = Math.floor(perTradeExposureAmt / LtpData.ltp);\r\n            }\r\n\r\n           if(quantity > 0 && sectorItem.qtyToTake ) {\r\n                quantity = sectorItem.qtyToTake;\r\n           }           \r\n           console.log(symbol, \"  quantity can be order \", sectorItem, quantity);\r\n\r\n            if (quantity) {\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n                console.log(\"beginningTime\", beginningTime);\r\n\r\n                var time = moment.duration(\"75:10:00\");  //21:10:00\"\r\n                var startdate = moment(new Date()).subtract(time);\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": token,\r\n                    \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE \r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    // console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var candleData = histdata.data, clossest = 0, lowerest = 0, highestHigh = 0, lowestLow = 0, highestsum = 0;\r\n                    \r\n                        candleData.reverse();\r\n                        lowestLow = candleData[0][3];\r\n                        highestHigh = candleData[0][2];\r\n                        if (candleData && candleData.length > 0) {\r\n\r\n\r\n                            for (let index = 0; index < 20; index++) {\r\n                                if (candleData[index]) {\r\n                                    clossest += candleData[index][4]; //close  \r\n                                    lowerest += candleData[index][3];  //low\r\n                                    highestsum += candleData[index][2];  //low\r\n                                    if (candleData[index][2] > highestHigh) {\r\n                                        console.log(index, highestHigh, candleData[index][2]);\r\n                                        highestHigh = candleData[index][2];\r\n                                    }\r\n                                    if (candleData[index][3] <= lowestLow) {\r\n                                        lowestLow = candleData[index][3];\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata=[];\r\n                            histdata.data.forEach((element, index) => {\r\n                                candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                                vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                                closeingData.push(element[4]);\r\n                                highData.push(element[2]);\r\n                                lowData.push(element[3]);\r\n                                openData.push(element[3]);\r\n                                valumeData.push(element[5]);\r\n                                bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                            });\r\n\r\n                            var inputRSI = { values: closeingData, period: 14 };\r\n                            var lastRsiValue = RSI.calculate(inputRSI)\r\n                            console.log(symbol, \"lastRsiValue\", lastRsiValue[lastRsiValue.length - 1]);\r\n        \r\n                            var inputVWAP = {\r\n                                open: openData,\r\n                                high: highData,\r\n                                low: lowData,\r\n                                close: closeingData,\r\n                                volume: valumeData\r\n                            };\r\n        \r\n                            var input = {\r\n                            period : 20, \r\n                            values : bbdata,\r\n                            stdDev : 2\r\n                            }\r\n        \r\n                            var bb = BollingerBands.calculate(input); \r\n                            console.log(symbol , \"BB\",input, bb, bb[bb.length-1]);\r\n                            console.log(symbol , \"VWAP\", vwapdata, vwap(vwapdata));\r\n\r\n                            var bbLastValue = bb[bb.length-1]; \r\n\r\n                            \r\n                            let devideLen = candleData.length > 20 ? 20 : candleData.length;\r\n                            var bbmiddleValue = clossest / devideLen;\r\n                            var bblowerValue = lowerest / devideLen;\r\n                            var bbhigerValue = highestsum / devideLen;\r\n\r\n                            var stoploss = 0, stoplossPer = 0;\r\n\r\n                            if (orderType == \"BUY\") {\r\n                                stoploss = bblowerValue - (highestHigh - lowestLow) * 3 / 100;\r\n                                stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                stoplossPer = (LtpData.ltp - stoploss) * 100 / LtpData.ltp;\r\n                                \r\n                                console.log(symbol, \"My stoploss\", orderType, \" LTP \", LtpData.ltp);\r\n                                console.log(symbol + \"highestHigh:\", highestHigh, \"lowestLow\", lowestLow, \"stoploss after tick:\", stoploss, \"stoploss%\", stoplossPer);\r\n                                console.log(symbol + \"  close avg middle \", bbmiddleValue, \"lowerest avg\", bblowerValue, \"bbhigerValue\", bbhigerValue);\r\n                       \r\n\r\n                                // //bb stop loss\r\n                                // if(bbLastValue){\r\n                                //     stoploss = bbLastValue.lower - (bbLastValue.upper - bbLastValue.lower) * 3 / 100;\r\n                                //     stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                //     stoplossPer = (LtpData.ltp - stoploss) * 100 / LtpData.ltp;\r\n                                //     console.log(symbol, orderType, \"BB stoploss value\", bbLastValue, \" LTP \", LtpData.ltp);\r\n                                //     console.log(symbol, stoploss, \"stoploss%\", stoplossPer);\r\n                                // }\r\n                               \r\n                    \r\n                            }\r\n\r\n                            if (orderType == \"SELL\") {\r\n                                stoploss = bbhigerValue + (highestHigh - lowestLow) * 3 / 100;\r\n                                stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                stoplossPer = (stoploss - LtpData.ltp) * 100 / LtpData.ltp;\r\n\r\n                                console.log(symbol, orderType, \" LTP \", LtpData.ltp);\r\n                                console.log(symbol + \"highestHigh:\", highestHigh, \"lowestLow\", lowestLow, \"stoploss after tick:\", stoploss, \"stoploss%\", stoplossPer);\r\n                                console.log(symbol + \"  close avg middle \", bbmiddleValue, \"lowerest avg\", bblowerValue, \"bbhigerValue\", bbhigerValue);\r\n                          \r\n                                // //bb stop loss\r\n                                // if(bbLastValue){\r\n                                //     stoploss = bbLastValue.upper + (bbLastValue.upper - bbLastValue.lower) * 3 / 100;\r\n                                //     stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                //     stoplossPer = (stoploss - LtpData.ltp) * 100 / LtpData.ltp;\r\n                                //     console.log(symbol, orderType, \"BB stoploss value\", bbLastValue, \" LTP \", LtpData.ltp);\r\n                                //     console.log(symbol, stoploss, \"stoploss%\", stoplossPer);\r\n                                // }\r\n                               \r\n                            }\r\n\r\n\r\n                            var orderOption = {\r\n                                transactiontype: orderType,\r\n                                tradingsymbol: symbol,\r\n                                symboltoken: token,\r\n                                buyPrice: 0,\r\n                                quantity: quantity,\r\n                                stopLossPrice: stoploss\r\n                            }\r\n                            if (quantity) {\r\n\r\n                                this.placeOrderMethod(orderOption, callback);\r\n\r\n                            } else {\r\n                                Notify.showError(symbol + \" stoploss is > 1.5% Rejected\");\r\n                                console.log(symbol + \" its not fullfilled\");\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        Notify.showError(symbol + \" candle data emply\");\r\n                        console.log(symbol + \" candle data emply\");\r\n                        var callData = {\r\n                            \"transactiontype\": orderType,//BUY OR SELL\r\n                            \"tradingsymbol\": symbol,\r\n                            \"symboltoken\": token,\r\n                            \"status\": false\r\n                        }\r\n                        callback(callData);\r\n                    }\r\n                })\r\n\r\n            } else {\r\n                Notify.showError(quantity + \"  quantity |  \" + symbol + \" \" + orderType + \" Rejected\");\r\n            }\r\n        }).catch(function (error) {\r\n\r\n        })\r\n        // await new Promise(r => setTimeout(r, 2000)); \r\n    }\r\n\r\n    getMinPriceAllowTick = (minPrice) => {\r\n        minPrice = minPrice.toFixed(2);\r\n        // console.log(\"minPrice\",minPrice); \r\n        var wholenumber = parseInt(minPrice.split('.')[0]);\r\n        //  console.log(\"wholenumber\",wholenumber); \r\n        var decimal = parseFloat(minPrice.split('.')[1]);\r\n        // console.log(\"decimal\",decimal); \r\n        var tickedecimal = decimal - decimal % 5;\r\n        minPrice = parseFloat(wholenumber + '.' + tickedecimal);\r\n        //   console.log(\"minPricexxxx\",minPrice); \r\n        return minPrice;\r\n    }\r\n    \r\n\r\n    placeOptionOrder = (orderOption) => {\r\n        var data = {\r\n            \"transactiontype\": orderOption.transactiontype,//BUY OR SELL\r\n            \"tradingsymbol\": orderOption.tradingsymbol,\r\n            \"symboltoken\": orderOption.symboltoken,\r\n            \"quantity\": orderOption.quantity,\r\n            \"ordertype\": orderOption.buyPrice === 0 ? \"MARKET\" : \"LIMIT\",\r\n            \"price\": orderOption.buyPrice,\r\n            \"producttype\": orderOption.producttype ? orderOption.producttype : \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"exchange\": orderOption.exchange ? orderOption.exchange : \"NSE\",\r\n            \"variety\": \"NORMAL\"\r\n        }\r\n        console.log(\"place order option\", data);\r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                if (orderOption.stopLossPrice) {\r\n                    setTimeout(() => {\r\n                        this.placeOptionSLMOrder(orderOption);\r\n                    }, 1000);\r\n                }\r\n                this.speckIt('hey Vijay, ' + orderOption.tradingsymbol + \" \" +orderOption.transactiontype +\" order placed\");\r\n             \r\n                var callData = {\r\n                    \"token\": orderOption.symboltoken,\r\n                    \"status\": true\r\n                }\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    placeOptionSLMOrder = (slmOption) => {\r\n\r\n        var data = {\r\n            \"triggerprice\": slmOption.stopLossTriggerPrice,\r\n            \"tradingsymbol\": slmOption.tradingsymbol,\r\n            \"symboltoken\": slmOption.symboltoken,\r\n            \"quantity\": slmOption.quantity,\r\n            \"transactiontype\": \"SELL\", \r\n            \"exchange\": slmOption.exchange,\r\n            \"producttype\": slmOption.producttype, \r\n            \"duration\": \"DAY\",\r\n            \"price\": slmOption.stopLossPrice,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n        console.log(\"SLM option data\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n             //   this.setState({ orderid: data.data && data.data.orderid });\r\n                // this.updateOrderList(); \r\n                this.speckIt('hey Vijay, ' + slmOption.tradingsymbol + \" stop loss order placed\");\r\n            //    this.getTodayOrder();\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n                this.updateOrderList(); \r\n            }\r\n        })\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    placeOrderMethod = (orderOption, callback) => {\r\n        var data = {\r\n            \"transactiontype\": orderOption.transactiontype,//BUY OR SELL\r\n            \"tradingsymbol\": orderOption.tradingsymbol,\r\n            \"symboltoken\": orderOption.symboltoken,\r\n            \"quantity\": orderOption.quantity,\r\n            \"ordertype\": orderOption.buyPrice === 0 ? \"MARKET\" : \"LIMIT\",\r\n            \"price\": orderOption.buyPrice,\r\n            \"producttype\": \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"exchange\": \"NSE\",\r\n            \"variety\": \"NORMAL\"\r\n        }\r\n        console.log(\"place order option\", data);\r\n\r\n       \r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                if (orderOption.stopLossPrice) {\r\n                    this.placeSLMOrder(orderOption);\r\n                }\r\n                this.speckIt('hey Vijay, ' + orderOption.tradingsymbol + \" \" +orderOption.transactiontype +\" order placed\");\r\n             \r\n                var callData = {\r\n                    \"token\": orderOption.symboltoken,\r\n                    \"status\": true\r\n                }\r\n                callback(callData);\r\n                return;  \r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    placeSLMOrder = (slmOption) => {\r\n\r\n        var data = {\r\n            \"triggerprice\": slmOption.stopLossPrice,\r\n            \"tradingsymbol\": slmOption.tradingsymbol,\r\n            \"symboltoken\": slmOption.symboltoken,\r\n            \"quantity\": slmOption.quantity,\r\n            \"transactiontype\": slmOption.transactiontype === \"BUY\" ? \"SELL\" : \"BUY\",\r\n            \"exchange\": 'NSE',\r\n            \"producttype\": \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n        console.log(\"SLM option data\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n             //   this.setState({ orderid: data.data && data.data.orderid });\r\n                // this.updateOrderList(); \r\n                this.speckIt('hey Vijay, ' + slmOption.tradingsymbol + \" stop loss order placed\");\r\n            //    this.getTodayOrder();\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n                this.updateOrderList(); \r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default new CommonOrderMethod();\r\n\r\n   ","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport * as Menu from './LeftMenuBar';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MyLogo from './mylogo.png';\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport InvertColor from '../utils/InvertColor';\r\nimport FoundPatternDialog from '../components/MyTrade/FoundPatternDialog'\r\nimport AdminService from \"./service/AdminService\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CommonOrderMethod from \"../utils/CommonMethods\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport Notify from '../utils/Notify';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    endMenu: {\r\n        display: 'flex',\r\n        flexDirection: 'row reverse'\r\n    },\r\n    appBar: {\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        //backgroundColor: '#f44336'\r\n    },\r\n    appBarShift: {\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        marginLeft: drawerWidth,\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-end',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        marginLeft: -drawerWidth,\r\n    },\r\n    contentShift: {\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n        marginLeft: 0,\r\n    },\r\n}));\r\n\r\nexport default function PostLoginNavBar(props) {\r\n\r\n    const [values, setValues] = React.useState({\r\n        buyFlag: true,\r\n        sellFlag: true,\r\n        searchSymbol: \"\",\r\n\r\n    });\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n    const autoSearchList = [];\r\n\r\n    function handleDrawerOpen() {\r\n        setOpen(true);\r\n    }\r\n\r\n    function handleDrawerClose() {\r\n        setOpen(false);\r\n    }\r\n\r\n\r\n    function handleInput(e) {\r\n        setValues({ ...values, ['searchSymbol']: e.target.value });\r\n        AdminService.autoCompleteSearch(e.target.value).then(searchRes => {\r\n            let searchResdata = searchRes.data;\r\n            if (e.target.value) {\r\n                var uppercaseName = e.target.value.toUpperCase() + \"-EQ\";\r\n                var found = searchResdata.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\" && row.symbol === uppercaseName);\r\n                //  console.log(\"found\", found[0] && found[0].symbol); \r\n                if (found.length) {\r\n\r\n                    setValues({ ...values, ['searchSymbol']: found[0].symbol, ['token']: found[0].token });\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    function handleInputQty(e) {\r\n        setValues({ ...values, ['qtyToTake']: e.target.value });\r\n    }\r\n\r\n    function callbackAfterOrderDone(order) {\r\n        setValues({ ...values, ['buyFlag']: order.status });\r\n        setValues({ ...values, ['sellFlag']: order.status });\r\n        setValues({ ...values, ['searchSymbol']: '' });\r\n    }\r\n\r\n    function handleClick(type) {\r\n\r\n        if (values.token && values.searchSymbol) {\r\n            if (type == 'BUY') {\r\n                setValues({ ...values, ['buyFlag']: false });\r\n                var symbolInfo = {\r\n                    token: values.token,\r\n                    symbol: values.searchSymbol,\r\n                    qtyToTake: values.qtyToTake\r\n                }\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", callbackAfterOrderDone);\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                setValues({ ...values, ['sellFlag']: false });\r\n                var symbolInfo = {\r\n                    token: values.token,\r\n                    symbol: values.searchSymbol,\r\n                    qtyToTake: values.qtyToTake\r\n                }\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", callbackAfterOrderDone);\r\n            }\r\n        } else {\r\n            Notify.showError(\"Type Symbol!!!\");\r\n        }\r\n    }\r\n\r\n    var userProfile = localStorage.getItem(\"userProfile\")\r\n    userProfile = userProfile && JSON.parse(userProfile);\r\n\r\n    return (\r\n\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={clsx(classes.appBar, {\r\n                    [classes.appBarShift]: open,\r\n                })}\r\n\r\n            >\r\n                <Toolbar>\r\n\r\n                    <IconButton\r\n                        aria-label=\"open drawer\"\r\n                        onClick={handleDrawerOpen}\r\n                        edge=\"start\"\r\n                        className={clsx(classes.menuButton, open && classes.hide)}\r\n\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n\r\n                    <Grid\r\n                        justify=\"space-between\"\r\n                        container\r\n                    >\r\n                        <Grid item >\r\n                            {/* <Typography variant=\"h6\" noWrap>\r\n                          M-Trade\r\n                         </Typography> */}\r\n                            {/* <Button href={\"/mtrade/#/home\"}>\r\n                                <img alt=\"logo\" style={{ width: \"125px\" }} src={MyLogo} />\r\n\r\n                            </Button> */}\r\n\r\n                        </Grid>\r\n\r\n                        <Hidden xsDown>\r\n                            <Grid item  >\r\n\r\n                                <Grid\r\n                                    justify=\"space-between\"\r\n                                    container\r\n                                    spacing={2}\r\n                                >\r\n\r\n                                    <Grid item  >\r\n                                        <Typography style={{ marginTop: '20px', fontSize: \"12px\" }} variant=\"h6\" noWrap >\r\n                                            <span id=\"niftySpid\"  > </span>  &nbsp;&nbsp;  <span id=\"bankniftySpid\" onClick={() => props.LoadSymbolDetails(\"BANKNIFTY\")} > </span>\r\n                                        </Typography>\r\n\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField label=\"Type full Symbol\" name=\"searchSymbol\" value={values.searchSymbol} onChange={handleInput} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField label=\"Qty\" style={{ width: \"50px\" }} type=\"number\" name=\"qtyToTake\" value={values.qtyToTake} onChange={handleInputQty} />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        {values.buyFlag ? <Button variant=\"contained\" color=\"primary\" style={{ marginLeft: '10px', marginTop: '10px' }} onClick={() => handleClick(\"BUY\")}>Buy</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        {values.sellFlag ? <Button variant=\"contained\" color=\"secondary\" style={{ marginLeft: '10px', marginTop: '10px' }} onClick={() => handleClick(\"SELL\")}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n\r\n                            </Grid>\r\n\r\n                        </Hidden>\r\n\r\n                        <Hidden xsDown>\r\n\r\n\r\n\r\n                            <Grid item >\r\n\r\n                                <Grid\r\n                                    container\r\n                                    spacing={1}\r\n                                    direction=\"row\"\r\n\r\n                                >\r\n\r\n                                    <Grid item>\r\n                                        <Button variant=\"outlined\"  color=\"primary\" href={\"/mtrade/#/market-depth-mobile\"}>\r\n                                            Depth \r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <Button variant=\"outlined\" color=\"primary\" href={\"/mtrade/#/strong-charts\"}>\r\n                                            Charts <OpenInNewIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n\r\n                                    <Grid item>\r\n                                        <Button variant=\"outlined\" target={'_blank'} color=\"primary\" href={\"/mtrade/#/sector-heat-map2\"}>\r\n                                            Sector <OpenInNewIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Button variant=\"outlined\" color=\"primary\" target={'_blank'} href={\"/mtrade/#/find-fast-movement\"}>\r\n                                            Pattern <OpenInNewIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <Button variant=\"contained\" autoFocus href={\"/mtrade/#/position\"} color=\"primary\">\r\n                                            Position\r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <Button variant=\"contained\" autoFocus href={\"/mtrade/#/home\"} color=\"primary\">\r\n                                            Home\r\n                                        </Button>\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                </Grid>\r\n\r\n\r\n\r\n                            </Grid>\r\n\r\n                        </Hidden>\r\n\r\n\r\n                    </Grid>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                className={classes.drawer}\r\n                variant=\"persistent\"\r\n                anchor=\"left\"\r\n                open={open}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                <div className={classes.drawerHeader}>\r\n                    {/* <img style={{ width: \"207px\" }} src={MyLogo} /> */}\r\n\r\n                    <InvertColor />\r\n\r\n                    {userProfile && userProfile.name ? userProfile.name.split(' ')[0] : ''}\r\n                    ({userProfile && userProfile.clientcode ? userProfile.clientcode : ''})\r\n\r\n\r\n\r\n                    <IconButton onClick={handleDrawerClose}  >\r\n                        {theme.direction === 'ltr' ? <ChevronLeftIcon style={{ color: \"gray\" }} /> : <ChevronRightIcon style={{ color: \"gray\" }} />}\r\n                    </IconButton>\r\n                </div>\r\n\r\n\r\n\r\n                <Divider />\r\n                <List>{Menu.AdminMenuList}</List>\r\n\r\n                {/* <Divider />\r\n                <List>  <InvertColor /></List> */}\r\n\r\n                <Divider />\r\n                <List>{Menu.LogoutMenu}</List>\r\n\r\n\r\n            </Drawer>\r\n            <main\r\n                className={clsx(classes.content, {\r\n                    [classes.contentShift]: open,\r\n                })}\r\n            >\r\n                <div className={classes.drawerHeader} />\r\n            </main>\r\n        </div>\r\n    );\r\n}","import 'date-fns';\r\nimport React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Notify from \"./Notify\";\r\n\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n  KeyboardDateTimePicker\r\n} from '@material-ui/pickers';\r\n\r\nfunction MaterialUIPickers(props) {\r\n\r\n  //var d = new Date(); \r\n  //d.setHours(0,0,0,0);\r\n\r\n  // The first commit of Material-UI\r\n  var startd = new Date(); \r\n  startd.setHours(9,0,0,0);\r\n  startd.setMinutes(15,0,0,0);\r\n\r\n  // The first commit of Material-UI\r\n  var [selectedStartDate, setSelectedStartDate] = React.useState(startd);\r\n  var endd = new Date(); \r\n  endd.setHours(15,0,0,0);\r\n  endd.setMinutes(30,0,0,0);\r\n\r\n  var [selectedEndDate, setSelectedEndDate] = React.useState(endd);\r\n\r\n  const handleStartDateChange = date => {\r\n    setSelectedStartDate(date);\r\n    props.callbackFromParent.myCallback(date,\"START_DATE\");\r\n  //  var startDateMili = new Date(date).getTime(); \r\n//    document.getElementById(\"startDateMili\").value = startDateMili; \r\n//    var endDateMili = document.getElementById(\"endDateMili\").value; \r\n    // if(startDateMili > endDateMili  ){\r\n    //   Notify.showError(\"Start date time can't be grater than end date time.\");\r\n    // }\r\n  };\r\n\r\n\r\n\r\n  const handleEndDateChange = date => {\r\n    setSelectedEndDate(date);\r\n    props.callbackFromParent.myCallback(date,\"END_DATE\");\r\n  //  var endDateMili = new Date(date).getTime(); \r\n  //  document.getElementById(\"endDateMili\").value = endDateMili; \r\n\r\n  //  var startDateMili = document.getElementById(\"startDateMili\").value; \r\n  //  if(endDateMili  < startDateMili){\r\n  //     Notify.showError(\"End Date time can't be less than start date time.\");\r\n  //   }\r\n   \r\n  };\r\n\r\n  // var selectedDate =  document.getElementById(\"startDateMili\") && document.getElementById(\"startDateMili\").value; \r\n  // if(props.callbackFromParent && props.callbackFromParent.startDate){\r\n  //   selectedStartDate = new Date(props.callbackFromParent.startDate).getTime(); \r\n  //  // document.getElementById(\"startDateMili\").value = props.callbackFromParent.startDate;\r\n  // }\r\n\r\n  // var endDateMili =  document.getElementById(\"endDateMili\") && document.getElementById(\"endDateMili\").value; \r\n  // //endDateMili ==''\r\n  // if(props.callbackFromParent && props.callbackFromParent.endDate){\r\n  //   selectedEndDate = new Date(props.callbackFromParent.endDate).getTime();  \r\n  //   //document.getElementById(\"endDateMili\").value = props.callbackFromParent.endDate;\r\n\r\n  // }\r\n\r\n return (\r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n      <Grid containers>\r\n        {/* KeyboardDateTimePicker */}\r\n        <KeyboardDatePicker\r\n         // disableFuture=\"true\"\r\n          margin=\"normal\"\r\n          style={{width:\"140px\"}}\r\n         // required={true}\r\n          id=\"date-picker-dialog\"\r\n          label={'Start Date'}\r\n         // format='dd-MM-yyyy HH:mm:ss'\r\n         format='dd-MM-yyyy'\r\n         value={selectedStartDate}\r\n          onChange={handleStartDateChange}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n          }}\r\n        />\r\n          &nbsp;&nbsp;\r\n         <KeyboardDatePicker\r\n           style={{width:\"140px\"}}\r\n        // disableFuture=\"true\"\r\n         margin=\"normal\"\r\n       //  required={true}\r\n         id=\"date-picker-dialog\"\r\n         label={'End Date'}\r\n       //  format='dd-MM-yyyy HH:mm:ss'\r\n         format='dd-MM-yyyy'\r\n         value={selectedEndDate}\r\n         onChange={handleEndDateChange}\r\n         KeyboardButtonProps={{\r\n           'aria-label': 'change date',\r\n         }}\r\n        />\r\n        \r\n       \r\n        \r\n      </Grid>\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n}\r\n\r\n\r\nexport default  MaterialUIPickers; \r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function SimpleExpansionPanel(props) {\r\n  const classes = useStyles();\r\n\r\n  var data = props.data; \r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel defaultExpanded={false} >\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography> {data.title} ({data.list.length})</Typography>\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n        \r\n\r\n          <div style={{ overflowY: 'scroll', width:\"100%\", height: \"50vh\" }}>\r\n              {data && data.list.length ? data.list.map((row, i)  => (\r\n                  <>\r\n                      {row ? <ListItem  button style={{ fontSize: '12px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }}  >\r\n                          <ListItemText style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\", background:row.highlisht ? \"#375a00\": \"\"}} onClick={() => data.LoadSymbolDetails(row.symbol)} primary={row.symbol} /> {row.ltp} ({row.nc}%)\r\n                      </ListItem> : \"\"}\r\n                      \r\n                  </>\r\n              )) : ''}\r\n          </div>\r\n\r\n         \r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n     \r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function SimpleExpansionPanel(props) {\r\n  const classes = useStyles();\r\n\r\n  var data = props.data; \r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel defaultExpanded={ false } >\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography> {data.title} ({data.list && data.list.length})</Typography>\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n        \r\n\r\n          <div style={{ overflowY: 'scroll', width:\"100%\", height: \"50vh\" }}>\r\n              {data && data.list ? data.list.map((row, i)  => (\r\n                  <>\r\n                      {/* {row ? \r\n                      <div  button style={{ fontSize: '10px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }}  >\r\n\r\n                        <button >onClick={() => data.LoadSymbolDetails(row.symbol)}   {row.symbol} {row.orderType} At {row.foundAt} </button>\r\n\r\n                      </div> : \"\"} */}\r\n\r\n                      {row ? <ListItem  button style={{ fontSize: '10px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }}  >\r\n                          <ListItemText style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\", fontSize: '10px'}} onClick={() => data.LoadSymbolDetails(row.symbol)} primary={row.symbol +\" \"+row.orderType} /> <span style={{fontSize: '14px'}}>{row.ltp} ({row.nc}%)  <br /> At {row.foundAt} </span> \r\n                      </ListItem> : \"\"}\r\n                      \r\n                  </>\r\n              )) : ''}\r\n          </div>\r\n\r\n         \r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n     \r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { Button } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function SimpleExpansionPanel(props) {\r\n  const classes = useStyles();\r\n\r\n  var data = props.data; \r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel defaultExpanded={ false } >\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography> {data.title} ({data.list && data.list.length})</Typography>\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n        \r\n\r\n          <div style={{ overflowY: 'scroll', width:\"100%\", height: \"50vh\" }}>\r\n              {data && data.list ? data.list.map((row, i)  => (\r\n                  <>\r\n                      {/* {row ? \r\n                      <div  button style={{ fontSize: '10px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }}  >\r\n\r\n                        <button >onClick={() => data.LoadSymbolDetails(row.symbol)}   {row.symbol} {row.orderType} At {row.foundAt} </button>\r\n\r\n                      </div> : \"\"} */}\r\n\r\n                      {row ? <ListItem  onClick={() => data.LoadSymbolDetails(row.symbol)} button style={{  padding: '0px', paddingLeft: '5px', paddingRight: '5px' }}  >\r\n                          <p style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\", fontSize: '16px'}}  > \r\n                          \r\n                          {row.symbol} {row.ltp} ({row.nc}%)   <br /> \r\n                 \r\n                          Tot Buy Bids: {row.totalBuyQuantity}    <br />\r\n                          Tol Sell Bids: {row.totalSellQuantity}    <br />\r\n                          DeliveryToTraded {row.deliveryToTradedQuantity}% \r\n                          </p>\r\n                          \r\n                      </ListItem> : \"\"}\r\n                      \r\n                  </>\r\n              )) : ''}\r\n          </div>\r\n\r\n         \r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n     \r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport \"./ViewStyle.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport default function BasicTabs(props) {\r\n\r\n  const { cursor, onSelectItem, autoSearchList, LoadSymbolDetails, symbolList, onChange, onChangeWatchlist, search, handleKeyDown, selectedWatchlist, totalWatchlist } = props.data;\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  var [values, setValues] = React.useState({\r\n    searchedSymbolList: symbolList, \r\n    // gainerList : localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [],\r\n    // looserList : localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [],    \r\n  });\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const filterWatchlistBySearch = (e) => {\r\n\r\n    console.log(\"e.target.value\", e.target.value);\r\n    if (!e.target.value) {\r\n      setValue({ searchedSymbolList: symbolList });\r\n    } else {\r\n\r\n      // var foundLive = this.state.listofItem.filter(row => row == e.target.value );\r\n      // this.setState({ [e.target.name]: e.target.value }); \r\n      // this.setState({searchedList: foundLive})        \r\n\r\n      let matchList = [];\r\n      for (let i = 0; i < symbolList.length; i++) {\r\n        let stock = symbolList[i];\r\n        if (stock && stock.name.includes(e.target.value)) {\r\n          matchList.push(stock);\r\n        }\r\n      }\r\n      setValue({ searchedSymbolList: matchList });\r\n    }\r\n  }\r\n\r\n\r\n  var gainerList =  props.data.gainerList ? props.data.gainerList : []; \r\n  var looserList =  props.data.looserList ? props.data.looserList : []; \r\n  \r\n\r\n  \r\n  return (\r\n    <Box sx={{ width: '100%'}}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\" style={{overflowY: 'scroll'}}>\r\n          <Tab label=\"My WL\" {...a11yProps(0)} />\r\n          <Tab label={gainerList && gainerList.length + \" Gainner\"} {...a11yProps(1)} />\r\n          <Tab  label={looserList && looserList.length + \" Looser\"} {...a11yProps(2)} />\r\n          <Tab label=\"Fevrate\" {...a11yProps(3)} />\r\n          \r\n        </Tabs>\r\n      </Box>\r\n      <TabPanel value={value} index={0}>\r\n\r\n\r\n        <div style={{ marginLeft: '5px' }}>\r\n          <FormControl style={{ width: \"100%\" }} >\r\n            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n            <Select value={selectedWatchlist} name=\"selectedWatchlist\" onChange={onChangeWatchlist}>\r\n              <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n\r\n              {totalWatchlist && totalWatchlist.map(element => (\r\n                <MenuItem value={element}>{element}</MenuItem>\r\n              ))\r\n              }\r\n\r\n            </Select>\r\n          </FormControl>\r\n\r\n\r\n          <TextField\r\n            style={{ width: \"100%\" }}\r\n           // onChange={filterWatchlistBySearch}\r\n            label={\"Filter Symbol\"}\r\n            margin=\"normal\"\r\n            variant=\"standard\"\r\n            name=\"search\"\r\n            onKeyDown={handleKeyDown}\r\n            value={search}\r\n          />\r\n\r\n\r\n        </div>\r\n\r\n\r\n        <div style={{ overflowY: 'scroll', height: \"75vh\" }} >\r\n\r\n          {symbolList && symbolList.length ? symbolList.map((row, i) => (\r\n            <>\r\n              <ListItem onKeyDown={handleKeyDown} button selected={cursor === i ? 'active' : null}\r\n\r\n                style={{ fontSize: '12px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }} >\r\n\r\n                {cursor === i ? localStorage.setItem(\"selectedKeyRow\", JSON.stringify(row)) : \"\"}\r\n\r\n                <Button style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\" }} onClick={() => LoadSymbolDetails(row.symbol, i)} >\r\n                 \r\n                  <div style={{textAlign:\"left\"}}>  {row.name} </div> \r\n                  &nbsp; &nbsp; &nbsp;\r\n                  <div style={{textAlign:\"right\"}}>  {row.ltp} ({row.nc}%)  </div>\r\n                  </Button>\r\n                 \r\n\r\n\r\n              </ListItem>\r\n\r\n            </>\r\n          )) : ''}\r\n        </div>\r\n\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n      <div style={{ overflowY: 'scroll', height: \"75vh\" }} >\r\n\r\n        {gainerList && gainerList.length ? gainerList.map((row, i) => (\r\n          <>\r\n            <ListItem onKeyDown={handleKeyDown} button selected={cursor === i ? 'active' : null}\r\n\r\n              style={{ fontSize: '12px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }} >\r\n\r\n              {cursor === i ? localStorage.setItem(\"selectedKeyRow\", JSON.stringify(row)) : \"\"}\r\n\r\n              <Button title={\"Found At: \" + row.foundAt}  style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\" }} onClick={() => LoadSymbolDetails(row.name, i)}> {row.name} {row.ltp} ({row.nc}%) {row.sector.split(' ')[1]} </Button>\r\n\r\n\r\n            </ListItem>\r\n\r\n          </>\r\n        )) : ''}\r\n        </div>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}> \r\n        <div style={{ overflowY: 'scroll', height: \"75vh\" }} >\r\n\r\n          {looserList && looserList.length ? looserList.map((row, i) => (\r\n            <>\r\n              <ListItem onKeyDown={handleKeyDown} button selected={cursor === i ? 'active' : null}\r\n\r\n                style={{ fontSize: '12px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }} >\r\n\r\n                {cursor === i ? localStorage.setItem(\"selectedKeyRow\", JSON.stringify(row)) : \"\"}\r\n\r\n                 <Button title={\"Found At: \" + row.foundAt} style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\" }} onClick={() => LoadSymbolDetails(row.name, i)}> {row.name} {row.ltp} ({row.nc}%) {row.sector.split(' ')[1]} </Button>\r\n\r\n\r\n              </ListItem>\r\n\r\n            </>\r\n          )) : ''}\r\n          </div>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        Fevrate list\r\n      </TabPanel>\r\n    </Box>\r\n  );\r\n}","import axios from \"axios\";\r\nconst performServerAction = axios.create({\r\n    baseURL: ''\r\n  });\r\nexport default performServerAction;","import * as actionTypes from \"./types\";\r\nimport performServerAction from \"../api\"\r\nimport AuthService from \"../components/service/AuthService\";\r\n\r\nexport const setPackLoaded = ()=> async dispatch=> {\r\n    var data = { allPacks:true, portal: true}; \r\n    const response = await performServerAction.post('getPrepaidPacks', data)\r\n    \r\n    dispatch( { type: actionTypes.SET_PACK_LOADED,payload:response });\r\n  };\r\n  export const getPackById = (id)=> async dispatch=> {\r\n    try{\r\n     \r\n\r\n      //add getPrepaidPacksById after / in sprint 7 and 8\r\n     // const response = await performServerAction.post('/', { productId : id}, AuthService.getHeader());\r\n    \r\n     //sprint 8 & 9\r\n      const response = await performServerAction.get('?productId='+id, AuthService.getHeader());\r\n\r\n      return  dispatch( { type: actionTypes.GET_PACK_INFO_BY_ID,payload:response });\r\n    }catch(err){\r\n      console.log(err,\"ERRRR\")\r\n    }\r\n   \r\n  };\r\n  export const editPackInfo = (updatedInfo)=> async dispatch=> {\r\n    try{\r\n      console.log(\"ERROR\",updatedInfo);\r\n      updatedInfo.activationStatus =  String( updatedInfo.activationStatus );\r\n      updatedInfo.displayOrder =  String( updatedInfo.displayOrder );\r\n      updatedInfo.productId =  String( updatedInfo.productId );\r\n      updatedInfo.validityDays =  String( updatedInfo.validityDays );\r\n      updatedInfo.active =  String( updatedInfo.active );\r\n     // updatedInfo.ftr =  String( updatedInfo.ftr );\r\n      updatedInfo.isFtr =  String( updatedInfo.ftr );\r\n\r\n      \r\n\r\n\r\n      const response = await performServerAction.post('updatePrepaidPack',updatedInfo, AuthService.getHeader());\r\n      dispatch( { type: actionTypes.EDIT_PACK_INFO,payload:response });\r\n    }\r\n    catch(err){\r\n      console.log(err)\r\n    }\r\n  };\r\n  export const AddPackInfo = (packInfo)=> async dispatch=> {\r\n    try{\r\n      console.log(\"ERROR\",packInfo)\r\n      const response = await performServerAction.post('getPrepaidPacks',{packInfo}, AuthService.getHeader());\r\n      dispatch( { type: actionTypes.EDIT_PACK_INFO,payload:response });\r\n    }\r\n    catch(err){\r\n      console.log(err)\r\n    }\r\n  };","import React from \"react\";\r\n//import \"./styles.css\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\n\r\n\r\nexport default function App( props ) {\r\n\r\n \r\n\r\n  // dateTime: \"23-06-2021 4:43:02 PM\"\r\n  // diff: -298523\r\n  // isDuplicate: true\r\n  // totCEOI: 902038\r\n  // totCEOIChange: \"0.000\"\r\n  // totCEVol: 15312564\r\n  // totChangeINOICall: 127897\r\n  // totChangeINOIDiff: -107353\r\n  // totChangeINOIPut: 20544\r\n  // totDiffChange: \"0.000\"\r\n  // totPEOI: 603515\r\n  // totPEOIChange: \"0.000\"\r\n  // totPEVol: 15418605\r\n  var data =  props.diffData && props.diffData.data;\r\n  var putData = [], callData = [],  timeDate = [],  diffData = []; \r\n\r\n  // var scpage =   Math.floor( props.diffData.scrollcount/10 ) ? Math.floor( props.diffData.scrollcount/10 ) : 1; \r\n\r\n  // var startpage = 0  \r\n  // if(scpage * 10 <  data.length) {\r\n  //   startpage =  scpage * 10;  \r\n  // }   \r\n  // else if (props.diffData.scrollcount > data.length){\r\n  //   startpage =  0; \r\n  // }\r\n\r\n\r\n\r\n  // console.log('scrollcount', props.diffData.scrollcount); \r\n  // console.log('startpage', startpage);\r\n\r\n  // console.log('charrt data', data);\r\n\r\n  //for (let index = startpage; index <  startpage + 10; index++) {\r\n  \r\n\r\n  data.reverse();\r\n\r\n  for (let index = data.length - 20; index <  data.length; index++) {\r\n    if(data[index]){\r\n      putData.push(data[index].totPEOI); \r\n      callData.push(data[index].totCEOI); \r\n      diffData.push(data[index].diff); \r\n      timeDate.push( data[index].dateTime.substring(19,11)); \r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n  const chartData = {\r\n    labels: timeDate,\r\n    datasets: [\r\n      {\r\n        label: \"Put\",\r\n        data: putData,\r\n        fill: true,\r\n        backgroundColor: \"rgba(75,192,192,0.2)\",\r\n        borderColor: \"green\"\r\n      },\r\n      {\r\n        label: \"Call\",\r\n        data: callData,\r\n        fill: true,\r\n        backgroundColor:  \"rgba(75,192,192,0.1)\",\r\n        borderColor: \"red\",\r\n        \r\n      },\r\n      // {\r\n      //   label: \"Diff\",\r\n      //   data: diffData,\r\n      //   fill: true,\r\n      //   onoffline : true,\r\n      //   backgroundColor:  \"rgba(75,192,192,0.1)\",\r\n      //   borderColor: \"blue\",\r\n        \r\n      // }\r\n     \r\n    ]\r\n  };\r\n  const options = {\r\n    maintainAspectRatio: true,\t// Don't maintain w/h ratio\r\n  } \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Line data={chartData} options={options} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { connect } from \"react-redux\";\r\nimport { setPackLoaded } from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from \"@material-ui/core/Input\";\r\nimport \"./ViewStyle.css\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Parser from 'html-react-parser';\r\n\r\nimport Chart from \"./Chart\";\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n};\r\n\r\nclass MyView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            stopnview: '',\r\n            curnewdata: '',\r\n            showOptionUpside: 800,\r\n            showOptionDownside: 800,\r\n            timestamp: '',\r\n            totalCOI: 0,\r\n            expiry: '',\r\n            strike: '',\r\n            FilteredBY: '',\r\n            AllspTotalOI: [],\r\n            PEoi: 0,\r\n            CEoi: 0,\r\n            waitForChainFlag: true,\r\n            scrollcount: 0,\r\n            pcrTableBN: JSON.parse(localStorage.getItem('pcrTableBN')) && JSON.parse(localStorage.getItem('pcrTableBN')).data,\r\n            optionChainDataBN: JSON.parse(localStorage.getItem('optionChainDataBN')),\r\n            filtered: JSON.parse(localStorage.getItem('optionChainDataBN')) && JSON.parse(localStorage.getItem('optionChainDataBN')).filtered && JSON.parse(localStorage.getItem('optionChainDataBN')).filtered.data,\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'Securities in F&O',\r\n            selectOptionStock: \"BANKNIFTY\",\r\n            underlyingValue: JSON.parse(localStorage.getItem('optionChainDataBN')) && JSON.parse(localStorage.getItem('optionChainDataBN')).records && JSON.parse(localStorage.getItem('optionChainDataBN')).records.underlyingValue,\r\n\r\n            buyCallLot:1, \r\n            buyPutLot:1, \r\n            niftyLogSize : 50, \r\n            niftybankLogSize : 25, \r\n            \r\n\r\n\r\n            //JSON.parse(localStorage.getItem('optionChainDataBN')).records.data\r\n\r\n\r\n\r\n        }\r\n        this.findSupportResistence = this.findSupportResistence.bind(this);\r\n\r\n    }\r\n\r\n    onChangeSelectSymbol = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            this.loadPackList();\r\n        });\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            this.filterOptionChain(e.target.name, e.target.value);\r\n        });\r\n    }\r\n\r\n\r\n   \r\n\r\n    filterOptionChain = (name, actualValue) => {\r\n        //console.log('filtername', name, actualValue); \r\n        var filereddata = [];\r\n\r\n        var alldata = this.state.optionChainDataBN && this.state.optionChainDataBN.records && this.state.optionChainDataBN.records.data;\r\n\r\n        if (name === 'expiry' && actualValue === 'All') {\r\n\r\n            filereddata = alldata;\r\n        }\r\n\r\n        if (name === 'expiry') {\r\n\r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if (element.expiryDate === actualValue) {\r\n                    filereddata.push(element);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (name === 'strike') {\r\n\r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if (element.strikePrice === actualValue) {\r\n                    filereddata.push(element);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        this.setState({ filtered: filereddata, FilteredBY: name + \" \" + actualValue });\r\n        //  console.log(filereddata); \r\n    }\r\n\r\n    // componentWillUnmount() {\r\n    //     var tabledata = document.getElementById('tabledata'); \r\n    //     tabledata.removeEventListener('scroll', this.handleScroll);\r\n\r\n    // }\r\n\r\n    handleScroll = (data) => {\r\n\r\n        var scrollcount = this.state.scrollcount;\r\n\r\n        this.setState({ scrollcount: scrollcount += 1 });\r\n\r\n    }\r\n\r\n    onChangeCallLot = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            this.calculateCallMargin(); \r\n        });\r\n    }\r\n\r\n    calculateCallMargin =(e)=> {\r\n        this.state.filtered && this.state.filtered.forEach(element => {\r\n            if(element.CE && element.CE.lastPrice)  {\r\n                element.CE.totalMargin = Parser(  this.state.lotSize * this.state.buyCallLot+ \" * \" + element.CE.lastPrice  + \"<br /> <b> \" + (element.CE.lastPrice * this.state.buyCallLot * this.state.lotSize).toFixed(2) + \"</b>\");\r\n                element.CE.maxLoss = Parser( \" <b> Max Loss: <br />\" + ((element.CE.lastPrice * this.state.buyCallLot * this.state.lotSize) * 10/100).toFixed(2) + \"</b>\");\r\n    \r\n            }\r\n         \r\n        });\r\n        this.setState({filtered: this.state.filtered}); \r\n    }\r\n\r\n    onChangePutLot = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            this.calculatePutMargin(); \r\n        });\r\n    }\r\n\r\n    calculatePutMargin =(e)=> {\r\n\r\n        this.state.filtered &&  this.state.filtered.forEach(element => {\r\n            if(element.PE && element.PE.lastPrice)  {\r\n                element.PE.totalMargin = Parser(  this.state.lotSize * this.state.buyPutLot+ \" * \" + element.PE.lastPrice  + \"<br /> <b> \" + (element.PE.lastPrice * this.state.buyPutLot * this.state.lotSize).toFixed(2) + \"</b>\");\r\n                element.PE.maxLoss = Parser( \" <b> Max Loss: <br />\" + ((element.PE.lastPrice * this.state.buyPutLot * this.state.lotSize) * 10/100).toFixed(2) + \"</b>\");\r\n\r\n            }\r\n        });\r\n\r\n        this.setState({filtered: this.state.filtered}); \r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n       \r\n\r\n        this.setState({ SecuritiesInFO: this.state.staticData[this.state.selectedWatchlist] }, function () {\r\n            // this.state.SecuritiesInFO && this.state.SecuritiesInFO.sort(function (a, b) {\r\n            //     if(a.name < b.name) { return -1; }\r\n            //     if(a.name > b.name) { return 1; }\r\n            //     return 0;\r\n            // });\r\n        });\r\n\r\n       \r\n\r\n\r\n        // var tabledatachart = document.getElementById('tabledatachart'); \r\n        // tabledatachart.addEventListener('scroll', this.handleScroll);\r\n\r\n        //   this.loadPackList();\r\n        //   console.log('this.state.optionChainDataBN.records.expiryDates', this.state.optionChainDataBN.records.expiryDates)\r\n\r\n\r\n        if (!JSON.parse(localStorage.getItem('optionDiffdata' + this.state.selectOptionStock)))\r\n            localStorage.setItem('optionDiffdata'+ this.state.selectOptionStock, JSON.stringify({ data: [] }))\r\n        else\r\n            this.setState({ products: JSON.parse(localStorage.getItem('optionDiffdata'+ this.state.selectOptionStock)).data })\r\n        // this.setState({ stopnview:  setInterval( this.loadPackList ,  60001 * 2)});\r\n        //  clearInterval(this.state.stopnview)\r\n\r\n        if (!JSON.parse(localStorage.getItem('pcrTableBN')))\r\n            localStorage.setItem('pcrTableBN', JSON.stringify({ data: [] }))\r\n        else\r\n            this.setState({ pcrTableBN: JSON.parse(localStorage.getItem('pcrTableBN')).data })\r\n\r\n\r\n\r\n\r\n        var todayTime = new Date();\r\n        if (todayTime.getHours() >= 9 && todayTime.getHours() < 16) {\r\n            setInterval(() => {\r\n                this.loadPackList();\r\n            }, 60000 * 6);\r\n        }\r\n        setInterval(() => {\r\n            this.updatepcr()\r\n        }, 60000 * 6);\r\n\r\n        // this.findSupportResistence(this.state.optionChainDataBN ? this.state.optionChainDataBN : \"\");\r\n\r\n\r\n        let lotSize = 25; \r\n        if(this.state.selectOptionStock == \"NIFTY\")\r\n         lotSize = 50;\r\n        if(this.state.selectOptionStock == \"BANKNIFTY\")\r\n        lotSize = 50;\r\n\r\n        this.setState({lotSize :lotSize}, function(){\r\n            this.calculateCallMargin(); \r\n            this.calculatePutMargin(); \r\n        })\r\n\r\n\r\n    }\r\n    // componentDidUpdate(){\r\n    //   //  this.updatepcr(); \r\n    //    // console.log(\"updaate called\") \r\n    // }\r\n\r\n    getDataforStrike = strikePrice => {\r\n\r\n        var alldata = JSON.parse(localStorage.getItem('optionChainDataBN')).records && JSON.parse(localStorage.getItem('optionChainDataBN')).records.data;// this.state.optionChainDataBN && this.state.optionChainDataBN.records.data; \r\n        var sumOfCEoi = 0, sumOfPEoi = 0;\r\n        for (let index = 0; index < alldata.length; index++) {\r\n            const element = alldata[index];\r\n\r\n            if (strikePrice === element.strikePrice) {\r\n\r\n                if (element.CE && element.CE.openInterest) {\r\n                    sumOfCEoi = sumOfCEoi + element.CE.openInterest;\r\n                }\r\n                if (element.PE && element.PE.openInterest) {\r\n                    sumOfPEoi = sumOfPEoi + element.PE.openInterest;\r\n                }\r\n\r\n            }\r\n        }\r\n        // fliterExData.push({strikePrice : strikePrice,  sumOfCEoi : sumOfCEoi});    \r\n        return { strikePrice: strikePrice, sumOfCEoi: sumOfCEoi, sumOfPEoi: sumOfPEoi };\r\n\r\n        //  console.log(\"alldata\", alldata);\r\n    }\r\n\r\n    findSupportResistence = (optiondata) => {\r\n        // console.log(optiondata);\r\n        var alldata = optiondata && optiondata.records && optiondata.records.data;\r\n        // var underlyingValue = optiondata.records && optiondata.records.underlyingValue; \r\n        var PEoi = 0, CEoi = 0, PEoiChange = 0, CEoiChange = 0;\r\n        if (alldata) {\r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if (element && element.PE) {\r\n                    PEoi = PEoi + element.PE.openInterest;\r\n                    PEoiChange = PEoiChange + element.PE.changeinOpenInterest;\r\n                }\r\n                if (element && element.CE) {\r\n                    CEoi = CEoi + element.CE.openInterest;\r\n                    CEoiChange = CEoiChange + element.CE.changeinOpenInterest;\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //   var allexpiryDates =   optiondata.records.expiryDates; \r\n        //   var strikePrices =  optiondata.records.strikePrices; \r\n        //   var fliterExData = [];  \r\n\r\n        // for (let index = 0; index < allexpiryDates.length; index++) {\r\n        //     const element = allexpiryDates[index];\r\n        //     for (let indexJ = 0; indexJ < alldata.length; indexJ++) {\r\n        //         if(alldata[indexJ].expiryDate == '22-Apr-2021'){\r\n        //             fliterExData.push(alldata[indexJ]); \r\n        //         } \r\n        //     }                  \r\n        // }   \r\n\r\n        var myStrike = [];\r\n\r\n        let startDiff = this.state.underlyingValue - this.state.showOptionDownside\r\n        let rem = Math.round(startDiff) % 100;\r\n        let startFrom = Math.round(startDiff) + 100 - rem;\r\n\r\n        let endDiff = this.state.underlyingValue + this.state.showOptionUpside;\r\n        let rem2 = Math.round(endDiff) % 100;\r\n        let endTo = Math.round(endDiff) + 100 - rem2;\r\n\r\n\r\n        console.log(this.state.underlyingValue, 'start from', startFrom, 'endto', endTo);\r\n\r\n\r\n        for (let index = startFrom; index <= endTo; index += 100) {\r\n            myStrike.push(index)\r\n        }\r\n\r\n        myStrike = myStrike.sort(function (a, b) { return b - a });\r\n\r\n\r\n\r\n        var data = [], totalspeoi = 0, totalsceoi = 0;\r\n        myStrike.forEach(element => {\r\n            var resdata = this.getDataforStrike(element);\r\n            totalspeoi = totalspeoi + resdata.sumOfPEoi;\r\n            totalsceoi = totalsceoi + resdata.sumOfCEoi;\r\n\r\n            data.push(resdata);\r\n\r\n            console.log(element, resdata);\r\n\r\n\r\n        });\r\n        this.setState({ AllspTotalOI: data, selectedSPpcr: (totalspeoi / totalsceoi).toFixed(3), totalspeoi: totalspeoi, totalsceoi: totalsceoi });\r\n\r\n        // for (let index = 0; index < alldata.length; index++) {\r\n        //     const element = alldata[index];\r\n\r\n        //     // if(alldata[index].strikePrice ==  14800){\r\n        //     //     fliterExData.push(element); \r\n        //     // } \r\n        //     for (let indexJ = 0; indexJ < strikePrices.length; indexJ++) {\r\n        //         if(  alldata[index].strikePrice == strikePrices[indexJ].strikePrice){\r\n        //             fliterExData.push(element); \r\n        //         }   \r\n        //     }\r\n\r\n        // }   \r\n\r\n        //            console.log(\"allfliterExData\",fliterExData);\r\n\r\n\r\n        this.setState({ CEoi: CEoi, PEoi: PEoi, allStrikediff: PEoi - CEoi, CEoiChange: CEoiChange, PEoiChange: PEoiChange, allStrikeChngeDiff: PEoiChange - CEoiChange });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    loadPackList() {\r\n\r\n\r\n        this.setState({ waitForChainFlag: false });\r\n\r\n        AdminService.getBNcpdata(this.state.selectOptionStock)\r\n            .then((res) => {\r\n                //     let data = resolveResponse(res);\r\n\r\n                var data = res.data && res.data;\r\n\r\n\r\n                localStorage.setItem(\"optionChainDataBN\", JSON.stringify(data));\r\n\r\n                // this.findSupportResistence(data);\r\n\r\n                // console.log(\"livedata\", data.filtered);\r\n\r\n                this.setState({ filtered: data.filtered && data.filtered.data, optionChainDataBN: data });\r\n\r\n                if (data.filtered) {\r\n\r\n                    var diff = data.filtered.PE.totOI - data.filtered.CE.totOI;\r\n\r\n                    var newdata = {\r\n                        dateTime: this.dateFormat(new Date()),\r\n                        totCEOI: data.filtered.CE.totOI,\r\n                        totCEVol: data.filtered.CE.totVol,\r\n                        totPEOI: data.filtered.PE.totOI,\r\n                        totPEVol: data.filtered.PE.totVol,\r\n                        diff: diff,\r\n                        totChangeINOICall: parseInt(localStorage.getItem('totCEOIChange')),\r\n                        totChangeINOIPut: parseInt(localStorage.getItem('totPEOIChange')),\r\n                        totChangeINOIDiff: parseInt(localStorage.getItem('totPEOIChange')) - parseInt(localStorage.getItem('totCEOIChange'))\r\n\r\n                    }\r\n                    this.setState({ curnewdata: newdata });\r\n\r\n\r\n                    document.getElementById('title').innerHTML = (diff / 100000).toFixed(2) + '|' + ((localStorage.getItem('totPEOIChange') - localStorage.getItem('totCEOIChange')) / 100000).toFixed(2) + \"L \" + this.state.selectOptionStock;\r\n                    // createData.push(newdata); \r\n                    if (JSON.parse(localStorage.getItem('optionDiffdata'+ this.state.selectOptionStock))) {\r\n                        var oldproducts = JSON.parse(localStorage.getItem('optionDiffdata'+ this.state.selectOptionStock));\r\n                        // console.log(\"oldproductsindex0\", ); \r\n                        var lastrow = oldproducts && oldproducts.data[0];\r\n\r\n\r\n                        // oldproducts.data.forEach((data) => {\r\n                        //     if(data.totCEOI == newdata.totCEOI && data.totCEVol == newdata.totCEVol && data.totPEOI == newdata.totPEOI  && data.totPEVol == newdata.totPEVol ){\r\n                        //         newdata.isDuplicate = true; \r\n                        //     }else{\r\n                        //         newdata.isDuplicate = false;\r\n                        //     }\r\n                        // });\r\n                        if (lastrow) {\r\n                            newdata.isDuplicate = newdata.diff === lastrow.diff ? true : false\r\n                            newdata.totCEOIChange = (((newdata.totCEOI - lastrow.totCEOI) * 100) / lastrow.totCEOI).toFixed(3);;\r\n                            newdata.totPEOIChange = (((newdata.totPEOI - lastrow.totPEOI) * 100) / lastrow.totPEOI).toFixed(3);;\r\n                            newdata.totDiffChange = (((newdata.diff - lastrow.diff) * 100) / lastrow.diff).toFixed(3);\r\n                        } else {\r\n                            newdata.isDuplicate = false\r\n                            newdata.totCEOIChange = 0;\r\n                            newdata.totPEOIChange = 0;\r\n                            newdata.totDiffChange = 0;\r\n                        }\r\n\r\n\r\n                        oldproducts.data.unshift(newdata);\r\n\r\n                        if (data.records) {\r\n                            oldproducts.timestamp = data.records.timestamp;\r\n                            oldproducts.underlyingValue = data.records.underlyingValue;\r\n                        }\r\n\r\n                        oldproducts.data.reverse();\r\n\r\n                        localStorage.setItem(\"optionDiffdata\" + this.state.selectOptionStock, JSON.stringify(oldproducts));\r\n\r\n\r\n\r\n                        this.setState({ products: oldproducts.data, underlyingValue: data.records.underlyingValue, timestamp: data.records.timestamp })\r\n                        this.setState({ waitForChainFlag: true });\r\n\r\n                    }\r\n\r\n                    //  console.log(\"dddd\", this.state.curnewdata); \r\n\r\n\r\n                }\r\n\r\n\r\n                this.updatepcr()\r\n                this.setState({ pcrTableBN: JSON.parse(localStorage.getItem('pcrTableBN')) && JSON.parse(localStorage.getItem('pcrTableBN')).data })\r\n\r\n            });\r\n\r\n    }\r\n\r\n\r\n    updatepcr() {\r\n\r\n\r\n        var pcrdata = {\r\n            allPCR: (this.state.PEoi / this.state.CEoi).toFixed(3),\r\n            expiryPCR: localStorage.getItem('thisWeekPCR'),\r\n            selectedSPpcr: this.state.selectedSPpcr,\r\n        }\r\n\r\n        if (JSON.parse(localStorage.getItem('pcrTableBN'))) {\r\n            var pcrTableBN = JSON.parse(localStorage.getItem('pcrTableBN'));\r\n            pcrTableBN.data.unshift(pcrdata);\r\n            localStorage.setItem(\"pcrTableBN\", JSON.stringify(pcrTableBN));\r\n        }\r\n\r\n        console.log(pcrdata);\r\n        this.setState({ pcrTableBN: pcrTableBN })\r\n    }\r\n\r\n\r\n\r\n\r\n    dateFormat(date) {\r\n\r\n        return moment(date).format('DD-MM-YYYY h:mm:ss A');\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        var totCEOI = 0, totCEVol = 0, totCEOIChange = 0, totCEBUY = 0, totCESell = 0;\r\n        var totPEOI = 0, totPEVol = 0, totPEOIChange = 0, totPEBUY = 0, totPESell = 0;\r\n\r\n        return (\r\n            <React.Fragment >\r\n\r\n                {/* <PostLoginNavBar /> */}\r\n                <Grid direction=\"row\" container className=\"flexGrow\" spacing={1} style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n\r\n\r\n                    <Grid item xs={2} sm={2} >\r\n                        <FormControl style={styles.selectStyle}>\r\n                            <InputLabel id=\"selectOptionStock\">Select Symbol</InputLabel>\r\n                            <Select\r\n                                id=\"selectOptionStock\"\r\n                                name=\"selectOptionStock\"\r\n                                value={this.state.selectOptionStock}\r\n                                onChange={this.onChangeSelectSymbol}\r\n                                input={<Input />}\r\n                                MenuProps={MenuProps}\r\n                            >\r\n                                <MenuItem key={'NIFTY'} value={'NIFTY'} > {'NIFTY'}</MenuItem>\r\n                                <MenuItem key={'BANKNIFTY'} value={'BANKNIFTY'} > {'BANKNIFTY'}</MenuItem>\r\n\r\n                                {this.state.SecuritiesInFO && this.state.SecuritiesInFO.length ? this.state.SecuritiesInFO.map((row, index) => (\r\n                                    <MenuItem key={row.name} value={row.name} >\r\n                                        {row.name}\r\n                                    </MenuItem>\r\n                                )) : \"\"}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={2} sm={2} >\r\n                        <FormControl style={styles.selectStyle}>\r\n                            <InputLabel id=\"expiry\">Select Expiry Date</InputLabel>\r\n                            <Select\r\n                                id=\"expiry\"\r\n                                name=\"expiry\"\r\n                                value={this.state.expiry}\r\n                                onChange={this.onChange}\r\n                                input={<Input />}\r\n                                MenuProps={MenuProps}\r\n                            >\r\n                                <MenuItem key={'All'} value={'All'} >\r\n                                    {'All'}\r\n                                </MenuItem>\r\n                                {this.state.optionChainDataBN && this.state.optionChainDataBN.records && this.state.optionChainDataBN.records.expiryDates ? this.state.optionChainDataBN.records.expiryDates.map((name, index) => (\r\n                                    <MenuItem key={name + 'key' + index} value={name} >\r\n                                        {name}\r\n                                    </MenuItem>\r\n                                )) : \"\"}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={2} sm={2} >\r\n                        <FormControl style={styles.selectStyle}>\r\n                            <InputLabel id=\"strike\">Select Strick Price</InputLabel>\r\n                            <Select\r\n                                labelId=\"strike\"\r\n                                id=\"strike\"\r\n                                max-height={'100%'}\r\n                                name=\"strike\"\r\n                                value={this.state.strike}\r\n                                onChange={this.onChange}\r\n                                input={<Input />}\r\n                                MenuProps={MenuProps}\r\n                            >\r\n                                {this.state.optionChainDataBN && this.state.optionChainDataBN.records && this.state.optionChainDataBN.records.strikePrices ? this.state.optionChainDataBN.records.strikePrices.map(name => (\r\n                                    <MenuItem key={name} value={name} >\r\n                                        {name}\r\n                                    </MenuItem>\r\n                                )) : \"\"}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={2} sm={2}>\r\n                        {this.state.waitForChainFlag ? <Button variant=\"contained\" onClick={() => this.loadPackList()}>\r\n                            Refesh\r\n                        </Button> : <Spinner />}\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6} sm={4}>\r\n\r\n                        <Typography component=\"h3\" variant=\"h6\" color=\"primary\" >\r\n                            {this.state.selectOptionStock} {this.state.underlyingValue} {this.state.timestamp} \r\n                            {/* <b> FilteredBY : {this.state.FilteredBY} </b>  */}\r\n                        </Typography>\r\n\r\n                        \r\n                    </Grid>\r\n\r\n\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Paper style={{ padding: \"10px\", overflow: \"auto\" }}>\r\n\r\n                        <Grid container spacing={3} direction=\"row\" alignItems=\"center\" container>\r\n                            <Grid item xs={3} sm={3} >\r\n                                <span> <b>Total </b></span>\r\n                                <span> PE OI: <b> {(this.state.PEoi / 100000).toFixed(3)}L</b></span>\r\n                                <span> CE OI: <b>{(this.state.CEoi / 100000).toFixed(3)}L</b></span>\r\n                                <span> PE-CE: {\r\n                                    this.state.allStrikediff > 0 ? <b style={{ color: 'green' }}>{((this.state.allStrikediff) / 100000).toFixed(3)}L</b>\r\n                                        : <b style={{ color: 'red' }}>{((this.state.allStrikediff) / 100000).toFixed(3)}L</b>}\r\n                                </span>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={3} sm={5} >\r\n                                <span> <b>Total Chng </b></span>\r\n                                <span> PE OI: <b>{(this.state.PEoiChange / 100000).toFixed(3)}L</b></span>\r\n                                <span> CE OI: <b>{(this.state.CEoiChange / 100000).toFixed(3)}L</b></span>\r\n                                <span> PE-CE: {\r\n                                    this.state.allStrikeChngeDiff > 0 ? <b style={{ color: 'green' }}>{((this.state.allStrikeChngeDiff) / 100000).toFixed(3)}L</b>\r\n                                        : <b style={{ color: 'red' }}> {((this.state.allStrikeChngeDiff) / 100000).toFixed(3)}L</b>}\r\n                                </span>\r\n\r\n\r\n                            </Grid>\r\n\r\n                            <Grid item xs={2} sm={2} >\r\n                                <span>ALL PCR: <b>{(this.state.PEoi / this.state.CEoi).toFixed(3)} </b></span>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={2} sm={2} >\r\n                                <span>Expire Week PCR: <b>{localStorage.getItem('thisWeekPCR')} </b></span>\r\n\r\n                            </Grid>\r\n\r\n\r\n\r\n                            {/* <Grid item xs={2} sm={2} >\r\n                            <Typography  component=\"h3\" variant=\"body1\" color=\"primary\" style={{justifyContent:'left'}}>\r\n                                <span>14000 to 15250 PCR: <b>{this.state.selectedSPpcr} </b></span>\r\n                            </Typography> \r\n                        </Grid> */}\r\n\r\n\r\n\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                <Grid direction=\"row\" container className=\"flexGrow\" spacing={0} style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n\r\n\r\n                    <Grid id=\"tabledatachart\" item xs={3} sm={3} style={{ padding: \"2px\", overflow: \"auto\", height: \"250px\" }}>\r\n                        <Table id=\"tabledata\" stickyHeader aria-label=\"sticky table\" size=\"small\">\r\n                            <TableHead key={2222} variant=\"head\" style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                <TableRow variant=\"head\">\r\n                                    <TableCell align=\"center\"><b>Time</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>VIEW</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Put-Call(diff)</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Chng in OI(diff)</b></TableCell>\r\n\r\n                                    <TableCell align=\"center\"><b>PUT OI</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Chng Put OI</b></TableCell>\r\n\r\n                                    <TableCell align=\"center\"><b>Call OI</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Chng Call OI</b></TableCell>\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Total PUT Volume</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Total Call Volume</b> </TableCell> */}\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody hover style={{ width: \"\", whiteSpace: \"nowrap\" }} >\r\n\r\n\r\n\r\n                                {this.state.products ? this.state.products.map(row => (\r\n                                    <TableRow key={row.dateTime} style={{ background: row.isDuplicate ? \"lightgray\" : \"\" }}>\r\n                                        <TableCell align=\"center\">{row.dateTime.substring(19, 11)}</TableCell>\r\n                                        <TableCell align=\"center\">{row.diff > 0 ? <Typography variant='body2' style={{ color: 'green' }} >BUY</Typography> : <Typography variant=\"body2\" style={{ color: 'red' }} >SELL</Typography>}</TableCell>\r\n                                        <TableCell align=\"center\">{row.diff} ({(row.diff / 100000).toFixed(2)}L)({row.totDiffChange > 0 ? <span style={{ color: 'green', fontWeight: 'bold' }} >{row.totDiffChange}%</span> : row.totDiffChange == '0.000' ? <span>{row.totDiffChange}%</span> : <span style={{ color: 'red', fontWeight: 'bold' }} >{row.totDiffChange}%</span>}) </TableCell>\r\n                                        <TableCell align=\"center\">{row.totChangeINOIDiff} ({(row.totChangeINOIDiff / 100000).toFixed(2)}L)</TableCell>\r\n\r\n                                        <TableCell align=\"center\">{row.totPEOI} ({row.totPEOIChange > 0 ? <span style={{ color: 'green', fontWeight: 'bold' }} >{row.totPEOIChange}%</span> : row.totPEOIChange == '0.000' ? <span>{row.totPEOIChange}%</span> : <span style={{ color: 'red', fontWeight: 'bold' }} >{row.totPEOIChange}%</span>})</TableCell>\r\n                                        <TableCell align=\"center\">{row.totChangeINOIPut} </TableCell>\r\n\r\n                                        <TableCell align=\"center\">{row.totCEOI} ({row.totCEOIChange > 0 ? <span style={{ color: 'green', fontWeight: 'bold' }} >{row.totCEOIChange}%</span> : row.totCEOIChange == '0.000' ? <span>{row.totCEOIChange}%</span> : <span style={{ color: 'red', fontWeight: 'bold' }} >{row.totCEOIChange}%</span>})</TableCell>\r\n\r\n                                        <TableCell align=\"center\">{row.totChangeINOICall}</TableCell>\r\n\r\n                                        {/* <TableCell align=\"center\">{row.totPEVol} ({(row.totPEVol/100000).toFixed(2)}L)</TableCell>\r\n                                <TableCell align=\"center\">{row.totCEVol} ({(row.totCEVol/100000).toFixed(2)}L)</TableCell>      */}\r\n\r\n                                    </TableRow>\r\n                                )) : <Spinner />}\r\n\r\n\r\n                            </TableBody>\r\n                        </Table>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={4} sm={4} style={{ padding: \"2px\", overflow: \"auto\", height: \"300px\" }}>\r\n\r\n                        <Chart diffData={{ data: this.state.products, scrollcount: this.state.scrollcount }} />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={3} sm={3} style={{ padding: \"2px\", overflow: \"auto\", height: \"250px\" }}>\r\n                        <Table style={{ borderLeft: 'dashed', borderRight: 'dashed', fontWeight: '500' }} id=\"tabledata\" stickyHeader aria-label=\"sticky table\" id=\"tabledata\" size=\"small\">\r\n\r\n                            <TableHead style={{}} variant=\"head\">\r\n                                <TableRow variant=\"head\">\r\n\r\n                                    <TableCell align=\"center\"><b>Total CE OI <br />{(this.state.totalsceoi / 100000).toFixed(3)}L</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Strike Price<br />{this.state.totalspeoi - this.state.totalsceoi}({((this.state.totalspeoi - this.state.totalsceoi) / 100000).toFixed(3)}L) </b> </TableCell>\r\n                                    <TableCell align=\"center\"><b>Total PE OI<br />{(this.state.totalspeoi / 100000).toFixed(3)}L</b></TableCell>\r\n\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n\r\n                                {this.state.AllspTotalOI ? this.state.AllspTotalOI.map(row => (\r\n                                    <TableRow hover key={row.dateTime} >\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: row.strikePrice < this.state.underlyingValue ? '#ded6a269' : '' }}>{row.sumOfCEoi} ({(row.sumOfCEoi / 100000).toFixed(2)}L)</TableCell>\r\n                                        <TableCell align=\"center\">{row.strikePrice}</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: row.strikePrice > this.state.underlyingValue ? '#ded6a269' : '' }}>{row.sumOfPEoi} ({(row.sumOfPEoi / 100000).toFixed(2)}L)</TableCell>\r\n\r\n                                    </TableRow>\r\n                                )) : <Spinner />}\r\n\r\n\r\n\r\n                            </TableBody>\r\n                        </Table>\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={2} sm={2} style={{ padding: \"2px\", overflow: \"auto\", height: \"250px\" }}>\r\n                        <Table id=\"tabledata\" stickyHeader aria-label=\"sticky table\" id=\"tabledata\" size=\"small\">\r\n\r\n                            <TableHead variant=\"head\">\r\n                                <TableRow variant=\"head\">\r\n\r\n                                    <TableCell align=\"center\">ALL Pcr</TableCell>\r\n                                    <TableCell align=\"center\">Expiry Pcr </TableCell>\r\n                                    <TableCell align=\"center\">Selected Pcr</TableCell>\r\n\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody style={{ whiteSpace: \"nowrap\" }}>\r\n\r\n                                {this.state.pcrTableBN && this.state.pcrTableBN.length > 0 && this.state.pcrTableBN ? this.state.pcrTableBN.map(row => (\r\n                                    <TableRow hover key={row.expiryPCR} >\r\n                                        <TableCell align=\"center\">{row.allPCR} </TableCell>\r\n                                        <TableCell align=\"center\">{row.expiryPCR}</TableCell>\r\n                                        <TableCell align=\"center\">{row.selectedSPpcr} </TableCell>\r\n                                    </TableRow>\r\n                                )) : ''}\r\n\r\n                            </TableBody>\r\n                        </Table>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={12} style={{ padding: \"2px\", overflow: \"auto\", height: \"900px\" }}>\r\n\r\n                        <Table stickyHeader aria-label=\"sticky table\" id=\"tabledata\" size=\"small\">\r\n\r\n                            <TableHead variant=\"head\">\r\n\r\n                                <TableRow variant=\"head\"  >\r\n\r\n                                    <TableCell colSpan={6} align=\"center\"><b>CALL</b></TableCell>\r\n                                    <TableCell align=\"center\"><b></b></TableCell>\r\n                                    <TableCell align=\"center\"><b></b></TableCell>\r\n                                    <TableCell colSpan={6} align=\"center\"><b>PUT</b></TableCell>\r\n                                </TableRow>\r\n                                <TableRow variant=\"head\" style={{ width: \"\", whiteSpace: \"nowrap\" }} >\r\n\r\n                                    {/* <TableCell align=\"center\" ><b>Sr No.</b></TableCell>  */}\r\n\r\n\r\n                                    <TableCell align=\"center\"><b>OI Total OI <br />{localStorage.getItem('totCEOI')}({(localStorage.getItem('totCEOI') / 100000).toFixed(3)}L) </b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Chng in OI <br />{localStorage.getItem('totCEOIChange')}({(localStorage.getItem('totCEOIChange') / 100000).toFixed(3)}L)</b></TableCell>\r\n                                    {/* <TableCell align=\"center\"><b>Volume <br />{localStorage.getItem('totCEVol')}({(localStorage.getItem('totCEVol')/100000).toFixed(3)}L)</b> </TableCell> */}\r\n                                    <TableCell align=\"center\"><b>IV</b></TableCell>\r\n                                    {/* <TableCell align=\"center\"><b>Delta</b></TableCell> */}\r\n\r\n                                    <TableCell align=\"center\"><b>LTP</b></TableCell>\r\n                                    {/* <TableCell align=\"center\"><b>PChange%</b></TableCell> */}\r\n                                    <TableCell align=\"center\"><b>CHNG</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Lot</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Cost</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Max Loss</b></TableCell>\r\n\r\n                                    \r\n\r\n                                    <TableCell align=\"center\"><b>Buy</b></TableCell>\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Bid qty</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Bid Price</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Ask Price</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>ASK qty</b></TableCell> */}\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Total Buy Qty</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Total Sell Qty</b></TableCell> */}\r\n\r\n                                    <TableCell align=\"center\"><span style={{ color: '#3e85c5', fontWeight: 'bold' }}> STRIKE PRICE</span> </TableCell>\r\n                                    <TableCell align=\"center\"><span style={{ color: '#3e85c5', fontWeight: 'bold' }}> Expiry</span> </TableCell>\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Total Sell Qty</b></TableCell> \r\n                                    <TableCell align=\"center\"><b>Total Buy Qty</b></TableCell> */}\r\n\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Bid Qty</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Bid Price</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Ask Price</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Ask Qty</b></TableCell>\r\n                        */}\r\n                                    <TableCell align=\"center\"><b>Buy</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Max Loss</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>Cost</b></TableCell>\r\n\r\n                                    <TableCell align=\"center\"><b>Lot</b></TableCell>\r\n\r\n\r\n\r\n                                    <TableCell align=\"center\"><b>CHNG</b></TableCell>\r\n                                    {/* <TableCell align=\"center\"><b>PChange%</b></TableCell> */}\r\n                                    <TableCell align=\"center\"><b>LTP</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>IV</b></TableCell>\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Delta</b></TableCell> */}\r\n\r\n\r\n                                    {/* <TableCell align=\"center\"><b>Volume <br />{localStorage.getItem('totPEVol')}({(localStorage.getItem('totPEVol')/100000).toFixed(3)}L)</b></TableCell> */}\r\n                                    <TableCell align=\"center\"><b>Chng in OI <br />{localStorage.getItem('totPEOIChange')}({(localStorage.getItem('totPEOIChange') / 100000).toFixed(3)}L)</b></TableCell>\r\n                                    <TableCell align=\"center\"><b>OI <br />{localStorage.getItem('totPEOI')}({(localStorage.getItem('totPEOI') / 100000).toFixed(3)}L)</b></TableCell>\r\n\r\n\r\n                                </TableRow>\r\n                            </TableHead>\r\n\r\n                            <TableBody>\r\n\r\n                                {this.state.filtered ? this.state.filtered.map((opdata, index) => (\r\n                                    <TableRow hover key={index} style={{ background: opdata.isDuplicate ? \"lightgray\" : \"\" }}>\r\n\r\n                                        {/* <TableCell style={{whiteSpace: \"nowrap\"}} align=\"center\">{index+1} </TableCell>*/}\r\n                                        {opdata && opdata.CE && opdata.PE && (opdata.strikePrice >= opdata.CE.underlyingValue - this.state.showOptionUpside && opdata.strikePrice <= opdata.CE.underlyingValue + this.state.showOptionDownside) ? <>\r\n\r\n                                            <TableCell {...totCEOI = totCEOI + opdata.CE.openInterest} style={{ backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.CE.openInterest}</TableCell>\r\n                                            <TableCell {...totCEOIChange = totCEOIChange + opdata.CE.changeinOpenInterest} style={{ backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.CE.changeinOpenInterest}</TableCell>\r\n                                            {/* <TableCell {...totCEVol = totCEVol + opdata.CE.totalTradedVolume} style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.totalTradedVolume} </TableCell> */}\r\n                                            <TableCell align=\"center\">{opdata.CE.impliedVolatility} </TableCell>\r\n                                            {/* <TableCell align=\"center\">{(opdata.CE.change / (opdata.strikePrice - opdata.CE.underlyingValue)).toFixed(2)} </TableCell> */}\r\n\r\n\r\n\r\n                                            <TableCell style={{ backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\"><span style={{ color: '#3e85c5', fontWeight: 'bold' }}> {opdata.CE.lastPrice}</span>({opdata.CE.pChange > 0 ? <span style={{ color: 'green', fontWeight: 'bold' }} >{opdata.CE.pChange.toFixed(2)}%</span> : opdata.CE.pChange == 0 ? <span>{opdata.CE.pChange.toFixed(2)}%</span> : <span style={{ color: 'red', fontWeight: 'bold' }} >{opdata.CE.pChange.toFixed(2)}%</span>}) </TableCell>\r\n                                            {/* <TableCell style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.CE.pChange.toFixed(2)}%</span>: opdata.CE.pChange == 0 ? <span>{opdata.CE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.CE.pChange.toFixed(2)}%</span> } </TableCell> */}\r\n                                            <TableCell style={{ backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.CE.change.toFixed(2)} </TableCell>\r\n                                            \r\n                                            <TableCell align=\"center\">                            \r\n                                                <TextField label={\"Lot: \" + this.state.lotSize} type={\"number\"} style={{width:\"50px\", textAlign:\"center\"}} value={this.state.buyCallLot} onChange={this.onChangeCallLot} name=\"buyCallLot\"  />\r\n                                             </TableCell>\r\n                                            <TableCell align=\"center\"> {opdata.CE.totalMargin} </TableCell>\r\n                                            <TableCell align=\"center\"> {opdata.CE.maxLoss} </TableCell>\r\n\r\n                                            \r\n\r\n                                            <TableCell align=\"center\">  <Button size={\"small\"} variant=\"contained\" onClick={() => this.props.buyOption(\"CE\", this.state.selectOptionStock, opdata.strikePrice, opdata.expiryDate, this.state.buyCallLot)}> Call Buy </Button> </TableCell>\r\n\r\n                                            {/* <TableCell align=\"center\">{opdata.CE.bidQty} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.bidprice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.askPrice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.askQty} </TableCell> */}\r\n\r\n                                            {/* <TableCell {...totCEBUY = totCEBUY + opdata.CE.totalBuyQuantity}  style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total CALL Buy Qty'} align=\"center\">{opdata.CE.totalBuyQuantity}({(opdata.CE.totalBuyQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                            <TableCell {...totCESell = totCESell + opdata.CE.totalSellQuantity} style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total CALL Sell Qty'} align=\"center\">{opdata.CE.totalSellQuantity}({(opdata.CE.totalSellQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                         */}\r\n                                            <TableCell style={{ borderLeft: 'dashed', borderRight: 'dashed', fontWeight: '500' }} align=\"center\"><span> <a href=\"#\" style={{ textDecoration: 'none' }} onClick={() => this.filterOptionChain('strike', opdata.strikePrice)}> {opdata.strikePrice}</a> </span> </TableCell>\r\n                                            <TableCell style={{ borderRight: 'dashed', whiteSpace: \"nowrap\" }} align=\"center\" ><span style={{ paddingLeft: '5px', paddingRight: '5px' }}> <a href=\"#\" style={{ textDecoration: 'none' }} onClick={() => this.filterOptionChain('expiry', opdata.expiryDate)}> {opdata.expiryDate}</a></span> </TableCell>\r\n\r\n                                            <TableCell align=\"center\">  <Button size={\"small\"} variant=\"contained\" onClick={() => this.props.buyOption(\"PE\", this.state.selectOptionStock, opdata.strikePrice, opdata.expiryDate, this.state.buyPutLot)}>Put Buy </Button> </TableCell>\r\n                                            <TableCell align=\"center\"> {opdata.PE.maxLoss} </TableCell>\r\n\r\n                                            <TableCell align=\"center\"> {opdata.PE.totalMargin} </TableCell>\r\n\r\n                                            <TableCell align=\"center\">                            \r\n                                                <TextField label={\"Lot: \" + this.state.lotSize} type={\"number\"} style={{width:\"50px\", textAlign:\"center\"}} value={this.state.buyPutLot} onChange={this.onChangePutLot} name=\"buyPutLot\"  />\r\n                                             </TableCell>\r\n                                            {/* <TableCell {...totPESell = totPESell + opdata.PE.totalSellQuantity} style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total PUT Sell Qty'} align=\"center\">{opdata.PE.totalSellQuantity}({(opdata.PE.totalSellQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                            <TableCell {...totPEBUY = totPEBUY + opdata.PE.totalBuyQuantity} style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total PUT Buy Qty'} align=\"center\">{opdata.PE.totalBuyQuantity}({(opdata.PE.totalBuyQuantity/100000).toFixed(3)}L)</TableCell>\r\n                                         */}\r\n                                            {/* <TableCell align=\"center\">{opdata.PE.bidQty} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.bidprice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.askPrice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.askQty} </TableCell>\r\n                                            */}\r\n                                            <TableCell style={{ backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.PE.change.toFixed(2)} </TableCell>\r\n                                            {/* <TableCell style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.PE.pChange.toFixed(2)}%</span>: opdata.PE.pChange == 0 ? <span>{opdata.PE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.PE.pChange.toFixed(2)}%</span>} </TableCell> */}\r\n                                            <TableCell style={{ backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\"><span style={{ color: '#3e85c5', fontWeight: 'bold' }}> {opdata.PE.lastPrice}</span>({opdata.PE.pChange > 0 ? <span style={{ color: 'green', fontWeight: 'bold' }} >{opdata.PE.pChange.toFixed(2)}%</span> : opdata.PE.pChange == 0 ? <span>{opdata.PE.pChange.toFixed(2)}%</span> : <span style={{ color: 'red', fontWeight: 'bold' }} >{opdata.PE.pChange.toFixed(2)}%</span>})</TableCell>\r\n\r\n                                            <TableCell align=\"center\">{opdata.PE.impliedVolatility} </TableCell>\r\n                                            {/* <TableCell align=\"center\">{(opdata.PE.change / (opdata.strikePrice - opdata.PE.underlyingValue)).toFixed(2)} </TableCell> */}\r\n\r\n                                            {/* <TableCell {...totPEVol = totPEVol + opdata.PE.totalTradedVolume}  style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.totalTradedVolume} </TableCell> */}\r\n                                            <TableCell {...totPEOIChange = totPEOIChange + opdata.PE.changeinOpenInterest} style={{ backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.PE.changeinOpenInterest}</TableCell>\r\n                                            <TableCell {...totPEOI = totPEOI + opdata.PE.openInterest} style={{ backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : '' }} align=\"center\">{opdata.PE.openInterest} </TableCell>\r\n                                        </> : \"\"\r\n                                        }\r\n\r\n\r\n                                    </TableRow>\r\n\r\n                                )) : <Spinner />}\r\n\r\n\r\n                                <TableRow variant=\"head\">\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totCEOI', totCEOI)}><b>{totCEOI}<br />({(totCEOI / 100000).toFixed(3)}L)</b></TableCell>\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totCEOIChange', totCEOIChange)}><b>{totCEOIChange}<br />({(totCEOIChange / 100000).toFixed(3)}L)</b> </TableCell>\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totCEVol', totCEVol)}><b>{totCEVol}<br />({(totCEVol / 100000).toFixed(3)}L)</b></TableCell>\r\n                                    <TableCell colSpan={3} align=\"center\"></TableCell>\r\n                                    {/* <TableCell align=\"center\"><b>{totCEBUY}<br />({(totCEBUY/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\"><b>{totCESell}<br />({(totCESell/100000).toFixed(3)}L)</b> </TableCell> */}\r\n\r\n                                    <TableCell {...localStorage.setItem('thisWeekPCR', (totPEOI / totCEOI).toFixed(3))} align=\"center\" colSpan={2}><b> PCR : {(totPEOI / totCEOI).toFixed(3)}</b></TableCell>\r\n\r\n\r\n                                    <TableCell colSpan={5} align=\"center\"></TableCell>\r\n\r\n\r\n                                    {/* <TableCell align=\"center\"><b>{totPESell}<br />({(totPESell/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\"><b>{totPEBUY}<br />({(totPEBUY/100000).toFixed(3)}L)</b></TableCell>\r\n                                */}\r\n                                    {/* <TableCell colSpan={3} align=\"center\"></TableCell> */}\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totPEVol', totPEVol)}><b>{totPEVol}<br />({(totPEVol / 100000).toFixed(3)}L)</b></TableCell>\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totPEOIChange', totPEOIChange)}><b>{totPEOIChange}<br />({(totPEOIChange / 100000).toFixed(3)}L)</b> </TableCell>\r\n                                    <TableCell align=\"center\" {...localStorage.setItem('totPEOI', totPEOI)}><b>{totPEOI}<br />({(totPEOI / 100000).toFixed(3)}L)</b> </TableCell>\r\n\r\n                                </TableRow>\r\n\r\n\r\n                            </TableBody>\r\n\r\n\r\n                        </Table>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    tableStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    selectStyle: {\r\n        marginBottom: '0px',\r\n        minWidth: 240,\r\n        maxWidth: 240\r\n\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { packs: state.packs.packs.data };\r\n}\r\nexport default connect(mapStateToProps, { setPackLoaded })(MyView);\r\n","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport * as moment from 'moment';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\n\r\nimport BankNiftyView from './BankNiftyView'\r\n\r\nclass OrderBook extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            orderPenidngOptionList: localStorage.getItem('orderPenidngOptionList') && JSON.parse(localStorage.getItem('orderPenidngOptionList')) || [], \r\n            buyAtPending: \"\", \r\n            sellAtPending: \"\", \r\n            pattenNamePending: \"\",\r\n            searchSymbolPending : \"\",\r\n            autoSearchList:[{\"token\":\"26009\",\"symbol\":\"BANKNIFTY\",\"name\":\"BANKNIFTY\",\"expiry\":\"\",\"strike\":\"-1.000000\",\"lotsize\":\"-1\",\"instrumenttype\":\"\",\"exch_seg\":\"NSE\",\"tick_size\":\"-1.000000\"},{\"token\":\"26000\",\"symbol\":\"NIFTY\",\"name\":\"NIFTY\",\"expiry\":\"\",\"strike\":\"-1.000000\",\"lotsize\":\"-1\",\"instrumenttype\":\"\",\"exch_seg\":\"NSE\",\"tick_size\":\"-1.000000\"}], \r\n            lastTradedData : {},\r\n            buyOptionFlag : false \r\n        \r\n        }\r\n    }\r\n\r\n    searchSymbolPendingOrder = (e) => {\r\n        this.setState({[e.target.name] : e.target.value})\r\n\r\n        AdminService.autoCompleteSearch(e.target.value).then(searchRes => {\r\n            let searchResdata = searchRes.data;\r\n            if (e.target.value) {\r\n                var uppercaseName = e.target.value.toUpperCase() + \"-EQ\";\r\n                var found = searchResdata.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\" && row.symbol === uppercaseName);\r\n                //  console.log(\"found\", found[0] && found[0].symbol); \r\n                if (found.length) {\r\n                    this.setState({searchSymbolPending : found[0].symbol,searchTokenPending :found[0].token, exch_seg: found[0].exch_seg})\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });      \r\n    }\r\n\r\n    addInOrderPenidngList =  async() => {\r\n\r\n        console.log(this.state.searchSymbolPending, this.state.searchTokenPending, this.state.buyAtPending, this.state.sellAtPending);\r\n      \r\n        if(parseFloat(this.state.sellAtPending ) > this.state.lastTradedData.low){\r\n            if(!window.confirm(\"Be carefull Selling at high price \"+ this.state.sellAtPending +\", today \" +this.state.searchSymbolPending+ \" low is \" +  this.state.lastTradedData.low)){\r\n                return; \r\n            }\r\n        }\r\n        if(parseFloat(this.state.buyAtPending)  < this.state.lastTradedData.high){\r\n           if(!window.confirm(\"Be carefull Buying at low price \"+ this.state.buyAtPending +\", today \" +this.state.searchSymbolPending+ \" high is \" +  this.state.lastTradedData.high)){\r\n            return; \r\n           }\r\n        }\r\n            \r\n        if(this.state.searchSymbolPending && this.state.buyAtPending || this.state.sellAtPending){\r\n        \r\n            var data = {\r\n                createdAt : new Date().toLocaleTimeString(), \r\n                token: this.state.searchTokenPending, \r\n                symbol: this.state.searchSymbolPending, \r\n                buyAt: this.state.buyAtPending,\r\n                sellAt: this.state.sellAtPending,  \r\n                pattenName: this.state.pattenNamePending,\r\n                exch_seg:  this.state.exch_seg,\r\n            }\r\n\r\n            this.setState({orderPenidngOptionList : [...this.state.orderPenidngOptionList, data]}, function(){\r\n                this.setState({searchSymbolPending: '' ,searchTokenPending:'',buyAtPending: \"\", sellAtPending: \"\",pattenNamePending:\"\"  })\r\n                localStorage.setItem('orderPenidngOptionList', JSON.stringify(this.state.orderPenidngOptionList));\r\n                localStorage.setItem('orderTagToPosition', JSON.stringify(this.state.orderPenidngOptionList));\r\n            })\r\n            \r\n        }\r\n        \r\n\r\n    }\r\n\r\n    deleteInOrderPenidngList =(row)=> {\r\n\r\n        console.log(\"callback\", row); \r\n        var isDeleted = false, delitem =''; \r\n       var orderPenidngOptionList =  localStorage.getItem('orderPenidngOptionList') && JSON.parse( localStorage.getItem('orderPenidngOptionList')); \r\n       for (let index = 0; index < this.state.orderPenidngOptionList.length; index++) {\r\n           const element = orderPenidngOptionList[index];\r\n           if(row.symbol == element.symbol){\r\n            delitem = orderPenidngOptionList.splice(index, 1); \r\n            localStorage.setItem('orderPenidngOptionList', JSON.stringify(orderPenidngOptionList)); \r\n            this.setState({orderPenidngOptionList : orderPenidngOptionList}); \r\n            break; \r\n           }\r\n       }\r\n\r\n       \r\n       console.log(\"del\", delitem)\r\n       if(delitem && delitem[0].symbol == row.symbol){\r\n        return true;\r\n       }else {\r\n        return false;\r\n       }\r\n        \r\n    }\r\n\r\n    callBackUpdate =(row) => {\r\n       console.log(\"call back called\");\r\n     // this.deleteInOrderPenidngList(row); \r\n    }\r\n\r\n    placeOptionSPLevelOver=(indexData, spotPrice)=>{\r\n\r\n        let today = moment().isoWeekday();\r\n        today = 3; \r\n        let strikePrice = 0; \r\n        let allList = localStorage.getItem('optionChainDataBN') && JSON.parse(localStorage.getItem('optionChainDataBN')); \r\n        let nextExp = allList[\"records\"][\"expiryDates\"][0]; \r\n\r\n        if(indexData.buyAt){\r\n            if(today == 5 || today == 1){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  + 400\r\n            }\r\n            else  if(today == 2){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  + 300\r\n            }\r\n            else  if(today == 3){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  + 200\r\n            }else {\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100) \r\n            }\r\n            this.props.buyOption(\"CE\", indexData.symbol, strikePrice, nextExp, 1);  \r\n        }else if(indexData.sellAt){\r\n            if(today == 5 || today == 1){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  - 400\r\n            }\r\n            else  if(today == 2){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  - 300\r\n            }\r\n            else  if(today == 3){\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100)  - 200\r\n            }else {\r\n                strikePrice = (Math.round(spotPrice) - Math.round(spotPrice) % 100) \r\n            }\r\n            this.props.buyOption(\"PE\", indexData.symbol, strikePrice, nextExp, 1);  \r\n        }\r\n\r\n    }\r\n\r\n    updateLTP = async()=> {\r\n\r\n        for (let index = 0; index < this.state.orderPenidngOptionList.length; index++) {\r\n            const element = this.state.orderPenidngOptionList[index];\r\n            var data = { \"exchange\":element.exch_seg, \"tradingsymbol\":element.symbol , \"symboltoken\": element.token}; \r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                //console.log(LtpData);\r\n                if(LtpData && LtpData.ltp) {\r\n                    element.ltp = LtpData.ltp; \r\n                    element.perChange = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2); \r\n                    localStorage.setItem('orderPenidngOptionList', JSON.stringify(this.state.orderPenidngOptionList)); \r\n                    this.setState({orderPenidngOptionList : this.state.orderPenidngOptionList}); \r\n                    console.log(\"ltp update\",element.symbol,element)\r\n\r\n                    if(element.buyAt && LtpData.ltp >= parseFloat(element.buyAt)){\r\n                        var isDelete = this.deleteInOrderPenidngList(element); \r\n                        if(isDelete){ // && !this.state.buyOptionFlag\r\n                            this.setState({buyOptionFlag: true}, function(){\r\n                                this.placeOptionSPLevelOver(element, LtpData.ltp); \r\n                            })\r\n                        }\r\n                    }else if(element.sellAt && LtpData.ltp <= parseFloat(element.sellAt)){\r\n                        var isDelete = this.deleteInOrderPenidngList(element); \r\n                        if(isDelete){ // && !this.state.buyOptionFlag\r\n                            this.setState({buyOptionFlag: true}, function(){\r\n                                this.placeOptionSPLevelOver(element, LtpData.ltp); \r\n                            })\r\n                        }\r\n                    }\r\n\r\n                }\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 100)); \r\n        }\r\n    }\r\n\r\n    getTradePrice =()=> {\r\n\r\n        var data = { \"exchange\":this.state.exch_seg, \"tradingsymbol\":this.state.searchSymbolPending , \"symboltoken\": this.state.searchTokenPending}; \r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            //console.log(LtpData);\r\n            if(LtpData && LtpData.ltp) {\r\n        \r\n\r\n                var lastTradedData = {\r\n                    symbol: LtpData.tradingsymbol,\r\n                    ltp : LtpData.ltp,\r\n                    perChange : ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2), \r\n                    open : LtpData.open, \r\n                    high : LtpData.high, \r\n                    close : LtpData.close, \r\n                    low : LtpData.low, \r\n                }\r\n                this.setState({lastTradedData : lastTradedData}); \r\n            \r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n         this.updateLTP(); \r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            var intervaltime = 2001; \r\n            if(this.state.orderPenidngOptionList.length > 10){\r\n                intervaltime = this.state.orderPenidngOptionList.length * 110; \r\n            }\r\n            this.setState({ findlast5minMovementInterval: setInterval(() => { this.updateLTP(); }, intervaltime ) });\r\n        }\r\n        \r\n       // this.setState({ findlast5minMovementInterval: setInterval(() => { this.updateLTP(); }, 2000 ) });\r\n\r\n\r\n        localStorage.setItem('autoSearchTemp',JSON.stringify(this.state.autoSearchList))\r\n    }\r\n\r\n  \r\n    refreshCandleChartManually = async (row) => {\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var time = moment.duration(\"12:00:00\");\r\n        var startdate = moment(new Date()).subtract(time);\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": row.token,\r\n            \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n            \"fromdate\": moment(beginningTime).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n            \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n        }\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let histdata = resolveResponse(res, 'noPop');\r\n            //console.log(\"candle history\", histdata); \r\n            if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                var candleChartData = [];\r\n                histdata.data.forEach(element => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                });\r\n\r\n                localStorage.setItem('candleChangeShow', row.perChange);\r\n                localStorage.setItem('candleChartData', JSON.stringify(candleChartData))\r\n                localStorage.setItem('cadleChartSymbol', row.symbol);\r\n                document.getElementById('showCandleChart').click();\r\n\r\n            } else {\r\n                //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                console.log(row.symboltoken, \"  emply candle found\");\r\n            }\r\n        }).catch(error => {\r\n            this.setState({ failedCount: this.state.failedCount + 1 });\r\n            Notify.showError(row.symboltoken + \" candle failed!\");\r\n        })\r\n\r\n    }\r\n\r\n  \r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n    onChange2 = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n\r\n        this.setState({lastTradedData : {}, buyAtPending: \"\", sellAtPending: \"\", pattenNamePending: \"\",searchSymbolPending : \"\"}); \r\n\r\n        \r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            console.log(data);\r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n\r\n          \r\n        })\r\n\r\n    }\r\n\r\n    openNewPage = (e) => {\r\n        window.open(\"/mtrade/#/order-watchlist\");\r\n     //   window.location.replace('/mtrade/#/order-watchlist'); \r\n        localStorage.setItem('isOpenInNewPage', 'yes');\r\n    }\r\n\r\n    backToPositionPage = (e) => {\r\n        window.location.replace('/mtrade/#/position'); \r\n        localStorage.setItem('isOpenInNewPage', 'no');\r\n    }\r\n    \r\n\r\n    onSelectItem = (event, values) => {\r\n        var autoSearchTemp = JSON.parse(localStorage.getItem('autoSearchTemp'));\r\n          console.log(\"values\", values); \r\n           console.log(\"autoSearchTemp\", autoSearchTemp); \r\n        if (autoSearchTemp.length > 0) {\r\n            var fdata = '';\r\n            for (let index = 0; index < autoSearchTemp.length; index++) {\r\n                if (autoSearchTemp[index].symbol === values) {\r\n                    fdata = autoSearchTemp[index];\r\n                    break;\r\n                }\r\n            }\r\n            this.setState({searchSymbolPending : fdata.symbol,searchTokenPending :fdata.token, exch_seg: fdata.exch_seg }, function(){\r\n                this.getTradePrice(); \r\n            }); \r\n\r\n        }\r\n\r\n    }\r\n\r\n    // buyOption =(optiontype ,symbol, strikePrice, expiryDate, noOfLot)=>{\r\n    //   console.log(optiontype ,symbol, strikePrice, expiryDate); \r\n    //   let exp = expiryDate.toUpperCase().split('-'); \r\n    //    exp = exp[0]+exp[1]+exp[2]%1000; \r\n\r\n    //   let optionName = symbol + exp + strikePrice + optiontype; \r\n    //   console.log(optionName); \r\n\r\n    //   AdminService.autoCompleteSearch(optionName).then(res => {\r\n    //     let data = res.data; \r\n    //     let optionData = data && data[0]; \r\n    //     console.log(\"optionData\", optionData);\r\n\r\n\r\n    //     if(optionData && optionData.symbol && optionData.symbol ==  optionName){\r\n    //         var  ltpparam = { \"exchange\":optionData.exch_seg, \"tradingsymbol\": optionData.symbol , \"symboltoken\": optionData.token}; \r\n\r\n    //         AdminService.getLTP(ltpparam).then(res => {\r\n    //             let data = resolveResponse(res, 'noPop');\r\n    //             var LtpData = data && data.data;\r\n    //             if(LtpData && LtpData.ltp) {\r\n                    \r\n    //                 console.log(\"option ltp\", LtpData);\r\n\r\n    //                let quantity = optionData.lotsize * noOfLot;   \r\n\r\n    \r\n    //                let perStopTrigerLoss = LtpData.ltp - (LtpData.ltp * 10/100); \r\n    //                perStopTrigerLoss =  CommonOrderMethod.getMinPriceAllowTick(perStopTrigerLoss); \r\n\r\n    //                let stopLossPrice = perStopTrigerLoss - (perStopTrigerLoss * 1/100); \r\n\r\n    //                stopLossPrice =  CommonOrderMethod.getMinPriceAllowTick(stopLossPrice); \r\n\r\n    \r\n    //                 let element = {\r\n    //                     tradingsymbol : optionData.symbol, \r\n    //                     symboltoken : optionData.token, \r\n    //                     transactiontype: \"BUY\", \r\n    //                     ordertype: \"LIMIT\", \r\n    //                     buyPrice : LtpData.ltp,  \r\n    //                     producttype : \"CARRYFORWARD\", \r\n    //                     exchange : optionData.exch_seg,\r\n    //                     stopLossTriggerPrice: perStopTrigerLoss,\r\n    //                     stopLossPrice: stopLossPrice,\r\n    //                     quantity : quantity\r\n    //                 }        \r\n    //                 console.log( \"option buy element\", element);\r\n    //                CommonOrderMethod.placeOptionOrder(element);\r\n    //             }\r\n    //         })\r\n    //     }else{\r\n    //         Notify.showError(optionName + \" not found\");\r\n    //     }\r\n       \r\n\r\n    //     //localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n    // //    this.setState({ autoSearchList: data });\r\n    // })\r\n    // }\r\n\r\n\r\n    render(){\r\n        \r\n      return(\r\n        <React.Fragment>\r\n\r\n             <Paper style={{ overflow: \"auto\", padding: '5px',  background:\"#f500570a\"}} >\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container>\r\n                    <Grid item> \r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                        Option Buy At Level Watchlist ({this.state.orderPenidngOptionList && this.state.orderPenidngOptionList.length}) \r\n                        {window.location.hash != \"#/order-watchlist\" ? <Button onClick={() => this.openNewPage()}> New Page <OpenInNewIcon/> </Button> : \"\"}\r\n                        {window.location.hash != \"#/position\" ?<Button onClick={() => this.backToPositionPage()}> Back to Position </Button> : \"\"}\r\n                        </Typography> \r\n\r\n\r\n                    </Grid>\r\n\r\n                   \r\n\r\n                    <Grid item >\r\n\r\n                        <Grid container spacing={2}>\r\n                        <Grid item >\r\n                                {/* <TextField label=\"Type full Symbol\" name=\"searchSymbolPending\" value={this.state.searchSymbolPending} onChange={this.searchSymbolPendingOrder} /> */}\r\n                                <Autocomplete\r\n                                        freeSolo\r\n                                        id=\"free-solo-2-demo\"\r\n                                        \r\n                                        disableClearable\r\n                                        onChange={this.onSelectItem}\r\n                                        value={this.state.searchSymbolPending}\r\n                                        //+ ' '+  option.exch_seg\r\n                                        options={this.state.autoSearchList.length > 0 ? this.state.autoSearchList.map((option) =>\r\n                                            option.symbol\r\n                                        ) : []}\r\n                                        renderInput={(params) => (\r\n                                            <TextField\r\n                                         \r\n                                                onChange={this.onChange2}\r\n                                                {...params}\r\n                                                label={\"Search Symbol\"}\r\n                                                margin=\"normal\"\r\n                                                style={{  width:\"500px\",marginTop: 'inherit' }}\r\n                                                name=\"searchSymbolPending\"\r\n                                                variant=\"standard\"\r\n                                                InputProps={{ ...params.InputProps, type: 'search' }}\r\n                                            /> \r\n                                        )}\r\n                                    />\r\n                              {this.state.lastTradedData.symbol}  Ltp: <b style={{ color:this.state.lastTradedData.perChange == 0 ? \"none\" : this.state.lastTradedData.perChange > 0 ? \"green\" : \"red\"}}> {this.state.lastTradedData.ltp} {this.state.lastTradedData.ltp ? \"(\"+this.state.lastTradedData.perChange+\"%)\"  : \"\"}</b> \r\n                    </Grid>\r\n\r\n                            \r\n                            <Grid item  >\r\n                                <TextField label=\"BuyAt(limit)\" type=\"number\" name=\"buyAtPending\" value={this.state.buyAtPending} onChange={this.updateInput} />\r\n                              <br /> High: {this.state.lastTradedData.high}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <TextField label=\"SellAt(limit)\" type=\"number\" name=\"sellAtPending\" value={this.state.sellAtPending} onChange={this.updateInput} />\r\n                                <br /> Low: {this.state.lastTradedData.low}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <TextField label=\"Which Pattern\" name=\"pattenNamePending\" value={this.state.pattenNamePending} onChange={this.updateInput} />\r\n                                <br /> Open: {this.state.lastTradedData.open}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <Button variant=\"contained\" style={{ marginLeft: '20px', marginTop: '10px' }} onClick={() => this.addInOrderPenidngList()}> Add </Button>\r\n                                <br /> P.Close: {this.state.lastTradedData.close}\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Table size=\"small\" aria-label=\"sticky table\" >\r\n                        <TableHead style={{ whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                            <TableRow key=\"1\" variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">CreatetAt</TableCell>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Exch_seg</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Token</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Patten Name</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">BuyAt</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">SellAt</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">LTP</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Delete</TableCell>\r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody id=\"tableAdd\" style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n                            {this.state.orderPenidngOptionList ? this.state.orderPenidngOptionList.map(row => (\r\n                                 <TableRow hover >\r\n\r\n                                   \r\n\r\n\r\n                                    <TableCell align=\"left\">\r\n                                        <Button style={{ color: row.perChange > 0 ? \"green\" : \"red\" }} size=\"small\" variant=\"contained\" title=\"Candle refresh\" onClick={() => this.refreshCandleChartManually(row)} >\r\n                                            {row.symbol} {row.ltp} ({row.perChange}) <ShowChartIcon />\r\n                                        </Button>\r\n                                    </TableCell>\r\n\r\n                                    <TableCell align=\"left\">{row.createdAt}</TableCell>\r\n\r\n\r\n                                    <TableCell align=\"left\">{row.exch_seg}</TableCell>\r\n                                    <TableCell align=\"left\">{row.token}</TableCell>\r\n\r\n                                    <TableCell align=\"left\">{row.pattenName}</TableCell>\r\n                                    <TableCell align=\"left\">{row.buyAt}</TableCell>\r\n                                    <TableCell align=\"left\">{row.sellAt}</TableCell>\r\n                                    <TableCell align=\"left\" style={{color: row.perChange == 0.00 ? \"none\" :  row.perChange > 0 ? \"green\" :\"red\"}}><b>{row.ltp} ({row.perChange}%) </b></TableCell>\r\n\r\n                                    <TableCell align=\"left\">\r\n                                     <DeleteIcon style={{cursor:\"pointer\"}} onClick={() => this.deleteInOrderPenidngList(row)} />\r\n                                    </TableCell>\r\n\r\n                                </TableRow>\r\n                            )) : ''}\r\n                        </TableBody>\r\n                    </Table>\r\n\r\n\r\n                </Grid>\r\n\r\n\r\n                </Paper>\r\n\r\n                <br />\r\n         \r\n\r\n            </React.Fragment> \r\n        )\r\n    }\r\n  \r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     },\r\n//     selectStyle:{\r\n//         // minWidth: '100%',\r\n//          marginBottom: '0px',\r\n//           minWidth: 300,\r\n//           maxWidth: 300,\r\n//     }\r\n// }\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(OrderBook);\r\nexport default OrderBook;","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport * as moment from 'moment';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\n\r\nimport BankNiftyView from './BankNiftyView'\r\nimport OptionBuyWithSPLevel from './OptionBuyWithSPLevel'\r\n\r\nclass OrderBook extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            orderPenidngList: localStorage.getItem('orderPenidngList') && JSON.parse(localStorage.getItem('orderPenidngList')) || [], \r\n            buyAtPending: \"\", \r\n            sellAtPending: \"\", \r\n            pattenNamePending: \"\",\r\n            searchSymbolPending : \"\",\r\n            autoSearchList: [], \r\n            lastTradedData : {}\r\n        }\r\n    }\r\n\r\n    searchSymbolPendingOrder = (e) => {\r\n        this.setState({[e.target.name] : e.target.value})\r\n\r\n        AdminService.autoCompleteSearch(e.target.value).then(searchRes => {\r\n            let searchResdata = searchRes.data;\r\n            if (e.target.value) {\r\n                var uppercaseName = e.target.value.toUpperCase() + \"-EQ\";\r\n                var found = searchResdata.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\" && row.symbol === uppercaseName);\r\n                //  console.log(\"found\", found[0] && found[0].symbol); \r\n                if (found.length) {\r\n                    this.setState({searchSymbolPending : found[0].symbol,searchTokenPending :found[0].token, exch_seg: found[0].exch_seg})\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });      \r\n    }\r\n\r\n    addInOrderPenidngList =  async() => {\r\n\r\n        console.log(this.state.searchSymbolPending, this.state.searchTokenPending, this.state.buyAtPending, this.state.sellAtPending);\r\n      \r\n        if(parseFloat(this.state.sellAtPending ) > this.state.lastTradedData.low){\r\n            if(!window.confirm(\"Be carefull Selling at high price \"+ this.state.sellAtPending +\", today \" +this.state.searchSymbolPending+ \" low is \" +  this.state.lastTradedData.low)){\r\n                return; \r\n            }\r\n        }\r\n        if(parseFloat(this.state.buyAtPending)  < this.state.lastTradedData.high){\r\n           if(!window.confirm(\"Be carefull Buying at low price \"+ this.state.buyAtPending +\", today \" +this.state.searchSymbolPending+ \" high is \" +  this.state.lastTradedData.high)){\r\n            return; \r\n           }\r\n        }\r\n            \r\n        if(this.state.searchSymbolPending && this.state.buyAtPending || this.state.sellAtPending){\r\n        \r\n            var data = {\r\n                createdAt : new Date().toLocaleTimeString(), \r\n                token: this.state.searchTokenPending, \r\n                symbol: this.state.searchSymbolPending, \r\n                buyAt: this.state.buyAtPending,\r\n                sellAt: this.state.sellAtPending,  \r\n                pattenName: this.state.pattenNamePending,\r\n                exch_seg:  this.state.exch_seg,\r\n            }\r\n\r\n            this.setState({orderPenidngList : [...this.state.orderPenidngList, data]}, function(){\r\n                this.setState({searchSymbolPending: '' ,searchTokenPending:'',buyAtPending: \"\", sellAtPending: \"\",pattenNamePending:\"\"  })\r\n                localStorage.setItem('orderPenidngList', JSON.stringify(this.state.orderPenidngList));\r\n                localStorage.setItem('orderTagToPosition', JSON.stringify(this.state.orderPenidngList));\r\n            })\r\n            \r\n        }\r\n        \r\n\r\n    }\r\n\r\n    deleteInOrderPenidngList =(row)=> {\r\n\r\n        console.log(\"callback\", row); \r\n        var isDeleted = false, delitem =''; \r\n       var orderPenidngList =  localStorage.getItem('orderPenidngList') && JSON.parse( localStorage.getItem('orderPenidngList')); \r\n       for (let index = 0; index < this.state.orderPenidngList.length; index++) {\r\n           const element = orderPenidngList[index];\r\n           if(row.token == element.token){\r\n            var delitem = orderPenidngList.splice(index, 1); \r\n            localStorage.setItem('orderPenidngList', JSON.stringify(orderPenidngList)); \r\n            this.setState({orderPenidngList : orderPenidngList}); \r\n            break; \r\n           }\r\n       }\r\n\r\n       if(delitem[0].token == row.token){\r\n        return true;\r\n       }else {\r\n        return false;\r\n       }\r\n        \r\n    }\r\n\r\n    callBackUpdate =(row) => {\r\n       console.log(\"call back called\");\r\n     // this.deleteInOrderPenidngList(row); \r\n    }\r\n\r\n    updateLTP = async()=> {\r\n\r\n        for (let index = 0; index < this.state.orderPenidngList.length; index++) {\r\n            const element = this.state.orderPenidngList[index];\r\n            var data = { \"exchange\":element.exch_seg, \"tradingsymbol\":element.symbol , \"symboltoken\": element.token}; \r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                //console.log(LtpData);\r\n                if(LtpData && LtpData.ltp) {\r\n                    element.ltp = LtpData.ltp; \r\n                    element.perChange = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2); \r\n                    localStorage.setItem('orderPenidngList', JSON.stringify(this.state.orderPenidngList)); \r\n                    this.setState({orderPenidngList : this.state.orderPenidngList}); \r\n                    console.log(\"ltp update\",element.symbol,element)\r\n\r\n                    if(element.buyAt && LtpData.ltp >= parseFloat(element.buyAt)){\r\n                        var isDelete = this.deleteInOrderPenidngList(element); \r\n                        if(isDelete){\r\n                            CommonOrderMethod.historyWiseOrderPlace(element, 'BUY', \"isAutomatic\", this.callBackUpdate);\r\n                        }\r\n                    }else if(element.sellAt && LtpData.ltp <= parseFloat(element.sellAt)){\r\n                        var isDelete = this.deleteInOrderPenidngList(element); \r\n                        if(isDelete){\r\n                            CommonOrderMethod.historyWiseOrderPlace(element, 'SELL', \"isAutomatic\", this.callBackUpdate);\r\n                        }\r\n                    }\r\n\r\n                }\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 100)); \r\n        }\r\n    }\r\n\r\n    getTradePrice =()=> {\r\n\r\n        var data = { \"exchange\":this.state.exch_seg, \"tradingsymbol\":this.state.searchSymbolPending , \"symboltoken\": this.state.searchTokenPending}; \r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            //console.log(LtpData);\r\n            if(LtpData && LtpData.ltp) {\r\n        \r\n\r\n                var lastTradedData = {\r\n                    symbol: LtpData.tradingsymbol,\r\n                    ltp : LtpData.ltp,\r\n                    perChange : ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2), \r\n                    open : LtpData.open, \r\n                    high : LtpData.high, \r\n                    close : LtpData.close, \r\n                    low : LtpData.low, \r\n                }\r\n                this.setState({lastTradedData : lastTradedData}); \r\n            \r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n         this.updateLTP(); \r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            var intervaltime = 5000; \r\n            if(this.state.orderPenidngList.length > 10){\r\n                intervaltime = this.state.orderPenidngList.length * 110; \r\n            }\r\n            this.setState({ findlast5minMovementInterval: setInterval(() => { this.updateLTP(); }, intervaltime ) });\r\n        }\r\n        \r\n    }\r\n\r\n  \r\n    refreshCandleChartManually = async (row) => {\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var time = moment.duration(\"12:00:00\");\r\n        var startdate = moment(new Date()).subtract(time);\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": row.token,\r\n            \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n            \"fromdate\": moment(beginningTime).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n            \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n        }\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let histdata = resolveResponse(res, 'noPop');\r\n            //console.log(\"candle history\", histdata); \r\n            if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                var candleChartData = [];\r\n                histdata.data.forEach(element => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                });\r\n\r\n                localStorage.setItem('candleChangeShow', row.perChange);\r\n                localStorage.setItem('candleChartData', JSON.stringify(candleChartData))\r\n                localStorage.setItem('cadleChartSymbol', row.symbol);\r\n                document.getElementById('showCandleChart').click();\r\n\r\n            } else {\r\n                //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                console.log(row.symboltoken, \"  emply candle found\");\r\n            }\r\n        }).catch(error => {\r\n            this.setState({ failedCount: this.state.failedCount + 1 });\r\n            Notify.showError(row.symboltoken + \" candle failed!\");\r\n        })\r\n\r\n    }\r\n\r\n  \r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n    onChange2 = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n\r\n        this.setState({lastTradedData : {}, buyAtPending: \"\", sellAtPending: \"\", pattenNamePending: \"\",searchSymbolPending : \"\"}); \r\n\r\n        \r\n\r\n\r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            console.log(data);\r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n\r\n          \r\n        })\r\n\r\n    }\r\n\r\n    openNewPage = (e) => {\r\n        window.open(\"/mtrade/#/order-watchlist\");\r\n     //   window.location.replace('/mtrade/#/order-watchlist'); \r\n        localStorage.setItem('isOpenInNewPage', 'yes');\r\n    }\r\n\r\n    backToPositionPage = (e) => {\r\n        window.location.replace('/mtrade/#/position'); \r\n        localStorage.setItem('isOpenInNewPage', 'no');\r\n    }\r\n    \r\n\r\n    onSelectItem = (event, values) => {\r\n        var autoSearchTemp = JSON.parse(localStorage.getItem('autoSearchTemp'));\r\n        //  console.log(\"values\", values); \r\n        //   console.log(\"autoSearchTemp\", autoSearchTemp); \r\n        if (autoSearchTemp.length > 0) {\r\n            var fdata = '';\r\n            for (let index = 0; index < autoSearchTemp.length; index++) {\r\n                if (autoSearchTemp[index].symbol === values) {\r\n                    fdata = autoSearchTemp[index];\r\n                    break;\r\n                }\r\n            }\r\n            this.setState({searchSymbolPending : fdata.symbol,searchTokenPending :fdata.token, exch_seg: fdata.exch_seg }, function(){\r\n                this.getTradePrice(); \r\n            }); \r\n\r\n        }\r\n\r\n    }\r\n\r\n    buyOption =(optiontype ,symbol, strikePrice, expiryDate, noOfLot)=>{\r\n      console.log(optiontype ,symbol, strikePrice, expiryDate); \r\n      let exp = expiryDate.toUpperCase().split('-'); \r\n       exp = exp[0]+exp[1]+exp[2]%1000; \r\n\r\n      let optionName = symbol + exp + strikePrice + optiontype; \r\n      console.log(optionName); \r\n\r\n      AdminService.autoCompleteSearch(optionName).then(res => {\r\n        let data = res.data; \r\n        let optionData = data && data[0]; \r\n        console.log(\"optionData\", optionData);\r\n\r\n\r\n        if(optionData && optionData.symbol && optionData.symbol ==  optionName){\r\n            var  ltpparam = { \"exchange\":optionData.exch_seg, \"tradingsymbol\": optionData.symbol , \"symboltoken\": optionData.token}; \r\n\r\n            AdminService.getLTP(ltpparam).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                if(LtpData && LtpData.ltp) {\r\n                    \r\n                    console.log(\"option ltp\", LtpData);\r\n\r\n                   let quantity = optionData.lotsize * noOfLot;   \r\n\r\n                    let today = moment().isoWeekday();\r\n                    let slpercentage = 10; \r\n                    if(today == 2)\r\n                    slpercentage = 15\r\n                    else if(today == 3)\r\n                    slpercentage = 20\r\n                    else if(today == 4)\r\n                    slpercentage = 30\r\n    \r\n                   let perStopTrigerLoss = LtpData.ltp - (LtpData.ltp * slpercentage/100); \r\n                   perStopTrigerLoss =  CommonOrderMethod.getMinPriceAllowTick(perStopTrigerLoss); \r\n\r\n                   let stopLossPrice = perStopTrigerLoss - (perStopTrigerLoss * 1/100); \r\n\r\n                   stopLossPrice =  CommonOrderMethod.getMinPriceAllowTick(stopLossPrice); \r\n\r\n    \r\n                    let element = {\r\n                        tradingsymbol : optionData.symbol, \r\n                        symboltoken : optionData.token, \r\n                        transactiontype: \"BUY\", \r\n                        ordertype: \"LIMIT\", \r\n                        buyPrice : LtpData.ltp,  \r\n                        producttype : \"CARRYFORWARD\", \r\n                        exchange : optionData.exch_seg,\r\n                        stopLossTriggerPrice: perStopTrigerLoss,\r\n                        stopLossPrice: stopLossPrice,\r\n                        quantity : quantity\r\n                    }        \r\n                    console.log( \"option buy element\", element);\r\n                   CommonOrderMethod.placeOptionOrder(element);\r\n                }\r\n            })\r\n        }else{\r\n            Notify.showError(optionName + \" not found\");\r\n        }\r\n       \r\n\r\n        //localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n    //    this.setState({ autoSearchList: data });\r\n\r\n    \r\n      \r\n      })\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n      return(\r\n        <React.Fragment>\r\n\r\n\r\n            {window.location.hash == \"#/order-watchlist\" ? <PostLoginNavBar/> : \"\"}\r\n\r\n             <OptionBuyWithSPLevel  buyOption={this.buyOption} />\r\n\r\n             <Paper style={{ overflow: \"auto\", padding: '5px',  background:\"#d4ffe0\"}} >\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container>\r\n                    <Grid item> \r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                        Orders Watchlist ({this.state.orderPenidngList && this.state.orderPenidngList.length}) \r\n                        {window.location.hash != \"#/order-watchlist\" ? <Button onClick={() => this.openNewPage()}> New Page <OpenInNewIcon/> </Button> : \"\"}\r\n                        {window.location.hash != \"#/position\" ?<Button onClick={() => this.backToPositionPage()}> Back to Position </Button> : \"\"}\r\n                        </Typography> \r\n\r\n                    </Grid>\r\n\r\n                   \r\n\r\n                    <Grid item >\r\n\r\n                        <Grid container spacing={2}>\r\n                        <Grid item >\r\n                                {/* <TextField label=\"Type full Symbol\" name=\"searchSymbolPending\" value={this.state.searchSymbolPending} onChange={this.searchSymbolPendingOrder} /> */}\r\n                                <Autocomplete\r\n                                        freeSolo\r\n                                        id=\"free-solo-2-demo\"\r\n                                        \r\n                                        disableClearable\r\n                                        onChange={this.onSelectItem}\r\n                                        value={this.state.searchSymbolPending}\r\n                                        //+ ' '+  option.exch_seg\r\n                                        options={this.state.autoSearchList.length > 0 ? this.state.autoSearchList.map((option) =>\r\n                                            option.symbol\r\n                                        ) : []}\r\n                                        renderInput={(params) => (\r\n                                            <TextField\r\n                                                onChange={this.onChange2}\r\n                                                {...params}\r\n                                                label={\"Search Symbol\"}\r\n                                                margin=\"normal\"\r\n                                                style={{  width:\"500px\",marginTop: 'inherit' }}\r\n                                                name=\"searchSymbolPending\"\r\n                                                variant=\"standard\"\r\n                                                InputProps={{ ...params.InputProps, type: 'search' }}\r\n                                            /> \r\n                                        )}\r\n                                    />\r\n                              {this.state.lastTradedData.symbol}  Ltp: <b style={{ color:this.state.lastTradedData.perChange == 0 ? \"none\" : this.state.lastTradedData.perChange > 0 ? \"green\" : \"red\"}}> {this.state.lastTradedData.ltp} {this.state.lastTradedData.ltp ? \"(\"+this.state.lastTradedData.perChange+\"%)\"  : \"\"}</b> \r\n                    </Grid>\r\n\r\n                            \r\n                            <Grid item  >\r\n                                <TextField label=\"BuyAt(limit)\" type=\"number\" name=\"buyAtPending\" value={this.state.buyAtPending} onChange={this.updateInput} />\r\n                              <br /> High: {this.state.lastTradedData.high}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <TextField label=\"SellAt(limit)\" type=\"number\" name=\"sellAtPending\" value={this.state.sellAtPending} onChange={this.updateInput} />\r\n                                <br /> Low: {this.state.lastTradedData.low}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <TextField label=\"Which Pattern\" name=\"pattenNamePending\" value={this.state.pattenNamePending} onChange={this.updateInput} />\r\n                                <br /> Open: {this.state.lastTradedData.open}\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <Button variant=\"contained\" style={{ marginLeft: '20px', marginTop: '10px' }} onClick={() => this.addInOrderPenidngList()}> Add </Button>\r\n                                <br /> P.Close: {this.state.lastTradedData.close}\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Table size=\"small\" aria-label=\"sticky table\" >\r\n                        <TableHead style={{ whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                            <TableRow key=\"1\" variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">CreatetAt</TableCell>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Exch_seg</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Token</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Patten Name</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">BuyAt</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">SellAt</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">LTP</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"left\">Delete</TableCell>\r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody id=\"tableAdd\" style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n                            {this.state.orderPenidngList ? this.state.orderPenidngList.map(row => (\r\n                                 <TableRow hover >\r\n\r\n                                   \r\n\r\n\r\n                                    <TableCell align=\"left\">\r\n                                        <Button style={{ color: row.perChange > 0 ? \"green\" : \"red\" }} size=\"small\" variant=\"contained\" title=\"Candle refresh\" onClick={() => this.refreshCandleChartManually(row)} >\r\n                                            {row.symbol} {row.ltp} ({row.perChange}) <ShowChartIcon />\r\n                                        </Button>\r\n                                    </TableCell>\r\n\r\n                                    <TableCell align=\"left\">{row.createdAt}</TableCell>\r\n\r\n\r\n                                    <TableCell align=\"left\">{row.exch_seg}</TableCell>\r\n                                    <TableCell align=\"left\">{row.token}</TableCell>\r\n\r\n                                    <TableCell align=\"left\">{row.pattenName}</TableCell>\r\n                                    <TableCell align=\"left\">{row.buyAt}</TableCell>\r\n                                    <TableCell align=\"left\">{row.sellAt}</TableCell>\r\n                                    <TableCell align=\"left\" style={{color: row.perChange == 0.00 ? \"none\" :  row.perChange > 0 ? \"green\" :\"red\"}}><b>{row.ltp} ({row.perChange}%) </b></TableCell>\r\n\r\n                                    <TableCell align=\"left\">\r\n                                     <DeleteIcon style={{cursor:\"pointer\"}} onClick={() => this.deleteInOrderPenidngList(row)} />\r\n                                    </TableCell>\r\n\r\n                                </TableRow>\r\n                            )) : ''}\r\n                        </TableBody>\r\n                    </Table>\r\n\r\n\r\n                </Grid>\r\n\r\n\r\n                </Paper>\r\n\r\n                <br />\r\n\r\n                <Paper style={{ overflow: \"auto\", padding: '5px'}} > \r\n                    <Grid item> \r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                          Option Chain (Equity Derivatives)\r\n                        </Typography> \r\n\r\n\r\n                    </Grid>\r\n\r\n\r\n                        <BankNiftyView buyOption={this.buyOption} />\r\n                </Paper>\r\n\r\n               \r\n\r\n\r\n         \r\n\r\n            </React.Fragment> \r\n        )\r\n    }\r\n  \r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     },\r\n//     selectStyle:{\r\n//         // minWidth: '100%',\r\n//          marginBottom: '0px',\r\n//           minWidth: 300,\r\n//           maxWidth: 300,\r\n//     }\r\n// }\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(OrderBook);\r\nexport default OrderBook;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport MaterialUIDateTimePicker from '../../utils/MaterialUIDateTimePicker';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport * as moment from 'moment';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Notify from \"../../utils/Notify\";\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Spinner from \"react-spinner-material\";\r\nimport { createChart } from 'lightweight-charts';\r\n\r\nimport { w3cwebsocket } from 'websocket';\r\nimport ChartDialog from './ChartDialog';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport pako from 'pako';\r\nimport vwap from 'vwap';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport SimpleExpansionPanel from \"./SimpleExpansionPanel\";\r\nimport SimpleExpansionFastMovement from \"./SimpleExpansionFastMovement\";\r\nimport LiveBidsExpantion from \"./LiveBidsExpantion\";\r\nimport WatchListTab from \"./WatchListTab\";\r\nimport OrderWatchlist from './OrderWatchlist';\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            sumPercentage: 0,\r\n            InstrumentPerChange: \"\",\r\n            autoSearchList: [],\r\n            isDasable: false,\r\n            isError: false,\r\n            InstrumentLTP: {},\r\n            ifNotBought: true,\r\n            autoSearchTemp: [],\r\n            symboltoken: \"\",\r\n            tradingsymbol: \"\",\r\n            buyPrice: 0,\r\n            quantity: 1,\r\n            producttype: \"INTRADAY\",\r\n            symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [],\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'NIFTY BANK', //'Securities in F&O',\r\n            longExitPriceType: 4,\r\n            shortExitPriceType: 4,\r\n            candleChartData: [],\r\n            stopScaningFlag: false,\r\n            searchFailed: 0,\r\n            openEqualHighList: [],\r\n            openEqualLowList: [],\r\n            closeingEqualHighList: [],\r\n            chartStaticData: [],\r\n            volumeCrossedList: [],\r\n            slowMotionStockList: [],\r\n            volumeBreakoutlast5CandleList: [],\r\n            oneHourBullBearCheckList: [],\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            cursor: '',\r\n            advanceShareCount: 0,\r\n            declineShareCount: 0,\r\n            UnchangeShareCount: 0,\r\n            FoundPatternList: localStorage.getItem('FoundPatternList') && JSON.parse(localStorage.getItem('FoundPatternList')) || [],\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n            liveBidsList: [], //localStorage.getItem('liveBidsList') && JSON.parse(localStorage.getItem('liveBidsList')) || [],\r\n            gainerList: localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [],\r\n            looserList: localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [],\r\n        };\r\n        this.myCallback = this.myCallback.bind(this);\r\n        this.updateSocketWatch = this.updateSocketWatch.bind(this);\r\n\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            //  console.log(data);\r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n        })\r\n\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            //    console.log(\"time\", this.state.timeFrame);\r\n            if (this.state.tradingsymbol) {\r\n                this.showStaticChart(this.state.symboltoken);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    onChangeWatchlist = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var staticData = this.state.staticData;\r\n        this.setState({ symbolList: staticData[e.target.value] }, function () {\r\n            //    this.updateSocketWatch();\r\n            this.checkOpenEqualToLow();\r\n            this.setState({ cursor: '' });\r\n        });\r\n\r\n        if (e.target.value == \"selectall\") {\r\n            this.setState({ symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) }, function () {\r\n                //      this.updateSocketWatch();\r\n                //  this.checkOpenEqualToLow();\r\n                this.setState({ cursor: '' });\r\n            });\r\n        }\r\n    }\r\n    checkOpenEqualToLow = async () => {\r\n\r\n        this.setState({\r\n            openEqualHighList: [], openEqualLowList: [], openEqualLowList: [], advanceShareCount: 0,\r\n            declineShareCount: 0, UnchangeShareCount: 0, volumeCrossedList: [], closeingEqualHighList: []\r\n        });\r\n\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const element = this.state.symbolList[index];\r\n\r\n            var data = {\r\n                \"exchange\": element.exch_seg,\r\n                \"tradingsymbol\": element.symbol,\r\n                \"symboltoken\": element.token,\r\n            }\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                if (LtpData) {\r\n\r\n                    let change = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2);\r\n                    LtpData.nc = change;\r\n                    LtpData.symbol = element.symbol;\r\n\r\n                    this.state.symbolList[index].ltp = LtpData.ltp;\r\n                    this.state.symbolList[index].nc = change;\r\n\r\n                    if (LtpData && LtpData.open == LtpData.low) {\r\n                        console.log(\"o=l\", LtpData);\r\n                        var isfound = this.state.openEqualLowList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ openEqualLowList: [...this.state.openEqualLowList, LtpData] });\r\n                    }\r\n                    console.log(element.symbol, \"ltp=newhigh\", LtpData.ltp, (LtpData.high - LtpData.high * 0.5 / 100));\r\n\r\n                    if (LtpData && LtpData.ltp >= (LtpData.high - LtpData.high * 0.5 / 100)) {\r\n                        var isfound = this.state.closeingEqualHighList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ closeingEqualHighList: [...this.state.closeingEqualHighList, LtpData] });\r\n                    }\r\n\r\n                    if (LtpData && LtpData.open == LtpData.high) {\r\n                        console.log(\"o=h\", LtpData);\r\n                        var isfound = this.state.openEqualHighList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ openEqualHighList: [...this.state.openEqualHighList, LtpData] });\r\n\r\n                    }\r\n\r\n                    if (LtpData.perChange > 0)\r\n                        this.setState({ advanceShareCount: this.state.advanceShareCount + 1 });\r\n                    else if (LtpData.perChange < 0)\r\n                        this.setState({ declineShareCount: this.state.declineShareCount + 1 });\r\n                    else\r\n                        this.setState({ UnchangeShareCount: this.state.UnchangeShareCount + 1 });\r\n\r\n\r\n                    this.state.symbolList && this.state.symbolList.sort(function (a, b) {\r\n                        return b.nc - a.nc;\r\n                    });\r\n                    this.setState({ symbolList: this.state.symbolList, tradingsymbol: element.symbol, symboltoken: element.token });\r\n\r\n                    //   this.dailyBasisInfoCheck(element.token, element);\r\n\r\n                    // this.checkSlowMotionStock(element.token, element);\r\n\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    myCallback = (date, fromDate) => {\r\n        if (fromDate === \"START_DATE\") {\r\n            this.setState({ startDate: date });\r\n        } else if (fromDate === \"END_DATE\") {\r\n            this.setState({ endDate: date });\r\n        }\r\n    };\r\n    getLTP = () => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\": this.state.symboltoken,\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            this.setState({ InstrumentLTP: LtpData });\r\n\r\n            if (LtpData && LtpData.ltp)\r\n                this.setState({ InstrumentPerChange: ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2) });\r\n            //  this.dailyBasisInfoCheck(this.state.symboltoken);\r\n\r\n\r\n        })\r\n    }\r\n    decodeWebsocketData = (array) => {\r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n\r\n        return newarray.join('');\r\n    }\r\n\r\n\r\n\r\n    makeConnection = (wsClint) => {\r\n        var firstTime_req = '{\"task\":\"cn\",\"channel\":\"NONLM\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n        wsClint.send(firstTime_req);\r\n        this.updateSocketWatch(wsClint);\r\n    }\r\n\r\n    updateSocketWatch = (wsClint) => {\r\n        var channel = this.state.symbolList.map(element => {\r\n            return 'nse_cm|' + element.token;\r\n        });\r\n        channel = channel.join('&');\r\n        var updateSocket = {\r\n            \"task\": \"mw\",\r\n            \"channel\": channel,\r\n            \"token\": this.state.feedToken,\r\n            \"user\": this.state.clientcode,\r\n            \"acctid\": this.state.clientcode\r\n        }\r\n        console.log(\"updated ws watchlisht\", this.state.selectedWatchlist, updateSocket);\r\n        wsClint.send(JSON.stringify(updateSocket));\r\n    }\r\n\r\n    updateSocketDetails = (wsClint) => {\r\n        wsClint.onopen = (res) => {\r\n            this.makeConnection(wsClint);\r\n            this.updateSocketWatch(wsClint);\r\n        }\r\n\r\n        wsClint.onmessage = (message) => {\r\n            var decoded = window.atob(message.data);\r\n            var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n            var liveData = JSON.parse(data);\r\n            var symbolListArray = this.state.symbolList;\r\n            this.state.symbolList && this.state.symbolList.forEach((element, index) => {\r\n                var foundLive = liveData.filter(row => row.tk == element.token);\r\n                if (foundLive.length > 0 && foundLive[0].ltp && foundLive[0].nc) {\r\n                    symbolListArray[index].ltp = foundLive[0].ltp;\r\n                    symbolListArray[index].nc = foundLive[0].nc;\r\n                    //  console.log(\"ws onmessage: \", foundLive);\r\n\r\n                }\r\n            });\r\n            symbolListArray && symbolListArray.sort(function (a, b) {\r\n                return b.nc - a.nc;\r\n            });\r\n            this.setState({ symbolList: symbolListArray });\r\n        }\r\n\r\n        wsClint.onerror = (e) => {\r\n            console.log(\"socket error\", e);\r\n        }\r\n\r\n        setInterval(() => {\r\n            //  this.makeConnection();\r\n            var _req = '{\"task\":\"hb\",\"channel\":\"\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n            // console.log(\"Request :- \" + _req);\r\n            wsClint.send(_req);\r\n        }, 59000);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"Home\";\r\n        this.setState({ symbolList: this.state.staticData[this.state.selectedWatchlist] });\r\n\r\n        var tokens = JSON.parse(localStorage.getItem(\"userTokens\"));\r\n        var feedToken = tokens && tokens.feedToken;\r\n        var userProfile = JSON.parse(localStorage.getItem(\"userProfile\"));\r\n        var clientcode = userProfile && userProfile.clientcode;\r\n        this.setState({ feedToken: feedToken, clientcode: clientcode });\r\n\r\n        const domElement = document.getElementById('tvchart');\r\n        document.getElementById('tvchart').innerHTML = '';\r\n        const chart = createChart(domElement, { width: 600, height: 400, timeVisible: true, secondsVisible: true, });\r\n        const candleSeries = chart.addCandlestickSeries();\r\n        var smaLineSeries = chart.addLineSeries({\r\n            color: 'rgba(4, 111, 232, 1)',\r\n            lineWidth: 2,\r\n        });\r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n\r\n        this.setState({ chart: chart, candleSeries: candleSeries, smaLineSeries: smaLineSeries, volumeSeries: volumeSeries });\r\n\r\n        // this.checkOpenEqualToLow();\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            // const wsClint = new w3cwebsocket('wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream');\r\n            // this.updateSocketDetails(wsClint);\r\n            setInterval(() => {\r\n                if (this.state.tradingsymbol) {\r\n                    this.getLTP();\r\n                    //this.showStaticChart(this.state.symboltoken);\r\n                }\r\n                var fastMovementList = localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList'));\r\n                fastMovementList && fastMovementList.length && fastMovementList.reverse();\r\n                this.setState({ fastMovementList: fastMovementList })\r\n            }, 1000);\r\n\r\n            setInterval(() => {\r\n                this.checkSlowMotionCheckLive();\r\n            }, 5 * 75000);\r\n\r\n\r\n            setInterval(() => {\r\n                this.searchValumeBreakoutStock();\r\n            }, 15 * 75000);\r\n\r\n\r\n            var tostartInteral = setInterval(() => {\r\n                var time = new Date();\r\n                console.log(\"setinterval \", new Date().toLocaleString());\r\n                if (time.getMinutes() % 60 === 0) {\r\n                    setTimeout(() => {\r\n                        this.oneHourBullBearCheck();\r\n                    }, 90000);\r\n                    setInterval(() => {\r\n                        this.oneHourBullBearCheck();\r\n                    }, 60000 * 60 + 70000);\r\n                    clearInterval(tostartInteral);\r\n                }\r\n            }, 1000);\r\n\r\n        }\r\n\r\n\r\n        setInterval(() => {\r\n\r\n\r\n            this.setState({ gainerList: localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) })\r\n            this.setState({ looserList: localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) })\r\n\r\n\r\n        }, 1000);\r\n\r\n        //  this.oneHourBullBearCheck(); \r\n\r\n        // this.checkLiveBids();\r\n\r\n    }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState){\r\n    //     return  false //!equals(nextProps, this.props); // equals() is your implementation\r\n    // }\r\n\r\n\r\n    placeOrder = (transactiontype) => {\r\n\r\n        var data = {\r\n            \"variety\": \"NORMAL\",\r\n            \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\": this.state.symboltoken,\r\n            \"transactiontype\": transactiontype, //BUY OR SELL\r\n            \"exchange\": \"NSE\",\r\n            \"ordertype\": this.state.buyPrice === 0 ? \"MARKET\" : \"LIMIT\",\r\n            \"producttype\": this.state.producttype, //\"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"quantity\": this.state.quantity,\r\n        }\r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //   console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                localStorage.setItem('ifNotBought', 'false')\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n\r\n                if (this.state.stoploss) {\r\n\r\n                    if (transactiontype == \"BUY\") {\r\n                        this.placeSLMOrder(\"SELL\");\r\n                    }\r\n\r\n                    if (transactiontype == \"SELL\") {\r\n                        this.placeSLMOrder(\"BUY\");\r\n                    }\r\n\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    LoadSymbolDetails = (name, i) => {\r\n        console.log(\"name\", name);\r\n        var token = '';\r\n        var watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [];\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            if (watchList[index].symbol === name || watchList[index].name === name) {\r\n                token = watchList[index].token;\r\n                console.log(\"name % token\", name, token);\r\n                this.setState({ tradingsymbol: watchList[index].symbol, symboltoken: watchList[index].token }, function () {\r\n                    this.setState({ cursor: i }, function () {\r\n                        this.showStaticChart(token);\r\n                        // this.getLTP();\r\n                        // this.dailyBasisInfoCheck(this.state.symboltoken);\r\n                    });\r\n                });\r\n                break;\r\n            } else {\r\n                // Notify.showError(name + \" not found!\");\r\n                console.log(name + \" not found!\");\r\n            }\r\n        }\r\n    }\r\n    getTimeFrameValue = (timeFrame) => {\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n\r\n\r\n        switch (timeFrame) {\r\n            // case 'ONE_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n            //         return \"19:00:00\";\r\n            //     else\r\n            //         return \"01:00:00\";\r\n            //     break;\r\n            // case 'FIVE_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n            //         return \"23:00:00\";\r\n            //     else\r\n            //         return \"03:00:00\";\r\n            //     break;\r\n            // case 'TEN_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n            //         return \"24:21:00\";\r\n            //     else\r\n            //         return \"07:00:00\";\r\n            //     break;\r\n            // case 'FIFTEEN_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n            //         return \"28:01:00\";\r\n            //     else\r\n            //         return \"10:01:00\";\r\n            //     break;\r\n            // case 'THIRTY_MINUTE':\r\n            //     return \"100:01:00\";\r\n            //     break;\r\n            // case 'ONE_HOUR':\r\n            //     return \"200:01:00\";\r\n            //     break;\r\n            // case 'ONE_DAY':\r\n            //     return \"1000:01:00\";\r\n            //     break;\r\n            // default:\r\n            //     break;\r\n\r\n            case 'ONE_MINUTE':\r\n                return \"720:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"1000:00:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    calculateSMA = (data, count) => {\r\n\r\n        //  console.log(\"smarowdata\", data, count);\r\n\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    //   calculateBBValue = (data, type ) => {\r\n\r\n    //     console.log(\"smarowdata\", data , count); \r\n\r\n    //     var result = [];\r\n    //     for (var i=count - 1, len=data.length; i < len; i++){\r\n    //       var val = avg(data.slice(i - count + 1, i));\r\n    //       result.push({ time: data[i].time, value: val});\r\n    //     }\r\n    //     return result;\r\n    //   }\r\n\r\n\r\n\r\n    showStaticChart = (token) => {\r\n\r\n        this.setState({ chartStaticData: '' }, function () {\r\n            console.log('reset done', token);\r\n        });\r\n\r\n\r\n\r\n\r\n        console.log(\"time in function \", this.state.timeFrame);\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        // var time = moment.duration(\"10:50:00\");\r\n        // var startDate = moment(new Date()).subtract(time);\r\n        // var startdate = moment(this.state.startDate).subtract(time);\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n        let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n        var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n        var startDate = moment(new Date()).subtract(time);\r\n\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token,\r\n            \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE \r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n\r\n\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let historyData = resolveResponse(res, 'noPop');\r\n            //    console.log(data); \r\n            if (historyData && historyData.data) {\r\n\r\n                var data = historyData.data;\r\n\r\n                const cdata = data.map(d => {\r\n                    return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                });\r\n\r\n                var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                data.forEach((element, loopindex) => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                    closeingData.push(element[4]);\r\n                    highData.push(element[2]);\r\n                    lowData.push(element[3]);\r\n                    openData.push(element[3]);\r\n                    valumeData.push(element[5]);\r\n                    bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                });\r\n\r\n                var input = {\r\n                    period: 20,\r\n                    values: bbdata,\r\n                    stdDev: 2\r\n                }\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var inputRSI = { values: closeingData, period: 14 };\r\n                var rsiValues = RSI.calculate(inputRSI);\r\n\r\n                console.log(token, \"Rsi\", inputRSI, rsiValues);\r\n                console.log(token, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                this.setState({ chartStaticData: cdata, bblastValue: bb[bb.length - 1], vwapvalue: vwap(vwapdata), rsiValues: rsiValues.slice(Math.max(valumeData.length - 19, 1)), valumeData: valumeData.slice(Math.max(valumeData.length - 5, 1)) }, function () {\r\n                    // candleSeries.setData(this.state.chartStaticData); \r\n                    this.state.candleSeries.setData(this.state.chartStaticData);\r\n\r\n                    this.state.volumeSeries.setData(volumeSeriesData);\r\n\r\n                    var smaData = this.calculateSMA(this.state.chartStaticData, 20);\r\n\r\n                    this.state.smaLineSeries.setData(smaData);\r\n\r\n\r\n                    this.state.chart.subscribeCrosshairMove((param) => {\r\n\r\n                        var getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n                        var string = \"\";\r\n                        var change = \"\";\r\n\r\n                        for (var elem of getit) {\r\n\r\n                            if (typeof elem[1] == 'object') {\r\n                                string += \" Open: <b>\" + elem[1].open + \"</b>\";\r\n                                string += \" High: <b>\" + elem[1].high + \"</b>\";\r\n                                string += \" Low: <b>\" + elem[1].low + \"</b>\";\r\n                                string += \" Close: <b>\" + elem[1].close + \"</b>\";\r\n                                change = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n                                string += \" Chng: <b>\" + change.toFixed(2) + '%</b>';\r\n                            } else {\r\n                                string += \" &nbsp; \" + elem[1].toFixed(2) + \" \";\r\n                            }\r\n                        }\r\n\r\n                        if (param.time)\r\n                            string += \" Time: <b>\" + new Date(param.time).toLocaleString() + \"</b>\";\r\n                        else\r\n                            string += \" <b>Time: </b>\";\r\n\r\n\r\n                        const domElement = document.getElementById('showChartTitle');\r\n\r\n\r\n                        var str = \"<span style=color:green>\" + string + \"</span> \";\r\n                        if (change < 0)\r\n                            str = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n                        domElement.innerHTML = str;\r\n                    });\r\n\r\n\r\n                });\r\n\r\n\r\n                data && data.sort(function (a, b) {\r\n                    return new Date(b[0]) - new Date(a[0]);\r\n                });\r\n                if (data.length > 0) {\r\n                    localStorage.setItem('InstrumentHistroy', JSON.stringify(data));\r\n                    this.setState({ InstrumentHistroy: data });\r\n\r\n\r\n                    var upsideMoveCount = 0, downMoveCount = 0, totalSum = 0;\r\n                    data.forEach(element => {\r\n\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n                        if (per >= 0.3) {\r\n                            upsideMoveCount += 1;\r\n                        }\r\n                        if (per <= -0.3) {\r\n                            downMoveCount += 1;\r\n                        }\r\n\r\n                        totalSum += per;\r\n\r\n                    });\r\n\r\n\r\n                    this.setState({ downMoveCount: downMoveCount, upsideMoveCount: upsideMoveCount, totalPerchentageChange: totalSum, startingFrom: moment(startDate).format(format1) });\r\n\r\n\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    checkSlowMotionStock = (token, stock) => {\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var time = moment.duration(\"240:00:00\");  //22:00:00\" for last day  2hours \r\n        var startDate = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'FIVE_MINUTE',\r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0;\r\n\r\n                var bigCandleCount = 0;\r\n\r\n                for (let index = candleDatad.length - 375; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n\r\n                    if (element) {\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                        if (per >= 0.4) {\r\n                            bigCandleCount += 1;\r\n                            console.log(stock.symbol, per, element[0]);\r\n\r\n                        }\r\n                        if (per <= -0.4) {\r\n                            bigCandleCount += 1;\r\n                            console.log(stock.symbol, per, element[0]);\r\n\r\n                        }\r\n                    }\r\n                }\r\n                console.log(\"Totalcount\", stock.symbol, bigCandleCount);\r\n                if (bigCandleCount <= 15) {\r\n\r\n                    stock.bigCandleCount = bigCandleCount;\r\n\r\n                    this.setState({ slowMotionStockList: [...this.state.slowMotionStockList, stock] }, function () {\r\n                        localStorage.setItem(\"slowMotionStockList\", JSON.stringify(this.state.slowMotionStockList));\r\n                    });\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    checkSlowMotionCheckLive = async () => {\r\n\r\n        for (let index = 0; index < this.state.slowMotionStockList.length; index++) {\r\n            const row = this.state.slowMotionStockList[index];\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var time = moment.duration(\"22:00:00\");  //22:00:00\" for last day  2hours \r\n            var startDate = moment(new Date()).subtract(time);\r\n            var dataDay = {\r\n                \"exchange\": 'NSE',\r\n                \"symboltoken\": row.token,\r\n                \"interval\": 'FIVE_MINUTE',\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n            AdminService.getHistoryData(dataDay).then(resd => {\r\n                let histdatad = resolveResponse(resd, 'noPop');\r\n                var DSMA = '';\r\n                if (histdatad && histdatad.data && histdatad.data.length) {\r\n                    var candleDatad = histdatad.data;\r\n                    var closeingDatadaily = [], valumeSum = 0;\r\n\r\n                    var bigCandleCount = 0, bullishCount = 0;\r\n\r\n                    for (let index = candleDatad.length - 3; index < candleDatad.length; index++) {\r\n                        const element = candleDatad[index];\r\n\r\n                        if (element) {\r\n\r\n                            var per = (element[4] - element[1]) * 100 / element[1];\r\n                            if (per >= 0.7) {\r\n                                bigCandleCount += 1;\r\n                            }\r\n                            if (per >= 0) {\r\n                                bullishCount += 1;\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    if (bigCandleCount >= 1) {\r\n                        row.highlisht = true;\r\n                        window.document.title = \"SM: \" + row.symbol;\r\n                        console.log('hey listen, slow motion stock' + row.symbol + \" broken\");\r\n\r\n                        this.speckIt('hey listen, slow motion stock' + row.symbol + \" broken\");\r\n\r\n                        this.setState({ slowMotionStockList: this.state.slowMotionStockList })\r\n                    }\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n    checkLiveBids = async () => {\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const row = this.state.symbolList[index];\r\n\r\n            AdminService.checkLiveBids(row.name).then(resd => {\r\n                // let histdatad = resolveResponse(resd, 'noPop');\r\n\r\n                console.log(\"bid\", resd.data.data);\r\n\r\n                // adhocMargin: \"0.48\"\r\n                // applicableMargin: \"19.00\"\r\n                // averagePrice: \"705.27\"\r\n                // basePrice: \"717.15\"\r\n                // bcEndDate: \"-\"\r\n                // bcStartDate: \"-\"\r\n                // buyPrice1: \"710.60\"\r\n                // buyPrice2: \"710.55\"\r\n                // buyPrice3: \"710.50\"\r\n                // buyPrice4: \"710.45\"\r\n                // buyPrice5: \"710.40\"\r\n                // buyQuantity1: \"6\"\r\n                // buyQuantity2: \"50\"\r\n                // buyQuantity3: \"33\"\r\n                // buyQuantity4: \"153\"\r\n                // buyQuantity5: \"100\"\r\n                // change: \"-6.55\"\r\n                // closePrice: \"0.00\"\r\n                // cm_adj_high_dt: \"28-SEP-21\"\r\n                // cm_adj_low_dt: \"28-SEP-20\"\r\n                // cm_ffm: \"4,96,600.56\"\r\n                // companyName: \"ICICI Bank Limited\"\r\n                // css_status_desc: \"Listed\"\r\n                // dayHigh: \"710.95\"\r\n                // dayLow: \"701.30\"\r\n                // deliveryQuantity: \"55,54,344\"\r\n                // deliveryToTradedQuantity: \"63.08\"\r\n                // exDate: \"29-JUL-21\"\r\n                // extremeLossMargin: \"3.50\"\r\n                // faceValue: \"2.00\"\r\n                // high52: \"735.40\"\r\n                // indexVar: \"-\"\r\n                // isExDateFlag: false\r\n                // isinCode: \"INE090A01021\"\r\n                // lastPrice: \"710.60\"\r\n                // low52: \"349.10\"\r\n                // marketType: \"N\"\r\n                // ndEndDate: \"-\"\r\n                // ndStartDate: \"-\"\r\n                // open: \"707.35\"\r\n                // pChange: \"-0.91\"\r\n                // previousClose: \"717.15\"\r\n                // priceBand: \"No Band\"\r\n                // pricebandlower: \"645.45\"\r\n                // pricebandupper: \"788.85\"\r\n                // purpose: \"DIVIDEND - RS 2 PER SHARE\"\r\n                // quantityTraded: \"88,05,883\"\r\n                // recordDate: \"30-JUL-21\"\r\n                // secDate: \"29-Sep-2021 14:00:00\"\r\n                // securityVar: \"15.02\"\r\n                // sellPrice1: \"710.65\"\r\n                // sellPrice2: \"710.70\"\r\n                // sellPrice3: \"710.75\"\r\n                // sellPrice4: \"710.80\"\r\n                // sellPrice5: \"710.85\"\r\n                // sellQuantity1: \"1,382\"\r\n                // sellQuantity2: \"719\"\r\n                // sellQuantity3: \"1,217\"\r\n                // sellQuantity4: \"4,159\"\r\n                // sellQuantity5: \"793\"\r\n                // series: \"EQ\"\r\n                // surv_indicator: \"-\"\r\n                // symbol: \"ICICIBANK\"\r\n                // totalBuyQuantity: \"10,31,358\"\r\n                // totalSellQuantity: \"8,75,359\"\r\n                // totalTradedValue: \"66,963.99\"\r\n                // totalTradedVolume: \"94,94,802\"\r\n\r\n                if (resd.data && resd.data.data.length) {\r\n\r\n                    let bidlivedata = resd.data.data[0];\r\n                    let biddata = {\r\n                        totalBuyQuantity: bidlivedata.totalBuyQuantity,\r\n                        totalSellQuantity: bidlivedata.totalSellQuantity,\r\n                        deliveryToTradedQuantity: bidlivedata.deliveryToTradedQuantity,\r\n                        symbol: bidlivedata.symbol,\r\n                        orderType: bidlivedata.totalBuyQuantity + \"|\" + bidlivedata.totalSellQuantity,\r\n                        nc: bidlivedata.pChange,\r\n                        ltp: bidlivedata.lastPrice,\r\n                    }\r\n\r\n                    this.setState({ liveBidsList: [...this.state.liveBidsList, biddata] }, function () {\r\n\r\n                        localStorage.setItem(\"liveBidsList\", JSON.stringify(this.state.liveBidsList));\r\n                    });\r\n\r\n\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 100));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    oneHourBullBearCheck = async () => {\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const row = this.state.symbolList[index];\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var time = moment.duration(\"04:00:00\");  //22:00:00\" for last day  2hours \r\n            var startDate = moment(new Date()).subtract(time);\r\n            var dataDay = {\r\n                \"exchange\": 'NSE',\r\n                \"symboltoken\": row.token,\r\n                \"interval\": 'ONE_HOUR',\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n            AdminService.getHistoryData(dataDay).then(resd => {\r\n                let histdatad = resolveResponse(resd, 'noPop');\r\n                var DSMA = '';\r\n                if (histdatad && histdatad.data && histdatad.data.length) {\r\n                    var candleDatad = histdatad.data;\r\n                    let lastCandle = '';\r\n                    if (candleDatad.length > 1) {\r\n                        lastCandle = candleDatad[candleDatad.length - 2];\r\n                    } else {\r\n                        lastCandle = candleDatad[candleDatad.length - 1];\r\n                    }\r\n\r\n\r\n\r\n                    if ((lastCandle[1] == lastCandle[3]) && (lastCandle[2] == lastCandle[4])) {\r\n                        window.document.title = \"Hourly Buy: \" + row.symbol;\r\n                        console.log(row.name, \"Hourly Buy\", candleDatad[candleDatad.length - 1]);\r\n                        row.orderType = \" Hourly Buy\";\r\n                        row.foundAt = new Date(candleDatad[candleDatad.length - 1][0]).toLocaleString()\r\n                        this.speckIt(row.name + \" Hourly Bullish \");\r\n                        this.setState({ oneHourBullBearCheckList: [...this.state.oneHourBullBearCheckList, row] });\r\n                    }\r\n                    if ((lastCandle[1] == lastCandle[2]) && (lastCandle[3] == lastCandle[4])) {\r\n                        window.document.title = \"Hourly Sell: \" + row.symbol;\r\n                        console.log(row.name, \"Hourly Sell\", candleDatad[candleDatad.length - 1]);\r\n                        row.orderType = \" Hourly Sell\";\r\n                        row.foundAt = new Date(candleDatad[candleDatad.length - 1][0]).toLocaleString()\r\n                        this.speckIt(row.name + \" Hourly Sell \");\r\n                        this.setState({ oneHourBullBearCheckList: [...this.state.oneHourBullBearCheckList, row] });\r\n                    }\r\n\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    searchValumeBreakoutStock = async () => {\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const row = this.state.symbolList[index];\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var time = moment.duration(\"60:00:00\");  //22:00:00\" for last day  2hours \r\n            var startDate = moment(new Date()).subtract(time);\r\n            var dataDay = {\r\n                \"exchange\": 'NSE',\r\n                \"symboltoken\": row.token,\r\n                \"interval\": 'FIFTEEN_MINUTE',\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n            AdminService.getHistoryData(dataDay).then(resd => {\r\n                let histdatad = resolveResponse(resd, 'noPop');\r\n                var DSMA = '';\r\n                if (histdatad && histdatad.data && histdatad.data.length) {\r\n                    var candleDatad = histdatad.data;\r\n\r\n                    var volumeSum = 0, findmaxVol = candleDatad[0][5];\r\n                    let currentCandleVol = candleDatad[candleDatad.length - 1][5];\r\n                    let firstCandleCloseingPrice = candleDatad[0][4], priceGoingHighCount = 0;\r\n                    let firstCandleCloseingPriceDownSide = candleDatad[0][4], priceGoingLowCount = 0;\r\n\r\n                    for (let index = candleDatad.length - 6; index < candleDatad.length - 1; index++) {\r\n                        const element = candleDatad[index];\r\n                        if (element) {\r\n                            volumeSum += element[5];\r\n                            //  console.log(row.symbol, ' last candle index ',index,   element[0] );\r\n                            if (findmaxVol < element[5]) {\r\n                                findmaxVol = element[5];\r\n                            }\r\n\r\n                            if (firstCandleCloseingPrice < element[4]) {\r\n                                console.log(row.symbol, firstCandleCloseingPrice, 'upside last candle index ', index, element[4]);\r\n                                firstCandleCloseingPrice = element[4];\r\n                                priceGoingHighCount += 1;\r\n                            }\r\n\r\n                            if (element[4] < firstCandleCloseingPriceDownSide) {\r\n                                console.log(row.symbol, firstCandleCloseingPrice, ' downside last candle index ', index, element[4]);\r\n                                firstCandleCloseingPriceDownSide = element[4];\r\n                                priceGoingLowCount += 1;\r\n                            }\r\n                        }\r\n\r\n\r\n                    }\r\n                    let avgVol = volumeSum / 5;\r\n\r\n                    if (currentCandleVol / findmaxVol > 1.75 && priceGoingHighCount >= 4) {\r\n                        window.document.title = \"VB: \" + row.symbol;\r\n                        row.orderType = \" Vol \" + (currentCandleVol / findmaxVol).toFixed(2) + \" Time & price incresing\";\r\n                        row.foundAt = new Date(candleDatad[candleDatad.length - 1][0]).toLocaleString()\r\n                        console.log(row.name + \" volume crossed \" + (currentCandleVol / findmaxVol).toFixed(2) + \" time of average \", avgVol, currentCandleVol, candleDatad[candleDatad.length - 1][0], findmaxVol);\r\n                        this.speckIt(row.name + \" volume crossed \" + (currentCandleVol / findmaxVol).toFixed(2) + \" Time and price incresing\");\r\n                        this.setState({ volumeBreakoutlast5CandleList: [...this.state.volumeBreakoutlast5CandleList, row] });\r\n                    }\r\n                    if (currentCandleVol / findmaxVol > 1.75 && priceGoingLowCount >= 4) {\r\n                        window.document.title = \"VB: \" + row.symbol;\r\n                        row.orderType = \" Vol \" + (currentCandleVol / findmaxVol).toFixed(2) + \" Time & price decresing\";\r\n                        row.foundAt = new Date(candleDatad[candleDatad.length - 1][0]).toLocaleString()\r\n                        console.log(row.name + \" volume crossed \" + (currentCandleVol / findmaxVol).toFixed(2) + \" time of average \", avgVol, currentCandleVol, candleDatad[candleDatad.length - 1][0], findmaxVol);\r\n                        this.speckIt(row.name + \" volume crossed \" + (currentCandleVol / findmaxVol).toFixed(2) + \" Time and price decresing \");\r\n                        this.setState({ volumeBreakoutlast5CandleList: [...this.state.volumeBreakoutlast5CandleList, row] });\r\n                    }\r\n                    // else if(currentCandleVol > avgVol){\r\n                    //     row.highlisht =  true; \r\n                    //     window.document.title = \"VB: \" + row.symbol;\r\n                    //     console.log(row.symbol, ' avg ', avgVol, currentCandleVol,  candleDatad[candleDatad.length-1][0]);\r\n                    //     this.speckIt('Volume  in ' + row.name + \" crossed average \");\r\n                    //     this.setState({ volumeBreakoutlast5CandleList: this.state.slowMotionStockList })\r\n                    // }\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n\r\n\r\n\r\n    dailyBasisInfoCheck = (token, element) => {\r\n        //this.setState({DailyBulishStatus: ''}); \r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n        let timeDuration = this.getTimeFrameValue('ONE_DAY');\r\n        var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n        var startDateforDaily = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'ONE_DAY',\r\n            \"fromdate\": moment(startDateforDaily).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0;\r\n\r\n\r\n                for (let index = candleDatad.length - 20; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n                    if (element) {\r\n                        closeingDatadaily.push(element[4]);\r\n                        valumeSum += element[5];\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                DSMA = SMA.calculate({ period: 20, values: closeingDatadaily });\r\n                this.setState({ dailyAvgValume: valumeSum / 20 });\r\n\r\n                var DSMALastValue = DSMA && DSMA[DSMA.length - 1];\r\n                console.log(token, \"DSMA\", DSMALastValue);\r\n\r\n                if (DSMALastValue) {\r\n                    this.setState({ DailyBulishStatus: DSMALastValue, todayCurrentVolume: candleDatad[candleDatad.length - 1][5] });\r\n                }\r\n\r\n                if (candleDatad[candleDatad.length - 1][5] > valumeSum / 20) {\r\n                    console.log(\"crosssed voliue\", element);\r\n                    this.setState({ volumeCrossedList: [...this.state.volumeCrossedList, element] })\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n    placeSLMOrder = (slmOrderType) => {\r\n\r\n        var data = {\r\n            \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\": this.state.symboltoken,\r\n            \"transactiontype\": slmOrderType,\r\n            \"exchange\": \"NSE\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"producttype\": this.state.producttype, //\"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"quantity\": this.state.quantity,\r\n            \"triggerprice\": this.state.stoploss,\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //     console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                localStorage.setItem('ifNotBought', 'false')\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    // getHistory = (token) => {\r\n\r\n\r\n    //     this.setState({ downMoveCount: 0, upsideMoveCount: 0 });\r\n    //     this.setState({ InstrumentHistroy: [] });\r\n    //     this.getLTP();\r\n\r\n\r\n    //     const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n    //     var time = moment.duration(\"00:50:00\");\r\n    //     var startdate = moment(new Date()).subtract(time);\r\n    //     // var startdate = moment(this.state.startDate).subtract(time);\r\n    //     var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n    //     var data = {\r\n    //         \"exchange\": \"NSE\",\r\n    //         \"symboltoken\": token,\r\n    //         \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE \r\n    //         \"fromdate\": moment(startdate).format(format1),\r\n    //         \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n    //     }\r\n\r\n    //     AdminService.getHistoryData(data).then(res => {\r\n    //         let data = resolveResponse(res, 'noPop');\r\n    //         //    console.log(data); \r\n    //         if (data && data.data) {\r\n\r\n    //             var histCandles = data.data;\r\n    //             histCandles && histCandles.sort(function (a, b) {\r\n    //                 return new Date(b[0]) - new Date(a[0]);\r\n    //             });\r\n    //             if (histCandles.length > 0) {\r\n    //                 localStorage.setItem('InstrumentHistroy', JSON.stringify(histCandles));\r\n    //                 this.setState({ InstrumentHistroy: histCandles });\r\n\r\n    //             }\r\n\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    onSelectItem = (event, values) => {\r\n\r\n\r\n        var autoSearchTemp = JSON.parse(localStorage.getItem('autoSearchTemp'));\r\n        //  console.log(\"values\", values); \r\n        //   console.log(\"autoSearchTemp\", autoSearchTemp); \r\n        if (autoSearchTemp.length > 0) {\r\n            var fdata = '';\r\n            for (let index = 0; index < autoSearchTemp.length; index++) {\r\n\r\n                if (autoSearchTemp[index].symbol === values) {\r\n                    fdata = autoSearchTemp[index];\r\n                    break;\r\n                }\r\n            }\r\n\r\n\r\n            var watchlist = []; //localStorage.getItem(\"watchList\") ? JSON.parse(localStorage.getItem(\"watchList\")) : []; \r\n\r\n            var foundInWatchlist = watchlist.filter(row => row.token === values);\r\n\r\n            if (!foundInWatchlist.length) {\r\n\r\n                watchlist.push(fdata);\r\n                this.setState({ tradingsymbol: fdata.symbol, symboltoken: fdata.token }, function () {\r\n                    this.LoadSymbolDetails(fdata.symbol);\r\n                });\r\n\r\n                this.setState({ symbolList: watchlist }, function () {\r\n                    //  this.updateSocketWatch();\r\n                });\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n    onSelectItemChart = (event, values) => {\r\n        var autoSearchTemp = JSON.parse(localStorage.getItem('autoSearchTemp'));\r\n        //  console.log(\"values\", values); \r\n        //   console.log(\"autoSearchTemp\", autoSearchTemp); \r\n        if (autoSearchTemp.length > 0) {\r\n            var fdata = '';\r\n            for (let index = 0; index < autoSearchTemp.length; index++) {\r\n\r\n                if (autoSearchTemp[index].symbol === values) {\r\n                    fdata = autoSearchTemp[index];\r\n                    break;\r\n                }\r\n            }\r\n            this.setState({ tradingsymbol: fdata.symbol, symboltoken: fdata.token, seachSumbol: \"\" }, function () {\r\n                this.getLTP();\r\n                this.showStaticChart(fdata.token);\r\n                this.LoadSymbolDetails(fdata.symbol);\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n\r\n    deleteItemWatchlist = (symbol) => {\r\n        var list = this.state.symbolList; // JSON.parse( localStorage.getItem('watchList'));\r\n        var index = list.findIndex(data => data.symbol === symbol)\r\n        list.splice(index, 1);\r\n        //  localStorage.setItem('watchList',  JSON.stringify(list)); \r\n        this.setState({ symbolList: list });\r\n    }\r\n\r\n    getAveragePrice = (orderId) => {\r\n\r\n        var oderbookData = localStorage.getItem('oderbookData');\r\n        var averageprice = 0;\r\n        for (let index = 0; index < oderbookData.length; index++) {\r\n            if (oderbookData[index].orderid === 'orderId') {\r\n                averageprice = oderbookData[index].averageprice\r\n                this.setState({ averageprice: averageprice });\r\n                break;\r\n            }\r\n        }\r\n        return averageprice;\r\n    }\r\n    showCandleChart = (candleData, symbol, insiderow) => {\r\n\r\n\r\n        candleData = candleData && candleData.reverse();\r\n\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n\r\n        if (insiderow)\r\n            localStorage.setItem('chartInfoDetails', JSON.stringify(insiderow));\r\n\r\n\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    showCandleBothChart = (row) => {\r\n        var candleChartData = row.candleChartData && row.candleChartData.reverse();\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleChartData))\r\n        localStorage.setItem('cadleChartSymbol', row.symbol)\r\n\r\n        var candleChartDataInside = row.candleChartDataInside;\r\n\r\n        if (candleChartDataInside)\r\n            localStorage.setItem('candleChartDataInside', JSON.stringify(candleChartDataInside));\r\n\r\n\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n\r\n        console.log(\"key\", e.keyCode);\r\n        //38 for down and 40 for up key\r\n        if (e.keyCode === 38 && this.state.cursor > 0) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor - 1 }));\r\n        } else if (e.keyCode === 40 && this.state.cursor < this.state.symbolList.length - 1) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor + 1 }))\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.updateCandleOnkey();\r\n        }, 100);\r\n\r\n    }\r\n\r\n\r\n    updateCandleOnkey = () => {\r\n        var selectedKeyRow = localStorage.getItem('selectedKeyRow') && JSON.parse(localStorage.getItem('selectedKeyRow'));\r\n        if (selectedKeyRow.token && selectedKeyRow.symbol) {\r\n            this.setState({ tradingsymbol: selectedKeyRow.symbol, symboltoken: selectedKeyRow.token }, function () {\r\n                this.getLTP();\r\n                this.showStaticChart(selectedKeyRow.token);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const dateParam = {\r\n            myCallback: this.myCallback,\r\n            startDate: '',\r\n            endDate: '',\r\n            firstLavel: \"Start Date and Time\",\r\n            secondLavel: \"End Date and Time\"\r\n        }\r\n\r\n\r\n        var sumPerChange = 0, sumBrokeragePer = 0, netSumPerChange = 0, sumPerChangeHighLow = 0, sumPnlValue = 0, sumPnlValueOnHighLow = 0, totalInvestedValue = 0, totalLongTrade = 0, totalShortTrade = 0;\r\n        var tradetotal = 0, totalWin = 0, totalLoss = 0;\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar LoadSymbolDetails={this.LoadSymbolDetails} />\r\n                <ChartDialog />\r\n                <Grid direction=\"row\" container spacing={1} style={{ padding: \"5px\" }} >\r\n\r\n                    <Grid item xs={12} sm={2}>\r\n\r\n                        <WatchListTab style={{ position: 'fixed' }} data={{ gainerList: this.state.gainerList, looserList: this.state.looserList, LoadSymbolDetails: this.LoadSymbolDetails, cursor: this.state.cursor, symbolList: this.state.symbolList, totalWatchlist: this.state.totalWatchlist, onChangeWatchlist: this.onChangeWatchlist, selectedWatchlist: this.state.selectedWatchlist, search: this.state.search, handleKeyDown: this.handleKeyDown, onChange: this.onChange, autoSearchList: this.state.autoSearchList, onSelectItem: this.onSelectItem, symbolList: this.state.symbolList, LoadSymbolDetails: this.LoadSymbolDetails, deleteItemWatchlist: this.deleteItemWatchlist }} />\r\n\r\n\r\n                        {/* <Paper>\r\n                            <Autocomplete\r\n                                freeSolo\r\n                                id=\"free-solo-2-demo\"\r\n                                disableClearable\r\n                                style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n                                onChange={this.onSelectItem}\r\n                                //+ ' '+  option.exch_seg\r\n                                options={this.state.autoSearchList.length > 0 ? this.state.autoSearchList.map((option) =>\r\n                                    option.symbol\r\n                                ) : []}\r\n                                renderInput={(params) => (\r\n                                    <TextField\r\n                                        onChange={this.onChange}\r\n                                        {...params}\r\n                                        label={\"Search Symbol\"}\r\n                                        margin=\"normal\"\r\n                                        variant=\"standard\"\r\n                                        name=\"search\"\r\n                                        onKeyDown={this.handleKeyDown}\r\n                                        value={this.state.search}\r\n                                        InputProps={{ ...params.InputProps, type: 'search' }}\r\n                                    />\r\n                                )}\r\n                            />\r\n\r\n                            <div style={{ marginLeft: '10px' }}>\r\n                                <FormControl style={{ paddingLeft: '12px' }} style={styles.selectStyle} >\r\n                                    <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                    <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                        <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n\r\n                                        {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                            <MenuItem value={element}>{element}</MenuItem>\r\n                                        ))\r\n                                        }\r\n\r\n                                    </Select>\r\n                                </FormControl>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div style={{ overflowY: 'scroll', height: \"75vh\" }} >\r\n\r\n                                {this.state.symbolList && this.state.symbolList.length ? this.state.symbolList.map((row, i) => (\r\n                                    <>\r\n                                        <ListItem onKeyDown={this.handleKeyDown} button selected={this.state.cursor === i ? 'active' : null}\r\n\r\n                                            style={{ fontSize: '12px', padding: '0px', paddingLeft: '5px', paddingRight: '5px' }} >\r\n\r\n                                            {this.state.cursor === i ? localStorage.setItem(\"selectedKeyRow\", JSON.stringify(row)) : \"\"}\r\n\r\n                                            <ListItemText style={{ color: !row.nc || row.nc == 0 ? \"\" : row.nc > 0 ? '#20d020' : \"#e66e6e\" }} onClick={() => this.LoadSymbolDetails(row.symbol, i)} primary={row.name} /> {row.ltp} ({row.nc}%)\r\n\r\n\r\n                                        </ListItem>\r\n\r\n                                    </>\r\n                                )) : ''}\r\n                            </div>\r\n\r\n                        </Paper> */}\r\n\r\n\r\n                        {/* <Typography style={{ fontWeight: 'bold' }}><span style={{ color: \"green\" }}> Advance {this.state.advanceShareCount} </span> <span style={{ color: \"red\" }}> Decline {this.state.declineShareCount} </span> <span> Unchange {this.state.UnchangeShareCount} </span> </Typography> */}\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={8}>\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n\r\n\r\n                            <Typography style={{ textAlign: \"center\", background: \"lightgray\" }}>Place Order</Typography>\r\n\r\n                            <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n                                <Grid item xs={10} sm={3}>\r\n\r\n                                    {this.state.tradingsymbol ?\r\n                                        <Typography variant=\"body1\" style={{ color: this.state.InstrumentPerChange > 0 ? \"#20d020\" : \"#e66e6e\" }} >\r\n\r\n                                            {this.state.tradingsymbol} : {this.state.InstrumentLTP ? this.state.InstrumentLTP.ltp : \"\"} ({this.state.InstrumentPerChange + \"%\"})\r\n\r\n                                        </Typography> : <Typography variant=\"h5\" >Select Symbol </Typography>}\r\n\r\n                                    O: {this.state.InstrumentLTP ? this.state.InstrumentLTP.open : \"\"} &nbsp;\r\n                                    H: {this.state.InstrumentLTP ? this.state.InstrumentLTP.high : \"\"} &nbsp;\r\n                                    L: {this.state.InstrumentLTP ? this.state.InstrumentLTP.low : \"\"}&nbsp;\r\n                                    C: {this.state.InstrumentLTP ? this.state.InstrumentLTP.close : \"\"} &nbsp;\r\n\r\n                                </Grid>\r\n\r\n                                <Grid item xs={10} sm={2}>\r\n\r\n                                    <Autocomplete\r\n                                        freeSolo\r\n                                        id=\"free-solo-2-demo\"\r\n                                        disableClearable\r\n                                        style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n                                        onChange={this.onSelectItemChart}\r\n                                        value={this.state.seachSumbol}\r\n                                        //+ ' '+  option.exch_seg\r\n                                        options={this.state.autoSearchList.length > 0 ? this.state.autoSearchList.map((option) =>\r\n                                            option.symbol\r\n                                        ) : []}\r\n                                        renderInput={(params) => (\r\n                                            <TextField\r\n                                                onChange={this.onChange}\r\n                                                {...params}\r\n                                                label={\"Search\"}\r\n                                                margin=\"normal\"\r\n                                                variant=\"standard\"\r\n                                                name=\"seachSumbol\"\r\n                                                InputProps={{ ...params.InputProps, type: 'search' }}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={10} sm={1}>\r\n                                    <FormControl style={styles.selectStyle} style={{ marginTop: '10px' }} >\r\n                                        <InputLabel htmlFor=\"gender\">Time</InputLabel>\r\n                                        <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onInputChange}>\r\n                                            <MenuItem value={'ONE_MINUTE'}>{'1M'}</MenuItem>\r\n                                            <MenuItem value={'FIVE_MINUTE'}>{'5M'}</MenuItem>\r\n                                            <MenuItem value={'TEN_MINUTE'}>{'10M'}</MenuItem>\r\n                                            <MenuItem value={'FIFTEEN_MINUTE'}>{'15M'}</MenuItem>\r\n                                            <MenuItem value={'THIRTY_MINUTE'}>{'30M'}</MenuItem>\r\n                                            <MenuItem value={'ONE_HOUR'}>{'1H'}</MenuItem>\r\n                                            <MenuItem value={'ONE_DAY'}>{'1D'}</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n\r\n\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={1}>\r\n                                    <FormControl style={styles.selectStyle} style={{ marginTop: '3px' }} >\r\n                                        <InputLabel htmlFor=\"gender\">Order Type</InputLabel>\r\n                                        <Select value={this.state.producttype} name=\"producttype\" onChange={this.onChange}>\r\n                                            <MenuItem value={\"INTRADAY\"}>Interaday</MenuItem>\r\n                                            <MenuItem value={\"DELIVERY\"}>Del</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={10} sm={1}>\r\n                                    <TextField id=\"buyPrice\" label=\"Buy Price\" value={this.state.buyPrice} name=\"buyPrice\" onChange={this.onChange} />\r\n                                </Grid>\r\n                                <Grid item xs={10} sm={1}>\r\n                                    <TextField id=\"quantity\" label=\"Qty\" value={this.state.quantity} name=\"quantity\" onChange={this.onChange} />\r\n                                </Grid>\r\n                                <Grid item xs={10} sm={1}>\r\n                                    <TextField id=\"stoploss\" label=\"SL\" value={this.state.stoploss} name=\"stoploss\" onChange={this.onChange} />\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={1} sm={2}  >\r\n                                    <Button variant=\"contained\" color=\"\" style={{ marginLeft: '20px' }} onClick={() => this.placeOrder('BUY')}>Buy</Button>\r\n                                    <Button variant=\"contained\" color=\"\" style={{ marginLeft: '20px' }} onClick={() => this.placeOrder('SELL')}>Sell</Button>\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n                                    <br />\r\n\r\n                                    {this.state.InstrumentLTP ?\r\n                                        <Grid item xs={12} sm={3} style={{ background: \"#00000014\" }} >\r\n\r\n                                            <div style={{ background: '#bdbdbd' }}>\r\n                                                <b>  Daily: {this.state.tradingsymbol}</b> <br />\r\n\r\n                                                <span title=\"20SMA\" item xs={12} sm={12} style={{ color: this.state.InstrumentLTP.ltp > this.state.DailyBulishStatus ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                                    Daily Avg Price: {this.state.DailyBulishStatus && this.state.DailyBulishStatus.toFixed(0)} {this.state.DailyBulishStatus ? this.state.InstrumentLTP.ltp > this.state.DailyBulishStatus ? \"BUY\" : \"SELL\" : \"\"}\r\n                                                </span><br />\r\n\r\n\r\n                                                <span title=\"averge of showed candle volume\" item xs={12} sm={12}>\r\n                                                    <b>Daily Avg Volume:</b>  {(this.state.dailyAvgValume / 100000).toFixed(2)}L\r\n                                                </span><br />\r\n                                                <span title=\"averge of showed candle volume\" item xs={12} sm={12}>\r\n                                                    {this.state.todayCurrentVolume > this.state.dailyAvgValume ? <b title=\"if cossed avg volume then its green\" style={{ color: \"green\" }}>Today Volume: {(this.state.todayCurrentVolume / 100000).toFixed(2)}L </b> : \"Today Volume:\" + (this.state.todayCurrentVolume / 100000).toFixed(2) + \"L\"}\r\n                                                </span>\r\n                                            </div>\r\n                                            <br />\r\n\r\n\r\n\r\n                                            <b>  Intraday: {this.state.timeFrame} : {this.state.tradingsymbol}</b> <br />\r\n                                            {this.state.bblastValue ? <span item xs={12} sm={12} >\r\n\r\n                                                <span title=\"Green color mean price running above upper bb band\" style={{ color: this.state.InstrumentLTP.ltp >= this.state.bblastValue.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>BB Upper: {this.state.bblastValue.upper.toFixed(2)}</span><br />\r\n                                                BB Middle(20 SMA): {this.state.bblastValue.middle.toFixed(2)}<br />\r\n                                                <span title=\"Green red mean price running below lower bb band\" style={{ color: this.state.InstrumentLTP.ltp <= this.state.bblastValue.lower ? \"red\" : \"\", fontWeight: \"bold\" }}>BB Lower: {this.state.bblastValue.lower.toFixed(2)}</span><br />\r\n                                            </span> : \"\"}\r\n\r\n                                            <span item xs={12} sm={12} style={{ color: this.state.InstrumentLTP.ltp > this.state.vwapvalue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                                VWAP:  {this.state.vwapvalue && this.state.vwapvalue.toFixed(2)}\r\n                                            </span>\r\n                                            <br />\r\n                                            <b> RSI: </b>{this.state.rsiValues && this.state.rsiValues.map((item, j) => (\r\n                                                item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n                                            ))}\r\n\r\n\r\n                                            <br />\r\n                                            <b>Vol:</b> {this.state.valumeData && this.state.valumeData.map((item, j) => (\r\n                                                <span style={{ color: item > this.state.dailyAvgValume ? \"green\" : \"\", fontWeight: item > this.state.dailyAvgValume ? \"bold\" : \"\" }}> {(item / 100000).toFixed(2)}L &nbsp;</span>\r\n                                            ))}\r\n\r\n                                            <br />  <br />\r\n\r\n                                        </Grid>\r\n                                        : \"\"}\r\n                                    <Grid item xs={12} sm={!this.state.InstrumentLTP ? 12 : 9}  >\r\n                                        <div id=\"showChartTitle\">\r\n\r\n\r\n\r\n                                        </div>\r\n                                        <div id=\"tvchart\"></div>\r\n\r\n                                    </Grid>\r\n\r\n\r\n                                    <Grid item xs={12} sm={12} style={{ overflowY: 'scroll', maxHeight: \"50vh\" }} >\r\n\r\n\r\n                                        <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                            <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                                <TableRow variant=\"head\" style={{ fontWeight: 'bold' }} >\r\n\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Symbol</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Timestamp</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Chng% <b style={{ color: '#20d020' }}> UP({this.state.upsideMoveCount})</b> | <b style={{ color: 'red' }}> Down({this.state.downMoveCount})</b> | Total:  <b style={{ color: this.state.totalPerchentageChange > 0 ? \"green\" : 'red' }}>  {this.state.totalPerchentageChange && this.state.totalPerchentageChange.toFixed(2)}% </b> from {this.state.startingFrom} </TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Open</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">High</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Low</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Close </TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" align=\"center\">Volume</TableCell>\r\n\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                                {/* this.getPercentageColor((row[4] - row[1])*100/row[1] >= 0.3)  */}\r\n                                                {this.state.InstrumentHistroy && this.state.InstrumentHistroy ? this.state.InstrumentHistroy.map((row, i) => (\r\n                                                    <TableRow key={i} style={{ background: (row[4] - row[1]) * 100 / row[1] >= 0.3 ? \"#20d020\" : (row[4] - row[1]) * 100 / row[1] <= -0.3 ? \"#e66e6e\" : \"none\" }} >\r\n\r\n                                                        <TableCell align=\"center\">{this.state.tradingsymbol}</TableCell>\r\n                                                        <TableCell align=\"center\">{new Date(row[0]).toLocaleString()}</TableCell>\r\n                                                        <TableCell align=\"center\"> <b>{(row[4] - row[1]) * 100 / row[1] && ((row[4] - row[1]) * 100 / row[1]).toFixed(2)}%</b></TableCell>\r\n                                                        <TableCell align=\"center\">{row[1]}</TableCell>\r\n                                                        <TableCell align=\"center\">{row[2]}</TableCell>\r\n                                                        <TableCell align=\"center\">{row[3]}</TableCell>\r\n                                                        <TableCell align=\"center\">{row[4]}</TableCell>\r\n                                                        <TableCell align=\"center\">{row[5]}</TableCell>\r\n\r\n                                                    </TableRow>\r\n                                                )) : ''}\r\n\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </Grid>\r\n\r\n\r\n\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} style={{ height: '100%', overflow: \"auto\" }}>\r\n                                    <OrderWatchlist />\r\n                                </Grid>\r\n\r\n\r\n\r\n\r\n                            </Grid>\r\n                        </Paper>\r\n                        <br />\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={2}>\r\n\r\n\r\n                        <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionPanel data={{ list: this.state.closeingEqualHighList, title: \"Strong Closing\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n                            {/* <Grid item xs={12} sm={12}>\r\n                                <LiveBidsExpantion data={{ list: this.state.liveBidsList, title: \"Live Bids\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>  */}\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionFastMovement data={{ list: this.state.oneHourBullBearCheckList, title: \"Hourly Bullish/Bearish\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionFastMovement data={{ list: this.state.volumeBreakoutlast5CandleList, title: \"Last 5 bar Volume breakout\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionFastMovement data={{ list: this.state.fastMovementList, title: \"Fast Movement\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionPanel data={{ list: this.state.volumeCrossedList, title: \"Average Volume Crossed\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionPanel data={{ list: this.state.openEqualLowList, title: \"Open = Low : Buy\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionPanel data={{ list: this.state.openEqualHighList, title: \"Open = High : Sell\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12}>\r\n                                <SimpleExpansionPanel data={{ list: this.state.slowMotionStockList, title: \"Last 5 days no Movement\", LoadSymbolDetails: this.LoadSymbolDetails }} />\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;\r\n\r\n","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {connect} from \"react-redux\";\r\nimport {setPackLoaded} from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from \"@material-ui/core/Input\";\r\nimport \"./ViewStyle.css\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\n\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nclass MyView extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            stopnview:'', \r\n            curnewdata:'', \r\n            underlyingValue : '', \r\n            timestamp:'',\r\n            totalCOI : 0,\r\n            expiry: '', \r\n            strike:'',\r\n            FilteredBY: '',\r\n            AllspTotalOI:[],\r\n            PEoi:0,\r\n            CEoi:0,\r\n            pcrTable : JSON.parse(localStorage.getItem('pcrTable')) && JSON.parse(localStorage.getItem('pcrTable')).data,\r\n            optionChainData: JSON.parse( localStorage.getItem('optionChainData')),\r\n            filtered: JSON.parse(localStorage.getItem('optionChainData'))  && JSON.parse(localStorage.getItem('optionChainData')).filtered && JSON.parse(localStorage.getItem('optionChainData')).filtered.data  \r\n            \r\n            //JSON.parse(localStorage.getItem('optionChainData')).records.data\r\n\r\n\r\n\r\n        }\r\n        this.findSupportResistence = this.findSupportResistence.bind(this);\r\n            \r\n    }\r\n\r\n    onChange = (e) =>{\r\n      this.setState({[e.target.name]: e.target.value}); \r\n      this.filterOptionChain(e.target.name,  e.target.value); \r\n\r\n    }\r\n    filterOptionChain = (name, actualValue) =>{\r\n        //console.log('filtername', name, actualValue); \r\n        var filereddata = []; \r\n    \r\n       var alldata =  this.state.optionChainData && this.state.optionChainData.records &&  this.state.optionChainData.records.data; \r\n\r\n       if(name === 'expiry' && actualValue === 'All' ) {\r\n            \r\n        filereddata =  alldata; \r\n       }\r\n     \r\n        if(name === 'expiry') {\r\n            \r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if(element.expiryDate === actualValue){\r\n                    filereddata.push(element); \r\n                } \r\n            }   \r\n        }\r\n\r\n        if(name === 'strike') {\r\n            \r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if(element.strikePrice === actualValue){\r\n                    filereddata.push(element); \r\n                } \r\n            } \r\n        }\r\n\r\n        \r\n\r\n        this.setState({filtered : filereddata, FilteredBY: name +\" \"+ actualValue});\r\n       //  console.log(filereddata); \r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n\r\n       this.loadPackList();\r\n   //   console.log('this.state.optionChainData.records.expiryDates', this.state.optionChainData.records.expiryDates)\r\n\r\n\r\n        if(!JSON.parse(localStorage.getItem('cpdata')))\r\n        localStorage.setItem('cpdata', JSON.stringify( {data : []}) )\r\n        else\r\n        this.setState({products:  JSON.parse(localStorage.getItem('cpdata')).data})\r\n       // this.setState({ stopnview:  setInterval( this.loadPackList ,  60001 * 2)});\r\n       //  clearInterval(this.state.stopnview)\r\n\r\n       if(!JSON.parse(localStorage.getItem('pcrTable')))\r\n       localStorage.setItem('pcrTable', JSON.stringify( {data : []}) )\r\n       else\r\n       this.setState({pcrTable:  JSON.parse(localStorage.getItem('pcrTable')).data})\r\n     \r\n\r\n\r\n       var todayTime =  new Date(); \r\n       if(todayTime.getHours()>=9 && todayTime.getHours()< 16 ){\r\n            setInterval(() => {\r\n                this.loadPackList();\r\n            }, 60001 * 2);\r\n        }\r\n        setInterval(() => {\r\n            this.updatepcr()\r\n        }, 60010 * 2);\r\n\r\n   //     this.findSupportResistence(this.state.optionChainData); \r\n\r\n\r\n    }\r\n    // componentDidUpdate(){\r\n    //   //  this.updatepcr(); \r\n    //    // console.log(\"updaate called\") \r\n    // }\r\n\r\n    getDataforStrike = strikePrice => {\r\n\r\n        var alldata = JSON.parse( localStorage.getItem('optionChainData')).records.data;// this.state.optionChainData && this.state.optionChainData.records.data; \r\n        var     sumOfCEoi = 0,sumOfPEoi = 0; \r\n        for (let index = 0; index < alldata.length; index++) {\r\n            const element = alldata[index];\r\n            \r\n            if(strikePrice === element.strikePrice){\r\n\r\n                if(element.CE && element.CE.openInterest){\r\n                    sumOfCEoi = sumOfCEoi + element.CE.openInterest; \r\n                }\r\n                if(element.PE && element.PE.openInterest){\r\n                    sumOfPEoi = sumOfPEoi + element.PE.openInterest; \r\n                }\r\n               \r\n            }                    \r\n        }\r\n       // fliterExData.push({strikePrice : strikePrice,  sumOfCEoi : sumOfCEoi});    \r\n        return {strikePrice : strikePrice,  sumOfCEoi : sumOfCEoi , sumOfPEoi : sumOfPEoi}; \r\n\r\n      //  console.log(\"alldata\", alldata);\r\n    }\r\n\r\n    findSupportResistence = (optiondata) => {\r\n           // console.log(optiondata);\r\n            var alldata =  optiondata && optiondata.records && optiondata.records.data; \r\n            //var underlyingValue = optiondata && optiondata.records.underlyingValue; \r\n            var PEoi = 0,CEoi = 0, PEoiChange=0,CEoiChange=0, peStrikePriceByDate=[]  ;\r\n            for (let index = 0; index < alldata.length; index++) {\r\n                const element = alldata[index];\r\n                if(element &&  element.PE){\r\n                    PEoi = PEoi + element.PE.openInterest; \r\n                    PEoiChange = PEoiChange + element.PE.changeinOpenInterest; \r\n                }\r\n                if(element &&  element.CE){\r\n                    CEoi = CEoi + element.CE.openInterest; \r\n                    CEoiChange = CEoiChange + element.CE.changeinOpenInterest; \r\n\r\n                } \r\n            }\r\n\r\n          var allexpiryDates =   optiondata.records.expiryDates; \r\n          var strikePrices =  optiondata.records.strikePrices; \r\n        //  var fliterExData = [];  \r\n           \r\n            // for (let index = 0; index < allexpiryDates.length; index++) {\r\n            //     const element = allexpiryDates[index];\r\n            //     for (let indexJ = 0; indexJ < alldata.length; indexJ++) {\r\n            //         if(alldata[indexJ].expiryDate == '22-Apr-2021'){\r\n            //             fliterExData.push(alldata[indexJ]); \r\n            //         } \r\n            //     }                  \r\n            // }   \r\n\r\n            var myStrike = [14000, 14050, 14100, 14150, 14200, 14050, 14300, 14350, 14400,14450,14500,14550,14600,14650,14700,14750,14800,14850,14900,14950,15000,15050,15100,15150,15200,15250]; \r\n\r\n           // myStrike =   myStrike.sort(function(a, b){return b - a});\r\n       \r\n          //   var myStrike = [14400,14450,14500,14550,14600,14650,14700,14750,14800,14850,14900,14950,15000,15050,15100,15150,15200,15250]; \r\n       \r\n\r\n\r\n           // var myStrike = [15200,15250]; \r\n\r\n\r\n            var data  = [], totalspeoi= 0, totalsceoi= 0;\r\n             myStrike.forEach(element => {\r\n                var resdata =  this.getDataforStrike(element); \r\n                totalspeoi = totalspeoi+resdata.sumOfPEoi; \r\n                totalsceoi = totalsceoi+resdata.sumOfCEoi; \r\n\r\n                data.push(resdata); \r\n             \r\n               // console.log(element, resdata);\r\n                \r\n                 \r\n             });\r\n             this.setState({AllspTotalOI : data, selectedSPpcr : (totalspeoi / totalsceoi).toFixed(3), totalspeoi : totalspeoi,  totalsceoi : totalsceoi }); \r\n\r\n            // for (let index = 0; index < alldata.length; index++) {\r\n            //     const element = alldata[index];\r\n              \r\n            //     // if(alldata[index].strikePrice ==  14800){\r\n            //     //     fliterExData.push(element); \r\n            //     // } \r\n            //     for (let indexJ = 0; indexJ < strikePrices.length; indexJ++) {\r\n            //         if(  alldata[index].strikePrice == strikePrices[indexJ].strikePrice){\r\n            //             fliterExData.push(element); \r\n            //         }   \r\n            //     }\r\n               \r\n            // }   \r\n\r\n//            console.log(\"allfliterExData\",fliterExData);\r\n\r\n\r\n        this.setState({CEoi: CEoi, PEoi : PEoi, allStrikediff:  PEoi - CEoi, CEoiChange: CEoiChange,PEoiChange: PEoiChange,allStrikeChngeDiff:  PEoiChange - CEoiChange });\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    loadPackList() {\r\n\r\n\r\n        var data = { allPacks:true, portal: true};\r\n        AdminService.getBNcpdata(\"NIFTY\")\r\n            .then((res) => {\r\n        //     let data = resolveResponse(res);\r\n\r\n             var data =  res.data && res.data;\r\n\r\n             \r\n           localStorage.setItem(\"optionChainData\",  JSON.stringify( data) );\r\n\r\n          // this.findSupportResistence(data); \r\n\r\n           // console.log(\"livedata\", data.filtered);\r\n\r\n           this.setState({filtered : data.filtered && data.filtered.data , optionChainData: data});\r\n\r\n            if(data.filtered){\r\n\r\n                var diff =  data.filtered.PE.totOI - data.filtered.CE.totOI; \r\n\r\n                var newdata = {\r\n                    dateTime : this.dateFormat(new Date()), \r\n                    totCEOI : data.filtered.CE.totOI ,\r\n                    totCEVol: data.filtered.CE.totVol, \r\n                    totPEOI: data.filtered.PE.totOI , \r\n                    totPEVol: data.filtered.PE.totVol, \r\n                    diff: diff, \r\n                    totChangeINOICall: parseInt(localStorage.getItem('totCEOIChange')), \r\n                    totChangeINOIPut: parseInt(localStorage.getItem('totPEOIChange')), \r\n                    totChangeINOIDiff: parseInt(localStorage.getItem('totPEOIChange')) - parseInt(localStorage.getItem('totCEOIChange')) \r\n\r\n                } \r\n                this.setState({curnewdata : newdata });\r\n\r\n                var resname = ''; \r\n                if(diff > 0 )\r\n                 resname = \"BUY\";\r\n                 else\r\n                resname = \"SELL\"\r\n                \r\n\r\n                document.getElementById('title').innerHTML=  (diff/100000).toFixed(2) + '|' + ((localStorage.getItem('totPEOIChange') - localStorage.getItem('totCEOIChange'))/100000).toFixed(2) + \"L\" +  \" NIFTY \"; \r\n               // createData.push(newdata); \r\n               if(JSON.parse(localStorage.getItem('cpdata'))){\r\n                var oldproducts = JSON.parse(localStorage.getItem('cpdata')); \r\n               // console.log(\"oldproductsindex0\", ); \r\n                var lastrow = oldproducts && oldproducts.data[0]; \r\n                \r\n\r\n                // oldproducts.data.forEach((data) => {\r\n                //     if(data.totCEOI == newdata.totCEOI && data.totCEVol == newdata.totCEVol && data.totPEOI == newdata.totPEOI  && data.totPEVol == newdata.totPEVol ){\r\n                //         newdata.isDuplicate = true; \r\n                //     }else{\r\n                //         newdata.isDuplicate = false;\r\n                //     }\r\n                // });\r\n                if(lastrow){\r\n                    newdata.isDuplicate = newdata.diff == lastrow.diff ? true : false\r\n                    newdata.totCEOIChange = (((newdata.totCEOI-lastrow.totCEOI) * 100)/lastrow.totCEOI).toFixed(3);;\r\n                    newdata.totPEOIChange =   (((newdata.totPEOI-lastrow.totPEOI) * 100)/lastrow.totPEOI).toFixed(3);;\r\n                    newdata.totDiffChange =  (((newdata.diff-lastrow.diff) * 100)/lastrow.diff).toFixed(3); \r\n                }else{\r\n                    newdata.isDuplicate = false\r\n                    newdata.totCEOIChange = 0;\r\n                    newdata.totPEOIChange =  0;\r\n                    newdata.totDiffChange =  0; \r\n                }\r\n                \r\n\r\n                oldproducts.data.unshift(newdata);\r\n\r\n                if(data.records){\r\n                    oldproducts.timestamp = data.records.timestamp; \r\n                    oldproducts.underlyingValue = data.records.underlyingValue; \r\n                }\r\n              \r\n\r\n                localStorage.setItem(\"cpdata\",  JSON.stringify( oldproducts) );\r\n\r\n                this.setState({products: oldproducts.data, underlyingValue : data.records.underlyingValue,timestamp: data.records.timestamp  })\r\n               }\r\n               \r\n             //  console.log(\"dddd\", this.state.curnewdata); \r\n   \r\n                 \r\n            }\r\n\r\n\r\n            this.updatepcr()\r\n            this.setState({pcrTable:  JSON.parse(localStorage.getItem('pcrTable')) && JSON.parse(localStorage.getItem('pcrTable')).data})\r\n\r\n            });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    updatepcr(){\r\n\r\n\r\n        var pcrdata =  {\r\n            allPCR : (this.state.PEoi /this.state.CEoi).toFixed(3), \r\n            expiryPCR: localStorage.getItem('thisWeekPCR'), \r\n            selectedSPpcr: this.state.selectedSPpcr, \r\n         }\r\n\r\n         if(JSON.parse(localStorage.getItem('pcrTable'))){\r\n             var pcrTable = JSON.parse(localStorage.getItem('pcrTable')); \r\n             pcrTable.data.unshift(pcrdata);\r\n             localStorage.setItem(\"pcrTable\",  JSON.stringify( pcrTable) );\r\n         }\r\n         \r\n         console.log(pcrdata); \r\n         this.setState({pcrTable: pcrTable })\r\n    }\r\n \r\n\r\n    \r\n\r\n    dateFormat(date){ \r\n\r\n        return moment(date).format('DD-MM-YYYY h:mm:ss A');\r\n    }\r\n  \r\n\r\n\r\n    render(){\r\n     \r\n        var totCEOI = 0, totCEVol = 0,totCEOIChange=0, totCEBUY=0, totCESell=0; \r\n        var totPEOI = 0, totPEVol = 0,totPEOIChange=0, totPEBUY=0, totPESell=0; \r\n\r\n      return(\r\n        <React.Fragment>\r\n                <PostLoginNavBar />\r\n            <Grid  direction=\"row\" container className=\"flexGrow\" spacing={1}  style={{paddingLeft:\"5px\",paddingRight:\"5px\"}}>\r\n\r\n                 <Grid item xs={7} sm={7}>\r\n                    <Typography  component=\"h3\" variant=\"h6\" color=\"primary\" >\r\n                        My View({this.state.products && this.state.products.length}) <b> Nifty: {this.state.underlyingValue}</b> at Time: {this.state.timestamp} \r\n                        {/* <b> FilteredBY : {this.state.FilteredBY} </b>  */}\r\n                    </Typography> \r\n                </Grid>\r\n\r\n                <Grid item xs={2} sm={2} > \r\n                    <FormControl style={styles.selectStyle}>\r\n                            <InputLabel id=\"expiry\">Select Expiry Date</InputLabel>\r\n                            <Select\r\n                            id=\"expiry\"\r\n                            name=\"expiry\"\r\n                            value={this.state.expiry}\r\n                            onChange={this.onChange}\r\n                            input={<Input />}\r\n                            MenuProps={MenuProps}\r\n                            >\r\n                                <MenuItem key={'All'} value={'All'} >\r\n                                    {'All'}\r\n                                </MenuItem>\r\n                            {this.state.optionChainData && this.state.optionChainData.records && this.state.optionChainData.records.expiryDates ? this.state.optionChainData.records.expiryDates.map((name, index) => (\r\n                                <MenuItem key={name+'key'+index} value={name} >\r\n                                    {name}\r\n                                </MenuItem>\r\n                            )): \"\"}\r\n                            </Select>\r\n                        </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2} sm={2} > \r\n                            <FormControl style={styles.selectStyle}>\r\n                                    <InputLabel id=\"strike\">Select Strick Price</InputLabel>\r\n                                    <Select\r\n                                    labelId=\"strike\"\r\n                                    id=\"strike\"\r\n                                    max-height={'100%'}\r\n                                    name=\"strike\"\r\n                                    value={this.state.strike}\r\n                                    onChange={this.onChange}\r\n                                    input={<Input />}\r\n                                    MenuProps={MenuProps}\r\n                                    >\r\n                                    {this.state.optionChainData && this.state.optionChainData.records && this.state.optionChainData.records.strikePrices ? this.state.optionChainData.records.strikePrices.map(name => (\r\n                                        <MenuItem key={name} value={name} >\r\n                                            {name}\r\n                                        </MenuItem>\r\n                                    )): \"\"}\r\n                                    </Select>\r\n                                </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={1} sm={1} style={{paddingTop:'20px',paddingLeft:'20px'}}>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => this.loadPackList()}>\r\n                            Refesh\r\n                        </Button>      \r\n                        </Grid>\r\n\r\n                </Grid>\r\n              \r\n            \r\n                <Grid item xs={12} sm={12}>\r\n                <Paper style={{padding:\"10px\", overflow:\"auto\"}}>\r\n                   \r\n                    <Grid container spacing={3}  direction=\"row\" alignItems=\"center\" container>\r\n                        <Grid item xs={3} sm={3} >\r\n                         \r\n                         <span>All PUT OI: <b>{this.state.PEoi} ({(this.state.PEoi/100000).toFixed(3)}L)</b></span><br />\r\n                         <span>All CALL OI: <b>{this.state.CEoi} ({(this.state.CEoi/100000).toFixed(3)}L)</b></span><br />\r\n                         <span>All Put-Call Diff: {\r\n                             this.state.allStrikediff > 0 ? <b style={{color:'green'}}>{this.state.allStrikediff} ({((this.state.allStrikediff)/100000).toFixed(3)}L)</b>\r\n                            :  <b style={{color:'red'}}>{this.state.allStrikediff} ({((this.state.allStrikediff)/100000).toFixed(3)}L)</b> } \r\n                        </span>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={3} sm={3} >\r\n                \r\n                        <span>All PUT Chng in OI: <b>{this.state.PEoiChange} ({(this.state.PEoiChange/100000).toFixed(3)}L)</b></span><br />\r\n                         <span>All CALL Chng in  OI: <b>{this.state.CEoiChange} ({(this.state.CEoiChange/100000).toFixed(3)}L)</b></span><br />\r\n                         <span>All Put-Call Chng in Diff: {\r\n                             this.state.allStrikeChngeDiff > 0 ? <b style={{color:'green'}}>{this.state.allStrikeChngeDiff} ({((this.state.allStrikeChngeDiff)/100000).toFixed(3)}L)</b>\r\n                            :  <b style={{color:'red'}}>{this.state.allStrikeChngeDiff} ({((this.state.allStrikeChngeDiff)/100000).toFixed(3)}L)</b> } \r\n                        </span>\r\n\r\n\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2} sm={2} >\r\n\r\n                        <Typography  component=\"h3\" variant=\"body1\" color=\"primary\" >\r\n                            <span>ALL PCR: <b>{(this.state.PEoi /this.state.CEoi).toFixed(3) } </b></span>\r\n                         </Typography> \r\n                         </Grid>\r\n\r\n                         <Grid item xs={2} sm={2} >\r\n                        <Typography  component=\"h3\" variant=\"body1\" color=\"primary\" >\r\n                            <span>Expire Week PCR: <b>{ localStorage.getItem('thisWeekPCR') } </b></span>\r\n                        </Typography> \r\n                        </Grid>\r\n                         \r\n\r\n\r\n                         <Grid item xs={2} sm={2} >\r\n                         <Typography  component=\"h3\" variant=\"body1\" color=\"primary\" style={{justifyContent:'left'}}>\r\n                            <span>14000 to 15250 PCR: <b>{this.state.selectedSPpcr} </b></span>\r\n\r\n                         </Typography> \r\n                \r\n              \r\n\r\n                        </Grid>\r\n\r\n\r\n                        \r\n            </Grid>\r\n            </Paper>\r\n            </Grid>\r\n\r\n           \r\n\r\n\r\n            \r\n            <Grid  direction=\"row\" container className=\"flexGrow\" spacing={0}  style={{paddingLeft:\"5px\",paddingRight:\"5px\"}}>\r\n              \r\n              \r\n                <Grid item xs={7} sm={7} style={{padding:\"2px\", overflow:\"auto\", height:\"250px\"}}>\r\n                <Table  id=\"tabledata\" stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"small\">\r\n                    <TableHead style={{}} variant=\"head\">\r\n                        <TableRow variant=\"head\">\r\n                            <TableCell align=\"center\"><b>Time</b></TableCell>\r\n                            <TableCell align=\"center\"><b>VIEW</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Put-Call(diff)</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Chng in OI(diff)</b></TableCell>\r\n\r\n                            <TableCell align=\"center\"><b>PUT OI</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Chng Put OI</b></TableCell>                            \r\n\r\n                            <TableCell align=\"center\"><b>Call OI</b></TableCell>\r\n\r\n                         \r\n                            <TableCell align=\"center\"><b>Chng Call OI</b></TableCell>                            \r\n                            \r\n                            {/* <TableCell align=\"center\"><b>Total PUT Volume</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Total Call Volume</b> </TableCell> */}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody hover style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n                    \r\n                        { this.state.products ? this.state.products.map(row => (\r\n                            <TableRow key={row.dateTime} style={{background: row.isDuplicate ? \"lightgray\":\"\"}}>\r\n                                <TableCell align=\"center\">{row.dateTime.substring(19,11)}</TableCell>\r\n                                <TableCell align=\"center\">{row.diff > 0 ? <Typography variant='body2' style={{ color:'green' }} >BUY</Typography>  : <Typography variant=\"body2\" style={{ color:'red' }} >SELL</Typography> }</TableCell>\r\n                                <TableCell align=\"center\">{row.diff} ({(row.diff/100000).toFixed(2)}L)({row.totDiffChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{row.totDiffChange}%</span>: row.totDiffChange == '0.000' ? <span>{row.totDiffChange}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{row.totDiffChange}%</span> }) </TableCell>\r\n                                <TableCell align=\"center\">{row.totChangeINOIDiff} ({(row.totChangeINOIDiff/100000).toFixed(2)}L)</TableCell>\r\n\r\n                                <TableCell align=\"center\">{row.totPEOI} ({row.totPEOIChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{row.totPEOIChange}%</span>: row.totPEOIChange == '0.000' ? <span>{row.totPEOIChange}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{row.totPEOIChange}%</span> })</TableCell>\r\n                                <TableCell align=\"center\">{row.totChangeINOIPut} </TableCell>\r\n\r\n                                <TableCell align=\"center\">{row.totCEOI} ({row.totCEOIChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{row.totCEOIChange}%</span>: row.totCEOIChange == '0.000' ? <span>{row.totCEOIChange}%</span> : <span style={{ color:'red',fontWeight:'bold' }} >{row.totCEOIChange}%</span> })</TableCell>\r\n                              \r\n                                <TableCell align=\"center\">{row.totChangeINOICall}</TableCell>\r\n\r\n                                {/* <TableCell align=\"center\">{row.totPEVol} ({(row.totPEVol/100000).toFixed(2)}L)</TableCell>\r\n                                <TableCell align=\"center\">{row.totCEVol} ({(row.totCEVol/100000).toFixed(2)}L)</TableCell>      */}\r\n                \r\n                            </TableRow>\r\n                        )):<Spinner/>}\r\n                    </TableBody>\r\n                </Table>\r\n                \r\n                </Grid>\r\n\r\n                <Grid item xs={3} sm={3} style={{padding:\"2px\", overflow:\"auto\", height:\"250px\"}}>\r\n                <Table style={{borderLeft: 'dashed',borderRight: 'dashed', fontWeight:'500' }}  id=\"tabledata\" stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"small\">\r\n                    \r\n                    <TableHead style={{}} variant=\"head\">\r\n                        <TableRow variant=\"head\">\r\n                          \r\n                            <TableCell align=\"center\"><b>Total CE OI <br />{(this.state.totalsceoi/100000).toFixed(3)}L</b></TableCell>\r\n                            <TableCell align=\"center\"><b>Strike Price</b> </TableCell>\r\n                            <TableCell align=\"center\"><b>Total PE OI<br />{(this.state.totalspeoi/100000).toFixed(3)}L</b></TableCell>\r\n                           \r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n                    \r\n                        { this.state.AllspTotalOI ? this.state.AllspTotalOI.map(row => (\r\n                             <TableRow  hover key={row.dateTime} >\r\n                             <TableCell align=\"center\" style={{backgroundColor: row.strikePrice < this.state.underlyingValue ? '#ded6a269' : ''}}>{row.sumOfCEoi} ({(row.sumOfCEoi/100000).toFixed(2)}L)</TableCell>\r\n                             <TableCell  align=\"center\">{row.strikePrice}</TableCell>\r\n                             <TableCell align=\"center\" style={{backgroundColor: row.strikePrice > this.state.underlyingValue ? '#ded6a269' : ''}}>{row.sumOfPEoi} ({(row.sumOfPEoi/100000).toFixed(2)}L)</TableCell>\r\n                     \r\n                         </TableRow>\r\n                        )):<Spinner/>}\r\n\r\n\r\n                        \r\n                    </TableBody>\r\n                </Table>\r\n                \r\n                </Grid>\r\n\r\n                <Grid item xs={2} sm={2} style={{padding:\"2px\", overflow:\"auto\", height:\"250px\"}}>\r\n                <Table   id=\"tabledata\" stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"small\">\r\n                    \r\n                    <TableHead variant=\"head\">\r\n                        <TableRow variant=\"head\">\r\n                          \r\n                            <TableCell align=\"center\">ALL Pcr</TableCell>\r\n                            <TableCell align=\"center\">Expiry Pcr </TableCell>\r\n                            <TableCell align=\"center\">Selected Pcr</TableCell>\r\n                         \r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody style={{whiteSpace: \"nowrap\"}}>\r\n\r\n                        {this.state.pcrTable && this.state.pcrTable.length>0 && this.state.pcrTable ? this.state.pcrTable.map(row => (\r\n                            <TableRow  hover key={row.expiryPCR} >\r\n                                <TableCell align=\"center\">{row.allPCR} </TableCell>\r\n                                <TableCell  align=\"center\">{row.expiryPCR}</TableCell>\r\n                                <TableCell align=\"center\">{row.selectedSPpcr} </TableCell>\r\n                            </TableRow>\r\n                        )):<Spinner/>}\r\n\r\n                        \r\n                    </TableBody>\r\n                </Table>\r\n                \r\n                </Grid>\r\n\r\n        \r\n                <Grid item xs={12} sm={12} style={{padding:\"2px\", overflow:\"auto\", height:\"900px\"}}>\r\n\r\n                <Table stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"small\">\r\n\r\n                <TableHead variant=\"head\">\r\n\r\n                    <TableRow variant=\"head\"  >\r\n                        \r\n                        <TableCell colSpan={6} align=\"center\"><b>CALL</b></TableCell>\r\n                        <TableCell align=\"center\"><b></b></TableCell>\r\n                        <TableCell align=\"center\"><b></b></TableCell>\r\n                        <TableCell colSpan={6} align=\"center\"><b>PUT</b></TableCell>\r\n                    </TableRow>\r\n                    <TableRow variant=\"head\" >\r\n                    \r\n                        {/* <TableCell align=\"center\" ><b>Sr No.</b></TableCell>  */}\r\n                     \r\n\r\n                        <TableCell align=\"center\"><b>OI Total OI <br />{localStorage.getItem('totCEOI')}({(localStorage.getItem('totCEOI')/100000).toFixed(3)}L) </b></TableCell>\r\n                        <TableCell align=\"center\"><b>Chng in OI <br />{localStorage.getItem('totCEOIChange')}({(localStorage.getItem('totCEOIChange')/100000).toFixed(3)}L)</b></TableCell>\r\n                        {/* <TableCell align=\"center\"><b>Volume <br />{localStorage.getItem('totCEVol')}({(localStorage.getItem('totCEVol')/100000).toFixed(3)}L)</b> </TableCell> */}\r\n                        <TableCell align=\"center\"><b>IV</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Delta</b></TableCell>\r\n\r\n                        <TableCell align=\"center\"><b>LTP</b></TableCell>\r\n                        {/* <TableCell align=\"center\"><b>PChange%</b></TableCell> */}\r\n                        <TableCell align=\"center\"><b>CHNG</b></TableCell>\r\n                        {/* <TableCell align=\"center\"><b>Bid qty</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Bid Price</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Ask Price</b></TableCell>\r\n                        <TableCell align=\"center\"><b>ASK qty</b></TableCell> */}\r\n\r\n                        {/* <TableCell align=\"center\"><b>Total Buy Qty</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Total Sell Qty</b></TableCell> */}\r\n\r\n                        <TableCell align=\"center\"><span style={{color:'#3e85c5', fontWeight:'bold'}}> STRIKE PRICE</span> </TableCell>\r\n                        <TableCell align=\"center\"><span style={{color:'#3e85c5', fontWeight:'bold'}}> Expiry</span> </TableCell>\r\n\r\n                        {/* <TableCell align=\"center\"><b>Total Sell Qty</b></TableCell> \r\n                        <TableCell align=\"center\"><b>Total Buy Qty</b></TableCell> */}\r\n\r\n\r\n                        {/* <TableCell align=\"center\"><b>Bid Qty</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Bid Price</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Ask Price</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Ask Qty</b></TableCell>\r\n                        */}\r\n                        <TableCell align=\"center\"><b>CHNG</b></TableCell>\r\n                        {/* <TableCell align=\"center\"><b>PChange%</b></TableCell> */}\r\n                        <TableCell align=\"center\"><b>LTP</b></TableCell>\r\n                        <TableCell align=\"center\"><b>IV</b></TableCell>\r\n                        <TableCell align=\"center\"><b>Delta</b></TableCell>\r\n\r\n\r\n                        {/* <TableCell align=\"center\"><b>Volume <br />{localStorage.getItem('totPEVol')}({(localStorage.getItem('totPEVol')/100000).toFixed(3)}L)</b></TableCell> */}\r\n                        <TableCell align=\"center\"><b>Chng in OI <br />{localStorage.getItem('totPEOIChange')}({(localStorage.getItem('totPEOIChange')/100000).toFixed(3)}L)</b></TableCell>\r\n                        <TableCell align=\"center\"><b>OI <br />{localStorage.getItem('totPEOI')}({(localStorage.getItem('totPEOI')/100000).toFixed(3)}L)</b></TableCell>\r\n\r\n\r\n                    </TableRow>\r\n                </TableHead>                   \r\n                    \r\n                    <TableBody>\r\n                    \r\n                        { this.state.filtered ? this.state.filtered.map((opdata, index) => (\r\n                            <TableRow hover key={index} style={{background: opdata.isDuplicate ? \"lightgray\":\"\"}}>\r\n                              \r\n                                {/* <TableCell style={{whiteSpace: \"nowrap\"}} align=\"center\">{index+1} </TableCell>*/}\r\n                                { opdata && opdata.CE && opdata.PE ? <>\r\n                                            <TableCell {...totCEOI = totCEOI +  opdata.CE.openInterest}  style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.openInterest}</TableCell>\r\n                                            <TableCell {...totCEOIChange = totCEOIChange + opdata.CE.changeinOpenInterest}  style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.changeinOpenInterest}</TableCell>\r\n                                            {/* <TableCell {...totCEVol = totCEVol + opdata.CE.totalTradedVolume} style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.totalTradedVolume} </TableCell> */}\r\n                                            <TableCell align=\"center\">{opdata.CE.impliedVolatility} </TableCell>\r\n                                            <TableCell align=\"center\">{((opdata.CE.change/opdata.strikePrice-opdata.CE.underlyingValue) * 10).toFixed(2)} </TableCell>\r\n\r\n                                            <TableCell style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\"><span style={{color:'#3e85c5', fontWeight:'bold'}}> {opdata.CE.lastPrice}</span>({opdata.CE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.CE.pChange.toFixed(2)}%</span>: opdata.CE.pChange == 0 ? <span>{opdata.CE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.CE.pChange.toFixed(2)}%</span> }) </TableCell>\r\n                                            {/* <TableCell style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.CE.pChange.toFixed(2)}%</span>: opdata.CE.pChange == 0 ? <span>{opdata.CE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.CE.pChange.toFixed(2)}%</span> } </TableCell> */}\r\n                                            <TableCell style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.CE.change.toFixed(2)} </TableCell>\r\n                                        \r\n                                            {/* <TableCell align=\"center\">{opdata.CE.bidQty} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.bidprice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.askPrice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.CE.askQty} </TableCell> */}\r\n\r\n                                            {/* <TableCell {...totCEBUY = totCEBUY + opdata.CE.totalBuyQuantity}  style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total CALL Buy Qty'} align=\"center\">{opdata.CE.totalBuyQuantity}({(opdata.CE.totalBuyQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                            <TableCell {...totCESell = totCESell + opdata.CE.totalSellQuantity} style={{backgroundColor: opdata.strikePrice < opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total CALL Sell Qty'} align=\"center\">{opdata.CE.totalSellQuantity}({(opdata.CE.totalSellQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                         */}\r\n                                            <TableCell style={{borderLeft: 'dashed',borderRight: 'dashed', fontWeight:'500' }} align=\"center\"><span> <a href=\"#\" style={{textDecoration: 'none'}} onClick={() => this.filterOptionChain('strike', opdata.strikePrice)}> {opdata.strikePrice}</a> </span> </TableCell>\r\n                                            <TableCell style={{borderRight: 'dashed', whiteSpace: \"nowrap\"}} align=\"center\" ><span style={{paddingLeft:'5px',paddingRight:'5px'  }}> <a href=\"#\" style={{textDecoration: 'none'}} onClick={() => this.filterOptionChain('expiry', opdata.expiryDate)}> {opdata.expiryDate}</a></span> </TableCell>\r\n\r\n                                            {/* <TableCell {...totPESell = totPESell + opdata.PE.totalSellQuantity} style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total PUT Sell Qty'} align=\"center\">{opdata.PE.totalSellQuantity}({(opdata.PE.totalSellQuantity/100000).toFixed(3)}L) </TableCell>\r\n                                            <TableCell {...totPEBUY = totPEBUY + opdata.PE.totalBuyQuantity} style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} title={'Total PUT Buy Qty'} align=\"center\">{opdata.PE.totalBuyQuantity}({(opdata.PE.totalBuyQuantity/100000).toFixed(3)}L)</TableCell>\r\n                                         */}\r\n                                            {/* <TableCell align=\"center\">{opdata.PE.bidQty} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.bidprice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.askPrice} </TableCell>\r\n                                            <TableCell align=\"center\">{opdata.PE.askQty} </TableCell>\r\n                                            */}\r\n                                            <TableCell style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.change.toFixed(2)} </TableCell>\r\n                                            {/* <TableCell style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.PE.pChange.toFixed(2)}%</span>: opdata.PE.pChange == 0 ? <span>{opdata.PE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.PE.pChange.toFixed(2)}%</span>} </TableCell> */}\r\n                                            <TableCell style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\"><span style={{color:'#3e85c5', fontWeight:'bold'}}> {opdata.PE.lastPrice}</span>({opdata.PE.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{opdata.PE.pChange.toFixed(2)}%</span>: opdata.PE.pChange == 0 ? <span>{opdata.PE.pChange.toFixed(2)}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{opdata.PE.pChange.toFixed(2)}%</span>})</TableCell>\r\n\r\n                                            <TableCell align=\"center\">{opdata.PE.impliedVolatility} </TableCell>\r\n                                            <TableCell align=\"center\">{((opdata.PE.change/opdata.strikePrice-opdata.PE.underlyingValue) * 10).toFixed(2)} </TableCell>\r\n\r\n                                            {/* <TableCell {...totPEVol = totPEVol + opdata.PE.totalTradedVolume}  style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.totalTradedVolume} </TableCell> */}\r\n                                            <TableCell {...totPEOIChange = totPEOIChange + opdata.PE.changeinOpenInterest}  style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}} align=\"center\">{opdata.PE.changeinOpenInterest}</TableCell>\r\n                                            <TableCell {...totPEOI = totPEOI + opdata.PE.openInterest} style={{backgroundColor: opdata.strikePrice > opdata.CE.underlyingValue ? '#ded6a269' : ''}}align=\"center\">{opdata.PE.openInterest} </TableCell>\r\n                                     </> : \"\"\r\n                                }\r\n                               \r\n\r\n                            </TableRow>\r\n\r\n                        )):<Spinner/>}\r\n\r\n\r\n                            <TableRow  variant=\"head\"> \r\n                                <TableCell align=\"center\" {...localStorage.setItem('totCEOI',totCEOI)}><b>{totCEOI}<br />({(totCEOI/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\" {...localStorage.setItem('totCEOIChange',totCEOIChange)}><b>{totCEOIChange}<br />({(totCEOIChange/100000).toFixed(3)}L)</b> </TableCell>\r\n                                <TableCell align=\"center\" {...localStorage.setItem('totCEVol',totCEVol)}><b>{totCEVol}<br />({(totCEVol/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell colSpan={3} align=\"center\"></TableCell>\r\n                                {/* <TableCell align=\"center\"><b>{totCEBUY}<br />({(totCEBUY/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\"><b>{totCESell}<br />({(totCESell/100000).toFixed(3)}L)</b> </TableCell> */}\r\n\r\n                                <TableCell {...localStorage.setItem('thisWeekPCR',(totPEOI / totCEOI).toFixed(3))} align=\"center\" colSpan={2}><b> PCR : {(totPEOI / totCEOI).toFixed(3)}</b></TableCell>\r\n\r\n\r\n                                <TableCell colSpan={3} align=\"center\"></TableCell>\r\n\r\n\r\n                                {/* <TableCell align=\"center\"><b>{totPESell}<br />({(totPESell/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\"><b>{totPEBUY}<br />({(totPEBUY/100000).toFixed(3)}L)</b></TableCell>\r\n                                */}\r\n                                {/* <TableCell colSpan={3} align=\"center\"></TableCell> */} \r\n                                <TableCell align=\"center\" {...localStorage.setItem('totPEVol',totPEVol)}><b>{totPEVol}<br />({(totPEVol/100000).toFixed(3)}L)</b></TableCell>\r\n                                <TableCell align=\"center\" {...localStorage.setItem('totPEOIChange',totPEOIChange)}><b>{totPEOIChange}<br />({(totPEOIChange/100000).toFixed(3)}L)</b> </TableCell>\r\n                                <TableCell align=\"center\" {...localStorage.setItem('totPEOI',totPEOI)}><b>{totPEOI}<br />({(totPEOI/100000).toFixed(3)}L)</b> </TableCell>\r\n\r\n                            </TableRow>\r\n\r\n\r\n                    </TableBody>\r\n\r\n\r\n                </Table>\r\n                </Grid>\r\n\r\n                </Grid>\r\n                   \r\n\r\n                \r\n          \r\n          \r\n\r\n            </React.Fragment> \r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    tableStyle : {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    }, \r\n    selectStyle:{\r\n        marginBottom: '0px',\r\n        minWidth: 240,\r\n        maxWidth: 240\r\n\r\n    }\r\n  \r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {packs:state.packs.packs.data};\r\n}\r\nexport default connect(mapStateToProps,{setPackLoaded})(MyView);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n\r\n  //var indexSymbolData = JSON.parse(localStorage.getItem(props.data.indexSymbol)).data ; \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        {props.data.indexSymbol}\r\n      </Button>\r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        {props.data.indexSymbol}  At {props.data.timestamp}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n        <Table stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"medium\">\r\n        <TableRow variant=\"head\" >\r\n                    \r\n                    <TableCell align=\"left\"><b>Sr.</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Stock Name</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Last Price</b></TableCell> \r\n                    <TableCell align=\"left\"><b>CHNG%</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Change Points</b></TableCell>\r\n\r\n                </TableRow>\r\n                <TableBody>\r\n                    \r\n                        {props.data.indexSymbolData ? props.data.indexSymbolData.map((idata, index) => (\r\n                            <TableRow hover key={index}>\r\n\r\n                            {index !== 0 ? <>\r\n                                   <TableCell align=\"left\">{index} </TableCell>\r\n                                    <TableCell align=\"left\">{idata.symbol}</TableCell>\r\n                                    <TableCell align=\"left\" >{idata.lastPrice}</TableCell> \r\n                                     <TableCell align=\"left\">{idata.pChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{idata.pChange}%</span>: idata.pChange === 0 ? <span>{idata.pChange}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{idata.pChange}%</span>} </TableCell>\r\n                                     <TableCell align=\"left\">{idata.change}</TableCell>\r\n                                 \r\n                                </>\r\n                           : \"\" } \r\n                                   \r\n                            </TableRow>\r\n\r\n                        )):      \r\n                         <> <br/> <Button  variant=\"outlined\" size={'large'}   color=\"primary\">\r\n                            Refresh\r\n                        </Button> </>}\r\n\r\n                    </TableBody>\r\n\r\n\r\n                </Table>    \r\n\r\n\r\n\r\n         \r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {connect} from \"react-redux\";\r\nimport {setPackLoaded} from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\n\r\nimport \"./ViewStyle.css\";\r\nimport MyDialog from './MyDialog'\r\nimport Notify from \"../../utils/Notify\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\n\r\nclass MyView extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n           // products: [],\r\n            stopnview:'', \r\n            indexTimeStamp:'', \r\n            products : JSON.parse(localStorage.getItem('sorteIndexList')),\r\n        }\r\n            \r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n         this.loadPackList();\r\n  \r\n         var todayTime =  new Date(); \r\n         if(todayTime.getHours()>=9 && todayTime.getHours() < 16 ){\r\n              setInterval(() => {\r\n                  this.loadPackList();\r\n              }, 60001 * 2);\r\n          }\r\n      }\r\n\r\n\r\n      loadPackList() {\r\n        \r\n    \r\n        AdminService.getAllIndices()\r\n            .then((res) => {\r\n                if(res.data){\r\n\r\n\r\n                    this.setState({indexTimeStamp : res.data.timestamp})\r\n                    var softedData = res.data.data.sort(function(a, b){return b.percentChange - a.percentChange}); \r\n                    localStorage.setItem('sorteIndexList',  JSON.stringify(softedData));\r\n                    this.setState({products :   softedData});\r\n                    this.speckIt(\"1st sector is \" + softedData[0].indexSymbol +' '+ softedData[0].percentChange +'%' ); \r\n                    this.speckIt(\"2nd sector is \" +softedData[1].indexSymbol +' '+  softedData[1].percentChange +'%'); \r\n                    this.speckIt(\"3rd sector is \" +softedData[2].indexSymbol +' '+  softedData[2].percentChange +'%'); \r\n\r\n\r\n                    // for (let i = 0; i < softedData.length; i++) {\r\n                    //     // var cancel = setInterval(() => {\r\n                    //     //     this.getIndicesStocks(softedData[i].indexSymbol,i);\r\n                    //     // }, 1000);\r\n                    //     // if(i == softedData.length-1 ){\r\n                    //     //     clearInterval(cancel)\r\n                    //     // }\r\n                    //     this.getIndicesStocks(softedData[i].indexSymbol,i);\r\n\r\n                    // }\r\n                    this.getIndicesStocks(softedData[0].indexSymbol,0);\r\n                    this.getIndicesStocks(softedData[1].indexSymbol,1);\r\n                    this.getIndicesStocks(softedData[2].indexSymbol,2);\r\n                  \r\n                   \r\n                }\r\n\r\n            })\r\n            .catch((reject) => {\r\n\r\n                Notify.showError(\"All Indices API Failed\"+ <br/> + reject);  \r\n                this.speckIt(\"All Indices API Failed\");     \r\n               \r\n\r\n            })\r\n    }\r\n\r\n\r\n    getIndicesStocks = (indexSymbol, index) =>{\r\n\r\n\r\n\r\n        AdminService.getIndiceStock(indexSymbol)\r\n        .then((res) => {\r\n            console.log(res.data)\r\n\r\n            var resdata = res.data; \r\n            Notify.showSuccess(\"Success, Top is\" + resdata.data[1].symbol );  \r\n            this.speckIt(\"1st top \"+indexSymbol+\" stock is \" + resdata.data[1].symbol.toLocaleLowerCase() + ' high of '+ resdata.data[1].pChange + \"%\"); \r\n            this.speckIt(\"2nd top \"+indexSymbol+\" stock is \" + resdata.data[2].symbol.toLocaleLowerCase()+ ' high of '+ resdata.data[2].pChange + \"%\"); \r\n            this.speckIt(\"3rd top \"+indexSymbol+\" stock is \" + resdata.data[3].symbol.toLocaleLowerCase()+ ' high of '+ resdata.data[3].pChange + \"%\"); \r\n\r\n\r\n            if(resdata){\r\n                localStorage.setItem(indexSymbol, JSON.stringify(resdata)); \r\n                \r\n                \r\n\r\n                if(document.getElementById('topDate_'+index)){\r\n                    document.getElementById('topDate_'+index).innerHTML=resdata.timestamp.substring(12, 23);  \r\n                }\r\n                var percent = 0;\r\n\r\n                if(document.getElementById('top1_'+index)){\r\n                     percent = resdata.data[1].pChange > 0 ? '<span style=\"color:green\">'+ resdata.data[1].pChange + '</span>' : '<span style=\"color:red\">'+ resdata.data[1].pChange + '</span>';\r\n                    document.getElementById('top1_'+index).innerHTML=resdata.data[1].symbol + ' '+resdata.data[1].lastPrice + '(' + percent + ')';  \r\n                }\r\n                if(document.getElementById('top2_'+index)){\r\n                     percent = resdata.data[2].pChange > 0 ? '<span style=\"color:green\">'+ resdata.data[2].pChange + '</span>' : '<span style=\"color:red\">'+ resdata.data[2].pChange + '</span>';\r\n                    document.getElementById('top2_'+index).innerHTML=resdata.data[2].symbol+ ' '+resdata.data[2].lastPrice  +'(' + percent + ')'; \r\n                }\r\n                if(document.getElementById('top3_'+index)){\r\n                     percent = resdata.data[3].pChange > 0 ? '<span style=\"color:green\">'+ resdata.data[3].pChange + '</span>' : '<span style=\"color:red\">'+ resdata.data[3].pChange + '</span>';\r\n                    document.getElementById('top3_'+index).innerHTML=resdata.data[3].symbol+ ' '+resdata.data[3].lastPrice  + '(' + percent + ')'; \r\n                }\r\n                if(document.getElementById('top4_'+index)){\r\n                     percent = resdata.data[4].pChange > 0 ? '<span style=\"color:green\">'+ resdata.data[4].pChange + '</span>' : '<span style=\"color:red\">'+ resdata.data[4].pChange + '</span>';\r\n                    document.getElementById('top4_'+index).innerHTML=resdata.data[4].symbol+ ' '+resdata.data[4].lastPrice  +'(' + percent + ')'; \r\n                }\r\n                if(document.getElementById('top5_'+index)){\r\n                     percent = resdata.data[5].pChange > 0 ? '<span style=\"color:green\">'+ resdata.data[5].pChange + '</span>' : '<span style=\"color:red\">'+ resdata.data[5].pChange + '</span>';\r\n                    document.getElementById('top5_'+index).innerHTML=resdata.data[5].symbol + ' '+resdata.data[5].lastPrice + '(' + percent + ')'; \r\n                }   \r\n            }\r\n\r\n        })\r\n        .catch((reject) => {\r\n            Notify.showError(indexSymbol + \" Failed\"+ <br/> + reject);  \r\n            this.speckIt(indexSymbol + \" API Failed \"  ); \r\n        })\r\n\r\n    }\r\n\r\n    onChange = (e) =>{\r\n      this.setState({[e.target.name]: e.target.value}); \r\n    }\r\n   \r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString(); \r\n      //  window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    dateFormat(date){ \r\n        return moment(date).format('DD-MM-YYYY h:mm:ss A');\r\n    }\r\n    timeFormat(date){ \r\n        return moment().calendar();   \r\n        //return moment(date).format('hh:mm:ss');\r\n\r\n        \r\n    }\r\n  \r\n    render(){\r\n     \r\n\r\n      return(\r\n        <React.Fragment>\r\n                <PostLoginNavBar />\r\n            \r\n            <Grid  direction=\"row\" container className=\"flexGrow\" spacing={1}  style={{paddingLeft:\"5px\",paddingRight:\"5px\"}}>\r\n\r\n                 <Grid item xs={7} sm={7}>\r\n                   \r\n                </Grid>\r\n\r\n        \r\n                <Grid item xs={12} sm={12} style={{padding:\"20px\", overflow:\"auto\", height:\"900px\"}}>\r\n\r\n                <Typography  component=\"h3\" variant=\"h6\" color=\"primary\" >\r\n                        Market - Indices at { this.state.indexTimeStamp }\r\n                    </Typography> \r\n                <Table stickyHeader aria-label=\"sticky table\"  id=\"tabledata\" size=\"small\">\r\n\r\n                <TableRow variant=\"head\" >\r\n                    \r\n                    <TableCell align=\"left\" ><b>Sr.</b></TableCell> \r\n                    <TableCell align=\"left\" ><b>Index Name</b></TableCell> \r\n                    <TableCell align=\"left\" ><b>CHNG%</b></TableCell> \r\n                    <TableCell align=\"left\" title=\"Advances/Declines/Unchanged\"><b>A/D/Un</b></TableCell> \r\n                    <TableCell align=\"left\" ><b>Refresh</b></TableCell> \r\n                    <TableCell align=\"left\"><b>TIME</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Top1</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Top2</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Top3</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Top4</b></TableCell> \r\n                    <TableCell align=\"left\"><b>Top5</b></TableCell> \r\n                    \r\n\r\n\r\n                </TableRow>\r\n                    \r\n                    <TableBody>\r\n                    \r\n                        { this.state.products ? this.state.products.map((idata, index) => (\r\n                            <TableRow hover key={index}>\r\n                              \r\n                              {/* 'SECTORAL INDICES' */}\r\n                                { idata.key !== 'vijay' ? <>\r\n\r\n                                   <TableCell align=\"left\">{index+1} </TableCell>\r\n\r\n                                     <TableCell align=\"left\">   \r\n                                        <MyDialog data={{indexSymbol: idata.indexSymbol + ' @ '+idata.last, indexSymbolData : JSON.parse(localStorage.getItem(idata.indexSymbol)) && JSON.parse(localStorage.getItem(idata.indexSymbol)).data, timestamp : JSON.parse(localStorage.getItem(idata.indexSymbol)) && JSON.parse(localStorage.getItem(idata.indexSymbol)).timestamp}}/>\r\n                                    </TableCell>\r\n\r\n                                   \r\n                                    <TableCell align=\"left\"><a href={'https://www.nseindia.com/api/equity-stockIndices?index='+encodeURIComponent(idata.indexSymbol)} target=\"_blank\"  rel=\"noopener noreferrer\">  {idata.percentChange > 0 ?  <span style={{ color:'green', fontWeight:'bold' }} >{idata.percentChange}%</span>: idata.percentChange === 0 ? <span>{idata.percentChange}%</span> : <span style={{ color:'red',fontWeight:'bold'}} >{idata.percentChange}%</span>} </a></TableCell>\r\n                                    \r\n                                    <TableCell align=\"left\">  <span style={{ color:'green' }} >{idata.advances}</span> / <span style={{ color:'red' }} >{idata.declines}</span> / {idata.unchanged}</TableCell>\r\n                                \r\n                                    <TableCell align=\"left\"  >\r\n                                        <Button variant=\"outlined\" color=\"primary\" onClick={() => this.getIndicesStocks(idata.indexSymbol, index)}>\r\n                                            Refresh\r\n                                        </Button>\r\n\r\n                                    </TableCell> \r\n\r\n\r\n                                    \r\n\r\n                                     \r\n                                     \r\n                                     <TableCell align=\"left\" id={'topDate_'+index}></TableCell> \r\n                                    <TableCell align=\"left\" id={'top1_'+index}></TableCell> \r\n                                    <TableCell align=\"left\" id={'top2_'+index}></TableCell> \r\n                                    <TableCell align=\"left\" id={'top3_'+index}></TableCell> \r\n                                    <TableCell align=\"left\" id={'top4_'+index}></TableCell> \r\n                                    <TableCell align=\"left\" id={'top5_'+index}></TableCell> \r\n                                    \r\n                                     </> : \"\"\r\n                                }\r\n                               \r\n\r\n                            </TableRow>\r\n\r\n                        )):<Spinner/>}\r\n\r\n\r\n\r\n\r\n\r\n                    </TableBody>\r\n\r\n\r\n                </Table>\r\n                </Grid>\r\n\r\n                </Grid>\r\n                   \r\n            </React.Fragment> \r\n        )\r\n    }\r\n\r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     }, \r\n//     selectStyle:{\r\n//         marginBottom: '0px',\r\n//         minWidth: 240,\r\n//         maxWidth: 240\r\n\r\n//     }\r\n  \r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {packs:state.packs.packs.data};\r\n}\r\nexport default connect(mapStateToProps,{setPackLoaded})(MyView);\r\n","import React from \"react\";\r\nimport ApexCharts from 'apexcharts'\r\n\r\n\r\nexport default function App( props ) {\r\n\r\n  var options = {\r\n    series: [{\r\n    data: [{\r\n        x: new Date(1538778600000),\r\n        y: [6629.81, 6650.5, 6623.04, 6633.33]\r\n      },\r\n      {\r\n        x: new Date(1538780400000),\r\n        y: [6632.01, 6643.59, 6620, 6630.11]\r\n      },\r\n      {\r\n        x: new Date(1538782200000),\r\n        y: [6630.71, 6648.95, 6623.34, 6635.65]\r\n      },\r\n      {\r\n        x: new Date(1538784000000),\r\n        y: [6635.65, 6651, 6629.67, 6638.24]\r\n      },\r\n      {\r\n        x: new Date(1538785800000),\r\n        y: [6638.24, 6640, 6620, 6624.47]\r\n      },\r\n      {\r\n        x: new Date(1538787600000),\r\n        y: [6624.53, 6636.03, 6621.68, 6624.31]\r\n      },\r\n      {\r\n        x: new Date(1538789400000),\r\n        y: [6624.61, 6632.2, 6617, 6626.02]\r\n      },\r\n      {\r\n        x: new Date(1538791200000),\r\n        y: [6627, 6627.62, 6584.22, 6603.02]\r\n      },\r\n      {\r\n        x: new Date(1538793000000),\r\n        y: [6605, 6608.03, 6598.95, 6604.01]\r\n      },\r\n      {\r\n        x: new Date(1538794800000),\r\n        y: [6604.5, 6614.4, 6602.26, 6608.02]\r\n      },\r\n      {\r\n        x: new Date(1538796600000),\r\n        y: [6608.02, 6610.68, 6601.99, 6608.91]\r\n      },\r\n      {\r\n        x: new Date(1538798400000),\r\n        y: [6608.91, 6618.99, 6608.01, 6612]\r\n      },\r\n      {\r\n        x: new Date(1538800200000),\r\n        y: [6612, 6615.13, 6605.09, 6612]\r\n      },\r\n      {\r\n        x: new Date(1538802000000),\r\n        y: [6612, 6624.12, 6608.43, 6622.95]\r\n      },\r\n      {\r\n        x: new Date(1538803800000),\r\n        y: [6623.91, 6623.91, 6615, 6615.67]\r\n      },\r\n      {\r\n        x: new Date(1538805600000),\r\n        y: [6618.69, 6618.74, 6610, 6610.4]\r\n      },\r\n      {\r\n        x: new Date(1538807400000),\r\n        y: [6611, 6622.78, 6610.4, 6614.9]\r\n      },\r\n      {\r\n        x: new Date(1538809200000),\r\n        y: [6614.9, 6626.2, 6613.33, 6623.45]\r\n      },\r\n      {\r\n        x: new Date(1538811000000),\r\n        y: [6623.48, 6627, 6618.38, 6620.35]\r\n      },\r\n      {\r\n        x: new Date(1538812800000),\r\n        y: [6619.43, 6620.35, 6610.05, 6615.53]\r\n      },\r\n      {\r\n        x: new Date(1538814600000),\r\n        y: [6615.53, 6617.93, 6610, 6615.19]\r\n      },\r\n      {\r\n        x: new Date(1538816400000),\r\n        y: [6615.19, 6621.6, 6608.2, 6620]\r\n      },\r\n      {\r\n        x: new Date(1538818200000),\r\n        y: [6619.54, 6625.17, 6614.15, 6620]\r\n      },\r\n      {\r\n        x: new Date(1538820000000),\r\n        y: [6620.33, 6634.15, 6617.24, 6624.61]\r\n      },\r\n      {\r\n        x: new Date(1538821800000),\r\n        y: [6625.95, 6626, 6611.66, 6617.58]\r\n      },\r\n      {\r\n        x: new Date(1538823600000),\r\n        y: [6619, 6625.97, 6595.27, 6598.86]\r\n      },\r\n      {\r\n        x: new Date(1538825400000),\r\n        y: [6598.86, 6598.88, 6570, 6587.16]\r\n      },\r\n      {\r\n        x: new Date(1538827200000),\r\n        y: [6588.86, 6600, 6580, 6593.4]\r\n      },\r\n      {\r\n        x: new Date(1538829000000),\r\n        y: [6593.99, 6598.89, 6585, 6587.81]\r\n      },\r\n      {\r\n        x: new Date(1538830800000),\r\n        y: [6587.81, 6592.73, 6567.14, 6578]\r\n      },\r\n      {\r\n        x: new Date(1538832600000),\r\n        y: [6578.35, 6581.72, 6567.39, 6579]\r\n      },\r\n      {\r\n        x: new Date(1538834400000),\r\n        y: [6579.38, 6580.92, 6566.77, 6575.96]\r\n      },\r\n      {\r\n        x: new Date(1538836200000),\r\n        y: [6575.96, 6589, 6571.77, 6588.92]\r\n      },\r\n      {\r\n        x: new Date(1538838000000),\r\n        y: [6588.92, 6594, 6577.55, 6589.22]\r\n      },\r\n      {\r\n        x: new Date(1538839800000),\r\n        y: [6589.3, 6598.89, 6589.1, 6596.08]\r\n      },\r\n      {\r\n        x: new Date(1538841600000),\r\n        y: [6597.5, 6600, 6588.39, 6596.25]\r\n      },\r\n      {\r\n        x: new Date(1538843400000),\r\n        y: [6598.03, 6600, 6588.73, 6595.97]\r\n      },\r\n      {\r\n        x: new Date(1538845200000),\r\n        y: [6595.97, 6602.01, 6588.17, 6602]\r\n      },\r\n      {\r\n        x: new Date(1538847000000),\r\n        y: [6602, 6607, 6596.51, 6599.95]\r\n      },\r\n      {\r\n        x: new Date(1538848800000),\r\n        y: [6600.63, 6601.21, 6590.39, 6591.02]\r\n      },\r\n      {\r\n        x: new Date(1538850600000),\r\n        y: [6591.02, 6603.08, 6591, 6591]\r\n      },\r\n      {\r\n        x: new Date(1538852400000),\r\n        y: [6591, 6601.32, 6585, 6592]\r\n      },\r\n      {\r\n        x: new Date(1538854200000),\r\n        y: [6593.13, 6596.01, 6590, 6593.34]\r\n      },\r\n      {\r\n        x: new Date(1538856000000),\r\n        y: [6593.34, 6604.76, 6582.63, 6593.86]\r\n      },\r\n      {\r\n        x: new Date(1538857800000),\r\n        y: [6593.86, 6604.28, 6586.57, 6600.01]\r\n      },\r\n      {\r\n        x: new Date(1538859600000),\r\n        y: [6601.81, 6603.21, 6592.78, 6596.25]\r\n      },\r\n      {\r\n        x: new Date(1538861400000),\r\n        y: [6596.25, 6604.2, 6590, 6602.99]\r\n      },\r\n      {\r\n        x: new Date(1538863200000),\r\n        y: [6602.99, 6606, 6584.99, 6587.81]\r\n      },\r\n      {\r\n        x: new Date(1538865000000),\r\n        y: [6587.81, 6595, 6583.27, 6591.96]\r\n      },\r\n      {\r\n        x: new Date(1538866800000),\r\n        y: [6591.97, 6596.07, 6585, 6588.39]\r\n      },\r\n      {\r\n        x: new Date(1538868600000),\r\n        y: [6587.6, 6598.21, 6587.6, 6594.27]\r\n      },\r\n      {\r\n        x: new Date(1538870400000),\r\n        y: [6596.44, 6601, 6590, 6596.55]\r\n      },\r\n      {\r\n        x: new Date(1538872200000),\r\n        y: [6598.91, 6605, 6596.61, 6600.02]\r\n      },\r\n      {\r\n        x: new Date(1538874000000),\r\n        y: [6600.55, 6605, 6589.14, 6593.01]\r\n      },\r\n      {\r\n        x: new Date(1538875800000),\r\n        y: [6593.15, 6605, 6592, 6603.06]\r\n      },\r\n      {\r\n        x: new Date(1538877600000),\r\n        y: [6603.07, 6604.5, 6599.09, 6603.89]\r\n      },\r\n      {\r\n        x: new Date(1538879400000),\r\n        y: [6604.44, 6604.44, 6600, 6603.5]\r\n      },\r\n      {\r\n        x: new Date(1538881200000),\r\n        y: [6603.5, 6603.99, 6597.5, 6603.86]\r\n      },\r\n      {\r\n        x: new Date(1538883000000),\r\n        y: [6603.85, 6605, 6600, 6604.07]\r\n      },\r\n      {\r\n        x: new Date(1538884800000),\r\n        y: [6604.98, 6606, 6604.07, 6606]\r\n      },\r\n    ]\r\n  }],\r\n    chart: {\r\n    type: 'candlestick',\r\n    height: 350\r\n  },\r\n  title: {\r\n    text: 'CandleStick Chart',\r\n    align: 'left'\r\n  },\r\n  colors: {\r\n    upward: 'darkmagenta',\r\n    downward: '#00cbcb'\r\n  },\r\n  xaxis: {\r\n    type: 'datetime'\r\n  },\r\n  yaxis: {\r\n    tooltip: {\r\n      enabled: true\r\n    }\r\n  }\r\n  };\r\n\r\n  var chart = new ApexCharts(document.querySelector(\"#chart\"), options);\r\n  chart.render();\r\n\r\n\r\n\r\n  return \"\"; \r\n}\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {connect} from \"react-redux\";\r\nimport {setPackLoaded} from \"../../action\";\r\nimport \"./ViewStyle.css\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport TradeConfig from './TradeConfig.json';\r\n\r\nclass MyView extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            stopnview:'', \r\n            curnewdata:'', \r\n            underlyingValue : '', \r\n            timestamp:'',\r\n            totalCOI : 0,\r\n            expiry: '', \r\n            strike:'',\r\n            FilteredBY: '',\r\n            AllspTotalOI:[],\r\n            PEoi:0,\r\n            CEoi:0,\r\n            scrollcount : 0,\r\n            \r\n            //JSON.parse(localStorage.getItem('optionChainDataBN')).records.data\r\n\r\n\r\n\r\n        }\r\n//          this.findSupportResistence = this.findSupportResistence.bind(this);\r\n            \r\n    }\r\n\r\n    onChange = (e) =>{\r\n      this.setState({[e.target.name]: e.target.value}); \r\n      this.filterOptionChain(e.target.name,  e.target.value); \r\n\r\n    }\r\n   \r\n  \r\n  \r\n    componentDidMount() {\r\n\r\n        AdminService.getFunds().then(fundsRes => {\r\n            // console.log('profiledata', profileRes); \r\n               let fundsResData = resolveResponse(fundsRes);\r\n             //  var fundsResData =  fundsRes && fundsRes.data; \r\n               if(fundsResData.status & fundsResData.message === 'SUCCESS'){\r\n                this.setState({  fundData :fundsResData.data }); \r\n                localStorage.setItem(\"netCapital\", fundsResData.data && fundsResData.data.net); \r\n\r\n               }\r\n        })\r\n\r\n    }\r\n   \r\n  \r\n   toFixedAmount =(value) => {\r\n\r\n    if(value){\r\n      return  parseFloat(value).toFixed(2);\r\n    }\r\n   }\r\n\r\n    render(){\r\n\r\n      return(\r\n        <React.Fragment>\r\n            \r\n            <PostLoginNavBar />\r\n       \r\n            <br/><br/><br/>\r\n            \r\n            <Grid   direction=\"row\" container className=\"flexGrow\" spacing={2}  style={{paddingLeft:\"5px\",paddingRight:\"5px\", justifyContent:'center'}}>\r\n              \r\n            \r\n                <Grid id=\"tabledatachart\"  item xs={8} sm={4}>\r\n                <Paper style={{padding:\"25px\" }}>   \r\n\r\n                <Typography variant=\"h6\">\r\n                 Net:   {this.state.fundData &&  this.toFixedAmount(this.state.fundData.net)}\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                   Available Cash :   {this.state.fundData &&  this.toFixedAmount(this.state.fundData.availablecash)}\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Aailable Intraday payin :   {this.state.fundData && this.toFixedAmount(this.state.fundData.availableintradaypayin)}\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Available limit margin :   {this.state.fundData &&  this.toFixedAmount(this.state.fundData.availablelimitmargin)}\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Collateral :   {this.state.fundData && this.toFixedAmount(this.state.fundData.collateral)}\r\n                </Typography>\r\n              \r\n\r\n                <Typography variant=\"h6\">\r\n                Utilised debits :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utiliseddebits) }\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Utilised exposure :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedexposure) }\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Utilised holding sales :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedholdingsales)}\r\n                </Typography>\r\n             \r\n                <Typography variant=\"h6\">\r\n                Utilised option premium :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedoptionpremium) }\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Utilised payout :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedpayout) }\r\n                </Typography>\r\n                <Typography variant=\"h6\">\r\n                Utilised span :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedspan) }\r\n                </Typography>\r\n\r\n\r\n                <Typography variant=\"h6\">\r\n                Utilised turnover :   {this.state.fundData && this.toFixedAmount(this.state.fundData.utilisedturnover) }\r\n                </Typography>\r\n                </Paper>\r\n                </Grid>\r\n               \r\n\r\n\r\n                <Grid id=\"tabledatachart\"  item xs={4} sm={4}>\r\n                <Paper style={{padding:\"25px\" }}>   \r\n               \r\n                <Typography variant=\"h6\">\r\n                    M2M Unrealized  :   {this.state.fundData && this.toFixedAmount(this.state.fundData.m2munrealized) }\r\n                    </Typography>\r\n                    \r\n                    \r\n                    <Typography variant=\"h6\">\r\n                    M2M Realized  :   {this.state.fundData && this.toFixedAmount(this.state.fundData.m2mrealized) }\r\n                    </Typography>\r\n\r\n                  \r\n                    </Paper>\r\n\r\n                </Grid>\r\n\r\n\r\n                <Grid id=\"tabledatachart\"  item xs={4} sm={4}>\r\n                <Paper style={{padding:\"25px\" }}>   \r\n               \r\n                <Typography variant=\"h6\">\r\n                    Total Capital  :   {TradeConfig.totalCapital }\r\n                    </Typography>\r\n                    \r\n                    \r\n                    <Typography variant=\"h6\">\r\n                    Per Trade Exposure  :   {TradeConfig.perTradeExposurePer}% \r\n                    </Typography>\r\n\r\n                    <Typography variant=\"h6\">\r\n                    Per Trade Exposure  :   {(TradeConfig.totalCapital * TradeConfig.perTradeExposurePer/100).toFixed(2)}\r\n                    </Typography>\r\n\r\n                    </Paper>\r\n\r\n                </Grid>\r\n               \r\n              \r\n                </Grid>\r\n                   \r\n\r\n                \r\n           \r\n          \r\n\r\n            </React.Fragment> \r\n        )\r\n    }\r\n\r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     }, \r\n//     selectStyle:{\r\n//         marginBottom: '0px',\r\n//         minWidth: 240,\r\n//         maxWidth: 240\r\n\r\n//     }\r\n  \r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {packs:state.packs.packs.data};\r\n}\r\nexport default connect(mapStateToProps,{setPackLoaded})(MyView);\r\n","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass OrderBook extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            oderbookData:[],\r\n            listofzones:[],\r\n            selectedZone:[],\r\n            zone:'',\r\n            selectAllzone:'Select All',\r\n            triggerprice :0,\r\n            price:0,\r\n            lotsize:0,\r\n            firstTimeFlag: true\r\n\r\n        }\r\n    }\r\n\r\n    getTodayOrder = () => {\r\n        AdminService.retrieveOrderBook()\r\n        .then((res) => {\r\n            let data = resolveResponse(res, \"noPop\");\r\n            if(data && data.data){\r\n                var orderlist = data.data; \r\n                  orderlist.sort(function(a,b){\r\n                    return new Date(b.updatetime) - new Date(a.updatetime);\r\n                  });\r\n\r\n                this.setState({oderbookData: orderlist});\r\n                localStorage.setItem('oderbookData', JSON.stringify( orderlist ));\r\n\r\n                // var pendingOrder = orderlist.filter(function(row){\r\n                //     return row.status == \"trigger pending\";\r\n                // }); \r\n                // this.setState({pendingOrder: pendingOrder});\r\n                                    \r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        setInterval(() => {\r\n            this.getTodayOrder();\r\n        }, 10000);\r\n       \r\n    }\r\n\r\n   \r\n    cancelOrderOfSame = (orderId,variety) =>  {\r\n       \r\n        var data = {\r\n            \"variety\":variety,\r\n            \"orderid\":orderId,\r\n        }\r\n        AdminService.cancelOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            if(data.status  && data.message === 'SUCCESS'){\r\n                console.log(\"cancel order\", data);   \r\n                this.getTodayOrder();\r\n               // this.setState({ orderid : data.data && data.data.orderid });\r\n            }\r\n        })\r\n       \r\n    }\r\n\r\n\r\n\r\n\r\n    modifyOrder = (row, trailingstoploss) => {\r\n\r\n        console.log(this.state.triggerprice);\r\n\r\n        var data = {\r\n            \"variety\" :row.variety,  // \"STOPLOSS\",\r\n            \"orderid\": row.orderid,\r\n            \"ordertype\": this.state.price !== 0 ? \"STOPLOSS_LIMIT\" : \"STOPLOSS_MARKET\",\r\n            \"producttype\":  row.producttype, //\"DELIVERY\",\r\n            \"duration\": row.duration,\r\n            \"price\":  this.state.price,\r\n            \"triggerprice\": trailingstoploss || this.state.triggerprice,\r\n            \"quantity\":row.quantity,\r\n            \"tradingsymbol\": row.tradingsymbol,\r\n            \"symboltoken\": row.symboltoken,\r\n            \"exchange\": row.exchange\r\n            }\r\n        AdminService.modifyOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            console.log(data);   \r\n            if(data.status  && data.message === 'SUCCESS'){\r\n               // localStorage.setItem('ifNotBought' ,  'false')\r\n               this.setState({triggerprice : 0}); \r\n               this.getTodayOrder();\r\n            }\r\n        })\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n      return(\r\n        <React.Fragment>\r\n\r\n\r\n            {window.location.hash !== \"#/position\" ?    <PostLoginNavBar/> : \"\"}\r\n            \r\n         \r\n\r\n\r\n                <Grid spacing={1}  direction=\"row\" alignItems=\"center\" container>\r\n                                <Grid item xs={12} sm={6} >\r\n                                    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                         Oders Placed ({this.state.oderbookData.length}) \r\n                                    </Typography> \r\n                                </Grid>\r\n                                <Grid item xs={12} sm={6} >\r\n                                    <Button id=\"orderRefresh\"  type=\"number\" variant=\"contained\"  style={{float:\"right\"}} onClick={() => this.getTodayOrder()}>Refresh</Button>    \r\n                                </Grid>\r\n                                \r\n                </Grid>\r\n                \r\n            <Grid direction=\"row\" alignItems=\"center\" container>\r\n            <Grid item xs={12} sm={12} >\r\n\r\n                     <Paper style={{padding:\"10px\"}} >\r\n\r\n                     <Table  size=\"small\"  style={{width:\"100%\"}}  aria-label=\"sticky table\" >\r\n               \r\n                        <TableHead style={{whiteSpace: \"nowrap\"}} variant=\"head\">\r\n                            <TableRow variant=\"head\" >\r\n                                <TableCell align=\"center\"><b>Update time</b></TableCell>\r\n\r\n                                {/* <TableCell align=\"center\"><b>OrderId</b></TableCell> */}\r\n\r\n                                <TableCell align=\"center\"><b>Instrument</b></TableCell>\r\n                                {/* <TableCell align=\"center\"><b>Token</b></TableCell> */}\r\n\r\n                                <TableCell align=\"center\"><b>Order Type</b></TableCell>\r\n                                <TableCell align=\"center\"><b>Variety</b></TableCell>\r\n\r\n                                \r\n\r\n                                <TableCell align=\"center\"><b>CNC/Intraday</b></TableCell>\r\n                                <TableCell align=\"center\"><b>Qty </b></TableCell>\r\n                        \r\n                                <TableCell align=\"center\"><b>AvgPrice</b></TableCell>\r\n                                \r\n                                <TableCell align=\"center\"><b>Price</b></TableCell>\r\n                                <TableCell align=\"center\"><b>TriggerPrice</b></TableCell>\r\n\r\n                                <TableCell align=\"center\">Action</TableCell>\r\n                                <TableCell align=\"center\"><b>Status</b></TableCell>\r\n                                <TableCell align=\"center\"><b>Details</b></TableCell>\r\n                \r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        \r\n                            {this.state.oderbookData && this.state.oderbookData ? this.state.oderbookData.map((row, i)  => (\r\n                                <TableRow hover key={i} >\r\n\r\n                                    <TableCell align=\"center\">{row.updatetime ? new Date(row.updatetime).toString().substring(15, 25) : \"\"}</TableCell>\r\n\r\n                                    {/* <TableCell align=\"center\">{row.orderid  }</TableCell> */}\r\n                                    <TableCell style={{ width: '10%'}}  align=\"center\">{row.tradingsymbol}</TableCell>\r\n                                    {/* <TableCell align=\"center\">{row.symboltoken  }</TableCell> */}\r\n\r\n                                    <TableCell align=\"center\">{row.transactiontype}</TableCell>\r\n                                    <TableCell align=\"center\">{row.variety}</TableCell>\r\n\r\n                                    <TableCell align=\"center\">{row.producttype}</TableCell>\r\n\r\n                                    \r\n\r\n                                    <TableCell align=\"center\">\r\n                                        {/* {row.orderstatus === 'trigger pending' ? \r\n                                        <TextField type=\"number\" style={{textAlign:'center', width:'50px'}} id=\"lotsize\"  value={row.quantity}  name=\"lotsize\" onChange={this.onChange}/>\r\n                                        : row.quantity} */}\r\n                                    {row.quantity}\r\n\r\n                                    </TableCell>\r\n\r\n                                \r\n                                    <TableCell align=\"center\">{row.averageprice}</TableCell>\r\n\r\n                                    <TableCell align=\"center\">\r\n                                        {row.orderstatus === 'trigger pending' ? \r\n                                        <TextField style={{textAlign:'center', width:'50px'}} id=\"price\"  value={this.state.price === 0 ? row.price : this.state.price}  name=\"price\" onChange={this.onChange}/>\r\n                                        : row.price}\r\n                                    </TableCell>\r\n\r\n                                    <TableCell align=\"center\">\r\n                                        {row.orderstatus === 'trigger pending' || row.orderstatus ==='open' ? \r\n                                        <TextField  type=\"number\" style={{textAlign:'center', width:'50px'}} id=\"triggerprice\"  value={this.state.triggerprice === 0 ? row.triggerprice : this.state.triggerprice}  name=\"triggerprice\" onChange={this.onChange}/>\r\n                                        : row.triggerprice}\r\n                                    </TableCell>\r\n\r\n\r\n                                    <TableCell align=\"left\">\r\n                                        {row.orderstatus === 'trigger pending' || row.orderstatus ==='open' ? <>\r\n                                        <Button  size={'small'} type=\"number\" variant=\"contained\" color=\"primary\" style={{marginLeft: '20px'}} onClick={() => this.modifyOrder(row)}>Update</Button>    \r\n                                       </>\r\n                                     : ''}\r\n                                    </TableCell>\r\n                                    \r\n                                    <TableCell style={{fontSize: \"11px\", width: '10%'}} align=\"center\">\r\n                                        {row.orderstatus}\r\n                                        <br />\r\n\r\n                                    {row.orderstatus === 'trigger pending' || row.orderstatus ==='open' ? <>\r\n                                    <Button  size={'small'} type=\"number\" variant=\"contained\" color=\"\" style={{marginLeft: '20px'}} onClick={() => this.cancelOrderOfSame(row.orderid, row.variety)}>Cancel</Button>    \r\n                                       </>\r\n                                     : ''}\r\n\r\n                                    </TableCell>\r\n\r\n                                    <TableCell style={{fontSize: \"11px\"}} align=\"center\">{row.text}</TableCell>\r\n\r\n                                    \r\n                                </TableRow>\r\n                            )):<Spinner/>}\r\n                        </TableBody>\r\n                    </Table>\r\n                    </Paper>    \r\n                </Grid>\r\n                 \r\n               </Grid>    \r\n           \r\n            </React.Fragment> \r\n        )\r\n    }\r\n  \r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     },\r\n//     selectStyle:{\r\n//         // minWidth: '100%',\r\n//          marginBottom: '0px',\r\n//           minWidth: 300,\r\n//           maxWidth: 300,\r\n//     }\r\n// }\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(OrderBook);\r\nexport default OrderBook;","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport \"./ViewStyle.css\";\r\n\r\n\r\nclass TradeBook extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.addProduct = this.addProduct.bind(this);\r\n        this.editProduct = this.editProduct.bind(this);\r\n        this.convertBool = this.convertBool.bind(this);\r\n        \r\n\r\n        this.state = {\r\n            oderbookData:[],\r\n            listofzones:[],\r\n            selectedZone:[],\r\n            zone:'',\r\n            selectAllzone:'Select All'\r\n\r\n        }\r\n    }\r\n    getTodayTrade = () => {\r\n        AdminService.retrieveTradeBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res);\r\n                console.log('datamy', data);\r\n\r\n                if(data && data.data){\r\n                    this.setState({oderbookData: data.data});\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n   \r\n   \r\n        this.getTodayTrade(); \r\n        \r\n       \r\n    }\r\n\r\n    zoneChange = (e) =>{\r\n        this.setState({[e.target.name]: e.target.value});\r\n\r\n        if(e.target.value.includes(\"Select All\")){\r\n            this.setState({selectedZone: this.state.listofzones})\r\n            this.setState({selectAllzone: \"Remove All\"})\r\n        }\r\n    \r\n        if(e.target.value.includes(\"Remove All\")){\r\n            this.setState({selectedZone: []})\r\n            this.setState({selectAllzone: \"Select All\"})\r\n        }\r\n\r\n    }\r\n\r\n   \r\n\r\n   \r\n    addProduct=(e)=> {\r\n        console.log(this.props)\r\n        this.props.history.push('/banner-add');\r\n    }\r\n\r\n    editProduct(productId) {\r\n        window.localStorage.removeItem(\"selectedBannerId\");\r\n        window.localStorage.setItem(\"selectedBannerId\", productId);\r\n        this.props.history.push('/banner-edit');\r\n    }\r\n\r\n    convertBool(flag) {\r\n        return flag ? 'Yes' : 'No';\r\n    }\r\n\r\n    dateFormat(date){\r\n        var d = new Date(date);\r\n        var fd = d.toLocaleDateString() + ' ' + d.toTimeString().substring(0, d.toTimeString().indexOf(\"GMT\"));\r\n        return fd;\r\n    }\r\n   \r\n    \r\n\r\n    render(){\r\n    \r\n      return(\r\n        <React.Fragment>\r\n            <PostLoginNavBar/>\r\n\r\n\r\n\r\n            <Paper style={{padding:\"10px\", overflow:\"auto\"}} >\r\n\r\n\r\n            <Grid spacing={1}  direction=\"row\" alignItems=\"center\" container>\r\n                            <Grid item xs={12} sm={6} >\r\n                                <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                  Today Trades ({this.state.oderbookData.length})\r\n                                </Typography> \r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6} >\r\n                                <Button  type=\"number\" variant=\"contained\" style={{float:\"right\"}} onClick={() => this.getTodayTrade()}>Refresh</Button>    \r\n                            </Grid>\r\n\r\n                            \r\n                </Grid>\r\n            \r\n\r\n            <Table  size=\"small\"   aria-label=\"sticky table\" >\r\n                <TableHead  style={{width:\"\",whiteSpace: \"nowrap\"}} variant=\"head\">\r\n                    <TableRow   variant=\"head\" style={{fontWeight: 'bold'}}>\r\n\r\n\r\n                        {/* <TableCell align=\"center\">checkbox</TableCell> */}\r\n                        <TableCell className=\"TableHeadFormat\" align=\"center\">Orderid</TableCell>\r\n                        <TableCell className=\"TableHeadFormat\" align=\"center\">Product Type</TableCell>\r\n                        <TableCell  className=\"TableHeadFormat\" align=\"center\">Type</TableCell>\r\n                        <TableCell  className=\"TableHeadFormat\" align=\"center\">Instrument</TableCell>\r\n\r\n                        <TableCell className=\"TableHeadFormat\" align=\"center\">Qty </TableCell>\r\n                        \r\n\r\n                        {/* <TableCell align=\"center\">Lob</TableCell> */}\r\n                        {/* <TableCell align=\"center\">Section</TableCell> */}\r\n                        <TableCell  className=\"TableHeadFormat\" align=\"center\">Price</TableCell>\r\n                        {/* <TableCell align=\"center\">Category</TableCell> */}\r\n                        <TableCell  className=\"TableHeadFormat\"   align=\"center\">Trade value</TableCell>\r\n\r\n                        <TableCell className=\"TableHeadFormat\" align=\"center\">Update time</TableCell>\r\n\r\n                      \r\n\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n            \r\n\r\n                    {this.state.oderbookData && this.state.oderbookData ? this.state.oderbookData.map(row => (\r\n                        <TableRow key={row.productId} >\r\n\r\n                            {/* <TableCell align=\"center\"> <img style={{width:\"100px\", height:\"50px\"}} src={row.imageURL} /> </TableCell> */}\r\n                            <TableCell align=\"center\">{row.orderid}</TableCell>\r\n                            <TableCell align=\"center\">{row.tradingsymbol}</TableCell>\r\n                            <TableCell align=\"center\">{row.transactiontype}</TableCell>\r\n                            \r\n                            <TableCell align=\"center\">{row.producttype}</TableCell>\r\n                            <TableCell align=\"center\">{row.fillsize}</TableCell>\r\n                            {/* <TableCell align=\"center\">{row.lob}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{row.section}</TableCell> */}\r\n                            <TableCell align=\"center\">{row.fillprice}</TableCell>\r\n                            <TableCell align=\"center\">{row.tradevalue}</TableCell>\r\n                            {/* <TableCell align=\"center\">{row.category}</TableCell> */}\r\n                             <TableCell align=\"center\">{row.filltime}</TableCell>\r\n\r\n                            \r\n                        </TableRow>\r\n                    )):<Spinner/>}\r\n                </TableBody>\r\n            </Table>\r\n\r\n            </Paper>\r\n            </React.Fragment> \r\n        )\r\n    }\r\n  \r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     },\r\n//     selectStyle:{\r\n//         // minWidth: '100%',\r\n//          marginBottom: '0px',\r\n//           minWidth: 300,\r\n//           maxWidth: 300,\r\n//     }\r\n// }\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(BaneerList);\r\nexport default TradeBook;","import React from 'react';\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\n//import AdminWelcome from '../adminwelcome.png';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport  {API_KEY} from \"../../utils/config\";\r\nimport * as moment from 'moment';\r\nimport { w3cwebsocket } from 'websocket'; \r\nimport pako from 'pako';\r\nconst wsClint =  new w3cwebsocket('wss://smartapisocket.angelbroking.com/websocket'); \r\n\r\nclass Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            positionList : [],\r\n            userName: \"\",\r\n            password: \"\",\r\n            autoSearchList :[],\r\n            isDasable:false,\r\n            isError:false,\r\n            InstrumentLTP : {},\r\n            ifNotBought : true,\r\n            autoSearchTemp : [],\r\n            symboltoken: \"\", \r\n            tradingsymbol : \"\" ,\r\n            buyPrice : 0,\r\n            quantity : 1,\r\n            producttype : \"INTRADAY\",\r\n            symbolList : JSON.parse(localStorage.getItem('watchList'))\r\n        \r\n        };\r\n        this.myCallback = this.myCallback.bind(this);\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value});\r\n        var data  = e.target.value; \r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data =  res.data; \r\n            console.log(data);       \r\n            localStorage.setItem('autoSearchTemp',JSON.stringify(data)); \r\n            this.setState({ autoSearchList : data });\r\n       })\r\n\r\n    }\r\n\r\n    myCallback = (date, fromDate) => {\r\n        if (fromDate === \"START_DATE\") {\r\n          this.setState({ startDate: date  });\r\n        } else if (fromDate === \"END_DATE\") {\r\n          this.setState({ endDate: date  });\r\n        }\r\n      };\r\n    getLTP =() => {\r\n        var data  = {\r\n            \"exchange\":\"NSE\",\r\n            \"tradingsymbol\":  this.state.tradingsymbol,\r\n            \"symboltoken\":this.state.symboltoken,\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n             var LtpData = data && data.data; \r\n             this.setState({ InstrumentLTP : LtpData});\r\n\r\n            //  if(!localStorage.getItem('ifNotBought') && LtpData &&  LtpData.ltp > this.state.buyPrice){\r\n            //    this.placeOrder(this.state.buyPrice); \r\n            //  }\r\n\r\n            //  if(LtpData.ltp > this.getAveragePrice(this.state.orderid)){\r\n            //    this.placeSLMOrder(LtpData.ltp); \r\n            //  }\r\n       })\r\n    }\r\n    decodeWebsocketData =(array)  => {\r\n\r\n        console.log('atoms'); \r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n    \r\n        return newarray.join('');\r\n    }\r\n\r\n    makeConnection = (feedToken ,clientcode ) => {\r\n\r\n\r\n\r\n        var firstTime_req =  {\r\n            \"actiontype\": \"subscribe\",\r\n            \"feedtype\": \"order_feed\",\r\n            \"jwttoken\": this.state.jwtToken,\r\n            \"clientcode\": this.state.clientcode ,\r\n            \"apikey\": API_KEY\r\n       }\r\n\r\n       \r\n        console.log(\"1st Request :- \" + JSON.stringify( firstTime_req));\r\n        wsClint.send(JSON.stringify( firstTime_req));\r\n    }\r\n\r\n    updateSocketWatch = (feedToken,clientcode ) => {\r\n      \r\n        var channel = this.state.symbolList.map(element => {\r\n             return 'nse_cm|'+ element.token; \r\n        });\r\n\r\n        channel = channel.join('&'); \r\n        var sbin =  {\r\n            \"task\":\"mw\",\r\n            \"channel\": channel,\r\n            \"token\":this.state.feedToken,\r\n            \"user\":this.state.clientcode,\r\n            \"acctid\":this.state.clientcode\r\n        }\r\n        wsClint.send( JSON.stringify( sbin)); \r\n    }\r\n\r\n    \r\n    componentDidMount() {\r\n\r\n        var tokens = JSON.parse(localStorage.getItem(\"userTokens\")); \r\n        var feedToken =   tokens &&  tokens.feedToken;\r\n        var jwtToken =   tokens &&  tokens.jwtToken;\r\n\r\n        var userProfile = JSON.parse(localStorage.getItem(\"userProfile\")); \r\n        var clientcode =   userProfile &&  userProfile.clientcode;\r\n        this.setState({ feedToken : feedToken,clientcode : clientcode , jwtToken: jwtToken });\r\n\r\n            \r\n        wsClint.onopen  = (res) => {\r\n\r\n\r\n            var firstTime_req =  {\r\n                \"jwttoken\": this.state.jwtToken,\r\n                \"clientcode\": this.state.clientcode ,\r\n                \"apikey\": API_KEY\r\n           }\r\n    \r\n           \r\n            console.log(\"1st Request :- \" + JSON.stringify( firstTime_req));\r\n            wsClint.send(firstTime_req);\r\n\r\n            // this.makeConnection();\r\n            // console.log('connected');\r\n            // this.updateSocketWatch();\r\n                \r\n             setTimeout(function(){\r\n               this.makeConnection(feedToken ,clientcode);\r\n             }, 1000);\r\n        }\r\n\r\n        wsClint.onmessage = (message) => {\r\n            \r\n            \r\n            var decoded = window.atob(message.data);\r\n            var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n\r\n            this.setState({ positionList : JSON.parse(data) });\r\n\r\n        //    this.state.symbolList.forEach(element => {\r\n\r\n        //         var foundLive = liveData.filter(row => row.tk  == element.token);\r\n        //     // console.log(\"foundLive\", foundLive);\r\n        //         if(foundLive.length>0 &&  foundLive[0].ltp)\r\n        //             this.setState({ [element.symbol+'ltp'] : foundLive.length>0 &&  foundLive[0].ltp})\r\n        //         if(foundLive.length>0 &&  foundLive[0].cng)\r\n        //             this.setState({ [element.symbol+'nc'] : foundLive.length>0 &&  foundLive[0].nc})\r\n               \r\n               \r\n        //      });\r\n        \r\n        }\r\n\r\n        wsClint.onerror = (e) => {\r\n            console.log(\"socket error\", e); \r\n        }\r\n\r\n        setInterval(() => {\r\n\r\n            var heartbeatReq =  {\r\n                \"actiontype\": \"heartbeat\",\r\n                \"feedtype\": \"order_feed\",\r\n                \"jwttoken\": this.state.feedToken ,\r\n                \"clientcode\": this.state.clientcode ,\r\n                \"apikey\": API_KEY\r\n            }\r\n    \r\n            console.log(\"heartbeatReq : \" + heartbeatReq);\r\n            wsClint.send(heartbeatReq);\r\n          //  this.makeConnection(feedToken ,clientcode );\r\n        }, 59000);\r\n\r\n\r\n        var list = localStorage.getItem('watchList');\r\n        if(!list){\r\n            localStorage.setItem('watchList', []);\r\n        }\r\n      \r\n    }\r\n\r\n    placeOrder = (transactiontype) => {\r\n\r\n        var data = {\r\n            \"variety\":\"NORMAL\",\r\n            \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\":this.state.symboltoken,\r\n            \"transactiontype\":transactiontype, //BUY OR SELL\r\n            \"exchange\":\"NSE\",\r\n            \"ordertype\":   this.state.buyPrice  === 0 ? \"MARKET\" : \"LIMIT\", \r\n            \"producttype\": this.state.producttype, //\"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\":\"DAY\",\r\n            \"price\": this.state.buyPrice,\r\n            \"squareoff\":\"0\",\r\n            \"stoploss\":\"0\",\r\n            \"quantity\":this.state.quantity,\r\n        }\r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            console.log(data);   \r\n            if(data.status  && data.message === 'SUCCESS'){\r\n                localStorage.setItem('ifNotBought' ,  'false')\r\n                this.setState({ orderid : data.data && data.data.orderid });\r\n\r\n                if(this.state.stoploss){\r\n                    this.placeSLMOrder(this.state.stoploss);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    LoadSymbolDetails =(name) => {\r\n       \r\n        var token= ''; \r\n        for (let index = 0; index <  this.state.symbolList.length; index++) {\r\n            if(this.state.symbolList[index].symbol === name){\r\n                    token =  this.state.symbolList[index].token; \r\n                   this.setState({ tradingsymbol : name, symboltoken : this.state.symbolList[index].token});\r\n                    break; \r\n            }\r\n        }  \r\n        this.getHistory(token); \r\n    }\r\n\r\n    placeSLMOrder = () => {\r\n\r\n        var data = {\r\n                \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\":this.state.symboltoken,\r\n            \"transactiontype\":\"SELL\",\r\n            \"exchange\":\"NSE\",\r\n            \"ordertype\":\"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"producttype\": this.state.producttype, //\"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\":\"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\":\"0\",\r\n            \"stoploss\":\"0\",\r\n            \"quantity\": this.state.quantity, \r\n            \"triggerprice\" : this.state.stoploss,\r\n            \"variety\" : \"STOPLOSS\"\r\n        }\r\n\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            console.log(data);   \r\n            if(data.status  && data.message === 'SUCCESS'){\r\n                localStorage.setItem('ifNotBought' ,  'false')\r\n                this.setState({ orderid : data.data && data.data.orderid });\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    getHistory = (token) => {\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n        var time = moment.duration(\"00:50:00\");\r\n        var startdate = moment(new Date()).subtract(time);\r\n     // var startdate = moment(this.state.startDate).subtract(time);\r\n\r\n        var data  = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token ,\r\n            \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE \r\n            \"fromdate\": moment(startdate).format(format1) , \r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n       }\r\n       \r\n        AdminService.getHistoryData(data).then(res => {\r\n             let data = resolveResponse(res,'noPop' );\r\n              console.log(data); \r\n              if(data && data.data){\r\n                 \r\n                var histCandles = data.data; \r\n                histCandles &&  histCandles.sort(function(a,b){\r\n                  return new Date(b[0]) - new Date(a[0]);\r\n                });\r\n                if(histCandles.length > 0){\r\n                    localStorage.setItem('InstrumentHistroy', JSON.stringify(histCandles));\r\n                    this.setState({ InstrumentHistroy :histCandles , buyPrice : histCandles[0][2]});\r\n                }\r\n                this.getLTP();\r\n              }\r\n        })\r\n    }\r\n\r\n    onSelectItem = (event, values) =>{\r\n        \r\n\r\n        var autoSearchTemp = JSON.parse( localStorage.getItem('autoSearchTemp')); \r\n        console.log(\"values\", values); \r\n        console.log(\"autoSearchTemp\", autoSearchTemp); \r\n        if(autoSearchTemp.length> 0){\r\n            var fdata = '';       \r\n             for (let index = 0; index < autoSearchTemp.length; index++) {\r\n                console.log(\"fdata\", autoSearchTemp[index].symbol); \r\n                if( autoSearchTemp[index].symbol === values){\r\n                 fdata = autoSearchTemp[index];\r\n                 break;\r\n                }  \r\n             }\r\n           \r\n\r\n             var list = localStorage.getItem('watchList');\r\n             if(!list){\r\n                var data = []; \r\n                data.push(fdata); \r\n                localStorage.setItem('watchList',  JSON.stringify(data)); \r\n             }else{\r\n                list = JSON.parse( localStorage.getItem('watchList'));\r\n                var found = list.filter(row => row.symbol  === values);\r\n                if(found.length === 0){\r\n                    list.push(fdata); \r\n                    localStorage.setItem('watchList',  JSON.stringify(list)); \r\n                }\r\n               \r\n             }\r\n          \r\n             this.setState({ symbolList : JSON.parse(localStorage.getItem('watchList')), search : \"\" });\r\n            setTimeout(() => {\r\n                this.updateSocketWatch();\r\n            }, 100);\r\n            \r\n        }\r\n     \r\n    }\r\n\r\n    deleteItemWatchlist = (symbol) => {\r\n        var list = JSON.parse( localStorage.getItem('watchList'));\r\n        var index = list.findIndex(data => data.symbol === symbol)\r\n        list.splice(index,1);\r\n        localStorage.setItem('watchList',  JSON.stringify(list)); \r\n        this.setState({ symbolList : list });\r\n    }\r\n\r\n    getAveragePrice =(orderId) => {\r\n\r\n       var  oderbookData = localStorage.getItem('oderbookData');\r\n       var averageprice = 0; \r\n        for (let index = 0; index < oderbookData.length; index++) {\r\n           if(oderbookData[index].orderid ===  'orderId'){\r\n            averageprice =oderbookData[index].averageprice \r\n            this.setState({ averageprice : averageprice });\r\n            break;\r\n           }\r\n        } \r\n        return averageprice;\r\n    }\r\n\r\n\r\n    render() {\r\n      \r\n\r\n        return(\r\n            <React.Fragment>\r\n                 <PostLoginNavBar/>\r\n                \r\n               \r\n                 <Grid spacing={1}  direction=\"row\" alignItems=\"center\" container>\r\n\r\n                    <Grid item xs={10} sm={12}> \r\n                    <Paper style={{padding:\"10px\", overflow:\"auto\"}} >\r\n\r\n\r\n                    <Table  size=\"small\"   aria-label=\"sticky table\" >\r\n                        <TableHead  style={{width:\"\",whiteSpace: \"nowrap\"}} variant=\"head\">\r\n                            <TableRow   variant=\"head\" style={{fontWeight: 'bold'}}>\r\n\r\n                                {/* <TableCell className=\"TableHeadFormat\" align=\"center\">Instrument</TableCell> */}\r\n                                \r\n                                <TableCell className=\"TableHeadFormat\" align=\"center\">Trading symbol</TableCell>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"center\">Order Type</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"center\">Product type</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" align=\"center\">Transaction type</TableCell>\r\n                              \r\n                                <TableCell  className=\"TableHeadFormat\" align=\"center\">Quantity</TableCell>\r\n                                <TableCell  className=\"TableHeadFormat\" align=\"center\">Average Price</TableCell>\r\n\r\n                                <TableCell className=\"TableHeadFormat\" align=\"center\">Status </TableCell>\r\n                                <TableCell  className=\"TableHeadFormat\"   align=\"center\">Order Status</TableCell>\r\n                                <TableCell  className=\"TableHeadFormat\"   align=\"center\">Exec Time</TableCell>\r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n\r\n                            {/* {\r\n                                \"variety\": null,\r\n                                \"ordertype\": \"LIMIT\",\r\n                                \"producttype\": \"INTRADAY\",\r\n                                \"duration\": \"DAY\",\r\n                                \"price\": \"194\",\r\n                                \"triggerprice\": \"0\",\r\n                                \"quantity\": \"1\",\r\n                                \"disclosedquantity\": \"0\",\r\n                                \"squareoff\": \"0\",\r\n                                \"stoploss\": \"0\",\r\n                                \"trailingstoploss\": \"0\",\r\n                                \"tradingsymbol\": \"SBIN-EQ\",\r\n                                \"transactiontype\": \"BUY\",\r\n                                \"exchange\": \"NSE\",\r\n                                \"symboltoken\": null,\r\n                                \"instrumenttype\": \"\",\r\n                                \"strikeprice\": \"-1\",\r\n                                \"optiontype\": \"\",\r\n                                \"expirydate\": \"\",\r\n                                \"lotsize\": \"1\",\r\n                                \"cancelsize\": \"1\",\r\n                                \"averageprice\": \"0\",\r\n                                \"filledshares\": \"0\",\r\n                                \"unfilledshares\": \"1\",\r\n                                \"orderid\": \"201020000000080\",\r\n                                \"text\": \"\",\r\n                                \"status\": \"cancelled\",\r\n                                \"orderstatus\": \"cancelled\",\r\n                                \"updatetime\": \"20-Oct-2020   13:10:59\",\r\n                                \"exchtime\": \"20-Oct-2020   13:10:59\",\r\n                                \"exchorderupdatetime\": \"20-Oct-2020   13:10:59\",\r\n                                \"fillid\": null,\r\n                                \"filltime\": null\r\n                            } */}\r\n\r\n                            {this.state.positionList ? this.state.positionList.map((row, i) => (\r\n                                <TableRow key={i} >\r\n\r\n\r\n                                    <TableCell align=\"center\">{row.tradingsymbol}</TableCell>\r\n                                    <TableCell align=\"center\">{row.ordertype}</TableCell>\r\n                                    <TableCell align=\"center\">{row.producttype}</TableCell>\r\n                                    <TableCell align=\"center\">{row.transactiontype}</TableCell>\r\n                                    \r\n                                    <TableCell align=\"center\">{row.quantity}</TableCell>\r\n                                    <TableCell align=\"center\">{row.averageprice}</TableCell>\r\n                                    <TableCell align=\"center\">{row.status}</TableCell>\r\n                                    <TableCell align=\"center\">{row.orderstatus}</TableCell>\r\n                                    <TableCell align=\"center\">{row.exchtime}</TableCell>\r\n                                \r\n                                </TableRow>\r\n                            )):''}\r\n                        </TableBody>\r\n                    </Table>\r\n\r\n                    </Paper>\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n                    </Grid>\r\n            \r\n               \r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n// const styles ={\r\n//     formContainer : {\r\n//         display: 'flex',\r\n//         flexFlow: 'row wrap'\r\n//     },\r\n\r\n    \r\n\r\n// };\r\n\r\nexport default Home;","import React, {useEffect} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport { data } from 'jquery';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n\r\n \r\n  const [open, setOpen] = React.useState(false);\r\n \r\n  var [values, setValues] = React.useState({\r\n    data : [],\r\n    candledata: {}\r\n})\r\n\r\n\r\n \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  \r\n  var multipleChartData = localStorage.getItem(\"multipleChartData\") && JSON.parse(localStorage.getItem(\"multipleChartData\")); \r\n  \r\n  var longs = multipleChartData && multipleChartData.longCandles; \r\n  var shorts = multipleChartData && multipleChartData.shortCandles; \r\n\r\n   \r\n  \r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" id=\"showMultipleChart\" color=\"primary\" style={{display:\"none\"}} onClick={handleClickOpen}>\r\n        Chart \r\n      </Button>\r\n      <Dialog maxWidth=\"lg\" onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open} >\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        {multipleChartData && multipleChartData.symbol} \r\n      {/*   <br />\r\n\r\n        <span style={{fontSize:'12px'}}>  \r\n        <b>FoundAt:</b>  {localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).foundAt.substr(0, 16)} &nbsp;&nbsp;\r\n        <b>Buy: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).buyExitPrice} &nbsp;&nbsp;\r\n        <b>Sell: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).sellEntyPrice} &nbsp;&nbsp;\r\n        <b>Change %: </b>  {localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).perChange} &nbsp;&nbsp;    <br />\r\n        <b>Change on High/Low %: </b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).perChange} &nbsp;&nbsp;\r\n        <b>SquareOffAt:</b>{localStorage.getItem('chartInfoDetails') && JSON.parse(localStorage.getItem('chartInfoDetails')).squareOffAt}\r\n        </span> */}\r\n      \r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n\r\n        {/* body data\r\n        <ReactApexChart\r\n              options={props.data && props.data.options}\r\n              series={props.data && props.data.series}\r\n              type=\"bar\"\r\n              width=\"500\"\r\n            /> */}\r\n\r\n              <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                      Longs ({longs && longs.length}) \r\n              </Typography> \r\n\r\n              <Grid justify=\"space-between\" container direction=\"row\">\r\n\r\n                {longs ? longs.map((row, i) => (\r\n                        <Grid item  >\r\n                        <ReactApexChart \r\n                              options={{\r\n                                        chart: {\r\n                                          type: 'candlestick',\r\n                                          height: 250\r\n                                        },\r\n                                        title: {\r\n                                            text: row.foundAt.substr(6, 10),\r\n                                            align: 'left'\r\n                                        },\r\n                                        xaxis: {\r\n                                            type: 'datetime',\r\n                                        },\r\n                                        yaxis: {\r\n                                            tooltip: {\r\n                                            enabled: true\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    series={[{\r\n                                      data:  row.candleChartData.reverse()\r\n                                        \r\n                                    }]} \r\n                                    type=\"candlestick\" \r\n                                    width={250}\r\n                                    height={250} \r\n                            />\r\n\r\n                        </Grid>\r\n\r\n                )) : \"\"}\r\n                             \r\n                              \r\n                              \r\n                </Grid>\r\n\r\n\r\n                <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                      Shorts ({shorts && shorts.length}) \r\n              </Typography> \r\n\r\n              <Grid justify=\"space-between\" container direction=\"row\">\r\n\r\n                {shorts ? shorts.map((row, i) => (\r\n                        <Grid item  >\r\n                        <ReactApexChart \r\n                              options={{\r\n                                        chart: {\r\n                                          type: 'candlestick',\r\n                                          height: 250\r\n                                        },\r\n                                        title: {\r\n                                            text: row.foundAt.substr(6, 10),\r\n                                            align: 'left'\r\n                                        },\r\n                                        xaxis: {\r\n                                            type: 'datetime',\r\n                                        },\r\n                                        yaxis: {\r\n                                            tooltip: {\r\n                                            enabled: true\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    series={[{\r\n                                      data:  row.candleChartData.reverse()\r\n                                        \r\n                                    }]} \r\n                                    type=\"candlestick\" \r\n                                    width={250}\r\n                                    height={250} \r\n                            />\r\n\r\n                        </Grid>\r\n\r\n                )) : \"\"}\r\n                             \r\n                              \r\n                              \r\n                </Grid>\r\n\r\n       \r\n          \r\n\r\n    \r\n         \r\n         \r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport OrderWatchlist from './OrderWatchlist';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            positionList: [],\r\n            autoSearchList: [],\r\n            InstrumentLTP: {},\r\n            autoSearchTemp: [],\r\n            foundPatternList: [], //localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')) || [], \r\n            symboltoken: \"\",\r\n            tradingsymbol: \"\",\r\n            buyPrice: 0,\r\n            quantity: 1,\r\n            producttype: \"DELIVERY\",\r\n            nr4TotalPer: 0,\r\n            pnlAmountTotal: 0,\r\n            totalNetProfit: 0,\r\n            totelActivatedCount: 0,\r\n            totalBrokerChargesNR4: 0,\r\n            stockTesting: \"\",\r\n            perHighLowTotal: 0,\r\n            netPnLAmountOnHighlowTotal: 0,\r\n            firstTimeMove : 0.5, \r\n            firstTimeSLMove: 0.3, \r\n            nextTimeMove : 0.5, \r\n            nextTimeSLMove: 0.3, \r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n\r\n\r\n        };\r\n    }\r\n    componentDidMount() {\r\n\r\n        this.updateOrderList(); \r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            this.setState({ positionInterval: setInterval(() => { this.getPositionData(); }, 1000) })\r\n              this.setState({bankNiftyInterval :  setInterval(() => {this.getNiftyLTP(); this.getBankNiftyLTP(); }, 30000)}) \r\n\r\n            var squireInterval = setInterval(() => {\r\n                console.log(\"squireoff\", new Date().toLocaleString()); \r\n                let sqrOffbeginningTime = moment('3:14pm', 'h:mma');\r\n                let sqrOffendTime = moment('3:15pm', 'h:mma');\r\n                let sqrOffcurrentTime = moment(new Date(), \"h:mma\");\r\n            \r\n                if (sqrOffcurrentTime.isBetween(sqrOffbeginningTime, sqrOffendTime)) {\r\n                    this.state.positionList.forEach((element, i)=> {\r\n                        if(element.netqty > 0 || element.netqty < 0){\r\n                            this.squareOff(element);\r\n                        }\r\n                        if(this.state.positionList.length == i+1){\r\n                            clearInterval(squireInterval);\r\n                            console.log(\"squireInterval ended\"); \r\n                        }\r\n                    });\r\n                } \r\n            }, 5000);\r\n\r\n        } else {\r\n            clearInterval(this.state.positionInterval);\r\n            clearInterval(this.state.scaninterval);\r\n            clearInterval(this.state.bankNiftyInterval);\r\n        }\r\n\r\n        var scanendTime = moment('3:30pm', 'h:mma');\r\n        if (today <= friday && currentTime.isBetween(beginningTime, scanendTime)) {\r\n            //  this.setState({scaninterval :  setInterval(() => {this.getNSETopStock(); }, 5000)}) \r\n            //this.setState({selectedStockInteval :  setInterval(() => {this.getMySelectedStock(); }, 5000)}) \r\n\r\n\r\n\r\n            var tostartInteral =   setInterval(() => {\r\n                var time = new Date(); \r\n                if(time.getMinutes() % 15 === 0){\r\n                    setTimeout(() => {\r\n                        this.getCandleHistoryAndStore(); \r\n                    }, 70000);\r\n                    setInterval(() => {\r\n                            if(today <= friday && currentTime.isBetween(beginningTime, scanendTime)){\r\n                            this.getCandleHistoryAndStore(); \r\n                        }\r\n                     }, 60000 * 15 + 70000 );  \r\n                     clearInterval(tostartInteral); \r\n                } \r\n            }, 1000);\r\n\r\n\r\n\r\n            var foundPatternsFromStored = localStorage.getItem(\"FoundPatternList\") ? JSON.parse(localStorage.getItem(\"FoundPatternList\")) : [];\r\n\r\n            setInterval(() => {\r\n                this.refreshLtpOnFoundPattern();\r\n            }, foundPatternsFromStored.length * 100 + 300000);\r\n        }\r\n\r\n       \r\n\r\n       \r\n        //this.getCandleHistoryAndStore(); \r\n\r\n        // this.findNR4PatternLive();\r\n        //this.findNR7PatternLive();\r\n\r\n\r\n\r\n        // this.getPositionData();\r\n        // this.getNSETopStock();\r\n\r\n\r\n        //  this.getMySelectedStock();\r\n\r\n\r\n\r\n        // setInterval(() => {\r\n\r\n        //     var timediff = moment.duration(\"00:50:00\");\r\n        //     var startdate = moment(new Date()).subtract(timediff);\r\n\r\n\r\n        //     var enddiff = moment.duration(\"00:01:00\");\r\n        //     var enddate = moment(new Date()).add(enddiff);\r\n\r\n\r\n        //     var data  = {\r\n        //         \"exchange\": \"NSE\",\r\n        //         \"symboltoken\": 212,\r\n        //         \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE\r\n        //         \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\") , \r\n        //         \"todate\": moment(enddate).format(\"YYYY-MM-DD HH:mm\") , //moment(this.state.endDate).format(format1) /\r\n        //     }\r\n\r\n        //     AdminService.getHistoryData(data).then(res => { \r\n        //         let histdata = resolveResponse(res,'noPop' );\r\n        //         var candleData = histdata.data; \r\n        //         candleData.reverse(); \r\n        //         console.log( new Date().toLocaleTimeString(),\"testlive\", candleData[0])\r\n        //     }); \r\n\r\n        // }, 1000);\r\n\r\n        var backTestResult = localStorage.getItem(\"FoundPatternList\") ? JSON.parse(localStorage.getItem(\"FoundPatternList\")) : [];\r\n\r\n\r\n        this.setState({ foundPatternList: backTestResult })\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        //clearInterval(this.state.positionInterval);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n\r\n    getCandleHistoryAndStore = async () => {\r\n\r\n        console.log(\"getCandleHistoryAndStore called\", new Date().toLocaleTimeString());\r\n        var stop = new Date().toLocaleTimeString() > \"15:00:00\" ? clearInterval(this.state.candleHistoryInterval) : \"\";\r\n        var watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'))\r\n        const today = moment().isoWeekday();\r\n        var timediff = '';\r\n\r\n\r\n\r\n        if (new Date().toLocaleTimeString() > \"10:05:00\") {\r\n            timediff = moment.duration(\"00:50:00\");\r\n        } else if (today === 1 && new Date().toLocaleTimeString() < \"10:05:00\") {\r\n            timediff = moment.duration(\"66:00:00\");\r\n        } else {\r\n            timediff = moment.duration(\"19:00:00\");\r\n        }\r\n        timediff = moment.duration(\"21:00:00\");\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var startdate = moment(new Date()).subtract(timediff);\r\n\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE    FIFTEEN_MINUTE\r\n                \"fromdate\": moment(startdate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    candleData.reverse();\r\n\r\n                    if (candleData && candleData.length >= 10) {\r\n                        var last10Candle = candleData.slice(0, 10);\r\n                        console.log('', index + 1, element.symbol, 'Time', new Date().toLocaleTimeString());\r\n                        this.findTweezerTopPatternLive(last10Candle, element.symbol);\r\n                        this.findTweezerBottomPatternLive(last10Candle, element.symbol);\r\n\r\n                        //console.log(index+1, element.symbol, 'verifying TT pattern'); \r\n                    }\r\n\r\n                    // var data = {\r\n                    //     data : candleData, \r\n                    //     token: element.token,\r\n                    //     symbol: element.symbol\r\n                    // }\r\n                    // AdminService.saveCandleHistory(data).then(storeRes=>{\r\n                    //     console.log(\"storeRes\", new Date().toLocaleTimeString(),storeRes); \r\n                    // }); \r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(\" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n\r\n    }\r\n\r\n    findTweezerTopPatternLive = (candleHist, symbol) => {\r\n\r\n        //   console.log(\"TweezerTop finding\", symbol); \r\n        if (candleHist && candleHist.length > 0) {\r\n            //candleHist = candleHist.reverse(); \r\n            // console.log(symbol, \" TweezerTop candleHist\",candleHist, new Date().toString()); \r\n\r\n\r\n            var maxHigh = candleHist[2] && candleHist[2][2], maxLow = candleHist[2] && candleHist[2][3];\r\n            for (let index = 3; index < candleHist.length; index++) {\r\n                if (maxHigh < candleHist[index][2])\r\n                    maxHigh = candleHist[index][2];\r\n                if (candleHist[index][3] < maxLow)\r\n                    maxLow = candleHist[index][3];\r\n            }\r\n\r\n            var lastTrendCandleLow = candleHist[9][3];\r\n            var firstTrendCandleHigh = candleHist[2][2];\r\n\r\n            var firstCandle = {\r\n                time: candleHist[0] && candleHist[0][0],\r\n                open: candleHist[0] && candleHist[0][1],\r\n                high: candleHist[0] && candleHist[0][2],\r\n                low: candleHist[0] && candleHist[0][3],\r\n                close: candleHist[0] && candleHist[0][4]\r\n            }\r\n            var secondCandle = {\r\n                time: candleHist[1] && candleHist[1][0],\r\n                open: candleHist[1] && candleHist[1][1],\r\n                high: candleHist[1] && candleHist[1][2],\r\n                low: candleHist[1] && candleHist[1][3],\r\n                close: candleHist[1] && candleHist[1][4]\r\n            }\r\n\r\n            var diffPer = (firstTrendCandleHigh - lastTrendCandleLow) * 100 / lastTrendCandleLow;\r\n            var lowestOfBoth = secondCandle.low < firstCandle.low ? secondCandle.low : firstCandle.low;\r\n            var highestOfBoth = secondCandle.high < firstCandle.high ? secondCandle.high : firstCandle.high;\r\n            //uptrend movement 1.5% \r\n            //        console.log(symbol, \"last 8 candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh, candleHist);\r\n\r\n            //\r\n            if (diffPer >= 1.5 && maxHigh < highestOfBoth && maxLow < lowestOfBoth) {\r\n                //1st candle green & 2nd candle is red check\r\n                if (secondCandle.open < secondCandle.close && firstCandle.open > firstCandle.close) {\r\n                    // console.log(symbol, \"candleHist\",candleHist); \r\n                    //  console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n                    //  console.log(symbol, 'making twisser 1st green & 2nd red' , firstCandle, secondCandle );\r\n\r\n                    if (Math.round(secondCandle.close) == Math.round(firstCandle.open) || Math.round(secondCandle.open) == Math.round(firstCandle.close)) {\r\n\r\n                        // console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n\r\n                        console.log('%c' + symbol + ' perfect twisser top  upside movement' + diffPer + new Date(candleHist[0][0]).toLocaleTimeString(), 'background: red; color: #bada55');\r\n\r\n                        var ttophistCandle = [];\r\n                        candleHist.forEach(element => {\r\n                            ttophistCandle.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var foundData = {\r\n                            symbol: symbol,\r\n                            pattenName: 'Twisser Top',\r\n                            time: new Date(candleHist[0][0]).toLocaleString(),\r\n                            candleChartData: ttophistCandle\r\n                        }\r\n                        var foundPatternList = localStorage.getItem(\"foundPatternList\") ? JSON.parse(localStorage.getItem(\"foundPatternList\")) : [];\r\n                        foundPatternList.push(foundData);\r\n                        localStorage.setItem('foundPatternList', JSON.stringify(foundPatternList));\r\n\r\n                        this.setState({ foundPatternList: [...this.state.foundPatternList, foundData] })\r\n                        //    console.log('%c' + new Date( candleHist[0][0]).toString(), 'color: green'); \r\n                        //    console.log(symbol, \"maxHigh\", maxHigh, \"maxLow\", maxLow);                 \r\n                        console.log(symbol, \"last10Candle\", candleHist);\r\n                        //      console.log(symbol, 'perfect twisser top done close=open || open=close', );\r\n\r\n                        // var msg = new SpeechSynthesisUtterance();\r\n                        // msg.text = 'twisser top in ' + symbol.toLowerCase();\r\n                        // window.speechSynthesis.speak(msg);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    findTweezerBottomPatternLive = (candleHist, symbol) => {\r\n        // console.log(\"TweezerBottom finding\", symbol); \r\n        if (candleHist && candleHist.length > 0) {\r\n            //candleHist = candleHist.reverse(); \r\n            // console.log(symbol, \"candleHist\",candleHist, new Date().toString()); \r\n\r\n\r\n            var maxHigh = candleHist[2] && candleHist[2][2], maxLow = candleHist[2] && candleHist[2][3];\r\n            for (let index = 3; index < candleHist.length; index++) {\r\n                if (maxHigh < candleHist[index][2])\r\n                    maxHigh = candleHist[index][2];\r\n                if (candleHist[index][3] < maxLow)\r\n                    maxLow = candleHist[index][3];\r\n            }\r\n\r\n            var last8candleHigh = candleHist[9][2];\r\n            var last8candleLow = candleHist[2][3];\r\n\r\n            var firstCandle = {\r\n                time: candleHist[0] && candleHist[0][0],\r\n                open: candleHist[0] && candleHist[0][1],\r\n                high: candleHist[0] && candleHist[0][2],\r\n                low: candleHist[0] && candleHist[0][3],\r\n                close: candleHist[0] && candleHist[0][4]\r\n            }\r\n            var secondCandle = {\r\n                time: candleHist[1] && candleHist[1][0],\r\n                open: candleHist[1] && candleHist[1][1],\r\n                high: candleHist[1] && candleHist[1][2],\r\n                low: candleHist[1] && candleHist[1][3],\r\n                close: candleHist[1] && candleHist[1][4]\r\n            }\r\n\r\n            var diffPer = ((last8candleLow - last8candleHigh) * 100 / last8candleHigh).toFixed(2);\r\n            var lowestOfBoth = secondCandle.low < firstCandle.low ? secondCandle.low : firstCandle.low;\r\n            var highestOfBoth = secondCandle.high < firstCandle.high ? secondCandle.high : firstCandle.high;\r\n            //uptrend movement 1.5%  \r\n\r\n            //  \r\n            if (diffPer <= -1.5 && highestOfBoth < maxHigh && lowestOfBoth < maxLow) {\r\n\r\n\r\n                //1st candle green & 2nd candle is red check\r\n                if (secondCandle.open > secondCandle.close && firstCandle.close > firstCandle.open) {\r\n                    // console.log(symbol, \"candleHist\",candleHist); \r\n                    //  console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", last8candleLow);\r\n                    //  console.log(symbol, 'making twisser 1st green & 2nd red' , firstCandle, secondCandle );\r\n\r\n                    if (Math.round(secondCandle.close) == Math.round(firstCandle.open) || Math.round(secondCandle.open) == Math.round(firstCandle.close)) {\r\n\r\n\r\n                        //console.log(symbol, \"last 8 candle diff \",  diffPer+\"% \", \"10th high\", last8candleHigh,\"3rd low\", last8candleLow, candleHist);\r\n\r\n                        var tBophistCandle = [];\r\n                        candleHist.forEach(element => {\r\n                            tBophistCandle.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n                        console.log('%c' + symbol + ' perfect twisser bottom downside movement diff ' + diffPer + \"% \" + new Date(candleHist[0][0]).toLocaleTimeString(), 'background: #222; color: #bada55');\r\n                        var foundData = {\r\n                            symbol: symbol,\r\n                            pattenName: 'Twisser bottom',\r\n                            time: new Date(candleHist[0][0]).toLocaleString(),\r\n                            candleChartData: tBophistCandle\r\n                        }\r\n\r\n                        this.setState({ foundPatternList: [...this.state.foundPatternList, foundData] })\r\n\r\n                        var foundPatternList = localStorage.getItem(\"foundPatternList\") ? JSON.parse(localStorage.getItem(\"foundPatternList\")) : [];\r\n                        foundPatternList.push(foundData);\r\n                        localStorage.setItem('foundPatternList', JSON.stringify(foundPatternList));\r\n\r\n                        //   console.log(symbol, \"maxHigh\", maxHigh, \"maxLow\", maxLow);                 \r\n                        console.log(symbol, \"last10Candle\", candleHist);\r\n                        //   console.log(symbol, 'perfect twisser bottom done close=open || open=close', new Date( candleHist[0][0]).toString());\r\n\r\n                        // var msg = new SpeechSynthesisUtterance();\r\n                        // msg.text = 'twisser bottom in ' + symbol.toLowerCase();\r\n                        // window.speechSynthesis.speak(msg);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    findNR4PatternLive = async () => {\r\n\r\n        console.log('nr4 scaning starting');\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n        var watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [];\r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n            var startdate = '';\r\n\r\n            var timediff = moment.duration(\"240:00:00\");\r\n            startdate = moment(new Date()).subtract(timediff);\r\n\r\n            var timediffend = moment.duration(\"24:00:00\");\r\n            var enddateLastday = moment(new Date()).subtract(timediffend);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data; var rgrangeCount = 0;\r\n                    candleData.reverse();\r\n\r\n                    // var startindex = index2 * 10; \r\n                    var last4Candle = candleData.slice(1, 5);\r\n                    var last5Candle = candleData.slice(0, 5);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                    if (last4Candle.length >= 4) {\r\n\r\n                        // last4Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last4Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                        });\r\n\r\n                        last5Candle.forEach(element => {\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0];\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n                        console.log(index + 1, element.symbol, rgrangeCount);\r\n                        //  this.setState({stockTesting :index +\" \"+ element.symbol })\r\n\r\n\r\n\r\n                        if (rgrangeCount == 4) {\r\n                            console.log(index + 1, element.symbol, last4Candle, rangeArr, rgrangeCount);\r\n\r\n\r\n                            var firstCandle = last4Candle[0];\r\n\r\n                            //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                            var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                            //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                            var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": element.symbol,\r\n                                \"symboltoken\": element.token,\r\n                            }\r\n\r\n                            console.log('nr4 ltp', data);\r\n\r\n                            AdminService.getLTP(data).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                console.log(LtpData, data);\r\n                                if (LtpData && LtpData.ltp) {\r\n\r\n\r\n                                    var orderActivated = <span> {LtpData.ltp} </span>;\r\n                                    var quantity = 0, pnlAmount = 0, netPnLAmount = 0, perChange, brokerageCharges = 0.06;\r\n                                    if (LtpData.ltp > buyentry) {\r\n                                        orderActivated = <span style={{ color: 'green' }}> Long: {LtpData.ltp} ({((LtpData.ltp - buyentry) * 100 / buyentry).toFixed(2)}%) </span>;\r\n                                        this.setState({ nr4TotalPer: this.state.nr4TotalPer + ((LtpData.ltp - buyentry) * 100 / buyentry) })\r\n                                        this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1 });\r\n\r\n                                        let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                                        quantity = Math.floor(perTradeExposureAmt / buyentry);\r\n                                        perChange = (LtpData.ltp - buyentry) * 100 / buyentry;\r\n                                        pnlAmount = ((LtpData.ltp - buyentry) * quantity).toFixed(2);\r\n                                        netPnLAmount = ((buyentry * (perChange - brokerageCharges) / 100) * quantity).toFixed(2);\r\n\r\n\r\n                                    }\r\n                                    if (LtpData.ltp < sellenty) {\r\n                                        orderActivated = <span style={{ color: 'red' }}> Short: {LtpData.ltp} ({((LtpData.ltp - sellenty) * 100 / sellenty).toFixed(2)}%)</span>;\r\n                                        this.setState({ nr4TotalPer: this.state.nr4TotalPer + ((sellenty - LtpData.ltp) * 100 / sellenty) })\r\n                                        this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1 });\r\n                                        let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                                        quantity = Math.floor(perTradeExposureAmt / sellenty);\r\n                                        pnlAmount = ((sellenty - LtpData.ltp) * quantity).toFixed(2);\r\n                                        perChange = (sellenty - LtpData.ltp) * 100 / sellenty;\r\n                                        netPnLAmount = ((sellenty * (perChange - brokerageCharges) / 100) * quantity).toFixed(2);\r\n\r\n                                    }\r\n\r\n                                    var foundData = {\r\n                                        symbol: element.symbol,\r\n                                        token: element.token,\r\n                                        pattenName: 'NR4',\r\n                                        time: new Date(firstCandle[0]).toLocaleString(),\r\n                                        BuyAt: buyentry,\r\n                                        SellAt: sellenty,\r\n                                        orderActivated: orderActivated,\r\n                                        candleChartData: candleChartData,\r\n                                        quantity: quantity,\r\n                                        brokerageCharges: brokerageCharges,\r\n                                        pnlAmount: pnlAmount,\r\n                                        netPnLAmount: netPnLAmount,\r\n                                        perChange: perChange\r\n                                    }\r\n\r\n                                    console.log('nr4 scaned', foundData);\r\n                                    this.setState({ foundPatternList: [...this.state.foundPatternList, foundData] })\r\n\r\n\r\n                                    var foundPatternList = localStorage.getItem(\"foundPatternList\") ? JSON.parse(localStorage.getItem(\"foundPatternList\")) : [];\r\n                                    foundPatternList.push(foundData);\r\n                                    localStorage.setItem('foundPatternList', JSON.stringify(foundPatternList));\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n\r\n\r\n\r\n            await new Promise(r => setTimeout(r, 300));\r\n\r\n            // var showtestdata = (index + 1);\r\n\r\n            //   console.log(\"beforawait\", showtestdata, element.symbol);\r\n\r\n            //     this.setState({ stockTesting: showtestdata});\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n        console.log(\"sumPercentage\", sumPercentage)\r\n    }\r\n\r\n    findNR7PatternLive = async () => {\r\n\r\n        console.log('nr7 scaning starting');\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n        var watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [];\r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n            var startdate = '';\r\n\r\n            var timediff = moment.duration(\"288:00:00\");\r\n            startdate = moment(new Date()).subtract(timediff);\r\n\r\n            var timediffend = moment.duration(\"24:00:00\");\r\n            var enddateLastday = moment(new Date()).subtract(timediffend);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    candleData.reverse();\r\n\r\n                    // var startindex = index2 * 10; \r\n                    var last7Candle = candleData.slice(1, 8);\r\n                    var last9Candle = candleData.slice(0, 9);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                    if (last7Candle.length >= 7) {\r\n\r\n                        // last7Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last7Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                        });\r\n\r\n                        last9Candle.forEach(element => {\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n\r\n                        console.log(element.symbol, last7Candle, rangeArr, rgrangeCount);\r\n\r\n\r\n                        if (rgrangeCount == 7) {\r\n\r\n\r\n                            var firstCandle = last7Candle[0];\r\n\r\n                            //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                            var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                            //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                            var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": element.symbol,\r\n                                \"symboltoken\": element.token,\r\n                            }\r\n\r\n                            console.log('nr4 ltp', data);\r\n\r\n                            AdminService.getLTP(data).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                console.log(LtpData, data);\r\n                                if (LtpData && LtpData.ltp) {\r\n\r\n\r\n                                    var orderActivated = <span> {LtpData.ltp} </span>;\r\n                                    var quantity = 0, pnlAmount = 0, netPnLAmount = 0, perChange, brokerageCharges = 0.06;\r\n                                    if (LtpData.ltp > buyentry) {\r\n                                        orderActivated = <span style={{ color: 'green' }}> Long: {LtpData.ltp} ({((LtpData.ltp - buyentry) * 100 / buyentry).toFixed(2)}%) </span>;\r\n                                        this.setState({ nr4TotalPer: this.state.nr4TotalPer + ((LtpData.ltp - buyentry) * 100 / buyentry) })\r\n                                        this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1 });\r\n\r\n                                        let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                                        quantity = Math.floor(perTradeExposureAmt / buyentry);\r\n                                        perChange = (LtpData.ltp - buyentry) * 100 / buyentry;\r\n                                        pnlAmount = ((LtpData.ltp - buyentry) * quantity).toFixed(2);\r\n                                        netPnLAmount = ((buyentry * (perChange - brokerageCharges) / 100) * quantity).toFixed(2);\r\n\r\n\r\n                                    }\r\n                                    if (LtpData.ltp < sellenty) {\r\n                                        orderActivated = <span style={{ color: 'red' }}> Short: {LtpData.ltp} ({((LtpData.ltp - sellenty) * 100 / sellenty).toFixed(2)}%)</span>;\r\n                                        this.setState({ nr4TotalPer: this.state.nr4TotalPer + ((sellenty - LtpData.ltp) * 100 / sellenty) })\r\n                                        this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1 });\r\n                                        let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                                        quantity = Math.floor(perTradeExposureAmt / sellenty);\r\n                                        pnlAmount = ((sellenty - LtpData.ltp) * quantity).toFixed(2);\r\n                                        perChange = (sellenty - LtpData.ltp) * 100 / sellenty;\r\n                                        netPnLAmount = ((sellenty * (perChange - brokerageCharges) / 100) * quantity).toFixed(2);\r\n\r\n                                    }\r\n\r\n                                    var foundData = {\r\n                                        symbol: element.symbol,\r\n                                        token: element.token,\r\n                                        pattenName: 'NR7',\r\n                                        time: new Date(firstCandle[0]).toLocaleString(),\r\n                                        BuyAt: buyentry,\r\n                                        SellAt: sellenty,\r\n                                        orderActivated: orderActivated,\r\n                                        candleChartData: candleChartData,\r\n                                        quantity: quantity,\r\n                                        brokerageCharges: brokerageCharges,\r\n                                        pnlAmount: pnlAmount,\r\n                                        netPnLAmount: netPnLAmount,\r\n                                        perChange: perChange\r\n                                    }\r\n\r\n                                    console.log('nr7 scaned', foundData);\r\n                                    this.setState({ foundPatternList: [...this.state.foundPatternList, foundData] })\r\n\r\n\r\n                                    var foundPatternList = localStorage.getItem(\"foundPatternList\") ? JSON.parse(localStorage.getItem(\"foundPatternList\")) : [];\r\n                                    foundPatternList.push(foundData);\r\n                                    localStorage.setItem('foundPatternList', JSON.stringify(foundPatternList));\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n            var showtestdata = (index + 1) + \". \" + element.symbol;\r\n            this.setState({ stockTesting: showtestdata });\r\n            await new Promise(r => setTimeout(r, 300));\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n        console.log(\"sumPercentage\", sumPercentage)\r\n    }\r\n\r\n    refreshCandleChartManually = async (row) => {\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var time = moment.duration(\"12:00:00\");\r\n        var startdate = moment(new Date()).subtract(time);\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": row.symboltoken,\r\n            \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n            \"fromdate\": moment(beginningTime).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n            \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n        }\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let histdata = resolveResponse(res, 'noPop');\r\n            //console.log(\"candle history\", histdata); \r\n            if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                var candleChartData = [];\r\n                histdata.data.forEach(element => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                });\r\n\r\n\r\n                localStorage.setItem('candleChangeShow', ((row.ltp - row.close) * 100 / row.close).toFixed(2));\r\n\r\n\r\n                localStorage.setItem('candleChartData', JSON.stringify(candleChartData))\r\n                localStorage.setItem('cadleChartSymbol', row.symbolname);\r\n                document.getElementById('showCandleChart').click();\r\n\r\n            } else {\r\n                //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                console.log(row.symboltoken, \"  emply candle found\");\r\n            }\r\n        }).catch(error => {\r\n            this.setState({ failedCount: this.state.failedCount + 1 });\r\n            Notify.showError(row.symboltoken + \" candle failed!\");\r\n        })\r\n\r\n    }\r\n\r\n    showCandleChart = (candleData, symbol) => {\r\n\r\n\r\n        candleData = candleData && candleData.reverse();\r\n\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    showMultipleCandleChart = (row) => {\r\n        localStorage.setItem('multipleChartData', JSON.stringify(row))\r\n        document.getElementById('showMultipleChart').click();\r\n    }\r\n\r\n\r\n\r\n    refreshLtpOnFoundPattern = async () => {\r\n\r\n        this.setState({ nr4TotalPer: 0, totalBrokerChargesNR4: 0, totalNetProfit: 0, totelActivatedCount: 0, pnlAmountTotal: 0, perHighLowTotal: 0, netPnLAmountOnHighlowTotal: 0 });\r\n\r\n\r\n        var foundPatternList = this.state.foundPatternList;\r\n\r\n        this.setState({ foundPatternList: [] });\r\n\r\n        var foundPatternsFromStored = localStorage.getItem(\"FoundPatternList\") ? JSON.parse(localStorage.getItem(\"FoundPatternList\")) : [];\r\n\r\n\r\n        //       foundPatternList.forEach(element => {\r\n        for (let index = 0; index < foundPatternsFromStored.length; index++) {\r\n            const element = foundPatternList[index];\r\n\r\n            if (element && element.pattenName == 'NR4') {\r\n\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"tradingsymbol\": element.symbol,\r\n                    \"symboltoken\": element.token,\r\n                }\r\n\r\n                AdminService.getLTP(data).then(res => {\r\n                    let data = resolveResponse(res, 'noPop');\r\n                    var LtpData = data && data.data;\r\n                    //console.log(LtpData);\r\n                    var quantity = 0, pnlAmount = 0, netPnLAmount = 0, brokerageCharges = 0.06, perChange = 0, perChangeOnHighLow = 0, netPnLAmountOnHighlow = 0;\r\n                    if (LtpData && LtpData.ltp) {\r\n\r\n                        var orderActivated = <span> {LtpData.ltp} </span>;\r\n\r\n                        if (LtpData.ltp > element.BuyAt) {\r\n                            perChange = ((LtpData.ltp - element.BuyAt) * 100 / element.BuyAt);\r\n                            orderActivated = <span style={{ color: 'green' }}> Long: {perChange.toFixed(2)}% </span>;\r\n                            quantity = Math.floor(10000 / element.BuyAt);\r\n                            pnlAmount = ((LtpData.ltp - element.BuyAt) * quantity);\r\n                            brokerageCharges = (((element.BuyAt * quantity) * brokerageCharges / 100) * 2);\r\n                            netPnLAmount = (pnlAmount - brokerageCharges);\r\n                            this.setState({ nr4TotalPer: this.state.nr4TotalPer + perChange });\r\n                            this.setState({ totalBrokerChargesNR4: this.state.totalBrokerChargesNR4 + brokerageCharges, totalNetProfit: this.state.totalNetProfit + netPnLAmount });\r\n                            this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1, pnlAmountTotal: this.state.pnlAmountTotal + pnlAmount });\r\n\r\n                            perChangeOnHighLow = ((LtpData.high - element.BuyAt) * 100 / element.BuyAt);\r\n                            var pnlAmountOnhigh = ((LtpData.high - element.BuyAt) * quantity);\r\n                            netPnLAmountOnHighlow = (pnlAmountOnhigh - brokerageCharges);\r\n                            this.setState({ perHighLowTotal: this.state.perHighLowTotal + perChangeOnHighLow, netPnLAmountOnHighlowTotal: this.state.netPnLAmountOnHighlowTotal + netPnLAmountOnHighlow });\r\n\r\n\r\n                        }\r\n                        if (LtpData.ltp < element.SellAt) {\r\n                            perChange = ((element.SellAt - LtpData.ltp) * 100 / element.SellAt);\r\n                            orderActivated = <span style={{ color: 'red' }}> Short: {perChange.toFixed(2)}%</span>;\r\n                            quantity = Math.floor(10000 / element.SellAt);\r\n                            pnlAmount = ((element.SellAt - LtpData.ltp) * quantity);\r\n                            brokerageCharges = (((element.SellAt * quantity) * brokerageCharges / 100) * 2);\r\n                            netPnLAmount = (pnlAmount - brokerageCharges);\r\n                            this.setState({ nr4TotalPer: this.state.nr4TotalPer + perChange });\r\n                            this.setState({ totelActivatedCount: this.state.totelActivatedCount + 1, pnlAmountTotal: this.state.pnlAmountTotal + pnlAmount });\r\n                            this.setState({ totalBrokerChargesNR4: this.state.totalBrokerChargesNR4 + brokerageCharges, totalNetProfit: this.state.totalNetProfit + netPnLAmount });\r\n\r\n                            perChangeOnHighLow = ((element.SellAt - LtpData.low) * 100 / element.SellAt);\r\n                            var pnlAmountOnLow = ((element.SellAt - LtpData.low) * quantity);\r\n                            netPnLAmountOnHighlow = (pnlAmountOnLow - brokerageCharges);\r\n                            this.setState({ perHighLowTotal: this.state.perHighLowTotal + perChangeOnHighLow, netPnLAmountOnHighlowTotal: this.state.netPnLAmountOnHighlowTotal + netPnLAmountOnHighlow });\r\n\r\n                        }\r\n\r\n                        var todayChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n\r\n\r\n                        var builtupCandle = [new Date(), LtpData.open, LtpData.high, LtpData.low, LtpData.ltp];\r\n                        element.candleChartData.push(builtupCandle);\r\n\r\n                        var foundData = {\r\n                            symbol: element.symbol,\r\n                            symbolUpdated: LtpData.ltp + \"(\" + (todayChange).toFixed(2) + \"%)\",\r\n                            token: element.token,\r\n                            pattenName: 'NR4',\r\n                            OnHighLowActivated: quantity ? perChangeOnHighLow.toFixed(2) + \"% | \" + netPnLAmountOnHighlow.toFixed(2) : \"\",\r\n                            time: new Date().toLocaleTimeString(),\r\n                            BuyAt: element.BuyAt,\r\n                            SellAt: element.SellAt,\r\n                            foundAt: element.foundAt,\r\n                            orderActivated: orderActivated,\r\n                            candleChartData: element.candleChartData,\r\n                            quantity: quantity ? quantity : \"\",\r\n                            brokerageCharges: quantity ? brokerageCharges.toFixed(2) : \"\",\r\n                            pnlAmount: pnlAmount ? pnlAmount.toFixed(2) : \"\",\r\n                            netPnLAmount: netPnLAmount ? netPnLAmount.toFixed(2) : \"\",\r\n                            perChange: perChange,\r\n                            todayChange: todayChange,\r\n                            pastPerferm: element.pastPerferm\r\n                        }\r\n\r\n                        console.log('nr4 updated', foundData);\r\n\r\n                        this.setState({ foundPatternList: [...this.state.foundPatternList, foundData] });\r\n\r\n                        var foundlist = this.state.foundPatternList;\r\n\r\n                        foundlist.sort(function (a, b) {\r\n                            return b.perChange - a.perChange;\r\n                        });\r\n\r\n                        this.setState({ foundPatternList: foundlist });\r\n\r\n                        var foundPatternList = localStorage.getItem(\"foundPatternList\") ? JSON.parse(localStorage.getItem(\"foundPatternList\")) : [];\r\n                        foundPatternList.push(foundData);\r\n                        localStorage.setItem('foundPatternList', JSON.stringify(foundPatternList));\r\n\r\n                    }\r\n\r\n                }).catch(error => {\r\n                    Notify.showError(element.symbol + \" ltd data not found!\");\r\n                })\r\n\r\n            }\r\n            await new Promise(r => setTimeout(r, 101));\r\n        }\r\n    }\r\n\r\n\r\n    getStoplossFromOrderbook = (row) => {\r\n        var oderbookData = localStorage.getItem('oderbookData');\r\n        oderbookData = JSON.parse(oderbookData);\r\n        var stopLoss = 0;\r\n        var data = {};\r\n        for (let index = 0; index < oderbookData.length; index++) {\r\n            const element = oderbookData[index];\r\n\r\n            if (element.status === \"trigger pending\" && element.symboltoken === row.symboltoken) {\r\n                if (row.netqty > 0) {\r\n                    data.stopLoss = element.triggerprice + \"(\" + ((element.triggerprice - row.buyavgprice) * 100 / row.buyavgprice).toFixed(2) + \"%)\";\r\n                    data.maxLossAmount = ((element.triggerprice - row.buyavgprice) * parseInt(row.netqty)).toFixed(2);\r\n                } else if (row.netqty < 0) {\r\n                    console.log(row.tradingsymbol, \"sellage\", row.sellavgprice, \"trigger\", element.triggerprice);\r\n                    data.stopLoss = element.triggerprice + \"(\" + ((element.triggerprice - row.sellavgprice) * 100 / row.sellavgprice).toFixed(2) + \"%)\";\r\n                    data.maxLossAmount = ((element.triggerprice - row.sellavgprice) * parseInt(row.netqty)).toFixed(2);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n    getStoplossForSELLFromOrderbook = (row) => {\r\n        var oderbookData = localStorage.getItem('oderbookData');\r\n        oderbookData = JSON.parse(oderbookData);\r\n        var stopLoss = 0;\r\n        var data = {};\r\n        oderbookData.forEach(element => {\r\n            if (element.status === \"trigger pending\" && element.symboltoken === row.symboltoken) {\r\n                data.stopLoss = element.triggerprice + \"(\" + ((row.buyavgprice - element.triggerprice) * 100 / row.buyavgprice).toFixed(2) + \"%)\";\r\n                data.maxLossAmount = ((element.triggerprice - row.buyavgprice) * parseInt(row.netqty)).toFixed(2);\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n    getHighLowPercentage = async () => {\r\n\r\n        this.setState({showHighLowWisePer: true});\r\n\r\n        if (!this.state.positionList.length) {\r\n            Notify.showError(\"First Refresh Position\")\r\n        }\r\n\r\n        for (let index = 0; index < this.state.positionList.length; index++) {\r\n            const element = this.state.positionList[index];\r\n\r\n            if (element.producttype == \"DELIVERY\") {\r\n                return \"\";\r\n            }\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"tradingsymbol\": element.tradingsymbol,\r\n                \"symboltoken\": element.symboltoken,\r\n            }\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                //console.log(LtpData);\r\n                if (LtpData && LtpData.ltp) {\r\n                    this.state.positionList[index].high = LtpData.high;\r\n                    this.state.positionList[index].low = LtpData.low;\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 125));\r\n            this.setState({ positionList: this.state.positionList });\r\n\r\n        }\r\n\r\n    }\r\n    tagPatternWhichTaken =(token)=> {\r\n       var orderTagToPosition = localStorage.getItem('orderTagToPosition') && JSON.parse(localStorage.getItem('orderTagToPosition')) || []; \r\n       \r\n       var pattern = ''; \r\n       for (let index = 0; index < orderTagToPosition.length; index++) {\r\n           const element = orderTagToPosition[index];\r\n           if(token == element.token){\r\n            pattern = element.pattenName; \r\n            break;\r\n           }\r\n        }\r\n        return pattern\r\n    //    console.log(\"findpatter\", token, orderTagToPosition);\r\n    //    orderTagToPosition.forEach(element => {\r\n    //         if(token == element.token){\r\n    //             return element.pattenName; \r\n    //         }\r\n    //    });\r\n\r\n    }\r\n    calculateTradeExpence =(element)=>{\r\n\r\n        var totalbuyvalue =  parseFloat(element.totalbuyvalue) === 0 ? parseFloat(element.totalsellvalue) : parseFloat(element.totalbuyvalue);\r\n        var buyCharge = parseFloat(totalbuyvalue) * 0.25/100; \r\n        if(buyCharge > 20 || (element.optiontype  == 'CE' || element.optiontype  == 'PE')){\r\n            buyCharge = 20; \r\n        }\r\n        var totalsellvalue =  parseFloat(element.totalsellvalue) === 0 ? parseFloat(element.totalbuyvalue) : parseFloat(element.totalsellvalue);\r\n        var sellCharge = parseFloat(totalsellvalue) * 0.25/100; \r\n        if(sellCharge > 20 || (element.optiontype  == 'CE' || element.optiontype  == 'PE')){\r\n            sellCharge = 20; \r\n        }\r\n        let turnOver = totalbuyvalue + totalsellvalue; \r\n        let totalBroker = buyCharge+sellCharge;\r\n\r\n        let sst = 0.025; //stock intraday\r\n        if(element.optiontype  == 'CE' || element.optiontype  == 'PE'){\r\n            sst = 0.05;  \r\n        }\r\n\r\n        let sstCharge = totalsellvalue *  sst/100; \r\n        let transCharge = turnOver *  0.00335/100; \r\n        let stampDuty  = totalbuyvalue *   0.003/100; \r\n        let sebiCharge = turnOver * 10/10000000; \r\n        let gstCharge = (totalBroker+transCharge+sebiCharge) * 18/100; \r\n\r\n        let total = totalBroker+sstCharge+transCharge+stampDuty+sebiCharge+gstCharge; \r\n\r\n        var chargeInfo ={\r\n          tradeExpence:  total,\r\n          expenceInfo : \"Brokerage: \"+totalBroker.toFixed(2)+ \" \\nSTT: \"+ sstCharge.toFixed(2) + \" \\nTransaction: \"+ transCharge.toFixed(2) + \" \\nStamp Duty: \"+stampDuty.toFixed(2) + \" \\nSebi: \"+sebiCharge.toFixed(2) + \" \\nGST: \" + gstCharge.toFixed(2) + \" \\n\\nTotal: \"+ total.toFixed(2)\r\n        }\r\n        return chargeInfo; \r\n    }\r\n    getPositionData = async () => {\r\n        //   document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click(); \r\n        var maxPnL = 0, totalMaxPnL = 0;\r\n        AdminService.getPosition().then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var positionList = data && data.data;\r\n            if (positionList && positionList.length > 0) {\r\n\r\n\r\n                var todayProfitPnL = 0, totalbuyvalue = 0, totalsellvalue = 0, totalQtyTraded = 0, allbuyavgprice = 0, allsellavgprice = 0, totalPercentage = 0, totalExpence=0; \r\n                positionList.forEach(element => {\r\n\r\n                    if (element.producttype == \"DELIVERY\") {\r\n                        return \"\";\r\n                    }\r\n\r\n                    todayProfitPnL += parseFloat(element.pnl);\r\n                    totalbuyvalue += parseFloat(element.totalbuyvalue);\r\n                    totalsellvalue += parseFloat(element.totalsellvalue) === 0 ? parseFloat(element.totalbuyvalue) : parseFloat(element.totalsellvalue);\r\n                    totalQtyTraded += parseInt(element.buyqty);\r\n                    allbuyavgprice += parseFloat(element.buyavgprice);\r\n                    allsellavgprice += parseFloat(element.sellavgprice);\r\n                    if(element.netqty == 0){\r\n                        let percentPnL = ((parseFloat(element.sellavgprice) - parseFloat(element.buyavgprice)) * 100 / parseFloat(element.buyavgprice));\r\n                        element.percentPnL = percentPnL.toFixed(2) + \"%\";\r\n                        totalPercentage += parseFloat(percentPnL);\r\n\r\n                        localStorage.removeItem('firstTimeModify' + element.tradingsymbol)\r\n                        localStorage.removeItem('lastTriggerprice_' + element.tradingsymbol)\r\n                    }\r\n                   \r\n                    element.pattenName = this.tagPatternWhichTaken(element.symboltoken); \r\n\r\n                    let chargeInfo = this.calculateTradeExpence(element);\r\n                    element.tradeExpence = chargeInfo.tradeExpence.toFixed(2); \r\n                    element.expenceInfo = chargeInfo.expenceInfo; \r\n                    totalExpence += chargeInfo.tradeExpence; \r\n\r\n                    var slData = this.getStoplossFromOrderbook(element);\r\n                    if (slData) {\r\n                        element.stopLoss = slData.stopLoss;\r\n                        element.stopLossAmount = slData.maxLossAmount;\r\n                        totalMaxPnL += parseFloat(slData.maxLossAmount) ? parseFloat(slData.maxLossAmount) : 0;\r\n                    }\r\n\r\n\r\n                });\r\n                this.setState({ todayProfitPnL: todayProfitPnL.toFixed(2), totalbuyvalue: totalbuyvalue.toFixed(2), totalsellvalue: totalsellvalue.toFixed(2), totalQtyTraded: totalQtyTraded });\r\n                this.setState({ allbuyavgprice: (allbuyavgprice / positionList.length).toFixed(2), allsellavgprice: (allsellavgprice / positionList.length).toFixed(2), totalPercentage: totalPercentage });\r\n\r\n                var brokerageOnlyCharges = ((totalbuyvalue + totalsellvalue) * 0.25 / 100);\r\n                var allCharges = brokerageOnlyCharges + brokerageOnlyCharges * 25 / 100;\r\n                this.setState({ totalExpence: totalExpence.toFixed(2) });\r\n\r\n                this.setState({ totalTornOver: (totalbuyvalue + totalsellvalue).toFixed(2), totalMaxPnL: totalMaxPnL.toFixed(2) });\r\n\r\n                \r\n                positionList.sort(function (a, b) {\r\n                    return (b.netqty - a.netqty);\r\n\r\n                    //return b.netqty && (b.ltp - b.totalbuyvalue)*100/b.totalbuyvalue -  b.netqty && (a.ltp - a.totalbuyvalue)*100/a.totalbuyvalue;\r\n                });\r\n\r\n                this.setState({ positionList: positionList });\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    getNSETopStock() {\r\n\r\n        var stop = new Date().toLocaleTimeString() > \"15:00:00\" ? clearInterval(this.state.scaninterval) : \"\";\r\n\r\n        var totalDayLoss = TradeConfig.totalCapital * TradeConfig.dailyLossPer / 100;\r\n        totalDayLoss = -Math.abs(totalDayLoss);\r\n        if (this.state.todayProfitPnL < totalDayLoss) {\r\n            console.log(\"daily loss crossed\", totalDayLoss);\r\n            clearInterval(this.state.scaninterval);\r\n        } else {\r\n            AdminService.getNSETopStock().then(res => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data.status && data.message === 'SUCCESS') {\r\n                    var scandata = data.result;\r\n                    // console.log(\"scandata\",scandata); \r\n\r\n                    for (let index = 0; index < scandata.length; index++) {\r\n                        var isFound = false;\r\n                        for (let j = 0; j < this.state.positionList.length; j++) {\r\n                            if (this.state.positionList[j].symbolname === scandata[index].symbolName) {\r\n                                isFound = true;\r\n                            }\r\n                        }\r\n\r\n                        //   console.log(\"index\",index, \"symbolName\",scandata[index].symbolName);    \r\n                        if (!isFound && !localStorage.getItem('NseStock_' + scandata[index].symbolName)) {\r\n\r\n                            AdminService.autoCompleteSearch(scandata[index].symbolName).then(searchRes => {\r\n\r\n                                let searchResdata = searchRes.data;\r\n                                var found = searchResdata.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\" && row.name === scandata[index].symbolName);\r\n\r\n                                if (found.length) {\r\n                                    console.log(found[0].symbol, \"found\", found);\r\n                                    localStorage.setItem('NseStock_' + scandata[index].symbolName, \"orderdone\");\r\n                                    this.historyWiseOrderPlace(found[0].token, found[0].symbol, scandata[index].symbolName);\r\n                                }\r\n                            })\r\n\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    getMySelectedStock() {\r\n\r\n        var stop = new Date().toLocaleTimeString() > \"15:00:00\" ? clearInterval(this.state.selectedStockInteval) : \"\";\r\n\r\n        var totalDayLoss = TradeConfig.totalCapital * TradeConfig.dailyLossPer / 100;\r\n        totalDayLoss = -Math.abs(totalDayLoss);\r\n        if (this.state.todayProfitPnL < totalDayLoss) {\r\n            console.log(\"daily loss crossed\", totalDayLoss);\r\n            clearInterval(this.state.scaninterval);\r\n        } else {\r\n            AdminService.getSelectedStockFromDb().then(res => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data.status && data.message === 'SUCCESS') {\r\n                    var scandata = data.result;\r\n                    // console.log(\"scandata\",scandata); \r\n\r\n                    for (let index = 0; index < scandata.length; index++) {\r\n                        var isFound = false;\r\n                        for (let j = 0; j < this.state.positionList.length; j++) {\r\n                            if (this.state.positionList[j].symbolname === scandata[index].symbol) {\r\n                                isFound = true;\r\n                            }\r\n                        }\r\n\r\n                        //   console.log(\"index\",index, \"symbolName\",scandata[index].symbolName);    \r\n                        if (!isFound && !localStorage.getItem('NseStock_' + scandata[index].symbolName)) {\r\n\r\n                            AdminService.autoCompleteSearch(scandata[index].symbolName).then(searchRes => {\r\n\r\n                                let searchResdata = searchRes.data;\r\n                                var found = searchResdata.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\" && row.name === scandata[index].symbolName);\r\n\r\n                                if (found.length) {\r\n\r\n                                    var selectedStockwatchList = localStorage.getItem(\"selectedStockwatchList\") ? JSON.parse(localStorage.getItem(\"selectedStockwatchList\")) : [];\r\n                                    selectedStockwatchList.push(found[0]);\r\n                                    localStorage.setItem('selectedStockwatchList', JSON.stringify(selectedStockwatchList));\r\n\r\n                                }\r\n                            })\r\n\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    checkAndPlaceSingleOrder = (stock) => {\r\n        AdminService.autoCompleteSearch(stock).then(res => {\r\n            let data = res.data;\r\n            var found = data.filter(row => row.exch_seg === \"NSE\" && row.lotsize === \"1\");\r\n            console.log(\"stockfound\", found);\r\n            if (found && found.length) {\r\n                this.orderWithFlatstoploss(found[0].token, found[0].symbol);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    getStockOnebyOne() {\r\n\r\n        var totalDayLoss = TradeConfig.totalCapital * TradeConfig.dailyLossPer / 100;\r\n        totalDayLoss = -Math.abs(totalDayLoss);\r\n        if (this.state.todayProfitPnL < totalDayLoss) {\r\n            console.log(\"daily loss crossed\", totalDayLoss);\r\n            clearInterval(this.state.scaninterval);\r\n        } else {\r\n            console.log(\"still ok\");\r\n            AdminService.getAutoScanStock().then(res => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data.status && data.message === 'SUCCESS') {\r\n                    var scandata = data.result;\r\n                    if (scandata && scandata.length > 0) {\r\n                        var lastSeachStock = scandata[scandata.length - 1].symbolName;\r\n                        localStorage.setItem('scannedStocks', JSON.stringify(scandata));\r\n                        var isFound = false;\r\n                        for (let index = 0; index < this.state.positionList.length; index++) {\r\n                            if (this.state.positionList[index].symbolname === lastSeachStock) {\r\n                                isFound = true;\r\n                            }\r\n                        }\r\n                        if (!isFound && !localStorage.getItem('scannedstock_' + lastSeachStock)) {\r\n                            console.log(\"found new\", lastSeachStock)\r\n                            var msg = new SpeechSynthesisUtterance();\r\n                            msg.text = 'hey Vijay, ' + lastSeachStock;\r\n                            window.speechSynthesis.speak(msg);\r\n                            localStorage.setItem('scannedstock_' + lastSeachStock, \"orderdone\");\r\n                            this.checkAndPlaceSingleOrder(lastSeachStock);\r\n                        }\r\n                    }\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    orderWithFlatstoploss = (token, symbol) => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": symbol,\r\n            \"symboltoken\": token,\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n\r\n            var LtpData = data && data.data;\r\n            var ltpPrice = LtpData.ltp\r\n            if (ltpPrice) {\r\n\r\n                //  var stopLossPrice = ltp - (ltp*0.7/100);\r\n                var stopLossPrice = ltpPrice - (ltpPrice * TradeConfig.perTradeStopLossPer / 100);\r\n                stopLossPrice = this.getMinPriceAllowTick(stopLossPrice);\r\n                let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                let quantity = Math.floor(perTradeExposureAmt / ltpPrice);\r\n                console.log(symbol + 'ltp ' + ltpPrice, \"quantity\", quantity, \"stopLossPrice\", stopLossPrice, \"perTradeExposureAmt\", perTradeExposureAmt);\r\n                var orderOption = {\r\n                    transactiontype: 'BUY',\r\n                    tradingsymbol: symbol,\r\n                    symboltoken: token,\r\n                    buyPrice: 0,\r\n                    quantity: quantity,\r\n                    stopLossPrice: stopLossPrice\r\n                }\r\n\r\n                if (quantity && stopLossPrice) {\r\n                    this.placeOrderMethod(orderOption);\r\n                }\r\n\r\n            }\r\n\r\n        }).catch((error) => {\r\n            console.log(symbol, \"not found\", 'error', error);\r\n        })\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            //    console.log(data);       \r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n        })\r\n    }\r\n\r\n    onTrailChange=(e)=>{\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    getNiftyLTP = () => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": \"NIFTY\",\r\n            \"symboltoken\": \"26000\",\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            //console.log(LtpData);\r\n            if (LtpData && LtpData.ltp) {\r\n                let per = (LtpData.ltp - LtpData.close) * 100 / LtpData.close; \r\n                if(per > 0)\r\n                document.getElementById('niftySpid').innerHTML = \"<span style='color:green'> Nifty \" + LtpData.ltp + ' (' + (per).toFixed(2) + '%)</span>'; \r\n                else\r\n                document.getElementById('niftySpid').innerHTML = \"<span style='color:red'> Nifty \" + LtpData.ltp + ' (' + (per).toFixed(2) + '%)</span>'; \r\n            }\r\n        })\r\n    }\r\n\r\n    getBankNiftyLTP = () => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": \"BANKNIFTY\",\r\n            \"symboltoken\": \"26009\",\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            //console.log(LtpData);\r\n            if (LtpData && LtpData.ltp) {\r\n                let per = (LtpData.ltp - LtpData.close) * 100 / LtpData.close; \r\n                if(per > 0)\r\n                document.getElementById('bankniftySpid').innerHTML = \"<span style='color:green'> Bank Nifty \" + LtpData.ltp + ' (' + (per).toFixed(2) + '%)</span>'; \r\n                else\r\n                document.getElementById('bankniftySpid').innerHTML = \"<span style='color:red'> Bank Nifty \" + LtpData.ltp + ' (' + (per).toFixed(2) + '%)</span>'; \r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    getStopLossPrice = async (token, symbol) => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": symbol,\r\n            \"symboltoken\": token,\r\n        }\r\n\r\n        await AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            if (LtpData && LtpData.ltp) {\r\n                var ltp = parseFloat(LtpData.ltp);\r\n                ltp = ltp - (ltp * 0.7 / 100);\r\n                var slPrice = this.getMinPriceAllowTick(ltp);\r\n\r\n                this.setState({ stoploss: slPrice });\r\n                return slPrice;\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    placeOrderMethod = (orderOption) => {\r\n\r\n        var data = {\r\n            \"transactiontype\": orderOption.transactiontype,//BUY OR SELL\r\n            \"tradingsymbol\": orderOption.tradingsymbol,\r\n            \"symboltoken\": orderOption.symboltoken,\r\n            \"quantity\": orderOption.quantity,\r\n            \"ordertype\": orderOption.buyPrice === 0 ? \"MARKET\" : \"LIMIT\",\r\n            \"price\": orderOption.buyPrice,\r\n            \"producttype\": \"DELIVERY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"exchange\": \"NSE\",\r\n            \"variety\": \"NORMAL\"\r\n        }\r\n        console.log(\"place order option\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n                if (orderOption.stopLossPrice) {\r\n                    this.placeSLMOrder(orderOption);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    historyWiseOrderPlace = (token, symbol, LockedSymbolName) => {\r\n\r\n        var ltpdata = { \"exchange\": \"NSE\", \"tradingsymbol\": symbol, \"symboltoken\": token, }\r\n        AdminService.getLTP(ltpdata).then(res => {\r\n            let ltpres = resolveResponse(res, 'noPop');\r\n            var LtpData = ltpres && ltpres.data;\r\n            console.log(symbol, \" ltd data \", LtpData);\r\n            let quantity = 0;\r\n            if (LtpData && LtpData.ltp) {\r\n                let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                quantity = Math.floor(perTradeExposureAmt / LtpData.ltp);\r\n            }\r\n\r\n\r\n            quantity = quantity > 0 ? 1 : 0;\r\n            console.log(symbol, \"  quantity can be order \", quantity);\r\n            if (quantity) {\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n                console.log(\"beginningTime\", beginningTime);\r\n\r\n                var time = moment.duration(\"21:10:00\");\r\n                var startdate = moment(new Date()).subtract(time);\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": token,\r\n                    \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE \r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    // console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n\r\n                        var candleData = histdata.data, clossest = 0, lowerest = 0, highestHigh = 0, lowestLow = 0;\r\n                        candleData.reverse();\r\n                        lowestLow = candleData[0][3];\r\n                        highestHigh = candleData[0][2];\r\n                        if (candleData && candleData.length > 0) {\r\n                            for (let index = 0; index < 20; index++) {\r\n                                if (candleData[index]) {\r\n                                    clossest += candleData[index][4]; //close  \r\n                                    lowerest += candleData[index][3];  //low\r\n                                    if (candleData[index][2] > highestHigh) {\r\n                                        console.log(index, highestHigh, candleData[index][2]);\r\n                                        highestHigh = candleData[index][2];\r\n                                    }\r\n                                    if (candleData[index][3] <= lowestLow) {\r\n                                        lowestLow = candleData[index][3];\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n\r\n                            let devideLen = candleData.length > 20 ? 20 : candleData.length;\r\n\r\n                            var bbmiddleValue = clossest / devideLen;\r\n                            var bblowerValue = lowerest / devideLen;\r\n\r\n                            var stoploss = bblowerValue - (highestHigh - lowestLow) * 3 / 100;\r\n                            stoploss = this.getMinPriceAllowTick(stoploss);\r\n\r\n                            var stoplossPer = (highestHigh - stoploss) * 100 / highestHigh;\r\n\r\n                            console.log(symbol, \" LTP \", LtpData.ltp);\r\n                            console.log(symbol + \"highestHigh:\", highestHigh, \"lowestLow\", lowestLow, \"stoploss after tick:\", stoploss, \"stoploss%\", stoplossPer);\r\n                            console.log(symbol + \"  close avg middle \", bbmiddleValue, \"lowerest avg\", bblowerValue);\r\n\r\n                            var orderOption = {\r\n                                transactiontype: 'BUY',\r\n                                tradingsymbol: symbol,\r\n                                symboltoken: token,\r\n                                buyPrice: 0,\r\n                                quantity: quantity,\r\n                                stopLossPrice: stoploss\r\n                            }\r\n                            if (LtpData && LtpData.ltp > highestHigh && stoplossPer <= 1.5) {\r\n                                this.placeOrderMethod(orderOption);\r\n                            } else {\r\n                                localStorage.setItem('NseStock_' + LockedSymbolName, \"\");\r\n                                console.log(symbol + \" its not fullfilled\");\r\n                            }\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        console.log(symbol + \" candle data emply\");\r\n                    }\r\n                })\r\n\r\n            }\r\n        })\r\n        // await new Promise(r => setTimeout(r, 2000)); \r\n    }\r\n\r\n\r\n\r\n    cancelOrderOfSame = (row) => {\r\n\r\n        var orderData = this.getOpenPeningOrderId(row.symboltoken);\r\n        var data = {\r\n            \"variety\": orderData.variety,\r\n            \"orderid\": orderData.orderId,\r\n        }\r\n        AdminService.cancelOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            if (data.status && data.message === 'SUCCESS') {\r\n                console.log(\"cancel order\", data);\r\n                // this.setState({ orderid : data.data && data.data.orderid });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    squareOff = (row) => {\r\n\r\n        var data = {\r\n            \"variety\": \"NORMAL\",\r\n            \"tradingsymbol\": row.tradingsymbol,\r\n            \"symboltoken\": row.symboltoken,\r\n            \"transactiontype\": row.netqty > 0 ? 'SELL' : \"BUY\",\r\n            \"exchange\": row.exchange,\r\n            \"ordertype\": \"MARKET\",\r\n            \"producttype\": row.producttype, //\"DELIVERY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"quantity\": Math.abs(row.netqty),\r\n        }\r\n\r\n        // if(window.confirm(\"Squire Off!!! Sure?\")){\r\n\r\n        // }\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            console.log(\"squireoff\", data);\r\n            if (data.status && data.message === 'SUCCESS') {\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n                this.cancelOrderOfSame(row);\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n    updateOrderList = () => {\r\n        AdminService.retrieveOrderBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res);\r\n                if (data && data.data) {\r\n                    var orderlist = data.data;\r\n                    orderlist.sort(function (a, b) {\r\n                        return new Date(b.updatetime) - new Date(a.updatetime);\r\n                    });\r\n                    localStorage.setItem('oderbookData', JSON.stringify(orderlist));\r\n                }\r\n            });\r\n    }\r\n\r\n    placeSLMOrder = (slmOption) => {\r\n\r\n        var data = {\r\n            \"triggerprice\": slmOption.stopLossPrice,\r\n            \"tradingsymbol\": slmOption.tradingsymbol,\r\n            \"symboltoken\": slmOption.symboltoken,\r\n            \"quantity\": slmOption.quantity,\r\n            \"transactiontype\": slmOption.transactiontype === \"BUY\" ? \"SELL\" : \"BUY\",\r\n            \"exchange\": 'NSE',\r\n            \"producttype\": \"DELIVERY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n        console.log(\"SLM option data\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n                // this.updateOrderList(); \r\n                var msg = new SpeechSynthesisUtterance();\r\n                msg.text = 'hey Vijay, ' + slmOption.tradingsymbol;\r\n                window.speechSynthesis.speak(msg);\r\n\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n            }\r\n        })\r\n    }\r\n\r\n    getOpenPeningOrderId = (symboltoken) => {\r\n\r\n        var oderbookData = localStorage.getItem('oderbookData') && JSON.parse(localStorage.getItem('oderbookData'));\r\n        var data = {};\r\n        for (let index = 0; index < oderbookData.length; index++) {\r\n            if (oderbookData[index].symboltoken === symboltoken && oderbookData[index].variety === \"STOPLOSS\") {\r\n                data.orderId = oderbookData[index].orderid\r\n                data.variety = oderbookData[index].variety\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    modifyOrderMethod = (row, minTriggerPrice, minSLPrice) => {\r\n        var orderData = this.getOpenPeningOrderId(row.symboltoken);\r\n\r\n        var data = {\r\n            \"variety\": orderData.variety,\r\n            \"orderid\": orderData.orderId,\r\n            \"ordertype\": \"STOPLOSS_MARKET\",   // \"STOPLOSS_LIMIT\",\r\n            \"producttype\": row.producttype, //\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": minSLPrice ?  parseFloat(minSLPrice) : 0,\r\n            \"triggerprice\": parseFloat(minTriggerPrice),\r\n            \"quantity\": Math.abs(row.netqty),\r\n            \"tradingsymbol\": row.tradingsymbol,\r\n            \"symboltoken\": row.symboltoken,\r\n            \"exchange\": row.exchange\r\n        }\r\n        AdminService.modifyOrder(data).then(res => {\r\n            let data = resolveResponse(res, \"noPop\");\r\n\r\n            var msg = new SpeechSynthesisUtterance();\r\n\r\n\r\n            if (data.status && data.message === 'SUCCESS') {\r\n                //  this.setState({ ['lastTriggerprice_' + row.tradingsymbol]:  parseFloat(minPrice)})\r\n                msg.text = row.symbolname + ' modified '; //+ data.message;\r\n                window.speechSynthesis.speak(msg);\r\n                localStorage.setItem('firstTimeModify' + row.tradingsymbol, 'No');\r\n                localStorage.setItem('lastTriggerprice_' + row.tradingsymbol, parseFloat(minTriggerPrice));\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n\r\n            }\r\n        })\r\n    }\r\n    getMinPriceAllowTick = (minPrice) => {\r\n        minPrice = minPrice.toFixed(2);\r\n        // console.log(\"minPrice\",minPrice); \r\n        var wholenumber = parseInt(minPrice.split('.')[0]);\r\n        //  console.log(\"wholenumber\",wholenumber); \r\n        var decimal = parseFloat(minPrice.split('.')[1]);\r\n        // console.log(\"decimal\",decimal); \r\n        var tickedecimal = decimal - decimal % 5;\r\n        minPrice = parseFloat(wholenumber + '.' + tickedecimal);\r\n        //   console.log(\"minPricexxxx\",minPrice); \r\n        return minPrice;\r\n    }\r\n\r\n    get2DecimalNumber =(number)=>{\r\n        number = parseFloat(number); \r\n        if(number){\r\n            return number.toFixed(2); \r\n        }else{\r\n            return number;  \r\n        }\r\n    }\r\n\r\n    getSLAndTriggerPrice =(price)=> {\r\n        let minTriggerPrice = this.getMinPriceAllowTick(price);\r\n\r\n        var minSLPrice = minTriggerPrice - (minTriggerPrice * 1 / 100);\r\n        minSLPrice = this.getMinPriceAllowTick(minSLPrice);\r\n\r\n        let slPriceData = {\r\n            minTriggerPrice : minTriggerPrice, \r\n            minSLPrice : minSLPrice\r\n        }\r\n        return slPriceData; \r\n    }\r\n    getOptionPercentage =(row)=> {\r\n\r\n        console.log(\"option per calling\"); \r\n        var percentChange = 0, trailPerChange = 0; \r\n\r\n        row.buyavgprice = parseFloat(row.buyavgprice);\r\n        percentChange = ((row.ltp - row.buyavgprice) * 100 / row.buyavgprice);\r\n        if (!localStorage.getItem('firstTimeModify' + row.tradingsymbol) && percentChange >= 7) {\r\n\r\n            var minTriggerPrice = row.buyavgprice + (row.buyavgprice * 3 / 100);\r\n            let slPriceData =  this.getSLAndTriggerPrice(minTriggerPrice); \r\n\r\n            if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != slPriceData.minTriggerPrice){\r\n                this.modifyOrderMethod(row, slPriceData.minTriggerPrice ,slPriceData.minSLPrice );\r\n            }\r\n\r\n        } else {\r\n            var lastTriggerprice = parseFloat(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol));\r\n            var perchngfromTriggerPrice = ((row.ltp - lastTriggerprice) * 100 / lastTriggerprice);\r\n            trailPerChange = perchngfromTriggerPrice; \r\n            if (perchngfromTriggerPrice >= 5) {\r\n                minTriggerPrice = lastTriggerprice + (lastTriggerprice * 2 / 100);\r\n                let slPriceData =  this.getSLAndTriggerPrice(minTriggerPrice); \r\n\r\n                if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != slPriceData.minTriggerPrice){\r\n                    this.modifyOrderMethod(row, slPriceData.minTriggerPrice, slPriceData.minSLPrice);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(!trailPerChange){\r\n            return percentChange.toFixed(2) + \"%\"; \r\n        }else{\r\n            return percentChange.toFixed(2) + \"% | Trailing \"+ trailPerChange.toFixed(2) + \"%\"; \r\n        }\r\n \r\n    }\r\n\r\n    getPercentage = (row) => {\r\n\r\n        var percentChange = 0, trailPerChange = 0; \r\n        if (row.netqty > 0) {\r\n            row.buyavgprice = parseFloat(row.buyavgprice);\r\n            percentChange = ((row.ltp - row.buyavgprice) * 100 / row.buyavgprice);\r\n            if (!localStorage.getItem('firstTimeModify' + row.tradingsymbol) && percentChange >= this.state.firstTimeMove) {\r\n                var minPrice = row.buyavgprice + (row.buyavgprice * this.state.firstTimeSLMove / 100);\r\n                minPrice = this.getMinPriceAllowTick(minPrice);\r\n                if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != minPrice){\r\n                    this.modifyOrderMethod(row, minPrice);\r\n                }\r\n            } else {\r\n                var lastTriggerprice = parseFloat(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol));\r\n                var perchngfromTriggerPrice = ((row.ltp - lastTriggerprice) * 100 / lastTriggerprice);\r\n                trailPerChange = perchngfromTriggerPrice; \r\n                if (perchngfromTriggerPrice >= this.state.nextTimeMove) {\r\n                    minPrice = lastTriggerprice + (lastTriggerprice * this.state.nextTimeSLMove / 100);\r\n                    minPrice = this.getMinPriceAllowTick(minPrice);\r\n                    if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != minPrice){\r\n                        this.modifyOrderMethod(row, minPrice);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (row.netqty < 0) {\r\n\r\n            row.sellavgprice = parseFloat(row.sellavgprice);\r\n            percentChange = ((row.ltp - row.sellavgprice) * 100 / row.sellavgprice);\r\n            if (!localStorage.getItem('firstTimeModify' + row.tradingsymbol) && percentChange <= -Math.abs(this.state.firstTimeMove)) {\r\n                var minPrice = row.sellavgprice - (row.sellavgprice * this.state.firstTimeSLMove / 100);\r\n                minPrice = this.getMinPriceAllowTick(minPrice);\r\n                if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != minPrice){\r\n                    this.modifyOrderMethod(row, minPrice, (row.sellavgprice * 0.3 / 100));\r\n                }\r\n            } else {\r\n                var lastTriggerprice = parseFloat(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol));\r\n                var perchngfromTriggerPrice = ((row.ltp - lastTriggerprice) * 100 / lastTriggerprice);\r\n                trailPerChange = perchngfromTriggerPrice; \r\n                console.log(\"perchngfromTriggerPrice\", perchngfromTriggerPrice);\r\n                if (perchngfromTriggerPrice <= -Math.abs(this.state.nextTimeMove)  ) {\r\n                    minPrice = lastTriggerprice - (lastTriggerprice * this.state.nextTimeSLMove / 100);\r\n                    minPrice = this.getMinPriceAllowTick(minPrice);\r\n                    if(localStorage.getItem('lastTriggerprice_' + row.tradingsymbol) != minPrice){\r\n                        this.modifyOrderMethod(row, minPrice);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if(!trailPerChange){\r\n            return percentChange.toFixed(2) + \"%\"; \r\n        }else{\r\n            return percentChange.toFixed(2) + \"% | Trailing \"+ trailPerChange.toFixed(2) + \"%\"; \r\n        }\r\n    }\r\n\r\n  \r\n\r\n\r\n    render() {\r\n  \r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n                <Grid style={{ padding: '5px' }} justify=\"space-between\" direction=\"row\" container>\r\n                    <Grid item >\r\n                       <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            Positions ({this.state.positionList && this.state.positionList.length})  {new Date().toLocaleString()}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={3} > \r\n\r\n                   \r\n                       Stock Trail%: First Move<input name=\"firstTimeMove\"  type={'number'}  step=\"0.1\" onChange={this.onTrailChange} value={this.state.firstTimeMove}  style={{width:'30px',textAlign:'center'}} /> \r\n                        SL Move<input name=\"firstTimeSLMove\" step=\"0.1\"  type={'number'}  onChange={this.onTrailChange}  value={this.state.firstTimeSLMove} style={{width:'30px',textAlign:'center'}} /> \r\n\r\n                        &nbsp;Next <input name=\"nextTimeMove\" step=\"0.1\"  type={'number'}  onChange={this.onTrailChange} value={this.state.nextTimeMove}  style={{width:'30px',textAlign:'center'}} /> \r\n                        SL Move<input name=\"nextTimeSLMove\"  step=\"0.1\" type={'number'}  onChange={this.onTrailChange}  value={this.state.nextTimeSLMove} style={{width:'30px',textAlign:'center'}} /> \r\n                    \r\n\r\n                    </Grid>\r\n\r\n                    \r\n                    <Grid item  >\r\n                        <Typography component=\"h3\">\r\n                            <b>Net Capital  {this.get2DecimalNumber(localStorage.getItem('netCapital'))}  </b>\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                        <Typography component=\"h3\" >\r\n                            <b> Net Cap P/L </b> <b style={{ color: ((this.state.todayProfitPnL - this.state.totalExpence) * 100/localStorage.getItem('netCapital')) > 0 ? \"green\" : \"red\" }}>{((this.state.todayProfitPnL - this.state.totalExpence) * 100/localStorage.getItem('netCapital')).toFixed(2)}% </b>\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                   \r\n\r\n                    <Grid item  >\r\n                        <Typography component=\"h3\">\r\n                            <b>Turnover {this.state.totalTornOver} </b>\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item >\r\n                        <Typography component=\"h3\"  >\r\n\r\n                        <b style={{ color: \"red\" }}>Expenses: {this.state.totalExpence} </b>\r\n\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item  >\r\n                        <Typography component=\"h3\"   >\r\n                            <b>  P/L </b> <b style={{ color: this.state.todayProfitPnL > 0 ? \"green\" : \"red\" }}>{this.state.todayProfitPnL} </b>\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                        <Typography component=\"h3\"  {...window.document.title = \"PnL:\" + (this.state.todayProfitPnL - this.state.totalExpence).toFixed(2)}>\r\n                            <b> Net P/L </b> <b style={{ color: (this.state.todayProfitPnL - this.state.totalExpence) > 0 ? \"green\" : \"red\" }}>{this.state.totalExpence ? (this.state.todayProfitPnL - this.state.totalExpence).toFixed(2) : \"\"} </b>\r\n                        </Typography>\r\n                    </Grid>\r\n                    \r\n\r\n                    \r\n\r\n\r\n                    <Grid item  >\r\n                        <Button type=\"number\" variant=\"contained\" style={{ float: \"right\" }} onClick={() => this.getPositionData()}>Refresh</Button>\r\n                    </Grid>\r\n                    <Grid item  >\r\n                        <Button type=\"number\" variant=\"contained\" style={{ float: \"right\" }} onClick={() => this.getHighLowPercentage()}><RefreshIcon /> H/L</Button>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid style={{ padding: '5px' }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n\r\n                    <Grid item xs={12} sm={12}>\r\n                        <Paper style={{ overflow: \"auto\", padding: '5px' }} >\r\n\r\n                            <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                <TableHead style={{ whiteSpace: \"nowrap\", backgroundColor: \"\" }} variant=\"head\">\r\n                                    <TableRow key=\"1\" variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\">Instrument</TableCell> */}\r\n                                        <TableCell style={{ paddingLeft: \"3px\" }} className=\"TableHeadFormat\" align=\"left\">&nbsp;Symbol</TableCell>\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\">Trading Token</TableCell> */}\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\">Product type</TableCell> */}\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Pattern Name</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Avg Buy</TableCell>\r\n                                        {/* <TableCell  className=\"TableHeadFormat\" align=\"left\">Total buy value</TableCell> */}\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Avg Sell </TableCell>\r\n                                        {/* <TableCell  className=\"TableHeadFormat\" align=\"left\">Total Sell value</TableCell> */}\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Qty Taken</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Net Qty</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Expense</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Trailing SL</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Max P/L</TableCell>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">P/L </TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Chng % </TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">LTP</TableCell>\r\n\r\n\r\n                                        {this.state.showHighLowWisePer ? \r\n                                        <>\r\n                                         <TableCell  className=\"TableHeadFormat\" align=\"left\">High</TableCell>\r\n                                         <TableCell  className=\"TableHeadFormat\" align=\"left\">Low</TableCell>\r\n                                          </> : \"\"}\r\n\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Action</TableCell>\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n                                    {this.state.positionList ? this.state.positionList.map(row => (\r\n\r\n\r\n                                        row.producttype !== 'DELIVERY1' ? <TableRow hover key={row.symboltoken} style={{ background: row.netqty !== '0' ? 'lightgray' : \"\" }} >\r\n\r\n                                            <TableCell align=\"left\">\r\n                                                <Button style={{ color: (row.ltp - row.close) * 100 / row.close > 0 ? \"green\" : \"red\" }} size=\"small\" variant=\"contained\" title=\"Candle refresh\" onClick={() => this.refreshCandleChartManually(row)} >\r\n                                                    {row.tradingsymbol} {row.ltp} ({((row.ltp - row.close) * 100 / row.close).toFixed(2)}%) <ShowChartIcon />\r\n                                                </Button>\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{row.pattenName}</TableCell>\r\n\r\n                                            {/* <TableCell align=\"left\">{row.symboltoken}</TableCell> */}\r\n                                            {/* <TableCell align=\"left\">{row.producttype}</TableCell> */}\r\n\r\n                                            <TableCell align=\"left\">{row.totalbuyavgprice}</TableCell>\r\n                                            {/* <TableCell align=\"left\">{row.totalbuyvalue}</TableCell> */}\r\n\r\n                                            <TableCell align=\"left\">{row.totalsellavgprice}</TableCell>\r\n                                            <TableCell align=\"left\">{row.buyqty || row.sellqty}</TableCell>\r\n                                            <TableCell align=\"left\">{row.netqty}</TableCell>\r\n                                            <TableCell style={{cursor:'help'}} title={row.expenceInfo} align=\"left\">{row.tradeExpence}</TableCell>\r\n\r\n                                            {/* <TableCell align=\"left\">{row.totalsellvalue}</TableCell> */}\r\n                                            <TableCell align=\"left\"> {row.stopLoss}</TableCell>\r\n                                            <TableCell align=\"left\"> {row.stopLossAmount}</TableCell>\r\n\r\n\r\n                                            {/* {(localStorage.getItem('lastTriggerprice_'+row.tradingsymbol))} */}\r\n                                            <TableCell align=\"left\" style={{ color: parseFloat(row.pnl) > 0 ? 'green' : 'red' }}><b>{row.pnl}</b></TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                {row.netqty !== '0' && row.optiontype  == '' ? this.getPercentage(row) : \"\"}\r\n                                                {(row.optiontype  == 'CE' || row.optiontype  == 'PE') && row.netqty > 0 ? this.getOptionPercentage(row) : \"\"}  \r\n                                                {row.percentPnL}\r\n                                                {/* new Date().toLocaleTimeString() > \"15:15:00\" ? */}\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{row.ltp}</TableCell>\r\n\r\n\r\n\r\n                                        {this.state.showHighLowWisePer ? <>\r\n                                            <TableCell   align=\"left\">{row.high}</TableCell>\r\n                                            <TableCell  align=\"left\">{row.low}</TableCell>\r\n                                          </> : \"\"}\r\n\r\n\r\n                                            <TableCell align=\"left\">\r\n                                                {row.netqty !== \"0\" ? <Button size={'small'} type=\"number\" variant=\"contained\" color=\"Secondary\" onClick={() => this.squareOff(row)}>Square Off</Button> : \"\"}\r\n                                            </TableCell>\r\n\r\n                                        </TableRow> : \"\"\r\n\r\n                                    )) : ''}\r\n\r\n                                    <TableRow variant=\"head\" style={{ fontWeight: 'bold', backgroundColor: \"\" }}>\r\n\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\">Instrument</TableCell> */}\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell> */}\r\n                                        {/* <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell> */}\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">&nbsp;Total</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">{this.state.allbuyavgprice}</TableCell>\r\n                                        {/* <TableCell  className=\"TableHeadFormat\" align=\"left\">{this.state.totalbuyvalue}</TableCell> */}\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">{this.state.allsellavgprice}</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">{this.state.totalQtyTraded}</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n                                        {/* <TableCell  className=\"TableHeadFormat\" align=\"left\">{this.state.totalsellvalue}</TableCell> */}\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">{this.state.totalMaxPnL}</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\" style={{ color: parseFloat(this.state.todayProfitPnL) > 0 ? 'green' : 'red' }}>{this.state.todayProfitPnL} </TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">\r\n\r\n                                        {/* new Date().toLocaleTimeString() > \"15:15:00\" ?  */}\r\n                                            {this.state.totalPercentage && this.state.totalPercentage.toFixed(2) + \"%\"}\r\n\r\n                                        </TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\"></TableCell>\r\n\r\n\r\n                                    </TableRow>\r\n\r\n\r\n                                </TableBody>\r\n                            </Table>\r\n\r\n                        </Paper>\r\n\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n                    <Grid item xs={12} sm={12} style={{ height: '250px', overflow: \"auto\" }}>\r\n                        <OrderBook />\r\n                    </Grid>\r\n\r\n\r\n\r\n                    <Grid item xs={12} sm={12} style={{ height: '100%', overflow: \"auto\" }}>\r\n                         {localStorage.getItem('isOpenInNewPage') == \"no\" ?  <OrderWatchlist /> : \"\"}\r\n                    </Grid>\r\n\r\n\r\n                    {this.state.foundPatternList && this.state.foundPatternList.length ? \r\n                    <Grid item xs={12} sm={12} >\r\n                        <Paper style={{ overflow: \"auto\", padding: '5px' }} >\r\n\r\n\r\n\r\n                            <Grid justify=\"space-between\"\r\n                                container>\r\n                                <Grid item  >\r\n                                    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                        Patterns Founds ({this.state.foundPatternList && this.state.foundPatternList.length})\r\n\r\n                                        <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.stockTesting} </span>\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item >\r\n                                    <Button variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.refreshLtpOnFoundPattern()}>Live Refresh</Button>\r\n                                </Grid>\r\n\r\n                            </Grid>\r\n\r\n\r\n                            <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                <TableHead style={{ whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                                    <TableRow key=\"1\" variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol | Activated({this.state.totelActivatedCount})</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Performance 6M</TableCell>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">OnLtp ({this.state.nr4TotalPer.toFixed(2)})%  </TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Qty</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">PnL({this.state.pnlAmountTotal.toFixed(2)})</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Fee({this.state.totalBrokerChargesNR4.toFixed(2)})</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">NetPnL({this.state.totalNetProfit.toFixed(2)})</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">OnH/L({this.state.perHighLowTotal.toFixed(2)}% | {this.state.netPnLAmountOnHighlowTotal.toFixed(2)})  </TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">Patten</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">FoundAt</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">BuyAt</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">SellAt</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" align=\"left\">UpdatedAt</TableCell>\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n                                    {this.state.foundPatternList ? this.state.foundPatternList.map(row => (\r\n                                        <TableRow hover key={row.symboltoken}>\r\n\r\n\r\n                                            <TableCell align=\"left\"> <Button variant=\"contained\" style={{ color: !row.todayChange ? '' : row.todayChange > 0 ? 'green' : 'red' }} onClick={() => this.showCandleChart(row.candleChartData, row.symbol)}>{row.symbol} {row.symbolUpdated} <EqualizerIcon /> </Button></TableCell>\r\n                                            <TableCell title={row.symbol + \" : Open all chart\"} align=\"left\" style={{ fontSize: '9px', cursor: 'pointer' }} onClick={() => this.showMultipleCandleChart(row)}>\r\n                                                {row.pastPerferm ? <>\r\n                                                    <span style={{ background: row.pastPerferm.totalLongPer / row.pastPerferm.totalLongs >= 1 ? \"#92f192\" : \"\" }}>{row.pastPerferm.totalLongs}L({row.pastPerferm.totalLongPer}%) | Avg:{(row.pastPerferm.totalLongPer / row.pastPerferm.totalLongs).toFixed(2)}%</span> <br />\r\n                                                    <span>{row.pastPerferm.totalLongs}LH({row.pastPerferm.totalLongHighPer}%) | Avg: {(row.pastPerferm.totalLongHighPer / row.pastPerferm.totalLongs).toFixed(2)}%</span> <br />\r\n                                                    <span style={{ background: row.pastPerferm.totalShortPer / row.pastPerferm.totalShort >= 1 ? \"#e87b7b\" : \"\" }}>{row.pastPerferm.totalShort}S:{row.pastPerferm.totalShortPer}% | Avg:{(row.pastPerferm.totalShortPer / row.pastPerferm.totalShort).toFixed(2)}%</span> <br />\r\n                                                    <span>{row.pastPerferm.totalShort}SL:{row.pastPerferm.totalShortLowPer}% | Avg:{(row.pastPerferm.totalShortLowPer / row.pastPerferm.totalShort).toFixed(2)}%</span> <br />\r\n                                                </> : \"\"}\r\n\r\n                                            </TableCell>\r\n\r\n                                            <TableCell align=\"left\"><b>{row.orderActivated} </b></TableCell>\r\n\r\n\r\n                                            <TableCell align=\"left\">{row.quantity}</TableCell>\r\n                                            <TableCell align=\"left\">{row.pnlAmount}</TableCell>\r\n                                            <TableCell align=\"left\">{row.brokerageCharges}</TableCell>\r\n                                            <TableCell align=\"left\"><b>{row.netPnLAmount} </b></TableCell>\r\n                                            <TableCell align=\"left\"><b>{row.OnHighLowActivated} </b></TableCell>\r\n\r\n                                            <TableCell align=\"left\">{row.pattenName}</TableCell>\r\n\r\n                                            <TableCell align=\"left\">{row.foundAt && row.foundAt.substr(0, 15)}</TableCell>\r\n\r\n                                            <TableCell align=\"left\">{row.BuyAt}</TableCell>\r\n                                            <TableCell align=\"left\">{row.SellAt}</TableCell>\r\n\r\n                                            <TableCell align=\"left\">{row.time}</TableCell>\r\n\r\n                                        </TableRow>\r\n                                    )) : ''}\r\n                                </TableBody>\r\n                            </Table>\r\n\r\n\r\n\r\n                        </Paper>\r\n                    </Grid> \r\n                    : \"\"}\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n// const styles ={\r\n//     footerButton: {\r\n//         position: 'fixed',\r\n//     }\r\n// };\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {connect} from \"react-redux\";\r\nimport {setPackLoaded} from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from \"@material-ui/core/Input\";\r\nimport \"./ViewStyle.css\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AdminService from \"../service/AdminService\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\n\r\nimport LightChartCom from \"./LightChartCom\";\r\n\r\nimport Chart from \"./Chart\";\r\n\r\n\r\nexport default class Example extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  //  this.handleKeyDown = this.handleKeyDown.bind(this)\r\n    this.state = {\r\n      cursor: 0,\r\n      areaData: [\r\n        { time: '2018-10-19', value: 54.90 },\r\n        { time: '2018-10-22', value: 54.98 },\r\n        { time: '2018-10-23', value: 57.21 },\r\n        { time: '2018-10-24', value: 57.42 },\r\n        { time: '2018-10-25', value: 56.43 },\r\n        { time: '2018-10-26', value: 55.51 },\r\n        { time: '2018-10-29', value: 56.48 },\r\n        { time: '2018-10-30', value: 58.18 },\r\n        { time: '2018-10-31', value: 57.09 },\r\n        { time: '2018-11-01', value: 56.05 },\r\n        { time: '2018-11-02', value: 56.63 },\r\n        { time: '2018-11-05', value: 57.21 },\r\n        { time: '2018-11-06', value: 57.21 },\r\n        { time: '2018-11-07', value: 57.65 },\r\n        { time: '2018-11-08', value: 58.27 },\r\n        { time: '2018-11-09', value: 58.46 },\r\n        { time: '2018-11-12', value: 58.72 },\r\n        { time: '2018-11-13', value: 58.66 },\r\n        { time: '2018-11-14', value: 58.94 },\r\n        { time: '2018-11-15', value: 59.08 },\r\n        { time: '2018-11-16', value: 60.21 },\r\n        { time: '2018-11-19', value: 60.62 },\r\n        { time: '2018-11-20', value: 59.46 },\r\n        { time: '2018-11-21', value: 59.16 },\r\n        { time: '2018-11-23', value: 58.64 },\r\n        { time: '2018-11-26', value: 59.17 },\r\n        { time: '2018-11-27', value: 60.65 },\r\n        { time: '2018-11-28', value: 60.06 },\r\n        { time: '2018-11-29', value: 59.45 },\r\n        { time: '2018-11-30', value: 60.30 },\r\n        { time: '2018-12-03', value: 58.16 },\r\n        { time: '2018-12-04', value: 58.09 },\r\n        { time: '2018-12-06', value: 58.08 },\r\n        { time: '2018-12-07', value: 57.68 },\r\n        { time: '2018-12-10', value: 58.27 },\r\n        { time: '2018-12-11', value: 58.85 },\r\n        { time: '2018-12-12', value: 57.25 },\r\n        { time: '2018-12-13', value: 57.09 },\r\n        { time: '2018-12-14', value: 57.08 },\r\n        { time: '2018-12-17', value: 55.95 },\r\n        { time: '2018-12-18', value: 55.65 },\r\n        { time: '2018-12-19', value: 55.86 },\r\n        { time: '2018-12-20', value: 55.07 },\r\n        { time: '2018-12-21', value: 54.92 },\r\n        { time: '2018-12-24', value: 53.05 },\r\n        { time: '2018-12-26', value: 54.44 },\r\n        { time: '2018-12-27', value: 55.15 },\r\n        { time: '2018-12-28', value: 55.27 },\r\n        { time: '2018-12-31', value: 56.22 },\r\n        { time: '2019-01-02', value: 56.02 },\r\n        { time: '2019-01-03', value: 56.22 },\r\n        { time: '2019-01-04', value: 56.36 },\r\n        { time: '2019-01-07', value: 56.72 },\r\n        { time: '2019-01-08', value: 58.38 },\r\n        { time: '2019-01-09', value: 57.05 },\r\n        { time: '2019-01-10', value: 57.60 },\r\n        { time: '2019-01-11', value: 58.02 },\r\n        { time: '2019-01-14', value: 58.03 },\r\n        { time: '2019-01-15', value: 58.10 },\r\n        { time: '2019-01-16', value: 57.08 },\r\n        { time: '2019-01-17', value: 56.83 },\r\n        { time: '2019-01-18', value: 57.09 },\r\n        { time: '2019-01-22', value: 56.99 },\r\n        { time: '2019-01-23', value: 57.76 },\r\n        { time: '2019-01-24', value: 57.07 },\r\n        { time: '2019-01-25', value: 56.40 },\r\n        { time: '2019-01-28', value: 55.07 },\r\n        { time: '2019-01-29', value: 53.28 },\r\n        { time: '2019-01-30', value: 54.00 },\r\n        { time: '2019-01-31', value: 55.06 },\r\n        { time: '2019-02-01', value: 54.55 },\r\n        { time: '2019-02-04', value: 54.04 },\r\n        { time: '2019-02-05', value: 54.14 },\r\n        { time: '2019-02-06', value: 53.79 },\r\n        { time: '2019-02-07', value: 53.57 },\r\n        { time: '2019-02-08', value: 53.95 },\r\n        { time: '2019-02-11', value: 54.05 },\r\n        { time: '2019-02-12', value: 54.42 },\r\n        { time: '2019-02-13', value: 54.48 },\r\n        { time: '2019-02-14', value: 54.03 },\r\n        { time: '2019-02-15', value: 55.16 },\r\n        { time: '2019-02-19', value: 55.44 },\r\n        { time: '2019-02-20', value: 55.76 },\r\n        { time: '2019-02-21', value: 56.15 },\r\n        { time: '2019-02-22', value: 56.92 },\r\n        { time: '2019-02-25', value: 56.78 },\r\n        { time: '2019-02-26', value: 56.64 },\r\n        { time: '2019-02-27', value: 56.72 },\r\n        { time: '2019-02-28', value: 56.92 },\r\n        { time: '2019-03-01', value: 56.96 },\r\n        { time: '2019-03-04', value: 56.24 },\r\n        { time: '2019-03-05', value: 56.08 },\r\n        { time: '2019-03-06', value: 55.68 },\r\n        { time: '2019-03-07', value: 56.30 },\r\n        { time: '2019-03-08', value: 56.53 },\r\n        { time: '2019-03-11', value: 57.58 },\r\n        { time: '2019-03-12', value: 57.43 },\r\n        { time: '2019-03-13', value: 57.66 },\r\n        { time: '2019-03-14', value: 57.95 },\r\n        { time: '2019-03-15', value: 58.39 },\r\n        { time: '2019-03-18', value: 58.07 },\r\n        { time: '2019-03-19', value: 57.50 },\r\n        { time: '2019-03-20', value: 57.67 },\r\n        { time: '2019-03-21', value: 58.29 },\r\n        { time: '2019-03-22', value: 59.76 },\r\n        { time: '2019-03-25', value: 60.08 },\r\n        { time: '2019-03-26', value: 60.63 },\r\n        { time: '2019-03-27', value: 60.88 },\r\n        { time: '2019-03-28', value: 59.08 },\r\n        { time: '2019-03-29', value: 59.13 },\r\n        { time: '2019-04-01', value: 59.09 },\r\n        { time: '2019-04-02', value: 58.53 },\r\n        { time: '2019-04-03', value: 58.87 },\r\n        { time: '2019-04-04', value: 58.99 },\r\n        { time: '2019-04-05', value: 59.09 },\r\n        { time: '2019-04-08', value: 59.13 },\r\n        { time: '2019-04-09', value: 58.40 },\r\n        { time: '2019-04-10', value: 58.61 },\r\n        { time: '2019-04-11', value: 58.56 },\r\n        { time: '2019-04-12', value: 58.74 },\r\n        { time: '2019-04-15', value: 58.71 },\r\n        { time: '2019-04-16', value: 58.79 },\r\n        { time: '2019-04-17', value: 57.78 },\r\n        { time: '2019-04-18', value: 58.04 },\r\n        { time: '2019-04-22', value: 58.37 },\r\n        { time: '2019-04-23', value: 57.15 },\r\n        { time: '2019-04-24', value: 57.08 },\r\n        { time: '2019-04-25', value: 55.85 },\r\n        { time: '2019-04-26', value: 56.58 },\r\n        { time: '2019-04-29', value: 56.84 },\r\n        { time: '2019-04-30', value: 57.19 },\r\n        { time: '2019-05-01', value: 56.52 },\r\n        { time: '2019-05-02', value: 56.99 },\r\n        { time: '2019-05-03', value: 57.24 },\r\n        { time: '2019-05-06', value: 56.91 },\r\n        { time: '2019-05-07', value: 56.63 },\r\n        { time: '2019-05-08', value: 56.38 },\r\n        { time: '2019-05-09', value: 56.48 },\r\n        { time: '2019-05-10', value: 56.91 },\r\n        { time: '2019-05-13', value: 56.75 },\r\n        { time: '2019-05-14', value: 56.55 },\r\n        { time: '2019-05-15', value: 56.81 },\r\n        { time: '2019-05-16', value: 57.38 },\r\n        { time: '2019-05-17', value: 58.09 },\r\n        { time: '2019-05-20', value: 59.01 },\r\n        { time: '2019-05-21', value: 59.50 },\r\n        { time: '2019-05-22', value: 59.25 },\r\n        { time: '2019-05-23', value: 58.87 },\r\n        { time: '2019-05-24', value: 59.32 },\r\n        { time: '2019-05-28', value: 59.57 },\r\n      ],\r\n      volumeData: [\r\n        { time: '2018-10-19', value: 19103293.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n        { time: '2018-10-22', value: 21737523.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n        { time: '2018-10-23', value: 29328713.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n        { time: '2019-05-23', value: 11707083.00, color: 'rgba(255,82,82, 0.8)' },\r\n        { time: '2019-05-24', value: 8755506.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n      ]\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { cursor } = this.state\r\n\r\n    return (\r\n      <Container>\r\n          \r\n          <LightChartCom ChartData={{areaSeries: this.state.areaData, volumeData : this.state.volumeData}}/>\r\n       \r\n\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {connect} from \"react-redux\";\r\nimport {setPackLoaded} from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from \"@material-ui/core/Input\";\r\nimport \"./ViewStyle.css\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AdminService from \"../service/AdminService\";\r\nimport {resolveResponse} from \"../../utils/ResponseHandler\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Chart from \"./Chart\";\r\nimport { ContactlessOutlined, Sync } from \"@material-ui/icons\";\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nclass MyView extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            stopnview:'', \r\n            curnewdata:'', \r\n            underlyingValue : '', \r\n            timestamp:'',\r\n            totalCOI : 0,\r\n            expiry: '', \r\n            strike:'',\r\n            FilteredBY: '',\r\n            AllspTotalOI:[],\r\n            PEoi:0,\r\n            CEoi:0,\r\n            scrollcount : 0,\r\n            resMessage: [],\r\n            counter:0,\r\n            listCount:0\r\n            \r\n            //JSON.parse(localStorage.getItem('optionChainDataBN')).records.data\r\n\r\n\r\n\r\n        }\r\n//          this.findSupportResistence = this.findSupportResistence.bind(this);\r\n            \r\n    }\r\n\r\n    onChange = (e) =>{\r\n      this.setState({[e.target.name]: e.target.value}); \r\n\r\n    }\r\n   \r\n  \r\n  \r\n    componentDidMount() {\r\n\r\n        // AdminService.scanStocks().then(fundsRes => {\r\n        //     // console.log('profiledata', profileRes); \r\n        //      //  let fundsResData = resolveResponse(fundsRes);\r\n        //      //  var fundsResData =  fundsRes && fundsRes.data; \r\n        //        if(fundsResData.status & fundsResData.message == 'SUCCESS'){\r\n               \r\n        //         this.setState({  fundData :fundsResData.data })\r\n        //        }\r\n        //    })\r\n\r\n        AdminService.getStaticData().then(res => {\r\n          var data = res.data;\r\n          //data = JSON.parse(data);   \r\n          localStorage.setItem('staticData', JSON.stringify(data));\r\n\r\n          var totalWatchlist = Object.keys(data);\r\n          this.setState({ totalWatchlist: totalWatchlist });\r\n          localStorage.setItem('totalWatchlist', JSON.stringify(totalWatchlist));\r\n\r\n          this.setState({ staticData: data });\r\n\r\n          var watchlist = [];\r\n          totalWatchlist.forEach(element => {\r\n\r\n              var mylist = data[element];\r\n              mylist.forEach(element2 => {\r\n                  var foundInWatchlist = watchlist.filter(row => row.token === element2.token);\r\n                  if (!foundInWatchlist.length) {\r\n                      watchlist.push(element2);\r\n                  }\r\n              });\r\n          });\r\n\r\n          localStorage.setItem('watchList', JSON.stringify(watchlist));\r\n\r\n      });\r\n\r\n\r\n\r\n        var list = localStorage.getItem(\"watchList\") ? JSON.parse(localStorage.getItem(\"watchList\")) : []; \r\n        this.setState({watchlistCount : list.length})\r\n\r\n    }\r\n\r\n    readCsv = async() => {\r\n\r\n      var list = this.state.addtowatchlist; \r\n\r\n      var parsedList =JSON.parse(list) \r\n      console.log(parsedList.length);\r\n      \r\n      var newJsonList = []; \r\n\r\n      for (let index = 0; index < parsedList.length; index++) {\r\n        const element = parsedList[index];\r\n        console.log(element);\r\n\r\n        AdminService.autoCompleteSearch(element.SYMBOL).then(searchRes => {\r\n\r\n          let searchResdata =  searchRes.data; \r\n          var found = searchResdata.filter(row => row.exch_seg  === \"NSE\" &&  row.lotsize === \"1\" && row.name === element.SYMBOL);                                \r\n        \r\n         // && element.LTP >= 200\r\n          if(found.length){ \r\n            newJsonList.push(found[0]); \r\n         \r\n            var watchlist = localStorage.getItem(\"watchList\") ? JSON.parse(localStorage.getItem(\"watchList\")) : []; \r\n              var foundInWatchlist = watchlist.filter(row => row && row.token  === found[0] && found[0].token);                                \r\n              if(!foundInWatchlist.length){\r\n                this.setState({resMessage: [...this.state.resMessage,  index + \". ======================> New Symbol:  \"+ element.SYMBOL]})\r\n\r\n                this.setState({watchlistCount : watchlist.length, counter:this.state.counter+1})\r\n                watchlist.push(found[0]); \r\n                localStorage.setItem('watchList', JSON.stringify(watchlist));\r\n                console.log(\"fdaata\");\r\n               \r\n              }else{\r\n                this.setState({watchlistCount : watchlist.length,})\r\n                this.setState({resMessage: [...this.state.resMessage,  index + \". Already in List:  \"+ element.SYMBOL]})\r\n\r\n              }\r\n            //  console.log(found[0].symbol, \"found\",found);      \r\n            //  localStorage.setItem('NseStock_' + found[0].symbol, \"orderdone\");\r\n          }\r\n          if(this.state.resMessage && this.state.resMessage.length){\r\n            this.setState({resMessage: [...this.state.resMessage.reverse()]})\r\n\r\n          }\r\n        \r\n       })\r\n\r\n       await new Promise(r => setTimeout(r, 500));  \r\n      }\r\n\r\n      //\"NIFTY PSU BANK\".split(' ').join('') // \"NIFTYPSUBANK\"\r\n      \r\n      var data = {\r\n        listName : parsedList[0].SYMBOL, \r\n        listItem : newJsonList \r\n      }\r\n      console.log(\"newjosnlist:\", data);\r\n      AdminService.addIntoStaticData(data).then(res => {\r\n        let resdata = resolveResponse(res,'noPop' );\r\n       // console.log(resdata);\r\n        this.setState({listName: resdata.listName,listCount: resdata.count})\r\n      });\r\n      \r\n    }\r\n    resetCsv=()=>{\r\n      this.setState({addtowatchlist:\"\",resMessage:\"\"})\r\n\r\n    }\r\n   \r\n  \r\n\r\n\r\n    render(){\r\n\r\n      return(\r\n        <React.Fragment>\r\n            \r\n            <PostLoginNavBar />\r\n\r\n          \r\n            <Paper style={{padding:\"25px\" }}>   \r\n\r\n            \r\n            <Grid   direction=\"row\" container className=\"flexGrow\" spacing={2}  style={{paddingLeft:\"5px\",paddingRight:\"5px\", justifyContent:'center'}}>\r\n              \r\n              \r\n           \r\n              \r\n\r\n\r\n              \r\n\r\n                <Grid item xs={12} sm={8}> \r\n                <Typography variant=\"h6\">\r\n                   Current Watchlist Count   {this.state.watchlistCount} \r\n\r\n                   &nbsp; &nbsp;   &nbsp; &nbsp;   &nbsp; &nbsp;  \r\n                   <Button  onClick={() => { localStorage.setItem('watchList', []); window.location.reload();}}>Delete All</Button>    \r\n\r\n                   <br />\r\n                  </Typography>\r\n                         \r\n\r\n                    <TextField variant=\"outlined\" multiline rows={10} fullwidth style={{width:'90%', height: '50%'}}  label=\"Paste only JSON to add into watchlist\"  value={this.state.addtowatchlist}   name=\"addtowatchlist\" onChange={this.onChange}/>\r\n              \r\n\r\n                </Grid>\r\n\r\n            \r\n                  \r\n                <Grid  item xs={8} sm={8}>\r\n\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => this.readCsv()}> Add to Watchlist</Button>    &nbsp; &nbsp;\r\n                    <Button variant=\"contained\" color=\"secondary\" onClick={() => this.resetCsv()}>Reset</Button>    \r\n                &nbsp; &nbsp;   <b>Total Added to Watchlist : {this.state.counter}</b>\r\n                &nbsp; &nbsp;   <b> Static Data Update: {this.state.listName}({this.state.listCount})</b>\r\n\r\n\r\n\r\n                   \r\n                    {/* {this.state.notAddedSymbol? \"Already in list: \" + this.state.notAddedSymbol : \"\" }\r\n                    {this.state.addedSymbol? \"Added: \" + this.state.addedSymbol : \"\" }\r\n                     */}\r\n                       \r\n                </Grid>\r\n\r\n                <Grid  item xs={8} sm={8}>\r\n                        {this.state.resMessage ? this.state.resMessage.map(data => (\r\n                         <>  <span> {data} </span>  <br /> </>\r\n                           \r\n                        )) : ''}\r\n   \r\n                </Grid>\r\n\r\n               \r\n              \r\n                </Grid>\r\n                   \r\n                </Paper>\r\n\r\n                \r\n           \r\n          \r\n\r\n            </React.Fragment> \r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    tableStyle : {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    }, \r\n    selectStyle:{\r\n        marginBottom: '0px',\r\n        minWidth: 240,\r\n        maxWidth: 240\r\n\r\n    }\r\n  \r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {packs:state.packs.packs.data};\r\n}\r\nexport default connect(mapStateToProps,{setPackLoaded})(MyView);\r\n","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { connect } from \"react-redux\";\r\nimport { setPackLoaded } from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport \"./ViewStyle.css\";\r\nimport MyDialog from './MyDialog'\r\nimport Notify from \"../../utils/Notify\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport pako from 'pako';\r\nimport { w3cwebsocket } from 'websocket';\r\nimport ChartDialog from './ChartDialog';\r\nimport LineChart from \"./LineChart\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport vwap from 'vwap';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\n\r\n\r\n\r\n\r\nconst wsClintSectorUpdate = new w3cwebsocket('wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream');\r\n\r\nclass MyView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // sectorList: [],\r\n            stopnview: '',\r\n            indexTimeStamp: '',\r\n            refreshFlag: true,\r\n            topGLCount: 0, \r\n            refreshFlagCandle: true,\r\n            sectorStockList: localStorage.getItem('sectorStockList') && JSON.parse(localStorage.getItem('sectorStockList')) || [],\r\n            sectorList: localStorage.getItem('sectorList') && JSON.parse(localStorage.getItem('sectorList')) || [],\r\n            watchList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n        }\r\n        this.refreshSectorCandle = this.refreshSectorCandle.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // window.location.reload(); \r\n\r\n        //  this.loadIndexesList();\r\n        var tokens = JSON.parse(localStorage.getItem(\"userTokens\"));\r\n        var feedToken = tokens && tokens.feedToken;\r\n        var userProfile = JSON.parse(localStorage.getItem(\"userProfile\"));\r\n        var clientcode = userProfile && userProfile.clientcode;\r\n        this.setState({ feedToken: feedToken, clientcode: clientcode });\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n\r\n\r\n            wsClintSectorUpdate.onopen = (res) => {\r\n                // this.makeConnection();\r\n                // this.updateSocketWatch();\r\n            }\r\n\r\n\r\n            wsClintSectorUpdate.onmessage = (message) => {\r\n                var decoded = window.atob(message.data);\r\n                var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n                var liveData = JSON.parse(data);\r\n\r\n                //  console.log(\"sector live data\", liveData);\r\n                window.document.title = \"Sector Live WS: \" + liveData.length;\r\n\r\n                this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n\r\n                    outerEelement.stockList && outerEelement.stockList.forEach((element, stockIndex) => {\r\n                        var foundLive = liveData.filter(row => row.tk == element.token);\r\n                        if (foundLive.length > 0 && foundLive[0].ltp && foundLive[0].nc) {\r\n                            this.state.sectorList[index].stockList[stockIndex].ltp = foundLive[0].ltp;\r\n                            this.state.sectorList[index].stockList[stockIndex].nc = foundLive[0].nc;\r\n                            this.state.sectorList[index].stockList[stockIndex].cng = foundLive[0].cng;\r\n                            this.state.sectorList[index].stockList[stockIndex].ltt = foundLive[0].ltt;\r\n\r\n                            this.state.sectorList[index].isStocksLtpUpdted = true;\r\n                        }\r\n                    });\r\n                });\r\n\r\n                this.setState({ sectorList: this.state.sectorList });\r\n                // this.setState({ sectorList: sectorList });\r\n                // localStorage.setItem('sectorList', JSON.stringify(sectorList));\r\n\r\n                // if(index){\r\n                //     this.state.sectorList.forEach((element, i) => {\r\n                //         if(element.index == index){\r\n                //             this.state.sectorList[i].stockList = sectorUpdate; \r\n                //             this.state.sectorList[i].isStocksLtpUpdted = true; \r\n                //             this.setState({ sectorList: this.state.sectorList  });\r\n                //             return; \r\n                //         }\r\n                //     });\r\n                // }\r\n            }\r\n\r\n            wsClintSectorUpdate.onerror = (e) => {\r\n                console.log(\"socket error\", e);\r\n                window.location.reload();\r\n            }\r\n\r\n            // setInterval(() => {\r\n            //     this.makeConnection();\r\n            //     var _req = '{\"task\":\"hb\",\"channel\":\"\",\"token\":\"' + feedToken + '\",\"user\": \"' + clientcode + '\",\"acctid\":\"' + clientcode + '\"}';\r\n            //     // console.log(\"Connection sectior top hb Request :- \" + _req);\r\n            //     wsClintSectorUpdate.send(_req);\r\n            // }, 59000);\r\n\r\n            setInterval(() => {\r\n                this.loadIndexesList();\r\n            }, 120000);\r\n\r\n\r\n\r\n            // var tostartInteral =  setInterval(() => {\r\n\r\n            //     console.log(\"1st interval every second\", new Date().toLocaleTimeString());\r\n            //     var time = new Date(); \r\n            //     if(time.getMinutes() % 5 === 0){\r\n            //         console.log(\"5th min completed at\", new Date().toLocaleTimeString());\r\n            //         console.log(\"next scan at\", new Date(new Date().getTime()+70000).toLocaleTimeString());\r\n\r\n            //         setTimeout(() => {\r\n            //             console.log(\"set timout at 70sec \", new Date());\r\n            //            this.refreshSectorCandle(); \r\n            //         }, 70000);\r\n\r\n            //         setInterval(() => {\r\n            //            this.refreshSectorCandle(); \r\n            //          }, 60000 * 5 + 70000 );  \r\n\r\n            //          clearInterval(tostartInteral); \r\n            //     } \r\n            // }, 1000);\r\n\r\n\r\n\r\n        } else {\r\n            // wsClintSectorUpdate.close();\r\n        }\r\n\r\n\r\n        // setInterval(() => {\r\n        //     AdminService.checkOtherApi().then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"nifty100EqualWeight\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"nifty\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n        \r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxRealty\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"niftyPvtBank\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxCommodities\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxPSU\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxit\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxMedia\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxMetal\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxPharma\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxPSU\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxPSU\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxMNC\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cnxInfra\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n        // setInterval(() => {\r\n        //     AdminService.checkSectorApiOther(\"cpse\").then(res => {\r\n        //         //let data = resolveResponse(res, 'noPop');\r\n        //         console.log(res); \r\n\r\n        //     }).catch(error => {\r\n\r\n        //     })\r\n        // }, 1000);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    getTodayOrder = () => {\r\n        AdminService.retrieveOrderBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data && data.data) {\r\n                    var orderlist = data.data;\r\n                    orderlist.sort(function (a, b) {\r\n                        return new Date(b.updatetime) - new Date(a.updatetime);\r\n                    });\r\n                    localStorage.setItem('oderbookData', JSON.stringify(orderlist));\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    placeSLMOrder = (slmOption) => {\r\n\r\n        var data = {\r\n            \"triggerprice\": slmOption.stopLossPrice,\r\n            \"tradingsymbol\": slmOption.tradingsymbol,\r\n            \"symboltoken\": slmOption.symboltoken,\r\n            \"quantity\": slmOption.quantity,\r\n            \"transactiontype\": slmOption.transactiontype === \"BUY\" ? \"SELL\" : \"BUY\",\r\n            \"exchange\": 'NSE',\r\n            \"producttype\": \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"price\": 0,\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"ordertype\": \"STOPLOSS_MARKET\", //STOPLOSS_MARKET STOPLOSS_LIMIT\r\n            \"variety\": \"STOPLOSS\"\r\n        }\r\n        console.log(\"SLM option data\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n                // this.updateOrderList(); \r\n                this.speckIt('hey Vijay, ' + slmOption.tradingsymbol + \" buy order placed\");\r\n                this.getTodayOrder();\r\n                document.getElementById('orderRefresh') && document.getElementById('orderRefresh').click();\r\n            }\r\n        })\r\n    }\r\n\r\n    placeOrderMethod = (orderOption) => {\r\n\r\n        var data = {\r\n            \"transactiontype\": orderOption.transactiontype,//BUY OR SELL\r\n            \"tradingsymbol\": orderOption.tradingsymbol,\r\n            \"symboltoken\": orderOption.symboltoken,\r\n            \"quantity\": orderOption.quantity,\r\n            \"ordertype\": orderOption.buyPrice === 0 ? \"MARKET\" : \"LIMIT\",\r\n            \"price\": orderOption.buyPrice,\r\n            \"producttype\": \"INTRADAY\",//\"DELIVERY\",\r\n            \"duration\": \"DAY\",\r\n            \"squareoff\": \"0\",\r\n            \"stoploss\": \"0\",\r\n            \"exchange\": \"NSE\",\r\n            \"variety\": \"NORMAL\"\r\n        }\r\n        console.log(\"place order option\", data);\r\n        AdminService.placeOrder(data).then(res => {\r\n            let data = resolveResponse(res);\r\n            //  console.log(data);   \r\n            if (data.status && data.message === 'SUCCESS') {\r\n                this.speckIt(orderOption.tradingsymbol + \" Added\");\r\n                this.setState({ orderid: data.data && data.data.orderid });\r\n                if (orderOption.stopLossPrice) {\r\n                    this.placeSLMOrder(orderOption);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    getMinPriceAllowTick = (minPrice) => {\r\n        minPrice = minPrice.toFixed(2);\r\n        // console.log(\"minPrice\",minPrice); \r\n        var wholenumber = parseInt(minPrice.split('.')[0]);\r\n        //  console.log(\"wholenumber\",wholenumber); \r\n        var decimal = parseFloat(minPrice.split('.')[1]);\r\n        // console.log(\"decimal\",decimal); \r\n        var tickedecimal = decimal - decimal % 5;\r\n        minPrice = parseFloat(wholenumber + '.' + tickedecimal);\r\n        //   console.log(\"minPricexxxx\",minPrice); \r\n        return minPrice;\r\n    }\r\n\r\n\r\n    historyWiseOrderPlace = (sectorItem, orderType, isAutomatic, spinnerIndex) => {\r\n\r\n\r\n        this.setState({ [spinnerIndex]: true })\r\n\r\n        var token = sectorItem.token;\r\n        var symbol = sectorItem.symbol;\r\n\r\n        if (isAutomatic != \"Automatic\") {\r\n            if (!window.confirm(orderType + \" \" + symbol + \" Are you sure ? \")) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        var ltpdata = { \"exchange\": \"NSE\", \"tradingsymbol\": symbol, \"symboltoken\": token, }\r\n        AdminService.getLTP(ltpdata).then(res => {\r\n            let ltpres = resolveResponse(res, 'noPop');\r\n            var LtpData = ltpres && ltpres.data;\r\n            console.log(symbol, \" ltd data \", LtpData);\r\n            let quantity = 0;\r\n            if (LtpData && LtpData.ltp) {\r\n                let perTradeExposureAmt = TradeConfig.totalCapital * TradeConfig.perTradeExposurePer / 100;\r\n                quantity = Math.floor(perTradeExposureAmt / LtpData.ltp);\r\n            }\r\n\r\n\r\n            quantity = quantity > 0 ? 1 : 0;\r\n            console.log(symbol, \"  quantity can be order \", quantity);\r\n\r\n            if (quantity) {\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n                console.log(\"beginningTime\", beginningTime);\r\n\r\n                var time = moment.duration(\"54:10:00\");  //21:10:00\"\r\n                var startdate = moment(new Date()).subtract(time);\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": token,\r\n                    \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE \r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    // console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var candleData = histdata.data, clossest = 0, lowerest = 0, highestHigh = 0, lowestLow = 0, highestsum = 0;\r\n                        candleData.reverse();\r\n                        lowestLow = candleData[0][3];\r\n                        highestHigh = candleData[0][2];\r\n                        if (candleData && candleData.length > 0) {\r\n                            for (let index = 0; index < 20; index++) {\r\n                                if (candleData[index]) {\r\n                                    clossest += candleData[index][4]; //close  \r\n                                    lowerest += candleData[index][3];  //low\r\n                                    highestsum += candleData[index][2];  //low\r\n                                    if (candleData[index][2] > highestHigh) {\r\n                                        console.log(index, highestHigh, candleData[index][2]);\r\n                                        highestHigh = candleData[index][2];\r\n                                    }\r\n                                    if (candleData[index][3] <= lowestLow) {\r\n                                        lowestLow = candleData[index][3];\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            let devideLen = candleData.length > 20 ? 20 : candleData.length;\r\n\r\n                            var bbmiddleValue = clossest / devideLen;\r\n                            var bblowerValue = lowerest / devideLen;\r\n                            var bbhigerValue = highestsum / devideLen;\r\n\r\n                            var stoploss = 0, stoplossPer = 0;\r\n\r\n                            if (orderType == \"BUY\") {\r\n                                stoploss = bblowerValue - (highestHigh - lowestLow) * 3 / 100;\r\n                                stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                stoplossPer = (LtpData.ltp - stoploss) * 100 / LtpData.ltp;\r\n\r\n                                console.log(symbol, orderType, \" LTP \", LtpData.ltp);\r\n                                console.log(symbol + \"highestHigh:\", highestHigh, \"lowestLow\", lowestLow, \"stoploss after tick:\", stoploss, \"stoploss%\", stoplossPer);\r\n                                console.log(symbol + \"  close avg middle \", bbmiddleValue, \"lowerest avg\", bblowerValue, \"bbhigerValue\", bbhigerValue);\r\n\r\n                            }\r\n\r\n\r\n                            if (orderType == \"SELL\") {\r\n                                stoploss = bbhigerValue + (highestHigh - lowestLow) * 3 / 100;\r\n                                stoploss = this.getMinPriceAllowTick(stoploss);\r\n                                stoplossPer = (stoploss - LtpData.ltp) * 100 / LtpData.ltp;\r\n\r\n                                console.log(symbol, orderType, \" LTP \", LtpData.ltp);\r\n                                console.log(symbol + \"highestHigh:\", highestHigh, \"lowestLow\", lowestLow, \"stoploss after tick:\", stoploss, \"stoploss%\", stoplossPer);\r\n                                console.log(symbol + \"  close avg middle \", bbmiddleValue, \"lowerest avg\", bblowerValue, \"bbhigerValue\", bbhigerValue);\r\n\r\n                            }\r\n\r\n\r\n\r\n                            var orderOption = {\r\n                                transactiontype: orderType,\r\n                                tradingsymbol: symbol,\r\n                                symboltoken: token,\r\n                                buyPrice: 0,\r\n                                quantity: quantity,\r\n                                stopLossPrice: stoploss\r\n                            }\r\n                            if (quantity) {\r\n\r\n                                this.placeOrderMethod(orderOption);\r\n                                this.setState({ [spinnerIndex]: false })\r\n\r\n                            } else {\r\n                                Notify.showError(symbol + \" stoploss is > 1.5% Rejected\");\r\n                                console.log(symbol + \" its not fullfilled\");\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        Notify.showError(symbol + \" candle data emply\");\r\n                        console.log(symbol + \" candle data emply\");\r\n                        this.setState({ [spinnerIndex]: true })\r\n                    }\r\n                })\r\n\r\n            }else{\r\n                Notify.showError(quantity + \"  quantity |  \" + symbol + \" \" + orderType + \" Rejected\");\r\n                this.setState({ [spinnerIndex]: false })\r\n            }\r\n        }).catch(function(error){\r\n            this.setState({ [spinnerIndex]: true })\r\n        })\r\n        // await new Promise(r => setTimeout(r, 2000)); \r\n    }\r\n\r\n\r\n//     loadIndexesList() {\r\n//         this.setState({ indexTimeStamp: '', refreshFlag: false, failedCount: 0, topGLCount : 0 });\r\n\r\n//         AdminService.getAllIndices()\r\n//             .then((res) => {\r\n//                 if (res.data) {\r\n//                     var data = res.data, sectorStockList = [];\r\n//                     this.setState({ indexTimeStamp: data.timestamp })\r\n//                     var foundSectors = data.data.filter(row => row.key === \"SECTORAL INDICES\");\r\n//                     var softedData = foundSectors.sort(function (a, b) { return b.percentChange - a.percentChange });\r\n//                   //  this.setState({sectorList :  softedData});\r\n                  \r\n// //                    this.setState({ sectorList: []});\r\n//                     function sleep(ms) {\r\n//                         return new Promise(resolve => setTimeout(resolve, ms));\r\n//                     }\r\n//                     var updateLtpOnInterval = async (ref, softedData) => {\r\n\r\n//                             var middleSector = []; \r\n//                             for (let i = 0; i < softedData.length; i++) {\r\n\r\n//                                 var length = 1;                                     \r\n//                                 var sectorStocks = this.state.staticData[softedData[i].index];\r\n//                                 this.setState({stockUpdate : i+1 + \". \" + softedData[i].index});\r\n//                                 console.log(softedData[i].index,softedData[i].percentChange,  softedData[i]); \r\n//                                 if (softedData[i].percentChange >= 0.75 || softedData[i].percentChange <= -0.75) {\r\n//                                     softedData[i].stockList = sectorStocks;\r\n//                                     length = sectorStocks.length; \r\n//                                     if (sectorStocks && sectorStocks.length) {\r\n//                                         ref.refreshSectorLtp(sectorStocks,softedData[i].index );\r\n//                                     }\r\n//                                     this.setState({ sectorList: [...this.state.sectorList, softedData[i]], topGLCount: this.state.topGLCount+1 });\r\n//                                 }else{\r\n//                                     softedData[i].stockList = sectorStocks;\r\n//                                     middleSector.push(softedData[i]); \r\n//                                 }\r\n\r\n                                \r\n                            \r\n//                                 await sleep(length / 10 * 1500);\r\n//                             }\r\n\r\n\r\n//                             middleSector.forEach(element => {\r\n//                                 this.setState({ sectorList: [...this.state.sectorList, element] });\r\n//                             });\r\n//                         }\r\n//                         updateLtpOnInterval(this, softedData);\r\n//                 }\r\n//             })\r\n//             .catch((reject) => {\r\n//                 Notify.showError(\"All Indices API Failed\" + <br /> + reject);\r\n//                 this.speckIt(\"All Indices API Failed\");\r\n\r\n//             })\r\n\r\n//         this.setState({ refreshFlag: true });\r\n\r\n//     }\r\n\r\n    loadIndexesList() {\r\n        this.setState({ indexTimeStamp: '', refreshFlag: false, failedCount: 0, topGLCount : 0 });\r\n\r\n        AdminService.allIndicesDirectJSON()\r\n            .then((res) => {\r\n\r\n\r\n                if (res.data) {\r\n\r\n        \r\n\r\n                    var data = res.data && res.data.data, sectorStockList = [];\r\n                   // this.setState({ indexTimeStamp: data.timestamp })\r\n                   // var foundSectors = data.filter(row => row.key === \"SECTORAL INDICES\");\r\n                    var softedData = data.sort(function (a, b) { return b.percChange - a.percChange });\r\n                  //  this.setState({sectorList :  softedData});\r\n\r\n                  console.log(softedData); \r\n\r\n                    this.setState({ sectorList: []});  \r\n                    function sleep(ms) {\r\n                        return new Promise(resolve => setTimeout(resolve, ms));\r\n                    }\r\n                    var updateLtpOnInterval = async (ref, softedData) => {\r\n\r\n                            var middleSector = []; \r\n                            for (let i = 0; i < softedData.length; i++) {\r\n\r\n                                var length = 1;                                     \r\n                                var sectorStocks = this.state.staticData[softedData[i].indexName];\r\n                                this.setState({stockUpdate : i+1 + \". \" + softedData[i].indexName});\r\n                                console.log(softedData[i].index,softedData[i].percChange,  softedData[i]); \r\n                                if (softedData[i].percChange >= 0.75 || softedData[i].percChange <= -0.75) {\r\n\r\n                                    if(sectorStocks && sectorStocks.length){\r\n                                        softedData[i].stockList = sectorStocks;\r\n                                        length = sectorStocks.length; \r\n                                        if (sectorStocks && sectorStocks.length) {\r\n                                            ref.refreshSectorLtp(sectorStocks, softedData[i].indexName );\r\n                                        }\r\n                                       this.setState({ sectorList: [...this.state.sectorList, softedData[i]], topGLCount: this.state.topGLCount+1 });\r\n                                    }\r\n                                }else{\r\n                                    if(sectorStocks && sectorStocks.length>=1){\r\n                                        softedData[i].stockList = sectorStocks;\r\n                                        middleSector.push(softedData[i]); \r\n                                    }\r\n                                  \r\n                                }\r\n\r\n                                await sleep(length / 10 * 150);\r\n                            }\r\n\r\n\r\n                            middleSector.forEach(element => {\r\n                                this.setState({ sectorList: [...this.state.sectorList, element] });\r\n                            });\r\n                        }\r\n                        updateLtpOnInterval(this, softedData);\r\n                }\r\n            })\r\n            .catch((reject) => {\r\n          //      Notify.showError(\"All Indices API Failed\" + <br /> + reject);\r\n          //      this.speckIt(\"All Indices API Failed\");\r\n\r\n            })\r\n\r\n        this.setState({ refreshFlag: true });\r\n\r\n    }\r\n\r\n\r\n    updateLTPMannually = (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n        this.refreshSectorLtp(sectorStocks, index);\r\n    }\r\n\r\n\r\n    refreshSectorLtp = async (sectorStocks, index) => {\r\n\r\n        this.setState({stockUpdate : index});\r\n\r\n    // console.log(index, \"sectorStocks\",sectorStocks,  new Date())\r\n        this.setState({ refreshFlag: false, failedCount: 0 });\r\n        var sectorUpdate = [];\r\n        var sectorStockList = this.state.sectorStockList;\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"tradingsymbol\": sectorStocks[index].symbol,\r\n                \"symboltoken\": sectorStocks[index].token,\r\n            }\r\n\r\n            //   this.setState({ stockUpdate: index + 1 + \". \" + sectorStocks[index].symbol });\r\n\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n\r\n\r\n                if (LtpData.symboltoken == sectorStocks[index].token) {\r\n\r\n                    //  console.log(index + 1 , sectorStocks[index].symbol , LtpData);\r\n\r\n                    var todayChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;   //close\r\n                    var indexData = sectorStocks[index];\r\n                    indexData.ltp = LtpData.ltp;\r\n                    indexData.nc = todayChange;\r\n                    indexData.cng = (LtpData.ltp - LtpData.close);\r\n                    indexData.ltt = new Date().toLocaleString();\r\n\r\n\r\n                    sectorUpdate.push(indexData);\r\n                }\r\n\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n\r\n                console.log(sectorStocks[index].symbol, error);\r\n\r\n                //  Notify.showError(sectorStocks[index].symbol + \" ltd data not found!\");\r\n            })\r\n\r\n\r\n\r\n            await new Promise(r => setTimeout(r, 101));\r\n\r\n\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorUpdate;\r\n                    this.state.sectorList[i].isStocksLtpUpdted = true;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n        this.setState({ refreshFlag: true });\r\n       // this.refreshSectorCandleManually(index); \r\n      //  this.checkLast5MinMovement(index); \r\n\r\n      \r\n    }\r\n\r\n\r\n\r\n\r\n    checkLast5MinMovement = async (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n     //   this.refreshSectorLtp(sectorStocks, index);\r\n\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n        console.log(\"sectorStockList\", index);\r\n\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n           \r\n           \r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n            var time = moment.duration(\"00:06:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": sectorStocks[index].token,\r\n                \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + sectorStocks && sectorStocks[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                if (histdata && histdata.data && histdata.data.length) {\r\n                    console.log(sectorStocks[index].symbol , \"candle history\", histdata.data); \r\n\r\n                    \r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [];\r\n                    candleData.forEach((element, index) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n\r\n                    });\r\n\r\n                    // var sma = SMA.calculate({period : 10, values : closeingData});\r\n                    // console.log(sectorStocks[index].symbol,\"SMA\", sma);\r\n\r\n\r\n                    // var inputRSI = { values: closeingData, period: 14 };\r\n                    // var lastRsiValue = RSI.calculate(inputRSI)\r\n                    // console.log(sectorStocks[index].symbol, \"lastRsiValue\", lastRsiValue[lastRsiValue.length - 1]);\r\n\r\n\r\n                    // var inputVWAP = {\r\n                    //     open: openData,\r\n                    //     high: highData,\r\n                    //     low: lowData,\r\n                    //     close: closeingData,\r\n                    //     volume: valumeData\r\n                    // };\r\n\r\n\r\n                    // if (candleData.length > 0) {\r\n                    //     sectorStocks[index].candleChartData = candleChartData;\r\n                    //     sectorStocks[index].vwapValue = vwap(vwapdata);\r\n                    //     sectorStocks[index].vwapDataChart = VWAP.calculate(inputVWAP);\r\n                    //     sectorStocks[index].lastRsiValue = lastRsiValue[lastRsiValue.length - 1];\r\n                    // }\r\n\r\n                    console.log(sectorStocks[index].symbol, sectorStocks[index]);\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(sectorStocks[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n                Notify.showError(sectorStocks[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorStocks;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n\r\n\r\n\r\n\r\n        console.log(\"sectorStockswithcandle\", sectorStocks);\r\n    }\r\n    refreshSectorCandleManually = async (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n     //   this.refreshSectorLtp(sectorStocks, index);\r\n\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n        console.log(\"sectorStockList\", index);\r\n\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n           \r\n           \r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n            var time = moment.duration(\"22:00:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": sectorStocks[index].token,\r\n                \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + sectorStocks && sectorStocks[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata=[];\r\n                    candleData.forEach((element, index) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n\r\n                    });\r\n\r\n                    // var sma = SMA.calculate({period : 10, values : closeingData});\r\n                    // console.log(sectorStocks[index].symbol,\"SMA\", sma);\r\n\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var lastRsiValue = RSI.calculate(inputRSI)\r\n                    console.log(sectorStocks[index].symbol, \"lastRsiValue\", lastRsiValue[lastRsiValue.length - 1]);\r\n\r\n                    var inputVWAP = {\r\n                        open: openData,\r\n                        high: highData,\r\n                        low: lowData,\r\n                        close: closeingData,\r\n                        volume: valumeData\r\n                    };\r\n\r\n                    var input = {\r\n                    period : 20, \r\n                    values : bbdata,\r\n                    stdDev : 2\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input); \r\n                    console.log(sectorStocks[index].symbol , \"BB\",input, bb);\r\n\r\n\r\n                    if (candleData.length > 0) {\r\n                        sectorStocks[index].candleChartData = candleChartData;\r\n                        sectorStocks[index].vwapValue = vwap(vwapdata);\r\n                        sectorStocks[index].vwapDataChart = VWAP.calculate(inputVWAP);\r\n                        sectorStocks[index].lastRsiValue = lastRsiValue[lastRsiValue.length - 1];\r\n                    }\r\n\r\n                    console.log(sectorStocks[index].symbol, sectorStocks[index]);\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(sectorStocks[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n                Notify.showError(sectorStocks[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorStocks;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n\r\n\r\n\r\n\r\n        console.log(\"sectorStockswithcandle\", sectorStocks);\r\n    }\r\n\r\n\r\n    refreshSectorCandle = async () => {\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n\r\n        var sectorStockList = this.state.sectorStockList;\r\n\r\n        console.log(\"sectorStockList\", this.state.sectorStockList.length);\r\n\r\n\r\n        for (let index = 0; index < this.state.sectorStockList.length; index++) {\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n            var time = moment.duration(\"61:00:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": this.state.sectorStockList[index].token,\r\n                \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(beginningTime).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + this.state.sectorStockList && this.state.sectorStockList[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [];\r\n                    candleData.forEach(element => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    });\r\n\r\n\r\n                    if (candleData.length > 0) {\r\n\r\n                        sectorStockList[index].candleChartData = candleChartData;\r\n                        var sectorList = this.state.sectorList;\r\n                        this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n                            outerEelement.stockList && outerEelement.stockList.forEach((element, stockIndex) => {\r\n                                var foundLive = sectorStockList.filter(row => row.token == element.token);\r\n\r\n                                if (foundLive.length) {\r\n                                    sectorList[index].stockList[stockIndex].candleChartData = foundLive[0].candleChartData;\r\n                                }\r\n                            });\r\n                        });\r\n                        this.setState({ sectorList: sectorList });\r\n                        localStorage.setItem('sectorList', JSON.stringify(sectorList));\r\n                    }\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(this.state.sectorStockList[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n\r\n                Notify.showError(this.state.sectorStockList[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n    }\r\n\r\n    decodeWebsocketData = (array) => {\r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n\r\n        return newarray.join('');\r\n    }\r\n\r\n    makeConnection = () => {\r\n\r\n        var firstTime_req = '{\"task\":\"cn\",\"channel\":\"NONLM\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n        console.log(\"Connection sectior top firstTime_req :- \" + firstTime_req);\r\n\r\n        if (!wsClintSectorUpdate) return;\r\n        wsClintSectorUpdate.send(firstTime_req);\r\n\r\n        this.updateSocketWatch();\r\n    }\r\n\r\n    showCandleChart = (candleData, symbol, price, change, vwapDataChart) => {\r\n\r\n        //  candleData  = candleData && candleData.reverse();\r\n\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData));\r\n        localStorage.setItem('cadleChartSymbol', symbol);\r\n        localStorage.setItem('candlePriceShow', price);\r\n        localStorage.setItem('candleChangeShow', change);\r\n        localStorage.setItem('vwapDataChart', vwapDataChart);\r\n\r\n\r\n\r\n        if (candleData && candleData.length > 0) {\r\n            document.getElementById('showCandleChart').click();\r\n        }\r\n    }\r\n\r\n    updateSocketWatch = () => {\r\n\r\n\r\n\r\n        var channel = [];\r\n        this.state.sectorList.forEach(element => {\r\n            if (element.percentChange >= 0.75) {\r\n                element.stockList && element.stockList.forEach(stock => {\r\n                    channel.push('nse_cm|' + stock.token);\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        if (channel && channel.length) {\r\n            var updateWatch = {\r\n                \"task\": \"mw\",\r\n                \"channel\": channel.join('&'),\r\n                \"token\": this.state.feedToken,\r\n                \"user\": this.state.clientcode,\r\n                \"acctid\": this.state.clientcode\r\n            }\r\n\r\n            console.log(\"update watch channel\", updateWatch);\r\n            wsClintSectorUpdate.send(JSON.stringify(updateWatch));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n    get2DecimalNumber =(number)=>{\r\n\r\n        if(number){\r\n            return number.toFixed(2); \r\n        }else{\r\n            return number;  \r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n            outerEelement.stockList && outerEelement.stockList.sort(function (a, b) {\r\n                return b.nc - a.nc;\r\n            });\r\n        });\r\n\r\n\r\n        let sqrOffbeginningTime = moment('9:15am', 'h:mma');\r\n        let sqrOffendTime = moment('03:30pm', 'h:mma');\r\n        let sqrOffcurrentTime = moment(new Date(), \"h:mma\");\r\n        if (sqrOffcurrentTime.isBetween(sqrOffbeginningTime, sqrOffendTime)) {\r\n            this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n                if (outerEelement.percentChange > 0.75 && outerEelement.isStocksLtpUpdted) {\r\n                    outerEelement.stockList && outerEelement.stockList.forEach((element, index2) => {\r\n                        if (index2 < 2) {\r\n                            var autoTradeTopList = localStorage.getItem('autoTradeTopList') && JSON.parse(localStorage.getItem('autoTradeTopList')) || [];\r\n                            var isThere = autoTradeTopList.filter(row => row.token === element.token);\r\n                            if (!isThere.length) {\r\n                                element.foundAt = new Date().toLocaleString();\r\n                                autoTradeTopList.push(element);\r\n                                localStorage.setItem('autoTradeTopList', JSON.stringify(autoTradeTopList));\r\n                                console.log(element.name + \" is on top  \" + (index2 + 1) + new Date().toLocaleString());\r\n                                this.speckIt(element.name + \" is on top  \" + (index2 + 1));\r\n                                //  this.historyWiseOrderPlace(element , 'BUY', \"Automatic\"); \r\n                            }\r\n                        }\r\n\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n\r\n                <ChartDialog />\r\n\r\n                <Grid direction=\"row\" container className=\"flexGrow\" spacing={1} style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n                    <Grid item xs={12} sm={12} >\r\n                        <Typography component=\"h3\" variant=\"h6\" color=\"primary\" >\r\n                            Top Gainer/Looser Sectors({this.state.topGLCount}) at {this.state.indexTimeStamp}\r\n                            {this.state.refreshFlag ? <Button variant=\"contained\" onClick={() => this.loadIndexesList()}>Live Ltp</Button> : <> <Button> <Spinner /> &nbsp; {this.state.stockUpdate}  </Button> </>}\r\n                            {this.state.failedCount ? this.state.failedCount + \"Failed\" : \"\"}\r\n\r\n                            &nbsp;\r\n\r\n                            {/* {this.state.refreshFlagCandle ? <Button variant=\"contained\" onClick={() => this.refreshSectorCandle()}>Refresh Candle</Button> : <> <Button> <Spinner /> &nbsp; {this.state.stockCandleUpdate}  </Button> </>}\r\n                            &nbsp; */}\r\n\r\n                            {/* <Button variant=\"contained\" onClick={() => this.makeConnection()}> WS Refresh</Button> */}\r\n\r\n\r\n\r\n\r\n                        </Typography>\r\n\r\n                        {/* {localStorage.getItem('autoTradeTopList')} */}\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n                    {this.state.sectorList ? this.state.sectorList.map((indexdata, index) => (\r\n\r\n\r\n                        <Grid item xs={12} sm={this.state.topGLCount <= 2 ? 6 : this.state.topGLCount == 3 ? 4 : 3}>\r\n\r\n                            <Paper style={{ padding: '10px', background: \"lightgray\", textAlign: \"center\" }}>\r\n\r\n\r\n                                <Button size=\"small\" variant=\"contained\" title=\"update ltp\" onClick={() => this.updateLTPMannually(indexdata.index)}>\r\n                                    <b> {index + 1}. {indexdata.index || indexdata.indexName + \" \" + indexdata.last}({indexdata.percentChange || indexdata.percChange}%) </b>\r\n\r\n                                </Button>\r\n                                &nbsp;\r\n\r\n                                <Button size=\"small\" variant=\"contained\" title=\"Candle refresh\" onClick={() => this.refreshSectorCandleManually(indexdata.index)}>\r\n                                    <ShowChartIcon />\r\n                                </Button>\r\n\r\n\r\n                                <Grid direction=\"row\" container className=\"flexGrow\" spacing={1} >\r\n\r\n\r\n                                    {indexdata.stockList && indexdata.stockList.map((sectorItem, i) => (\r\n\r\n                                        <Grid item xs={12} sm={6} >\r\n                                            <Paper style={{ textAlign: \"center\" }} >\r\n\r\n                                                {/* {sectorItem.cng} */}\r\n                                                <Typography style={{ background: this.getPercentageColor(sectorItem.cng), fontSize: '14px' }}>\r\n                                                    {i + 1}. {sectorItem.name} {sectorItem.ltp} ({ this.get2DecimalNumber(sectorItem.nc)}%)\r\n                                                </Typography>\r\n\r\n                                          \r\n                                            \r\n\r\n                                                {sectorItem.candleChartData ?  <span style={{ cursor: 'pointer' }} onClick={() => this.showCandleChart(sectorItem.candleChartData, sectorItem.name, sectorItem.ltp, sectorItem.nc, sectorItem.vwapDataChart)} >\r\n                                                   <LineChart candleChartData={sectorItem.candleChartData} percentChange={sectorItem.nc} vwapDataChart={sectorItem.vwapDataChart} /> \r\n                                                </span> : \"\"}\r\n\r\n                                                {sectorItem.vwapValue ? \r\n                                                <Typography >\r\n                                                    {sectorItem.vwapValue ? <span  style={{ background: sectorItem.ltp > sectorItem.vwapValue ? \"#00ff00\" : \"red\", fontSize: '14px' }}>VWAP:<b>{sectorItem.vwapValue && sectorItem.vwapValue.toFixed(2)}</b> </span> : \"\"}\r\n                                                    &nbsp;\r\n                                                    {sectorItem.lastRsiValue ? <span title=\"OB means 'Overbought'\" style={{ background: sectorItem.lastRsiValue >= 60 ? \"#00ff00\" : sectorItem.lastRsiValue >= 40 && sectorItem.lastRsiValue < 60 ? \"lightgray\" : \"red\", fontSize: '14px' }}>RSI:<b>{sectorItem.lastRsiValue}</b> {sectorItem.lastRsiValue > 80 ? \"OB\" : sectorItem.lastRsiValue >= 60 && sectorItem.lastRsiValue <= 80 ? \"Buy\" : sectorItem.lastRsiValue >= 40 && sectorItem.lastRsiValue < 60 ? \"NoTrade\" : \"Sell\"} </span> : \"\"}\r\n                                                </Typography>\r\n                                               : \"\"}\r\n\r\n\r\n                                                {/* {sectorItem.candleChartData ? <ReactApexChart\r\n                                                    options={{\r\n                                                        chart: {\r\n                                                            type: 'candlestick',\r\n                                                            //  height: 40\r\n\r\n                                                        },\r\n                                                        title: {\r\n                                                            text: '',\r\n                                                            align: 'left'\r\n                                                        },\r\n                                                        xaxis: {\r\n                                                            type: 'datetime',\r\n                                                        },\r\n                                                        yaxis: {\r\n                                                            tooltip: {\r\n                                                                enabled: true\r\n                                                            }\r\n                                                        }\r\n                                                    }}\r\n                                                    series={[{\r\n                                                        data: sectorItem.candleChartData\r\n\r\n                                                    }]}\r\n                                                    type=\"candlestick\"\r\n                                        \r\n                                                /> : \"\"} */}\r\n\r\n\r\n                                            <Grid direction=\"row\" style={{padding:'5px'}} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n                                                <Grid item>\r\n                                                    {!this.state['buyButtonClicked' + indexdata.index + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\"  onClick={() => this.historyWiseOrderPlace(sectorItem, 'BUY', \"\", 'buyButtonClicked' + indexdata.index + i)}>Buy</Button> : <Spinner />}\r\n                                                </Grid>\r\n\r\n                                                <Grid item >\r\n                                                {sectorItem.ltt && new Date(sectorItem.ltt).toLocaleTimeString()}\r\n                                                </Grid>\r\n\r\n                                                <Grid item >\r\n                                                    {!this.state['sellButtonClicked' + indexdata.index + i] ? <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={() => this.historyWiseOrderPlace(sectorItem, 'SELL', \"\", 'sellButtonClicked' + indexdata.index + i)}>Sell</Button>: <Spinner />}\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n\r\n\r\n                                            </Paper>\r\n\r\n                                            \r\n                                        </Grid>\r\n\r\n                                    ))\r\n                                    }\r\n\r\n                                </Grid>\r\n\r\n                            </Paper>\r\n                        </Grid>\r\n\r\n\r\n\r\n                    )) : <Spinner />}\r\n\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     }, \r\n//     selectStyle:{\r\n//         marginBottom: '0px',\r\n//         minWidth: 240,\r\n//         maxWidth: 240\r\n\r\n//     }\r\n\r\n// }\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { packs: state.packs.packs.data };\r\n}\r\nexport default connect(mapStateToProps, { setPackLoaded })(MyView);\r\n","import React, { useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport { data } from 'jquery';\r\n\r\nimport LineChart from \"./LineChart\";\r\nimport LightChartCom from './LightChartCom';\r\n\r\nimport Test from './Test';\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  var [values, setValues] = React.useState({\r\n    data: [],\r\n    candledata: {}\r\n  })\r\n\r\n\r\n\r\n\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n\r\n   \r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" id=\"showLightCandleChart\" color=\"primary\" style={{ display: \"none\" }} onClick={handleClickOpen}>\r\n        Chart\r\n      </Button>\r\n      <Dialog maxWidth={'lg'} onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose} style={{color : props.LightChartData.InstrumentLTP  && props.LightChartData.InstrumentLTP.change > 0 ? \"green\" : \"red\" }}>\r\n          {props.LightChartData.selectedSymbol}  {props.LightChartData.InstrumentLTP && props.LightChartData.InstrumentLTP.ltp}    ({props.LightChartData.InstrumentLTP  && props.LightChartData.InstrumentLTP.change.toFixed(2)}%) \r\n          <br />\r\n\r\n\r\n        </DialogTitle>\r\n        <DialogContent dividers id=\"chart\">\r\n\r\n        <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n          <br />\r\n\r\n          {props.LightChartData && props.LightChartData.InstrumentLTP ?\r\n            <Grid item xs={12} sm={3} style={{ background: \"#00000014\" }} >\r\n\r\n              <div style={{ background: '#bdbdbd' }}>\r\n                <b>  Daily: {props.LightChartData.selectedSymbol}</b> <br />\r\n\r\n                <span title=\"20SMA\" item xs={12} sm={12} style={{ color: props.LightChartData.InstrumentLTP.ltp > props.LightChartData.DailyBulishStatus ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                  Daily Avg Price: {props.LightChartData.DailyBulishStatus && props.LightChartData.DailyBulishStatus.toFixed(0)} {props.LightChartData.DailyBulishStatus ? props.LightChartData.InstrumentLTP.ltp > props.LightChartData.DailyBulishStatus ? \"BUY\" : \"SELL\" : \"\"}\r\n                </span><br />\r\n\r\n\r\n                <span title=\"averge of showed candle volume\" item xs={12} sm={12}>\r\n                  <b>Daily Avg Volume:</b>  {(props.LightChartData.dailyAvgValume / 100000).toFixed(2)}L\r\n                </span><br />\r\n                <span title=\"averge of showed candle volume\" item xs={12} sm={12}>\r\n                  {props.LightChartData.todayCurrentVolume > props.LightChartData.dailyAvgValume ? <b title=\"if cossed avg volume then its green\" style={{ color: \"green\" }}>Today Volume: {(props.LightChartData.todayCurrentVolume / 100000).toFixed(2)}L </b> : \"Today Volume:\" + (props.LightChartData.todayCurrentVolume / 100000).toFixed(2) + \"L\"}\r\n                </span>\r\n              </div>\r\n              <br />\r\n\r\n\r\n\r\n              <b>  Intraday: {props.LightChartData.timeFrame} : {props.LightChartData.tradingsymbol}</b> <br />\r\n              {props.LightChartData.bblastValue ? <span item xs={12} sm={12} >\r\n\r\n                <span title=\"Green color mean price running above upper bb band\" style={{ color: props.LightChartData.InstrumentLTP.ltp >= props.LightChartData.bblastValue.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>BB Upper: {props.LightChartData.bblastValue.upper.toFixed(2)}</span><br />\r\n                BB Middle(20 SMA): {props.LightChartData.bblastValue.middle.toFixed(2)}<br />\r\n                <span title=\"Green red mean price running below lower bb band\" style={{ color: props.LightChartData.InstrumentLTP.ltp <= props.LightChartData.bblastValue.lower ? \"red\" : \"\", fontWeight: \"bold\" }}>BB Lower: {props.LightChartData.bblastValue.lower.toFixed(2)}</span><br />\r\n              </span> : \"\"}\r\n\r\n              <span item xs={12} sm={12} style={{ color: props.LightChartData.InstrumentLTP.ltp > props.LightChartData.vwapvalue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                VWAP:  {props.LightChartData.vwapvalue && props.LightChartData.vwapvalue.toFixed(2)}\r\n              </span>\r\n              <br />\r\n              <b> RSI: </b>{props.LightChartData.rsiValues && props.LightChartData.rsiValues.map((item, j) => (\r\n                item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n              ))}\r\n\r\n\r\n              <br />\r\n              <b>Vol:</b> {props.LightChartData.valumeData && props.LightChartData.valumeData.map((item, j) => (\r\n                <span style={{ color: item > props.LightChartData.dailyAvgValume ? \"green\" : \"\", fontWeight: item > props.LightChartData.dailyAvgValume ? \"bold\" : \"\" }}> {(item / 100000).toFixed(2)}L &nbsp;</span>\r\n              ))}\r\n\r\n              <br />  <br />\r\n\r\n            </Grid>\r\n            : \"\"}\r\n\r\n\r\n\r\n          {/* <Grid item xs={12} sm={9}  >\r\n            <div id=\"showChartTitle\">\r\n            </div>\r\n            <div id=\"tvchart\"></div>\r\n          </Grid> */}\r\n\r\n\r\n            <Grid item xs={12} sm={9}  >\r\n            {localStorage.getItem('candleChartData') ? <ReactApexChart\r\n            options={{\r\n              chart: {\r\n                type: 'candlestick',\r\n                height: 350\r\n              },\r\n              title: {\r\n                text: '',\r\n                align: 'left'\r\n              },\r\n              xaxis: {\r\n                type: 'datetime',\r\n              },\r\n              yaxis: {\r\n                tooltip: {\r\n                  enabled: true\r\n                }\r\n              }\r\n            }}\r\n            series={[{\r\n              data: props.LightChartData.chartStaticData\r\n\r\n            }]}\r\n            type=\"candlestick\"\r\n            width={500}\r\n            height={350}\r\n          /> : \"\"}\r\n\r\n\r\n\r\n            </Grid>\r\n\r\n\r\n          </Grid>\r\n\r\n\r\n\r\n          {/* <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n          <Grid item>\r\n             <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' )}>BUY</Button> \r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <TextField label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={props.LightChartData.qtyToTake} onChange={this.onChangeQty} />\r\n          </Grid>\r\n\r\n          <Grid item >\r\n            <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked')}>SELL</Button> \r\n          </Grid>\r\n          </Grid> */}\r\n\r\n          {/* body data\r\n        <ReactApexChart\r\n              options={props.data && props.data.options}\r\n              series={props.data && props.data.series}\r\n              type=\"bar\"\r\n              width=\"500\"\r\n            /> */}\r\n\r\n         \r\n\r\n\r\n          {/* below line chart \r\n          {localStorage.getItem('candleChartData') && localStorage.getItem('vwapDataChart') ? <LineChart candleChartData={JSON.parse(localStorage.getItem('candleChartData'))} percentChange={localStorage.getItem('candleChangeShow')} vwapDataChart={JSON.parse(localStorage.getItem('vwapDataChart'))}/>: \"\"}\r\n          */}\r\n          {/* {props.LightChartData.chartStaticData ? <Test ChartData={props.LightChartData} /> : \"\"} */}\r\n\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonMethods from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\n\r\n\r\nclass OrderBook extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            oderbookData: [],\r\n            listofzones: [],\r\n            selectedZone: [],\r\n            zone: '',\r\n            selectAllzone: 'Select All',\r\n            triggerprice: 0,\r\n            price: 0,\r\n            lotsize: 0,\r\n            firstTimeFlag: true,\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist: localStorage.getItem('clickedIndexName') ? localStorage.getItem('clickedIndexName') :  'NIFTY BANK', //decodeURIComponent(window.location.href.split('?')[1].split('=')[1]),\r\n            totalStockToWatch: 0,\r\n            timeFrame: \"TEN_MINUTE\",\r\n            chartStaticData: [],\r\n            qtyToTake: '',\r\n            BBBlastType: \"BBBlastOnly\",\r\n            liveBidsList: [],  //localStorage.getItem('liveBidsList') && JSON.parse(localStorage.getItem('liveBidsList')) || [],\r\n            sortedType: \"pChange\",\r\n            backupDeleverydata: [],\r\n            backupBidata: [],\r\n            backupDateList: [],\r\n            backDate : ''\r\n\r\n        }\r\n    }\r\n\r\n    getTodayOrder = () => {\r\n        AdminService.retrieveOrderBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data && data.data) {\r\n                    var orderlist = data.data;\r\n                    orderlist.sort(function (a, b) {\r\n                        return new Date(b.updatetime) - new Date(a.updatetime);\r\n                    });\r\n\r\n                    this.setState({ oderbookData: orderlist });\r\n                    localStorage.setItem('oderbookData', JSON.stringify(orderlist));\r\n\r\n                    // var pendingOrder = orderlist.filter(function(row){\r\n                    //     return row.status == \"trigger pending\";\r\n                    // }); \r\n                    // this.setState({pendingOrder: pendingOrder});\r\n\r\n                }\r\n            });\r\n    }\r\n\r\n    // getDerivedStateFromProps(){\r\n    //     //console.log(' this.props.indexName', this.props.indexName)\r\n    //    // this.setState({selectedWatchlist : this.props.indexName }); \r\n    // }\r\n\r\n    componentDidMount() {\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            console.log(\"setInterval\");\r\n            setInterval(() => {\r\n                this.checkLiveBids();\r\n            }, 5 * 60000);\r\n        }\r\n\r\n        // setInterval(() => {\r\n        //     this.checkLiveBids();\r\n        // }, 5 * 60000);\r\n\r\n\r\n      this.checkLiveBids();\r\n\r\n\r\n        this.getBackUpDate();\r\n\r\n        console.log(\"ddd\", this.state.selectedWatchlist);\r\n    }\r\n\r\n\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            //this.startSearching();\r\n            this.checkLiveBids();\r\n\r\n        });\r\n    }\r\n\r\n    onChangeBackDate = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            this.getByDateBidHistory();\r\n\r\n        });\r\n    }\r\n\r\n    backupData = () => {\r\n        console.log(this.state.backupDeleverydata);\r\n        AdminService.saveDeliveryData({ backupDeleverydata: this.state.backupDeleverydata }).then(storeRes => {\r\n            console.log(\"storeRes\", new Date().toLocaleTimeString(), storeRes);\r\n        });\r\n    }\r\n\r\n    updatebidHistory =(storeResData)=> {\r\n\r\n        console.log(\"storeResData\", storeResData);\r\n\r\n\r\n        this.state.liveBidsList.forEach(element => {\r\n                \r\n            let symbolHist = storeResData.length &&  storeResData.filter(item => item.symbol == element.symbol); \r\n\r\n            \r\n            let buyHist = [], sellHist=[], lastbuybid=0, lastsellbid=0;  \r\n            symbolHist.forEach((element , index)=> {\r\n              \r\n               if(lastbuybid){\r\n                   buyHist.push(((element.totalBuyBid - lastbuybid)*100/lastbuybid).toFixed(2)); \r\n               }\r\n\r\n               if(lastsellbid){\r\n                   sellHist.push(((element.totalSellBid - lastsellbid)*100/lastsellbid).toFixed(2)); \r\n               }\r\n               lastbuybid = element.totalBuyBid; \r\n               lastsellbid = element.totalSellBid; \r\n              \r\n            });\r\n\r\n            element.buybidHistory = buyHist; \r\n            element.sellbidHistory = sellHist; \r\n             \r\n           });\r\n\r\n           this.setState({liveBidsList : this.state.liveBidsList}); \r\n    }\r\n\r\n    storeBidData = () => {\r\n        console.log(this.state.backupBidata);\r\n\r\n        let data = { backupBiddata: this.state.backupBidata, dbUpdateTime: moment(new Date()).format(\"YYYY-MM-DD HH:mm:ss\") }; \r\n        AdminService.saveBidData(data).then(storeRes => {\r\n            let storeResData = resolveResponse(storeRes, \"noPop\");\r\n            this.updatebidHistory(storeResData.result); \r\n        });\r\n    }\r\n\r\n\r\n    checkLiveBids = async () => {\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ liveBidsList: [], backupDeleverydata: [], backupBidata: [] });\r\n\r\n        console.log(\"watchList\", this.state.staticData)\r\n\r\n        var delData = [];\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const row = watchList[index];\r\n\r\n            AdminService.checkLiveBids(row.name).then(resd => {\r\n                // let histdatad = resolveResponse(resd, 'noPop');\r\n\r\n               // console.log(\"bid\", resd.data.data)\r\n\r\n                if (resd.data && resd.data.data.length) {\r\n                    let bidlivedata = resd.data.data[0];\r\n                    let biddata = {\r\n                        quantityTraded: parseFloat(bidlivedata.quantityTraded.split(\",\").join('')),\r\n                        deliveryQuantity: parseFloat(bidlivedata.deliveryQuantity.split(\",\").join('')),\r\n                        deliveryToTradedQuantity: parseFloat(bidlivedata.deliveryToTradedQuantity.split(\",\").join('')),\r\n                        symbol: bidlivedata.symbol,\r\n                        todayChange: bidlivedata.pChange,\r\n                        ltp: parseFloat(bidlivedata.lastPrice.split(\",\").join('')),\r\n                        datetime: moment(bidlivedata.secDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n                        averagePrice: parseFloat(bidlivedata.averagePrice.split(\",\").join('')),\r\n                    }\r\n                    // delData.push(biddata);\r\n\r\n                    let bidLivedata = {\r\n                        symbol: bidlivedata.symbol,\r\n                        priceChangePer: bidlivedata.pChange,\r\n                        ltp: parseFloat(bidlivedata.lastPrice.split(\",\").join('')),\r\n                        updatedTime: moment(bidlivedata.secDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n                        totalBuyBid: parseFloat(bidlivedata.totalBuyQuantity.split(\",\").join('')) ? parseFloat(bidlivedata.totalBuyQuantity.split(\",\").join(''))  : 0,\r\n                        totalSellBid: parseFloat(bidlivedata.totalSellQuantity.split(\",\").join('')) ? parseFloat(bidlivedata.totalSellQuantity.split(\",\").join('')) : 0, \r\n                   \r\n                        quantityTraded : bidlivedata.quantityTraded != '-' ? parseFloat(bidlivedata.quantityTraded.split(\",\").join('')) : 0, \r\n                        deliveryToTradedQuantity: parseFloat(bidlivedata.deliveryToTradedQuantity.split(\",\").join('')),  \r\n                        deliveryQuantity: parseFloat(bidlivedata.deliveryQuantity.split(\",\").join('')), \r\n                 \r\n                        averagePrice: parseFloat(bidlivedata.averagePrice.split(\",\").join('')),\r\n                        buyPrice1: parseFloat(bidlivedata.buyPrice1.split(\",\").join('')),\r\n                        buyPrice2:  parseFloat(bidlivedata.buyPrice2.split(\",\").join('')),\r\n                        buyPrice3:  parseFloat(bidlivedata.buyPrice3.split(\",\").join('')),\r\n                        buyPrice4:  parseFloat(bidlivedata.buyPrice4.split(\",\").join('')),\r\n                        buyPrice5:  parseFloat(bidlivedata.buyPrice5.split(\",\").join('')),\r\n                        buyQuantity1:  parseFloat(bidlivedata.buyQuantity1.split(\",\").join('')),\r\n                        buyQuantity2:  parseFloat(bidlivedata.buyQuantity2.split(\",\").join('')),\r\n                        buyQuantity3:  parseFloat(bidlivedata.buyQuantity3.split(\",\").join('')),\r\n                        buyQuantity4:  parseFloat(bidlivedata.buyQuantity4.split(\",\").join('')),\r\n                        buyQuantity5:  parseFloat(bidlivedata.buyQuantity5.split(\",\").join('')),\r\n\r\n                        sellPrice1:  parseFloat(bidlivedata.sellPrice1.split(\",\").join('')),\r\n                        sellPrice2:  parseFloat(bidlivedata.sellPrice2.split(\",\").join('')),\r\n                        sellPrice3:  parseFloat(bidlivedata.sellPrice3.split(\",\").join('')),\r\n                        sellPrice4:  parseFloat(bidlivedata.sellPrice4.split(\",\").join('')),\r\n                        sellPrice5:  parseFloat(bidlivedata.sellPrice5.split(\",\").join('')),\r\n                        sellQuantity1:  parseFloat(bidlivedata.sellQuantity1.split(\",\").join('')),\r\n                        sellQuantity2:  parseFloat(bidlivedata.sellQuantity2.split(\",\").join('')),\r\n                        sellQuantity3:  parseFloat(bidlivedata.sellQuantity3.split(\",\").join('')),\r\n                        sellQuantity4:  parseFloat(bidlivedata.sellQuantity4.split(\",\").join('')),\r\n                        sellQuantity5:  parseFloat(bidlivedata.sellQuantity5.split(\",\").join('')),\r\n                        \r\n                       \r\n\r\n                    }\r\n\r\n\r\n                    this.setState({ backupBidata: [...this.state.backupBidata, bidLivedata] });\r\n\r\n                    if (index === watchList.length - 1) {\r\n                        setTimeout(() => {\r\n                            console.log(\"last loaggged\")\r\n                            this.storeBidData();\r\n                        }, 1000);\r\n                    }\r\n\r\n                    this.setState({ backupDeleverydata: [...this.state.backupDeleverydata, biddata] });\r\n\r\n\r\n                    bidlivedata.quantityTraded = bidlivedata.quantityTraded != '-' ? parseFloat(bidlivedata.quantityTraded.split(\",\").join('')) : \"0\";\r\n                    bidlivedata.deliveryQuantity = bidlivedata.deliveryQuantity != '-' ? parseFloat(bidlivedata.deliveryQuantity.split(\",\").join('')) : \"0\";\r\n\r\n                    bidlivedata.totalBuyQuantity = bidlivedata.totalBuyQuantity != '-' ? parseFloat(bidlivedata.totalBuyQuantity.split(\",\").join('')) : \"0\";\r\n\r\n                    bidlivedata.totalSellQuantity = bidlivedata.totalSellQuantity != '-' ? parseFloat(bidlivedata.totalSellQuantity.split(\",\").join('')) : \"0\";\r\n                    bidlivedata.totalTradedVolume = bidlivedata.totalTradedVolume != '-' ? parseFloat(bidlivedata.totalTradedVolume.split(\",\").join('')) : \"0\";\r\n                    bidlivedata.totalTradedValue = bidlivedata.totalTradedValue != '-' ? parseFloat(bidlivedata.totalTradedValue.split(\",\").join('')) : \"0\";\r\n\r\n\r\n                    bidlivedata.buytosellTime = bidlivedata.totalBuyQuantity / bidlivedata.totalSellQuantity;\r\n                    bidlivedata.selltobuyTime = bidlivedata.totalSellQuantity / bidlivedata.totalBuyQuantity;\r\n\r\n                    this.state.liveBidsList.sort(function (a, b) {\r\n                        return b.pChange - a.pChange;\r\n                    });\r\n\r\n\r\n                    if (bidlivedata.totalBuyQuantity / bidlivedata.totalSellQuantity > 1.25) {\r\n                        // CommonMethods.speckIt(bidlivedata.symbol + \" \" + (bidlivedata.totalBuyQuantity / bidlivedata.totalSellQuantity).toFixed(2) + \" time buying\");\r\n                        bidlivedata.highlightbuy = true;\r\n                    }\r\n\r\n                    if (bidlivedata.totalSellQuantity / bidlivedata.totalBuyQuantity > 1.25) {\r\n                        //  CommonMethods.speckIt(bidlivedata.symbol + \"  \" + (bidlivedata.totalSellQuantity / bidlivedata.totalBuyQuantity).toFixed(2) + \" time selling\");\r\n                        bidlivedata.highlightsell = true;\r\n                    }\r\n\r\n                    this.setState({ liveBidsList: [...this.state.liveBidsList, bidlivedata], lastUpdateTime: resd.data.lastUpdateTime }, function () {\r\n                        localStorage.setItem(\"liveBidsList\", JSON.stringify(this.state.liveBidsList));\r\n                        window.document.title = \"Del: \" + this.state.liveBidsList[0].symbol;\r\n                    });\r\n\r\n\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 200));\r\n        }\r\n\r\n        // if(watchList.length == delData.length)\r\n        // console.log(\"delData\",  delData);\r\n\r\n    }\r\n\r\n    getDeliveryHistory = () => {\r\n\r\n\r\n        for (let index = 0; index < this.state.liveBidsList.length; index++) {\r\n            const element = this.state.liveBidsList[index];\r\n            AdminService.getDeliveryDataFromDb(element.symbol)\r\n                .then((res) => {\r\n                    let data = resolveResponse(res, \"noPop\");\r\n                    console.log(\"hist data\", data.result);\r\n                    if (data && data.result) {\r\n                        var result = data.result;\r\n                        element.delHistory = result;\r\n                        console.log(element.symbol, result);\r\n\r\n                        this.setState({ liveBidsList: this.state.liveBidsList });\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    getByDateBidHistory = () => {\r\n        this.setState({ liveBidsList: []});\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        let allSymbol = []; \r\n        watchList.forEach(element => {\r\n            allSymbol.push( \"'\" + element.name+\"'\"); \r\n        });\r\n\r\n        AdminService.getBidDataFromDb(this.state.backDate,  allSymbol.join(','), allSymbol.length )\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                console.log(\"hist bidHistoty\",data.result);\r\n                \r\n                if (data && data.result) {\r\n                    var result = data.result;\r\n                \r\n                    for (let index = 0; index < result.length; index++) {\r\n                        const bidlivedata = result[index];\r\n                        \r\n                        let data = {\r\n                            quantityTraded : bidlivedata.quantityTraded,\r\n                            deliveryQuantity : bidlivedata.deliveryQuantity, \r\n                            totalBuyQuantity :  bidlivedata.totalBuyBid , \r\n                            totalSellQuantity : bidlivedata.totalSellBid, \r\n                            lastPrice : bidlivedata.ltp, \r\n                            pChange: bidlivedata.priceChangePer,\r\n                            symbol : bidlivedata.symbol,\r\n                            updatedTime :bidlivedata.updatedTime \r\n\r\n                        }\r\n\r\n    \r\n                        data.buytosellTime = bidlivedata.totalBuyBid / bidlivedata.totalSellBid;\r\n                        data.selltobuyTime = bidlivedata.totalSellBid / bidlivedata.totalBuyBid;\r\n    \r\n                        if (bidlivedata.totalBuyBid / bidlivedata.totalSellBid > 1.25) {\r\n                            data.highlightbuy = true;\r\n                        }\r\n    \r\n                        if (bidlivedata.totalSellBid / bidlivedata.totalBuyBid > 1.25) {\r\n                            data.highlightsell = true;\r\n                        }\r\n    \r\n                    \r\n                        this.setState({ liveBidsList: [...this.state.liveBidsList, data], lastUpdateTime: this.state.backDate }, function () {\r\n                           \r\n                            this.state.liveBidsList.sort(function (a, b) {\r\n                                return b.pChange - a.pChange;\r\n                            });\r\n\r\n                        });\r\n                    }\r\n                    this.updatebidHistory(data.bidHistoty); \r\n                }\r\n            });\r\n    }\r\n\r\n    getBackUpDate = () => {\r\n        AdminService.getBackUpdateList()\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                console.log(data);\r\n                if (data && data.result) {\r\n\r\n                    let result = [];\r\n                    data.result.forEach(element => {\r\n                        if (element.dbUpdateTime) {\r\n                            result.push(moment(element.dbUpdateTime).format(\"YYYY-MM-DD HH:mm:ss\"));\r\n                        }\r\n                    });\r\n\r\n                    this.setState({ backupDateList: result }, function () {\r\n                       // console.log(\"dates\", this.state.backupDateList)\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n\r\n    convertToFloat = (str) => {\r\n        if (!isNaN(str)) {\r\n            return \"(\" + (str / 100000).toFixed(2) + \"L)\";\r\n        }\r\n\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n    sortByColumn = (type) => {\r\n\r\n        this.state.liveBidsList.sort(function (a, b) {\r\n            return b[type] - a[type];\r\n        });\r\n\r\n        this.setState({ liveBidsList: this.state.liveBidsList, sortedType: type });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                {window.location.hash === \"#/delivery\" ? <PostLoginNavBar /> : \"\"}\r\n\r\n\r\n                <Grid direction=\"row\" alignItems=\"center\" container>\r\n                     <Grid item xs={12} sm={12} >\r\n\r\n                        <Paper style={{ padding: \"10px\" }} >\r\n\r\n                            <Grid justify=\"space-between\"\r\n                                container spacing={1}>\r\n\r\n                                <Grid item xs={12} sm={4} >\r\n                                    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                        {this.state.selectedWatchlist} ({this.state.liveBidsList.length}) updated at {this.state.lastUpdateTime}\r\n                                    </Typography>\r\n\r\n                                    <span>Sorted By:  {this.state.sortedType} </span>\r\n\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.checkLiveBids()}>Refresh</Button>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={1} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.backupData()}>BackUp</Button>\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={1} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Back Date</InputLabel>\r\n                                        <Select value={this.state.backDate} name=\"backDate\" onChange={this.onChangeBackDate}>\r\n                                            <MenuItem value={\"\"}>{\"Select Date\"}</MenuItem>\r\n                                            {this.state.backupDateList && this.state.backupDateList.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n\r\n                            </Grid>\r\n\r\n\r\n                            <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n\r\n                                <TableHead style={{ whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                    <TableRow variant=\"head\" >\r\n\r\n                                        <TableCell align=\"left\"><Button onClick={() => this.sortByColumn(\"pChange\")}> Symbol</Button> </TableCell>\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"buytosellTime\")}>buyTosell</Button>  </TableCell>\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"selltobuyTime\")}>sellTobuy</Button>  </TableCell>\r\n\r\n\r\n\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"totalBuyQuantity\")}> Total Buy Quantity</Button>  </TableCell>\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"totalSellQuantity\")}> Total Sell Quantity</Button>  </TableCell>\r\n\r\n\r\n\r\n                                        <TableCell align=\"center\">Average Price</TableCell>\r\n                                        <TableCell align=\"center\"><Button onClick={() => this.sortByColumn(\"quantityTraded\")}> Quantity Traded</Button>  </TableCell>\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"deliveryQuantity\")}> Delivery Quantity</Button>  </TableCell>\r\n                                        <TableCell align=\"center\" ><Button title={\"Delivery To Traded Quantity\"} onClick={() => this.sortByColumn(\"deliveryToTradedQuantity\")}> Del To Traded Qty%</Button>  </TableCell>\r\n\r\n\r\n\r\n                                        {/* <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"totalTradedVolume\")}> Total Traded Volume</Button>  </TableCell>\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.sortByColumn(\"totalTradedValue\")}> Total Traded Value(L)</Button>  </TableCell> */}\r\n\r\n                                        {/* <TableCell  align=\"center\">Day Open</TableCell>\r\n                                        <TableCell  align=\"center\">Day High</TableCell>\r\n                                        <TableCell  align=\"center\">Day Low</TableCell>\r\n                                        <TableCell  align=\"center\">Previous Close</TableCell> */}\r\n\r\n\r\n                                        <TableCell align=\"center\" ><Button onClick={() => this.getDeliveryHistory()}>Delivery History</Button>  </TableCell>\r\n\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n\r\n\r\n                                    {this.state.liveBidsList ? this.state.liveBidsList.map((row, i) => (\r\n                                        <TableRow hover key={i} style={{ background: this.getPercentageColor(row.pChange) }}>\r\n\r\n                                            <TableCell align=\"left\">{row.symbol} {row.lastPrice} ({row.pChange}%)</TableCell>\r\n                                            <TableCell style={{ background: row.highlightbuy ? \"lightgray\" : \"\" }} align=\"center\">\r\n                                              \r\n                                                {row.buytosellTime.toFixed(2)} time buy</TableCell>\r\n\r\n                                            <TableCell style={{ background: row.highlightsell ? \"lightgray\" : \"\" }} align=\"center\">\r\n                                             \r\n                                                {row.selltobuyTime.toFixed(2)} time sell</TableCell>\r\n\r\n                                     \r\n\r\n                                            <TableCell align=\"center\" style={{background: \"#eceff1\" }}>\r\n                                                    {row.buybidHistory &&  row.buybidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))}\r\n                                                <br />\r\n                                                {row.totalBuyQuantity} {this.convertToFloat(row.totalBuyQuantity)}</TableCell>\r\n                                            <TableCell align=\"center\" style={{background: \"#eceff1\" }}>\r\n                                                    {row.sellbidHistory &&  row.sellbidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))}\r\n                                                <br />\r\n                                                {row.totalSellQuantity} {this.convertToFloat(row.totalSellQuantity)}</TableCell>\r\n\r\n                                            <TableCell align=\"left\">{row.averagePrice}</TableCell>\r\n\r\n\r\n                                            <TableCell align=\"center\">{row.quantityTraded} {this.convertToFloat(row.quantityTraded)}</TableCell>\r\n                                            <TableCell align=\"center\">{row.deliveryQuantity} {this.convertToFloat(row.deliveryQuantity)}</TableCell>\r\n                                            <TableCell align=\"center\">{row.deliveryToTradedQuantity}%</TableCell>\r\n\r\n                                            {/* <TableCell align=\"center\">{row.totalTradedVolume} {this.convertToFloat(row.totalTradedVolume)}</TableCell>\r\n                                            <TableCell align=\"center\">{row.totalTradedValue}L</TableCell> */}\r\n\r\n                                            {/* <TableCell  align=\"center\">{row.open}</TableCell>\r\n                                    <TableCell  align=\"center\">{row.dayHigh}</TableCell>\r\n                                    <TableCell  align=\"center\">{row.dayLow}</TableCell>\r\n                                    <TableCell  align=\"center\">{row.previousClose}</TableCell> */}\r\n\r\n                                            <TableCell style={{ background: \"#eceff1\" }} align=\"center\">\r\n\r\n                                                {row.delHistory && row.delHistory.map(item => (\r\n                                                    <span> {new Date(item.datetime).toLocaleDateString()}  &nbsp;\r\n                                                        <span title={\"quantityTraded \" + item.quantityTraded}> {(item.quantityTraded / 100000).toFixed(2)}L  </span>  &nbsp;\r\n                                                        <span title={\"deliveryToTradedQuantity\"}> {item.deliveryToTradedQuantity}%  </span>  &nbsp;\r\n                                                        <span title={\"deliveryQuantity \" + item.deliveryQuantity}> {(item.deliveryQuantity / 100000).toFixed(2)}L  </span>  &nbsp;\r\n                                                        <span style={{ color: item.todayChange > 0 ? \"green\" : \"red\" }}> ({item.todayChange}%)   </span>\r\n                                                        &nbsp;  <br /></span>\r\n                                                ))}\r\n\r\n                                            </TableCell>\r\n\r\n\r\n                                        </TableRow>\r\n                                    )) : <Spinner />}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(OrderBook);\r\nexport default OrderBook;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Parser from 'html-react-parser';\r\nimport Spinner from \"react-spinner-material\";\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartMultiple from \"./LightChartMultiple\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { createChart } from 'lightweight-charts';\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist:  localStorage.getItem('clickedIndexName') ? localStorage.getItem('clickedIndexName') :  'NIFTY BANK',  //decodeURIComponent(window.location.href.split('?')[1].split('=')[1]),\r\n            totalStockToWatch: 0,\r\n            chartSize: 300, \r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            chartStaticData: [],\r\n            BBBlastType: \"BBStrongBreakout\",\r\n            qtyToTake: '',\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n            findlast5minMovement: [],\r\n            gainerList: localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [],\r\n            looserList: localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [],\r\n\r\n\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount = async () => {\r\n\r\n        window.document.title = \"Index Charts\";\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ totalStockToWatch: watchList && watchList.length });\r\n        // this.findlast5minMovement(); //one time only\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n\r\n        var tostartInteral = setInterval(() => {\r\n            var time = new Date();\r\n            //console.log(\"set interval 1sec min/10==0 \", time.toLocaleTimeString());\r\n            if (time.getMinutes() % 10 === 0) {\r\n                console.log(\"search method call in with setTimeout 70sec\", time.toLocaleTimeString());\r\n\r\n                setTimeout(() => {\r\n                    this.find10MinBBBlast();\r\n                }, 70000);\r\n                this.setState({\r\n                    stop10bbSearch:\r\n                        setInterval(() => {\r\n                            console.log(\"search method call in with setInterval in 10min\", time.toLocaleTimeString());\r\n                            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                                this.find10MinBBBlast();\r\n                            }\r\n                        }, 60000 * 10 + 70000)\r\n                });\r\n\r\n                clearInterval(tostartInteral);\r\n            }\r\n        }, 1000);\r\n\r\n\r\n        this.find10MinBBBlast();\r\n\r\n    }\r\n\r\n\r\n    stopSearching = () => {\r\n        console.log(\"stop the search\")\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n\r\n    }\r\n\r\n\r\n    showCandleChart = (candleData, symbol, ltp, perChange) => {\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n        localStorage.setItem('candlePriceShow', ltp);\r\n        localStorage.setItem('candleChangeShow', perChange.toFixed(2));\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //  clearInterval(this.state.findlast5minMovementInterval);\r\n        //        clearInterval(this.state.stop10bbSearch);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            this.find10MinBBBlast();\r\n\r\n        });\r\n    }\r\n    shouldComponentUpdate(flag, nextProps, nextState) {\r\n        return flag //!equals(nextProps, this.props); // equals() is your implementation\r\n    }\r\n    onChangeQty = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    // startSearching = () => {\r\n\r\n    //     console.log(\"Starting the search\");\r\n\r\n    //     var beginningTime = moment('9:15am', 'h:mma');\r\n    //     var endTime = moment('3:30pm', 'h:mma');\r\n    //     const friday = 5; // for friday\r\n    //     var currentTime = moment(new Date(), \"h:mma\");\r\n    //     const today = moment().isoWeekday();\r\n    //     //market hours\r\n\r\n    //     if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n    //         var intervaltime = 60000;\r\n    //         if (this.state.totalStockToWatch > 180) {\r\n    //             intervaltime = this.state.totalStockToWatch * 333;\r\n    //         }\r\n    //       //  this.setState({ findlast5minMovementInterval: setInterval(() => { this.findlast5minMovement(); }, intervaltime) });\r\n    //     }\r\n    // }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                return \"200:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                    return \"1000:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                    return \"1500:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                return \"2160:00:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"4320:00:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"8320:00:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"15000:00:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    calculateSMA =(data, count) => {\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getRSIBBString=(row)=>{\r\n        var str = ''; \r\n        if(row.BB){\r\n            if(row.ltp >= row.BB.upper){\r\n                str +=  '<span style=\"color:green\">BBupr:' + row.BB.upper+'</span>';\r\n            }else{\r\n                str += '<span style=\"color:red\">BBupr:' + row.BB.upper+'</span>';\r\n            }\r\n    \r\n            if(row.ltp <= row.BB.lower){\r\n                str +=  ' <span style=\"color:green\">BBlwr:' + row.BB.lower+'</span>';\r\n            }else{\r\n                str += ' <span style=\"color:red\">BBlwr:' + row.BB.lower+'</span>';\r\n            }\r\n        }\r\n       \r\n\r\n        str += \"<br/>RSI:\"; \r\n        row.RSI.forEach(element => {\r\n            if(element >= 60){\r\n                str +=  ' <span style=\"color:green\">' + element+'</span>';\r\n            }else if(element >= 40 && element <= 59){\r\n                str +=  ' <span style=\"color:black\">' + element+'</span>';\r\n            }else{\r\n                str += ' <span style=\"color:red\">' + element+'</span>';\r\n            }\r\n        });\r\n\r\n        return str; \r\n    }\r\n\r\n    createMultpleChart = (row) => {\r\n\r\n        var div = document.createElement(\"div\");\r\n        div.style.display = 'block';\r\n        div.style.padding = 10 + 'px';\r\n        div.style.marginLeft = 10 + 'px';\r\n        div.style.marginTop = 10 + 'px';\r\n        div.style.border =  \"2px solid \"+CommonOrderMethod.getPercentageColor(row.perChange);      \r\n\r\n        var legend = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.appendChild(legend);\r\n        legend.style.display = 'block';\r\n        legend.style.left = 3 + 'px';\r\n        legend.style.top = 3 + 'px';\r\n\r\n        if(row.perChange > 0){\r\n            legend.style.color = 'green';\r\n        }else{\r\n            legend.style.color = 'red';\r\n        }\r\n\r\n        legend.innerHTML = row.name + \" \" + row.ltp + \" (\"+ row.perChange +'%) <br />';\r\n\r\n\r\n        var legendTitle = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.appendChild(legendTitle);\r\n//        legendTitle.style.display = 'block';\r\n        legendTitle.style.fontSize = '10px';\r\n\r\n\r\n        //  const domElement = document.getElementById('tvchart');\r\n        //   document.getElementById('tvchart').innerHTML = '';\r\n\r\n\r\n        const chart = createChart(div, { width: this.state.chartSize, height: this.state.chartSize, timeVisible: true, secondsVisible: true });\r\n\r\n        \r\n        var candleSeries = chart.addCandlestickSeries({\r\n            upColor: 'green',\r\n            downColor: 'red',\r\n            borderDownColor: 'red',\r\n            borderUpColor: 'green',\r\n            wickDownColor: 'red',\r\n            wickUpColor: 'green',\r\n        });\r\n\r\n        candleSeries.setData(row.lightChartData);\r\n\r\n        var smaData = this.calculateSMA(row.lightChartData, 20);\r\n\t\tvar smaLine = chart.addLineSeries({\r\n\t\t\tcolor: 'rgba(4, 111, 232, 1)',\r\n\t\t\tlineWidth: 2,\r\n\t\t});\r\n\t\tsmaLine.setData(smaData);\r\n        \r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n        volumeSeries.setData(row.volumeSeriesData);\r\n        var legend = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.append(legend);\r\n        legend.style.display = 'block';\r\n\r\n        legend.innerHTML =  this.getRSIBBString(row); \r\n        document.getElementById(\"allchart\") && document.getElementById(\"allchart\").append(div);\r\n\r\n\r\n        chart.subscribeCrosshairMove((param) => {\r\n\r\n\t\t\tvar getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n\t\t\tvar string = \"\";\r\n\t\t\tvar change = \"\";\r\n\r\n\t\t\tfor (var elem of getit) {\r\n\r\n\t\t\t\t//console.log(elem);\r\n\t\t\t\tif (typeof elem[1] == 'object') {\r\n\t\t\t\t\tstring += \" O: <b>\" + elem[1].open + \"</b>\";\r\n\t\t\t\t\tstring += \" H: <b>\" + elem[1].high + \"</b>\";\r\n\t\t\t\t\tstring += \" L: <b>\" + elem[1].low + \"</b>\";\r\n\t\t\t\t\tstring += \" C: <b>\" + elem[1].close + \"</b>\";\r\n\t\t\t\t\tchange = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n\t\t\t\t\tstring += \" CH: <b>\" + change.toFixed(2) + '%</b><br />';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstring += \" \" + elem[1].toFixed(2) + \" \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (param.time)\r\n\t\t\t\tstring += \" Time:<b> \" + new Date(param.time).toLocaleString()+ \"</b>\" ;\r\n\r\n\t\t\tvar str = \"<span style=color:green>\" + string + \"</span> \";\r\n\t\t\tif (change < 0)\r\n\t\t\t\tstr = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n             legendTitle.innerHTML = str;\r\n\t\t});\r\n    \r\n        this.sortTheChart(); \r\n    }\r\n\r\n    \r\n\r\n    sortTheChart =()=> {\r\n       \r\n        let allchart = document.getElementById(\"allchart\");\r\n        let createNewArray = []; \r\n        function getItem(name){\r\n                document.querySelector('#allchart').childNodes.forEach(function(e){\r\n                    if(e.innerText && e.innerText.split(' ')[0] == name){ \r\n                        console.log(\"item\",name, e.innerText.split(' ')[0], e)\r\n                        allchart.appendChild(e); \r\n                        createNewArray.push(e);   \r\n                     //   return e; \r\n                    }\r\n                }) \r\n        }\r\n\r\n        for (let index = 0; index < this.state.findlast5minMovement.length; index++) {\r\n            const element = this.state.findlast5minMovement[index];\r\n            let item = getItem(element.name); \r\n        }\r\n\r\n    }\r\n\r\n\r\n    updateToLocalStorage = (row) => {\r\n\r\n        let foundAt = new Date(row.foundAt).toLocaleString();\r\n        var isfound = this.state.fastMovementList.filter(element => (element.token == row.token && element.foundAt == foundAt));\r\n        console.log(\"isfound\", isfound);\r\n        if (!isfound.length) {\r\n            var updateData = {\r\n                token: row.token,\r\n                foundAt: foundAt,\r\n                ltp: row.ltp,\r\n                symbol: row.symbol,\r\n                nc: row.perChange.toFixed(2),\r\n                orderType: row.orderType\r\n            }\r\n            this.state.fastMovementList.push(updateData);\r\n            //this.setState({ fastMovementList: [..., updateData] });\r\n            localStorage.setItem(\"fastMovementList\", JSON.stringify(this.state.fastMovementList));\r\n            return true;\r\n\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    find10MinBBBlast = async () => {\r\n       \r\n        if(document.getElementById(\"allchart\")){\r\n            document.getElementById(\"allchart\").innerHTML = ''\r\n        } \r\n\r\n        this.setState({ findlast5minMovementUpdate: '', findlast5minMovement: [] });\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        if (this.state.selectedWatchlist == \"gainerList\") {\r\n            watchList = localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList'));\r\n        }\r\n        if (this.state.selectedWatchlist == \"looserList\") {\r\n            watchList = localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList'));\r\n        }\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n        this.setState({ totalStockToWatch: watchList && watchList.length });\r\n\r\n\r\n        if (watchList && watchList.length) {\r\n            for (let index = 0; index < watchList.length; index++) {\r\n\r\n                this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() });\r\n\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n                let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n                var time = moment.duration(\"1000:00:00\");  //22:00:00\" for last day  2hours  timeDuration\r\n                var startDate = moment(new Date()).subtract(timeDuration);\r\n\r\n                var data = {\r\n                    \"exchange\": watchList[index].exch_seg,\r\n                    \"symboltoken\": watchList[index].token,\r\n                    \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                    \"fromdate\": moment(startDate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    // console.log(\"candle history\", histdata);\r\n\r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var candleData = histdata.data;\r\n                        var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                        candleData.forEach((element, loopindex) => {\r\n\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n\r\n                            vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                            closeingData.push(element[4]);\r\n                            highData.push(element[2]);\r\n                            lowData.push(element[3]);\r\n                            openData.push(element[3]);\r\n                            valumeData.push(element[5]);\r\n                            bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                            volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n\r\n                        });\r\n\r\n                        // { time: '2018-10-19', value: 19103293.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n\r\n                        var sma = SMA.calculate({ period: 20, values: closeingData });\r\n                        //   console.log(watchList[index].symbol, \"SMA\", sma);\r\n\r\n\r\n                        var inputRSI = { values: closeingData, period: 14 };\r\n                        var lastRsiValue = RSI.calculate(inputRSI);\r\n\r\n                        // console.log(watchList[index].symbol, \"Rsi\", inputRSI, lastRsiValue);\r\n                        // console.log(watchList[index].symbol, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                        var inputVWAP = {\r\n                            open: openData,\r\n                            high: highData,\r\n                            low: lowData,\r\n                            close: closeingData,\r\n                            volume: valumeData\r\n                        };\r\n\r\n                        var input = {\r\n                            period: 20,\r\n                            values: bbdata,\r\n                            stdDev: 2\r\n\r\n                        }\r\n\r\n                        var bb = BollingerBands.calculate(input);\r\n\r\n                        var vwapdata = VWAP.calculate(inputVWAP);\r\n                        //   console.log(watchList[index].symbol, \"Bolinger band\", input, bb);\r\n                      //  console.log(watchList[index].symbol, \"vwap daa\", VWAP.calculate(inputVWAP));\r\n\r\n                        var bbvlastvalue = bb[bb.length - 1];\r\n                        if (bbvlastvalue) {\r\n                            bbvlastvalue.upper = bbvlastvalue.upper.toFixed(2);\r\n                            bbvlastvalue.middle = bbvlastvalue.middle.toFixed(2);\r\n                            bbvlastvalue.lower = bbvlastvalue.lower.toFixed(2);\r\n\r\n                        }\r\n\r\n                        const lightChartData = candleData.map(d => {\r\n                            return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                        });\r\n\r\n\r\n                        var dataltp = {\r\n                            \"exchange\": \"NSE\",\r\n                            \"tradingsymbol\": watchList[index].symbol,\r\n                            \"symboltoken\": watchList[index].token,\r\n                        }\r\n\r\n                        AdminService.getLTP(dataltp).then(res => {\r\n                            let data = resolveResponse(res, 'noPop');\r\n                            var LtpData = data && data.data;\r\n                            //console.log(LtpData);\r\n                            if (LtpData && LtpData.ltp) {\r\n                                let data = {\r\n                                    symbol: watchList[index].symbol,\r\n                                    token: watchList[index].token,\r\n                                    RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                    RSI: lastRsiValue.slice(Math.max(lastRsiValue.length - 8, 1)),\r\n                                    valumeData: valumeData.slice(Math.max(valumeData.length - 8, 1)),\r\n                                    VWAP: vwapdata[vwapdata.length - 1], //vwap(vwapdata),\r\n                                    BB: bbvlastvalue,\r\n                                    candleChartData: candleChartData,\r\n                                    foundAt: candleData && new Date(candleData[candleData.length - 1][0]).toLocaleString(),\r\n                                    name: watchList[index].name,\r\n                                    lightChartData: lightChartData,\r\n                                    volumeSeriesData: volumeSeriesData\r\n                                }\r\n\r\n                                data.perChange = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2);\r\n                                data.ltp = LtpData.ltp;\r\n\r\n\r\n\r\n                                this.setState({ findlast5minMovement: [...this.state.findlast5minMovement, data] }, function(){\r\n                                  \r\n                                    this.state.findlast5minMovement && this.state.findlast5minMovement.sort(function (a, b) {\r\n                                        return b.perChange - a.perChange;\r\n                                    });\r\n                                    this.createMultpleChart(data);\r\n                                    \r\n                                });\r\n                                                                \r\n                              \r\n                            }\r\n                        });\r\n\r\n\r\n\r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        console.log(watchList[index].symbol, \"  emply candle found\");\r\n                    }\r\n                })\r\n\r\n                await new Promise(r => setTimeout(r, 600));\r\n            }\r\n        } else {\r\n            Notify.showError(\"No Stock Found\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    callbackAfterOrderDone = (order) => {\r\n        // setValues({ ...values, ['buyFlag']: order.status });\r\n        // setValues({ ...values, ['sellFlag']:  order.status  });\r\n        //  this.setState({ [spineerId]: order.status}); \r\n        console.log(\"order executed\", order);\r\n    }\r\n\r\n\r\n\r\n    handleClick = (row, type, spinnerIndex) => {\r\n\r\n        console.log(row);\r\n        if (row.token && row.symbol) {\r\n            if (type == 'BUY') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n            }\r\n        } else {\r\n            Notify.showError(\" Symbol Not found!!!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                 {window.location.hash === \"#/index-charts\" ? <PostLoginNavBar /> : \"\"}\r\n\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container spacing={1}>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            &nbsp; {this.state.selectedWatchlist} Stocks ({this.state.findlast5minMovement && this.state.findlast5minMovement.length})\r\n                            <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.findlast5minMovementUpdate} </span>\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Chart Size</InputLabel>\r\n                            <Select value={this.state.chartSize} name=\"chartSize\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={250}>{'250px'}</MenuItem>\r\n                                <MenuItem value={300}>{'300px'}</MenuItem>\r\n                                <MenuItem value={350}>{'350px'}</MenuItem>\r\n                                <MenuItem value={450}>{'450px'}</MenuItem>\r\n                                <MenuItem value={550}>{'550px'}</MenuItem>\r\n                                <MenuItem value={650}>{'650px'}</MenuItem>\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                            <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={\"gainerList\"}>{\"Gainer List (\" +  this.state.gainerList.length +\")\"}</MenuItem>\r\n                                <MenuItem value={\"looserList\"}>{\"Looser List (\" +  this.state.looserList.length +\")\"}</MenuItem>\r\n\r\n                                <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                    <MenuItem value={element}>{element}</MenuItem>\r\n                                ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    \r\n                    {/* \r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.BBBlastType} name=\"BBBlastType\" onChange={this.onChangeWatchlist}>\r\n       \r\n                                <MenuItem value={'BBStrongBreakout'}>{'BB Strong Breakout'}</MenuItem>\r\n\r\n\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid> */}\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.find10MinBBBlast()}>Start</Button>\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.stopSearching()}>Stop</Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n\r\n                <Grid container spacing={2} style={{padding:'10px'}} id=\"allchart\" >\r\n\r\n\r\n                    {/* {this.state.findlast5minMovement ? this.state.findlast5minMovement.map((row, i) => (\r\n\r\n                        <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ overflow: \"auto\", padding: '10px' }} >\r\n\r\n                                <Typography style={{ color: row.perChange > 0 ? \"green\" : \"red\" }}> {row.name} {row.ltp} {row.perChange ? \"(\" + row.perChange + \"%\" + \")\" : \"\"} <span> &nbsp;&nbsp;  {row.foundAt}</span></Typography>\r\n\r\n                            \r\n                                {row.candleChartData.length > 0 ? <ReactApexChart\r\n                                    options={{\r\n                                        chart: {\r\n                                            type: 'candlestick',\r\n                                            height: 350\r\n                                          },\r\n                                          title: {\r\n                                            text: 'CandleStick Chart',\r\n                                            align: 'left'\r\n                                          },\r\n                                          xaxis: {\r\n                                            type: 'datetime',\r\n                                          },\r\n                                          yaxis: {\r\n                                            tooltip: {\r\n                                              enabled: true\r\n                                            }\r\n                                          }\r\n                                       \r\n                                    }}\r\n                                   \r\n                                    series={[{\r\n                                        data: row.candleChartData.slice(Math.max(row.candleChartData.length - 100, 1))\r\n                                    },\r\n                                    ]}\r\n\r\n                                    type=\"candlestick\"\r\n                                    width={350}\r\n                                    height={250}\r\n\r\n                                /> : \"\"}\r\n\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n\r\n\r\n                                    {row.DSMALastValue ? <Grid item xs={12} sm={12} style={{ color: row.ltp > row.DSMALastValue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        Daily SMA: {row.DSMALastValue} {row.ltp > row.DSMALastValue ? \"BUY\" : \"SELL\"}\r\n                                    </Grid> : \"\"}\r\n                                    <Grid item xs={12} sm={12} style={{ color: row.ltp > row.VWAP ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        VWAP:  {row.VWAP}\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} >\r\n                                        BB {row.BB ? <>\r\n                                            &nbsp; <span style={{ color: row.ltp >= row.BB && row.BB.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>Upper: {row.BB && row.BB.upper}</span>\r\n                                            &nbsp; <span style={{ color: row.ltp >= row.BB.middle ? \"green\" : \"red\", fontWeight: \"bold\" }}>Middle: {row.BB && row.BB.middle}</span>\r\n                                            &nbsp; <span style={{ color: row.ltp <= row.BB && row.BB.lower ? \"red\" : \"\", fontWeight: \"bold\" }}> Lower: {row.BB && row.BB.lower}</span>\r\n\r\n                                        </> : \"\"}\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        RSI: {row.RSI.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} </span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} </span>\r\n                                        ))}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        Volume: {row.valumeData.map((item, j) => (\r\n                                            <span> {(item / 100000).toFixed(2)}L </span>\r\n                                        ))}\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                </Grid>\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n                                    <Grid item>\r\n                                        {!this.state['buyButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' + row.symbol + i)}>BUY</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField style={{ marginTop: '-15px' }} label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={this.state.qtyToTake} onChange={this.onChangeQty} />\r\n                                    </Grid>\r\n\r\n                                    <Grid item >\r\n                                        {!this.state['sellButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked' + row.symbol + i)}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n\r\n                            </Paper>\r\n\r\n                        </Grid>\r\n\r\n                    )) : ''} */}\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Parser from 'html-react-parser';\r\nimport Spinner from \"react-spinner-material\";\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartMultiple from \"./LightChartMultiple\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { createChart } from 'lightweight-charts';\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist:  localStorage.getItem('clickedIndexName') ? localStorage.getItem('clickedIndexName') :  'NIFTY BANK',  //decodeURIComponent(window.location.href.split('?')[1].split('=')[1]),\r\n            totalStockToWatch: 0,\r\n            chartSize: 300, \r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            chartStaticData: [],\r\n            BBBlastType: \"BBStrongBreakout\",\r\n            qtyToTake: '',\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n            strongChartList: [],\r\n            gainerList: localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [],\r\n            looserList: localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [],\r\n\r\n\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount = async () => {\r\n\r\n        window.document.title = \"Index Charts\";\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ totalStockToWatch: watchList && watchList.length });\r\n        // this.strongChartList(); //one time only\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n\r\n        var tostartInteral = setInterval(() => {\r\n            var time = new Date();\r\n            //console.log(\"set interval 1sec min/10==0 \", time.toLocaleTimeString());\r\n            if (time.getMinutes() % 10 === 0) {\r\n                console.log(\"search method call in with setTimeout 70sec\", time.toLocaleTimeString());\r\n\r\n                setTimeout(() => {\r\n                    this.findStrongCharts();\r\n                }, 70000);\r\n                this.setState({\r\n                    stop10bbSearch:\r\n                        setInterval(() => {\r\n                            console.log(\"search method call in with setInterval in 10min\", time.toLocaleTimeString());\r\n                            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                                this.findStrongCharts();\r\n                            }\r\n                        }, 60000 * 10 + 70000)\r\n                });\r\n\r\n                clearInterval(tostartInteral);\r\n            }\r\n        }, 1000);\r\n\r\n\r\n        this.findStrongCharts();\r\n\r\n    }\r\n\r\n\r\n    stopSearching = () => {\r\n        console.log(\"stop the search\")\r\n        clearInterval(this.state.strongChartListInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n\r\n    }\r\n\r\n\r\n    showCandleChart = (candleData, symbol, ltp, perChange) => {\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n        localStorage.setItem('candlePriceShow', ltp);\r\n        localStorage.setItem('candleChangeShow', perChange.toFixed(2));\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //  clearInterval(this.state.strongChartListInterval);\r\n        //        clearInterval(this.state.stop10bbSearch);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.strongChartListInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.strongChartList(); //one time only\r\n            this.findStrongCharts();\r\n\r\n        });\r\n    }\r\n    shouldComponentUpdate(flag, nextProps, nextState) {\r\n        return flag //!equals(nextProps, this.props); // equals() is your implementation\r\n    }\r\n    onChangeQty = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    // startSearching = () => {\r\n\r\n    //     console.log(\"Starting the search\");\r\n\r\n    //     var beginningTime = moment('9:15am', 'h:mma');\r\n    //     var endTime = moment('3:30pm', 'h:mma');\r\n    //     const friday = 5; // for friday\r\n    //     var currentTime = moment(new Date(), \"h:mma\");\r\n    //     const today = moment().isoWeekday();\r\n    //     //market hours\r\n\r\n    //     if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n    //         var intervaltime = 60000;\r\n    //         if (this.state.totalStockToWatch > 180) {\r\n    //             intervaltime = this.state.totalStockToWatch * 333;\r\n    //         }\r\n    //       //  this.setState({ strongChartListInterval: setInterval(() => { this.strongChartList(); }, intervaltime) });\r\n    //     }\r\n    // }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                return \"200:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                    return \"1000:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                    return \"1500:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                return \"2160:00:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"4320:00:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"8320:00:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"15000:00:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    calculateSMA =(data, count) => {\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getRSIBBString=(row)=>{\r\n        var str = ''; \r\n\r\n        if(row.BB){\r\n            if(row.ltp >= row.BB.upper){\r\n                str +=  '<span style=\"color:green\">BBupr:' + row.BB.upper+'</span>';\r\n            }else{\r\n                str += '<span style=\"color:red\">BBupr:' + row.BB.upper+'</span>';\r\n            }\r\n    \r\n            if(row.ltp <= row.BB.lower){\r\n                str +=  ' <span style=\"color:green\">BBlwr:' + row.BB.lower+'</span>';\r\n            }else{\r\n                str += ' <span style=\"color:red\">BBlwr:' + row.BB.lower+'</span>';\r\n            }\r\n        }\r\n       \r\n\r\n        str += \"<br/>RSI:\"; \r\n        row.RSI.forEach(element => {\r\n            if(element >= 60){\r\n                str +=  ' <span style=\"color:green\">' + element+'</span>';\r\n            }else if(element >= 40 && element <= 59){\r\n                str +=  ' <span style=\"color:black\">' + element+'</span>';\r\n            }else{\r\n                str += ' <span style=\"color:red\">' + element+'</span>';\r\n            }\r\n        });\r\n\r\n        return str; \r\n    }\r\n\r\n    createMultpleChart = (row) => {\r\n\r\n        var div = document.createElement(\"div\");\r\n        div.style.display = 'block';\r\n        div.style.padding = 10 + 'px';\r\n        div.style.marginLeft = 10 + 'px';\r\n        div.style.marginTop = 10 + 'px';\r\n        div.style.border =  \"2px solid \"+CommonOrderMethod.getPercentageColor(row.perChange);      \r\n\r\n        var legend = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.appendChild(legend);\r\n        legend.style.display = 'block';\r\n        legend.style.left = 3 + 'px';\r\n        legend.style.top = 3 + 'px';\r\n\r\n        if(row.perChange > 0){\r\n            legend.style.color = 'green';\r\n        }else{\r\n            legend.style.color = 'red';\r\n        }\r\n\r\n    \r\n        let str = row.name + \" \" + row.ltp + \" (\"+ row.perChange +'%) <br />';\r\n\r\n        str += '<span style=\"color:black\">Emotions: </span> ';\r\n        if(row.strongPer){\r\n            if(row.strongPer >= 75){\r\n                str +=  '<span style=\"color:green\"><b>Buying :' + row.strongPer.toFixed(2)+'%</b></span>';\r\n            }else{\r\n                str += '<span  style=\"color:black\">Buying:' + row.strongPer.toFixed(2) +'% </span>';\r\n            }\r\n        } \r\n        \r\n        if(row.strongPer){\r\n            if(row.strongPer <= 25){\r\n                str +=  '<span style=\"color:red\"><b> Selling :' + (100 - row.strongPer).toFixed(2)+'%</b></span>';\r\n            }else{\r\n                str += '<span  style=\"color:black\"> Selling:' + (100 - row.strongPer).toFixed(2) +'%</span>';\r\n            }\r\n        } \r\n\r\n        str += '<br />';\r\n        legend.innerHTML = str; \r\n\r\n        var legendTitle = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.appendChild(legendTitle);\r\n//        legendTitle.style.display = 'block';\r\n        legendTitle.style.fontSize = '10px';\r\n\r\n\r\n        //  const domElement = document.getElementById('tvchart');\r\n        //   document.getElementById('tvchart').innerHTML = '';\r\n\r\n\r\n        const chart = createChart(div, { width: this.state.chartSize, height: this.state.chartSize, timeVisible: true, secondsVisible: true });\r\n\r\n        \r\n        var candleSeries = chart.addCandlestickSeries({\r\n            upColor: 'green',\r\n            downColor: 'red',\r\n            borderDownColor: 'red',\r\n            borderUpColor: 'green',\r\n            wickDownColor: 'red',\r\n            wickUpColor: 'green',\r\n        });\r\n\r\n        candleSeries.setData(row.lightChartData);\r\n\r\n        var smaData = this.calculateSMA(row.lightChartData, 20);\r\n\t\tvar smaLine = chart.addLineSeries({\r\n\t\t\tcolor: 'rgba(4, 111, 232, 1)',\r\n\t\t\tlineWidth: 2,\r\n\t\t});\r\n\t\tsmaLine.setData(smaData);\r\n        \r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n        volumeSeries.setData(row.volumeSeriesData);\r\n        var legend = document.createElement('div');\r\n        //legend.className = 'sma-legend';\r\n        div.append(legend);\r\n        legend.style.display = 'block';\r\n\r\n        legend.innerHTML =  this.getRSIBBString(row); \r\n        document.getElementById(\"allchart\") && document.getElementById(\"allchart\").append(div);\r\n\r\n\r\n        chart.subscribeCrosshairMove((param) => {\r\n\r\n\t\t\tvar getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n\t\t\tvar string = \"\";\r\n\t\t\tvar change = \"\";\r\n\r\n\t\t\tfor (var elem of getit) {\r\n\r\n\t\t\t\t//console.log(elem);\r\n\t\t\t\tif (typeof elem[1] == 'object') {\r\n\t\t\t\t\tstring += \" O: <b>\" + elem[1].open + \"</b>\";\r\n\t\t\t\t\tstring += \" H: <b>\" + elem[1].high + \"</b>\";\r\n\t\t\t\t\tstring += \" L: <b>\" + elem[1].low + \"</b>\";\r\n\t\t\t\t\tstring += \" C: <b>\" + elem[1].close + \"</b>\";\r\n\t\t\t\t\tchange = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n\t\t\t\t\tstring += \" CH: <b>\" + change.toFixed(2) + '%</b><br />';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstring += \" \" + elem[1].toFixed(2) + \" \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (param.time)\r\n\t\t\t\tstring += \" Time:<b> \" + new Date(param.time).toLocaleString()+ \"</b>\" ;\r\n\r\n\t\t\tvar str = \"<span style=color:green>\" + string + \"</span> \";\r\n\t\t\tif (change < 0)\r\n\t\t\t\tstr = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n             legendTitle.innerHTML = str;\r\n\t\t});\r\n    \r\n        this.sortTheChart(); \r\n    }\r\n\r\n    \r\n\r\n    sortTheChart =()=> {\r\n       \r\n        let allchart = document.getElementById(\"allchart\");\r\n        let createNewArray = []; \r\n        function getItem(name){\r\n                document.querySelector('#allchart').childNodes.forEach(function(e){\r\n                    if(e.innerText && e.innerText.split(' ')[0] == name){ \r\n                        console.log(\"item\",name, e.innerText.split(' ')[0], e)\r\n                        allchart.appendChild(e); \r\n                        createNewArray.push(e);   \r\n                     //   return e; \r\n                    }\r\n                }) \r\n        }\r\n\r\n        for (let index = 0; index < this.state.strongChartList.length; index++) {\r\n            const element = this.state.strongChartList[index];\r\n            let item = getItem(element.name); \r\n        }\r\n\r\n    }\r\n\r\n\r\n    updateToLocalStorage = (row) => {\r\n\r\n        let foundAt = new Date(row.foundAt).toLocaleString();\r\n        var isfound = this.state.fastMovementList.filter(element => (element.token == row.token && element.foundAt == foundAt));\r\n        console.log(\"isfound\", isfound);\r\n        if (!isfound.length) {\r\n            var updateData = {\r\n                token: row.token,\r\n                foundAt: foundAt,\r\n                ltp: row.ltp,\r\n                symbol: row.symbol,\r\n                nc: row.perChange.toFixed(2),\r\n                orderType: row.orderType\r\n            }\r\n            this.state.fastMovementList.push(updateData);\r\n            //this.setState({ fastMovementList: [..., updateData] });\r\n            localStorage.setItem(\"fastMovementList\", JSON.stringify(this.state.fastMovementList));\r\n            return true;\r\n\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    findStrongCharts = async () => {\r\n       \r\n        if(document.getElementById(\"allchart\")){\r\n            document.getElementById(\"allchart\").innerHTML = ''\r\n        } \r\n\r\n        this.setState({ strongChartListUpdate: '', strongChartList: [] });\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        if (this.state.selectedWatchlist == \"gainerList\") {\r\n            watchList = localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList'));\r\n        }\r\n        if (this.state.selectedWatchlist == \"looserList\") {\r\n            watchList = localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList'));\r\n        }\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n        this.setState({ totalStockToWatch: watchList && watchList.length });\r\n\r\n\r\n        if (watchList && watchList.length) {\r\n            for (let index = 0; index < watchList.length; index++) {\r\n\r\n                this.setState({ strongChartListUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() });\r\n\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n                let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n                var time = moment.duration(\"1000:00:00\");  //22:00:00\" for last day  2hours  timeDuration\r\n                var startDate = moment(new Date()).subtract(timeDuration);\r\n\r\n                var data = {\r\n                    \"exchange\": watchList[index].exch_seg,\r\n                    \"symboltoken\": watchList[index].token,\r\n                    \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                    \"fromdate\": moment(startDate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    // console.log(\"candle history\", histdata);\r\n\r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var candleData = histdata.data;\r\n                        var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                        \r\n                      \r\n                        let lastCandle = candleData[candleData.length-1]; \r\n                        let changePer = (lastCandle[4] - lastCandle[1]) * 100 / lastCandle[1];\r\n                        let candleDistance = lastCandle[2] - lastCandle[3]; //high - low\r\n                        let strongPer =  ((lastCandle[4] - lastCandle[3]) * 100)/candleDistance; // close-low*100/distance \r\n                        console.log( watchList[index].symbol, candleData[candleData.length-1], strongPer ); \r\n                       \r\n                        if (true) {   //changePer >= 0.3 ||  changePer <= -0.3\r\n                            candleData.forEach((element, loopindex) => {\r\n                                candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                                vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                                closeingData.push(element[4]);\r\n                                highData.push(element[2]);\r\n                                lowData.push(element[3]);\r\n                                openData.push(element[3]);\r\n                                valumeData.push(element[5]);\r\n                                bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                                volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n                            });\r\n    \r\n                            var sma = SMA.calculate({ period: 20, values: closeingData });\r\n    \r\n                            var inputRSI = { values: closeingData, period: 14 };\r\n                            var lastRsiValue = RSI.calculate(inputRSI);\r\n    \r\n                            var inputVWAP = {\r\n                                open: openData,\r\n                                high: highData,\r\n                                low: lowData,\r\n                                close: closeingData,\r\n                                volume: valumeData\r\n                            };\r\n    \r\n                            var input = {\r\n                                period: 20,\r\n                                values: bbdata,\r\n                                stdDev: 2\r\n    \r\n                            }\r\n                            var bb = BollingerBands.calculate(input);\r\n                            var vwapdata = VWAP.calculate(inputVWAP);\r\n                            var bbvlastvalue = bb[bb.length - 1];\r\n                            if (bbvlastvalue) {\r\n                                bbvlastvalue.upper = bbvlastvalue.upper.toFixed(2);\r\n                                bbvlastvalue.middle = bbvlastvalue.middle.toFixed(2);\r\n                                bbvlastvalue.lower = bbvlastvalue.lower.toFixed(2);\r\n    \r\n                            }\r\n    \r\n                            const lightChartData = candleData.map(d => {\r\n                                return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                            });\r\n    \r\n    \r\n                            var dataltp = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": watchList[index].symbol,\r\n                                \"symboltoken\": watchList[index].token,\r\n                            }\r\n    \r\n                            AdminService.getLTP(dataltp).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                //console.log(LtpData);\r\n                                if (LtpData && LtpData.ltp) {\r\n                                    let data = {\r\n                                        symbol:  watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue.slice(Math.max(lastRsiValue.length - 8, 1)),\r\n                                        valumeData: valumeData.slice(Math.max(valumeData.length - 8, 1)),\r\n                                        VWAP: vwapdata[vwapdata.length - 1], //vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        foundAt: candleData && new Date(candleData[candleData.length - 1][0]).toLocaleString(),\r\n                                        name: watchList[index].name, //index+1 +'. '+ \r\n                                        lightChartData: lightChartData,\r\n                                        volumeSeriesData: volumeSeriesData, \r\n                                        strongPer: strongPer\r\n                                    }\r\n    \r\n                                    data.perChange = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2);\r\n                                    data.ltp = LtpData.ltp;\r\n    \r\n                                    this.setState({ strongChartList: [...this.state.strongChartList, data] }, function(){\r\n                                      \r\n                                        this.state.strongChartList && this.state.strongChartList.sort(function (a, b) {\r\n                                            return b.perChange - a.perChange;\r\n                                        });\r\n                                        this.createMultpleChart(data);\r\n                                        \r\n                                    });\r\n                                                                    \r\n                                  \r\n                                }\r\n                            });\r\n                        }\r\n                       \r\n\r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        console.log(watchList[index].symbol, \"  emply candle found\");\r\n                    }\r\n                })\r\n\r\n                await new Promise(r => setTimeout(r, 600));\r\n            }\r\n        } else {\r\n            Notify.showError(\"No Stock Found\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    callbackAfterOrderDone = (order) => {\r\n        // setValues({ ...values, ['buyFlag']: order.status });\r\n        // setValues({ ...values, ['sellFlag']:  order.status  });\r\n        //  this.setState({ [spineerId]: order.status}); \r\n        console.log(\"order executed\", order);\r\n    }\r\n\r\n\r\n\r\n    handleClick = (row, type, spinnerIndex) => {\r\n\r\n        console.log(row);\r\n        if (row.token && row.symbol) {\r\n            if (type == 'BUY') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n            }\r\n        } else {\r\n            Notify.showError(\" Symbol Not found!!!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                 <PostLoginNavBar /> \r\n\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container spacing={1}>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            &nbsp; {this.state.selectedWatchlist} Stocks ({this.state.strongChartList && this.state.strongChartList.length})\r\n                            <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.strongChartListUpdate} </span>\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Chart Size</InputLabel>\r\n                            <Select value={this.state.chartSize} name=\"chartSize\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={250}>{'250px'}</MenuItem>\r\n                                <MenuItem value={300}>{'300px'}</MenuItem>\r\n                                <MenuItem value={350}>{'350px'}</MenuItem>\r\n                                <MenuItem value={450}>{'450px'}</MenuItem>\r\n                                <MenuItem value={550}>{'550px'}</MenuItem>\r\n                                <MenuItem value={650}>{'650px'}</MenuItem>\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                            <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={\"gainerList\"}>{\"Gainer List (\" +  this.state.gainerList.length +\")\"}</MenuItem>\r\n                                <MenuItem value={\"looserList\"}>{\"Looser List (\" +  this.state.looserList.length +\")\"}</MenuItem>\r\n\r\n                                <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                    <MenuItem value={element}>{element}</MenuItem>\r\n                                ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    \r\n                    {/* \r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.BBBlastType} name=\"BBBlastType\" onChange={this.onChangeWatchlist}>\r\n       \r\n                                <MenuItem value={'BBStrongBreakout'}>{'BB Strong Breakout'}</MenuItem>\r\n\r\n\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid> */}\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.findStrongCharts()}>Start</Button>\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.stopSearching()}>Stop</Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n\r\n                <Grid container spacing={2} style={{padding:'10px'}} id=\"allchart\" >\r\n\r\n\r\n                    {/* {this.state.strongChartList ? this.state.strongChartList.map((row, i) => (\r\n\r\n                        <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ overflow: \"auto\", padding: '10px' }} >\r\n\r\n                                <Typography style={{ color: row.perChange > 0 ? \"green\" : \"red\" }}> {row.name} {row.ltp} {row.perChange ? \"(\" + row.perChange + \"%\" + \")\" : \"\"} <span> &nbsp;&nbsp;  {row.foundAt}</span></Typography>\r\n\r\n                            \r\n                                {row.candleChartData.length > 0 ? <ReactApexChart\r\n                                    options={{\r\n                                        chart: {\r\n                                            type: 'candlestick',\r\n                                            height: 350\r\n                                          },\r\n                                          title: {\r\n                                            text: 'CandleStick Chart',\r\n                                            align: 'left'\r\n                                          },\r\n                                          xaxis: {\r\n                                            type: 'datetime',\r\n                                          },\r\n                                          yaxis: {\r\n                                            tooltip: {\r\n                                              enabled: true\r\n                                            }\r\n                                          }\r\n                                       \r\n                                    }}\r\n                                   \r\n                                    series={[{\r\n                                        data: row.candleChartData.slice(Math.max(row.candleChartData.length - 100, 1))\r\n                                    },\r\n                                    ]}\r\n\r\n                                    type=\"candlestick\"\r\n                                    width={350}\r\n                                    height={250}\r\n\r\n                                /> : \"\"}\r\n\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n\r\n\r\n                                    {row.DSMALastValue ? <Grid item xs={12} sm={12} style={{ color: row.ltp > row.DSMALastValue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        Daily SMA: {row.DSMALastValue} {row.ltp > row.DSMALastValue ? \"BUY\" : \"SELL\"}\r\n                                    </Grid> : \"\"}\r\n                                    <Grid item xs={12} sm={12} style={{ color: row.ltp > row.VWAP ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        VWAP:  {row.VWAP}\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} >\r\n                                        BB {row.BB ? <>\r\n                                            &nbsp; <span style={{ color: row.ltp >= row.BB && row.BB.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>Upper: {row.BB && row.BB.upper}</span>\r\n                                            &nbsp; <span style={{ color: row.ltp >= row.BB.middle ? \"green\" : \"red\", fontWeight: \"bold\" }}>Middle: {row.BB && row.BB.middle}</span>\r\n                                            &nbsp; <span style={{ color: row.ltp <= row.BB && row.BB.lower ? \"red\" : \"\", fontWeight: \"bold\" }}> Lower: {row.BB && row.BB.lower}</span>\r\n\r\n                                        </> : \"\"}\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        RSI: {row.RSI.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} </span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} </span>\r\n                                        ))}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        Volume: {row.valumeData.map((item, j) => (\r\n                                            <span> {(item / 100000).toFixed(2)}L </span>\r\n                                        ))}\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                </Grid>\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n                                    <Grid item>\r\n                                        {!this.state['buyButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' + row.symbol + i)}>BUY</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField style={{ marginTop: '-15px' }} label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={this.state.qtyToTake} onChange={this.onChangeQty} />\r\n                                    </Grid>\r\n\r\n                                    <Grid item >\r\n                                        {!this.state['sellButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked' + row.symbol + i)}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n\r\n                            </Paper>\r\n\r\n                        </Grid>\r\n\r\n                    )) : ''} */}\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;","import React, {useEffect} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport { data } from 'jquery';\r\n\r\nimport LineChart from \"./LineChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\nimport DeliveryData from \"./DeliveryData\";\r\nimport IndexCharts from \"./IndexCharts\";\r\nimport StrongCharts from \"./StrongCharts\";\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n\r\n \r\n  const [open, setOpen] = React.useState(false);\r\n \r\n  var [values, setValues] = React.useState({\r\n    data : [],\r\n    candledata: {}\r\n})\r\n\r\n\r\n  //console.log('props.indexName',props)\r\n \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" id=\"fullModelId\" color=\"primary\" style={{display:\"none\"}} onClick={handleClickOpen}>\r\n        Chart \r\n      </Button>\r\n      <Dialog fullScreen onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose} onClick={handleClose}>\r\n        <Button fullWidth={true} autoFocus onClick={handleClose} color=\"primary\">\r\n            {localStorage.getItem('clickedIndexName') } {localStorage.getItem('clickedIndexType')}\r\n         </Button>\r\n        \r\n         \r\n        </DialogTitle>\r\n        <DialogContent dividers id=\"chart\">\r\n\r\n            {localStorage.getItem('clickedIndexType') == 'Charts' ?  <StrongCharts /> : <DeliveryData /> }\r\n            \r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { connect } from \"react-redux\";\r\nimport { setPackLoaded } from \"../../action\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport * as moment from 'moment';\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport \"./ViewStyle.css\";\r\nimport MyDialog from './MyDialog'\r\nimport Notify from \"../../utils/Notify\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport pako from 'pako';\r\nimport { w3cwebsocket } from 'websocket';\r\nimport ChartDialog from './ChartDialog';\r\nimport LightChartDialog from './LightChartDialog';\r\nimport LineChart from \"./LineChart\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport vwap from 'vwap';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport FullModel from './FullModel';\r\n\r\n\r\n\r\nconst wsClintSectorUpdate = new w3cwebsocket('wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream');\r\n\r\nclass MyView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // sectorList: [],\r\n            sluglist: {\r\n                'NIFTY 50': 'nifty',\r\n                'NIFTY AUTO': 'cnxAuto',\r\n                'NIFTY BANK': 'bankNifty',\r\n                'NIFTY ENERGY': 'cnxEnergy',\r\n                'NIFTY FIN SERVICE': 'cnxFinance',\r\n                'NIFTY FMCG': 'cnxFMCG',\r\n                'NIFTY IT': 'cnxit',\r\n                'NIFTY MEDIA': 'cnxMedia',\r\n                'NIFTY METAL': 'cnxMetal',\r\n                'NIFTY PHARMA': 'cnxPharma',\r\n                'NIFTY PSU BANK': 'cnxPSU',\r\n                'NIFTY REALTY': 'cnxRealty',\r\n                'NIFTY PVT BANK': 'niftyPvtBank',\r\n                'NIFTY CONSUMPTION': 'cnxConsumption',\r\n                'NIFTY CPSE': 'cpse',\r\n                'NIFTY INFRA': 'cnxInfra',\r\n                'NIFTY MNC': 'cnxMNC',\r\n                'NIFTY PSE': 'cnxPSE',\r\n\r\n                //  \"NIFTY HEALTHCARE\": \"niftyHealthcare\"\r\n                //'NIFTY CONSR DURBL':  \"niftyConsrDurbl\"\r\n                // 'NIFTY GROWSECT 15': 'ni15',H\r\n                // 'NIFTY COMMODITIES': 'cnxCommodities',\r\n                // 'NIFTY SERV SECTOR': 'cnxService',\r\n                // 'NIFTY100 LIQ 15': 'nseliquid',\r\n                // 'NIFTY MID LIQ 15': 'niftyMidcapLiq15',\r\n                // 'NIFTY DIV OPPS 50': 'cnxDividendOppt',\r\n                // 'NIFTY50 VALUE 20': 'nv20',\r\n                // 'NIFTY QUALITY 30': 'niftyQuality30',\r\n                // 'NIFTY50 EQL WGT': 'nifty50EqualWeight',\r\n                // 'NIFTY100 EQL WGT': 'nifty100EqualWeight',\r\n                // 'NIFTY ALPHA 50': 'niftyAlpha50',\r\n                // 'NIFTY NEXT 50': 'juniorNifty',\r\n                // 'NIFTY MIDCAP 50': 'niftyMidcap50',\r\n            },\r\n            stopnview: '',\r\n            indexTimeStamp: '',\r\n            refreshFlag: true,\r\n            topGLCount: 0,\r\n            refreshFlagCandle: true,\r\n            switchToListViewFlag: true,\r\n            slowMotionStockList: localStorage.getItem('slowMotionStockList') && JSON.parse(localStorage.getItem('slowMotionStockList')) || [],\r\n            sectorStockList: localStorage.getItem('sectorStockList') && JSON.parse(localStorage.getItem('sectorStockList')) || [],\r\n            sectorList: localStorage.getItem('sectorList') && JSON.parse(localStorage.getItem('sectorList')) || [],\r\n            watchList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            gainerList: localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [],\r\n            looserList: localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [],\r\n            timeFrame: \"FIFTEEN_MINUTE\"\r\n\r\n        }\r\n        this.refreshSectorCandle = this.refreshSectorCandle.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // window.location.reload(); \r\n\r\n        window.document.title = \"Hit Map2\";\r\n\r\n\r\n        this.loadIndexesList();\r\n\r\n\r\n        var tokens = localStorage.getItem(\"userTokens\") && JSON.parse(localStorage.getItem(\"userTokens\"));\r\n        var feedToken = tokens && tokens.feedToken;\r\n        var userProfile = localStorage.getItem(\"userProfile\") && JSON.parse(localStorage.getItem(\"userProfile\"));\r\n        var clientcode = userProfile && userProfile.clientcode;\r\n        this.setState({ feedToken: feedToken, clientcode: clientcode });\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n\r\n            wsClintSectorUpdate.onopen = (res) => {\r\n                // this.makeConnection();\r\n                // this.updateSocketWatch();\r\n            }\r\n\r\n\r\n            wsClintSectorUpdate.onmessage = (message) => {\r\n                var decoded = window.atob(message.data);\r\n                var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n                var liveData = JSON.parse(data);\r\n\r\n                //  console.log(\"sector live data\", liveData);\r\n                window.document.title = \"Sector Live WS: \" + liveData.length;\r\n\r\n                this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n\r\n                    outerEelement.stockList && outerEelement.stockList.forEach((element, stockIndex) => {\r\n                        var foundLive = liveData.filter(row => row.tk == element.token);\r\n                        if (foundLive.length > 0 && foundLive[0].ltp && foundLive[0].nc) {\r\n                            this.state.sectorList[index].stockList[stockIndex].ltp = foundLive[0].ltp;\r\n                            this.state.sectorList[index].stockList[stockIndex].nc = foundLive[0].nc;\r\n                            this.state.sectorList[index].stockList[stockIndex].cng = foundLive[0].cng;\r\n                            this.state.sectorList[index].stockList[stockIndex].ltt = foundLive[0].ltt;\r\n\r\n                            this.state.sectorList[index].isStocksLtpUpdted = true;\r\n                        }\r\n                    });\r\n                });\r\n\r\n                this.setState({ sectorList: this.state.sectorList });\r\n                // this.setState({ sectorList: sectorList });\r\n                // localStorage.setItem('sectorList', JSON.stringify(sectorList));\r\n\r\n                // if(index){\r\n                //     this.state.sectorList.forEach((element, i) => {\r\n                //         if(element.index == index){\r\n                //             this.state.sectorList[i].stockList = sectorUpdate; \r\n                //             this.state.sectorList[i].isStocksLtpUpdted = true; \r\n                //             this.setState({ sectorList: this.state.sectorList  });\r\n                //             return; \r\n                //         }\r\n                //     });\r\n                // }\r\n            }\r\n\r\n            wsClintSectorUpdate.onerror = (e) => {\r\n                console.log(\"socket error\", e);\r\n                window.location.reload();\r\n            }\r\n\r\n            // setInterval(() => {\r\n            //     this.makeConnection();\r\n            //     var _req = '{\"task\":\"hb\",\"channel\":\"\",\"token\":\"' + feedToken + '\",\"user\": \"' + clientcode + '\",\"acctid\":\"' + clientcode + '\"}';\r\n            //     // console.log(\"Connection sectior top hb Request :- \" + _req);\r\n            //     wsClintSectorUpdate.send(_req);\r\n            // }, 59000);\r\n\r\n            setInterval(() => {\r\n                this.loadIndexesList();\r\n            }, 120000);\r\n\r\n\r\n\r\n        } else {\r\n            // wsClintSectorUpdate.close();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    getTodayOrder = () => {\r\n        AdminService.retrieveOrderBook()\r\n            .then((res) => {\r\n                let data = resolveResponse(res, \"noPop\");\r\n                if (data && data.data) {\r\n                    var orderlist = data.data;\r\n                    orderlist.sort(function (a, b) {\r\n                        return new Date(b.updatetime) - new Date(a.updatetime);\r\n                    });\r\n                    localStorage.setItem('oderbookData', JSON.stringify(orderlist));\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    updateTokenSymbol = (gainerList) => {\r\n\r\n        var gainerList = localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [];\r\n\r\n        for (let index = 0; index < gainerList.length; index++) {\r\n            const element = gainerList[index];\r\n\r\n\r\n\r\n            if(!element.token && !element.symbol){\r\n                AdminService.autoCompleteSearch(element.name).then(searchRes => {\r\n                    let searchResdata = searchRes.data;\r\n                    if (searchResdata.length) {\r\n                        var uppercaseNameEQ = element.name.toUpperCase() + \"-EQ\";\r\n                        var uppercaseNameBE = element.name.toUpperCase() + \"-BE\";\r\n                        var found = searchResdata.filter(row => row.name === element.name && (row.symbol === uppercaseNameEQ || row.symbol === uppercaseNameBE));\r\n                        if (found.length) {\r\n                            element.symbol = found[0].symbol;\r\n                            element.token = found[0].token;\r\n                            element.exch_seg = found[0].exch_seg; \r\n                            localStorage.setItem('gainerList', JSON.stringify(gainerList));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            \r\n        }\r\n\r\n        var looserList = localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [];\r\n\r\n        for (let index = 0; index < looserList.length; index++) {\r\n            const element = looserList[index];\r\n            if(!element.token && !element.symbol){\r\n                AdminService.autoCompleteSearch(element.name).then(searchRes => {\r\n                    let searchResdata = searchRes.data;\r\n                    if (searchResdata.length) {\r\n                        var uppercaseNameEQ = element.name.toUpperCase() + \"-EQ\";\r\n                        var uppercaseNameBE = element.name.toUpperCase() + \"-BE\";\r\n                        var found = searchResdata.filter(row => row.name === element.name && (row.symbol === uppercaseNameEQ || row.symbol === uppercaseNameBE));\r\n                        if (found.length) {\r\n                            element.symbol = found[0].symbol;\r\n                            element.token = found[0].token;\r\n                            element.exch_seg = found[0].exch_seg; \r\n                            localStorage.setItem('looserList', JSON.stringify(looserList));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n          \r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    loadIndexesList() {\r\n        this.setState({ indexTimeStamp: '', refreshFlag: false, failedCount: 0, topGLCount: 0 });\r\n\r\n        AdminService.allIndicesDirectJSON()\r\n            .then((res) => {\r\n\r\n\r\n                if (res.data) {\r\n\r\n                    var softedData = res.data && res.data.data;\r\n                    softedData.sort(function (a, b) {\r\n                        return b.percChange - a.percChange;\r\n                    });\r\n\r\n\r\n                    this.setState({ indexTimeStamp: softedData[0].timeVal });\r\n\r\n                    var gainerList = [], looserList = [];\r\n\r\n                    for (let index = 0; index < softedData.length; index++) {\r\n                        const element = softedData[index];\r\n                        var slugName = this.state.sluglist[element.indexName];\r\n                        console.log(\"element\", slugName, element.percChange);\r\n\r\n                        if (slugName) {\r\n                            console.log(\"secName\", element.indexName, slugName);\r\n                            AdminService.checkSectorApiOther(slugName).then(res => {\r\n                                console.log(element.indexName, res.data.data);\r\n                                softedData[index].stockList = res.data && res.data.data;\r\n                                softedData[index].time = res.data && res.data.time;\r\n                                this.setState({ sectorList: softedData });\r\n\r\n                                if (element.percChange >= 0.75 || (softedData[index].indexName == \"NIFTY 50\" && element.percChange >= 0.25)) {\r\n\r\n                                    for (let indexStock = 0; indexStock < res.data.data.length - 5; indexStock++) {\r\n                                        const stockElement = res.data.data[indexStock];\r\n                                        var stockInfo = {\r\n                                            name: stockElement.symbol,\r\n                                            ltp: stockElement.ltP,\r\n                                            nc: stockElement.iislPercChange,\r\n                                            sector: softedData[index].indexName,\r\n                                            foundAt: new Date().toLocaleString()\r\n                                        }\r\n\r\n                                        let glist = localStorage.getItem('gainerList') && JSON.parse(localStorage.getItem('gainerList')) || [];\r\n                                        var isfound = glist.filter(row => row.name == stockElement.symbol);\r\n\r\n                                        console.log(stockElement.symbol, isfound);\r\n                                        if (!isfound.length) {\r\n                                            gainerList.push(stockInfo);\r\n                                            localStorage.setItem('gainerList', JSON.stringify(gainerList));\r\n                                        }\r\n\r\n                                    }\r\n                                }\r\n                                if (element.percChange <= -0.75 || (softedData[index].indexName == \"NIFTY 50\" && element.percChange <= -0.25)) {\r\n\r\n                                    var sectorStock = res.data.data;\r\n                                    sectorStock.reverse();\r\n\r\n                                    for (let indexStock = 0; indexStock < res.data.data.length - 5; indexStock++) {\r\n                                        const stockElement = res.data.data[indexStock];\r\n                                        var stockInfo = {\r\n                                            name: stockElement.symbol,\r\n                                            ltp: stockElement.ltP,\r\n                                            nc: stockElement.iislPercChange,\r\n                                            sector: softedData[index].indexName,\r\n                                            foundAt: new Date().toLocaleString()\r\n                                        }\r\n\r\n                                        let llist = localStorage.getItem('looserList') && JSON.parse(localStorage.getItem('looserList')) || [];\r\n\r\n                                        var isfound = llist.filter(row => row.name == stockElement.symbol);\r\n\r\n                                        console.log(\"looseer\", stockElement.symbol, isfound);\r\n                                        if (!isfound.length) {\r\n                                            looserList.push(stockInfo);\r\n                                            localStorage.setItem('looserList', JSON.stringify(looserList));\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                            }).catch(error => {\r\n                                // Notify.showError(element.indexName + \"fail to get stockdata\"); \r\n                                console.log(\"list fetch error\", error)\r\n                            })\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n            .catch((reject) => {\r\n                //      Notify.showError(\"All Indices API Failed\" + <br /> + reject);\r\n                //      this.speckIt(\"All Indices API Failed\");\r\n\r\n            }).finally((ok) => {\r\n\r\n\r\n                setTimeout(() => {\r\n                    this.updateTokenSymbol(\"ok\");\r\n                }, 5000);\r\n\r\n\r\n\r\n            })\r\n\r\n        this.setState({ refreshFlag: true });\r\n\r\n    }\r\n\r\n\r\n    updateLTPMannually = (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n        this.refreshSectorLtp(sectorStocks, index);\r\n    }\r\n\r\n\r\n    refreshSectorLtp = async (sectorStocks, index) => {\r\n\r\n        this.setState({ stockUpdate: index });\r\n\r\n        // console.log(index, \"sectorStocks\",sectorStocks,  new Date())\r\n        this.setState({ refreshFlag: false, failedCount: 0 });\r\n        var sectorUpdate = [];\r\n        var sectorStockList = this.state.sectorStockList;\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"tradingsymbol\": sectorStocks[index].symbol,\r\n                \"symboltoken\": sectorStocks[index].token,\r\n            }\r\n\r\n            //   this.setState({ stockUpdate: index + 1 + \". \" + sectorStocks[index].symbol });\r\n\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n\r\n\r\n                if (LtpData.symboltoken == sectorStocks[index].token) {\r\n\r\n                    //  console.log(index + 1 , sectorStocks[index].symbol , LtpData);\r\n\r\n                    var todayChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;   //close\r\n                    var indexData = sectorStocks[index];\r\n                    indexData.ltp = LtpData.ltp;\r\n                    indexData.nc = todayChange;\r\n                    indexData.cng = (LtpData.ltp - LtpData.close);\r\n                    indexData.ltt = new Date().toLocaleString();\r\n\r\n\r\n                    sectorUpdate.push(indexData);\r\n                }\r\n\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n\r\n                console.log(sectorStocks[index].symbol, error);\r\n\r\n                //  Notify.showError(sectorStocks[index].symbol + \" ltd data not found!\");\r\n            })\r\n\r\n\r\n\r\n            await new Promise(r => setTimeout(r, 101));\r\n\r\n\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorUpdate;\r\n                    this.state.sectorList[i].isStocksLtpUpdted = true;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n        this.setState({ refreshFlag: true });\r\n        // this.refreshSectorCandleManually(index); \r\n        //  this.checkLast5MinMovement(index); \r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    checkLast5MinMovement = async (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n        //   this.refreshSectorLtp(sectorStocks, index);\r\n\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n        console.log(\"sectorStockList\", index);\r\n\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n\r\n\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n            var time = moment.duration(\"00:06:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": sectorStocks[index].token,\r\n                \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + sectorStocks && sectorStocks[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                if (histdata && histdata.data && histdata.data.length) {\r\n                    console.log(sectorStocks[index].symbol, \"candle history\", histdata.data);\r\n\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [];\r\n                    candleData.forEach((element, index) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n\r\n                    });\r\n\r\n                    // var sma = SMA.calculate({period : 10, values : closeingData});\r\n                    // console.log(sectorStocks[index].symbol,\"SMA\", sma);\r\n\r\n\r\n                    // var inputRSI = { values: closeingData, period: 14 };\r\n                    // var lastRsiValue = RSI.calculate(inputRSI)\r\n                    // console.log(sectorStocks[index].symbol, \"lastRsiValue\", lastRsiValue[lastRsiValue.length - 1]);\r\n\r\n\r\n                    // var inputVWAP = {\r\n                    //     open: openData,\r\n                    //     high: highData,\r\n                    //     low: lowData,\r\n                    //     close: closeingData,\r\n                    //     volume: valumeData\r\n                    // };\r\n\r\n\r\n                    // if (candleData.length > 0) {\r\n                    //     sectorStocks[index].candleChartData = candleChartData;\r\n                    //     sectorStocks[index].vwapValue = vwap(vwapdata);\r\n                    //     sectorStocks[index].vwapDataChart = VWAP.calculate(inputVWAP);\r\n                    //     sectorStocks[index].lastRsiValue = lastRsiValue[lastRsiValue.length - 1];\r\n                    // }\r\n\r\n                    console.log(sectorStocks[index].symbol, sectorStocks[index]);\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(sectorStocks[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n                Notify.showError(sectorStocks[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorStocks;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n\r\n\r\n\r\n\r\n        console.log(\"sectorStockswithcandle\", sectorStocks);\r\n    }\r\n    refreshSectorCandleManually = async (index) => {\r\n\r\n        var sectorStocks = this.state.staticData[index];\r\n        //   this.refreshSectorLtp(sectorStocks, index);\r\n\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n        console.log(\"sectorStockList\", index);\r\n\r\n\r\n        for (let index = 0; index < sectorStocks.length; index++) {\r\n\r\n\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n            var time = moment.duration(\"22:00:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": sectorStocks[index].token,\r\n                \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + sectorStocks && sectorStocks[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [];\r\n                    candleData.forEach((element, index) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n\r\n                    });\r\n\r\n                    // var sma = SMA.calculate({period : 10, values : closeingData});\r\n                    // console.log(sectorStocks[index].symbol,\"SMA\", sma);\r\n\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var lastRsiValue = RSI.calculate(inputRSI)\r\n                    console.log(sectorStocks[index].symbol, \"lastRsiValue\", lastRsiValue[lastRsiValue.length - 1]);\r\n\r\n\r\n                    var inputVWAP = {\r\n                        open: openData,\r\n                        high: highData,\r\n                        low: lowData,\r\n                        close: closeingData,\r\n                        volume: valumeData\r\n                    };\r\n\r\n                    var input = {\r\n                        period: 20,\r\n                        values: bbdata,\r\n                        stdDev: 2\r\n\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    console.log(sectorStocks[index].symbol, \"BB\", input, bb);\r\n\r\n\r\n                    if (candleData.length > 0) {\r\n                        sectorStocks[index].candleChartData = candleChartData;\r\n                        sectorStocks[index].vwapValue = vwap(vwapdata);\r\n                        sectorStocks[index].vwapDataChart = VWAP.calculate(inputVWAP);\r\n                        sectorStocks[index].lastRsiValue = lastRsiValue[lastRsiValue.length - 1];\r\n                    }\r\n\r\n                    console.log(sectorStocks[index].symbol, sectorStocks[index]);\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(sectorStocks[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n                Notify.showError(sectorStocks[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n\r\n        if (index) {\r\n            this.state.sectorList.forEach((element, i) => {\r\n                if (element.index == index) {\r\n                    this.state.sectorList[i].stockList = sectorStocks;\r\n                    this.setState({ sectorList: this.state.sectorList });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n\r\n\r\n\r\n\r\n        console.log(\"sectorStockswithcandle\", sectorStocks);\r\n    }\r\n\r\n\r\n    refreshSectorCandle = async () => {\r\n\r\n        this.setState({ refreshFlagCandle: false });\r\n\r\n        var sectorStockList = this.state.sectorStockList;\r\n\r\n        console.log(\"sectorStockList\", this.state.sectorStockList.length);\r\n\r\n\r\n        for (let index = 0; index < this.state.sectorStockList.length; index++) {\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n            var time = moment.duration(\"61:00:00\");\r\n            var startdate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": this.state.sectorStockList[index].token,\r\n                \"interval\": \"FIVE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(beginningTime).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            this.setState({ stockCandleUpdate: index + 1 + \". \" + this.state.sectorStockList && this.state.sectorStockList[index].symbol });\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [];\r\n                    candleData.forEach(element => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    });\r\n\r\n\r\n                    if (candleData.length > 0) {\r\n\r\n                        sectorStockList[index].candleChartData = candleChartData;\r\n                        var sectorList = this.state.sectorList;\r\n                        this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n                            outerEelement.stockList && outerEelement.stockList.forEach((element, stockIndex) => {\r\n                                var foundLive = sectorStockList.filter(row => row.token == element.token);\r\n\r\n                                if (foundLive.length) {\r\n                                    sectorList[index].stockList[stockIndex].candleChartData = foundLive[0].candleChartData;\r\n                                }\r\n                            });\r\n                        });\r\n                        this.setState({ sectorList: sectorList });\r\n                        localStorage.setItem('sectorList', JSON.stringify(sectorList));\r\n                    }\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(this.state.sectorStockList[index].symbol, \"  emply candle found\");\r\n                }\r\n            }).catch(error => {\r\n                this.setState({ failedCount: this.state.failedCount + 1 });\r\n\r\n                Notify.showError(this.state.sectorStockList[index].symbol + \" candle failed!\");\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 350));\r\n        }\r\n\r\n        this.setState({ refreshFlagCandle: true });\r\n    }\r\n\r\n    decodeWebsocketData = (array) => {\r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n\r\n        return newarray.join('');\r\n    }\r\n\r\n    showCandleChart = (candleData, symbol, price, change, vwapDataChart) => {\r\n\r\n        //  candleData  = candleData && candleData.reverse();\r\n\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData));\r\n        localStorage.setItem('cadleChartSymbol', symbol);\r\n        localStorage.setItem('candlePriceShow', price);\r\n        localStorage.setItem('candleChangeShow', change);\r\n        localStorage.setItem('vwapDataChart', vwapDataChart);\r\n\r\n\r\n\r\n        if (candleData && candleData.length > 0) {\r\n            document.getElementById('showCandleChart').click();\r\n        }\r\n    }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n                    return \"19:00:00\";\r\n                else\r\n                    return \"01:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n                    return \"23:00:00\";\r\n                else\r\n                    return \"03:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n                    return \"24:21:00\";\r\n                else\r\n                    return \"07:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n                    return \"28:01:00\";\r\n                else\r\n                    return \"10:01:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"100:01:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"200:01:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"1000:01:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    dailyBasisInfoCheck = (token, element) => {\r\n        //this.setState({DailyBulishStatus: ''}); \r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n        let timeDuration = this.getTimeFrameValue('ONE_DAY');\r\n        var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n        var startDateforDaily = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'ONE_DAY',\r\n            \"fromdate\": moment(startDateforDaily).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0;\r\n\r\n\r\n                for (let index = candleDatad.length - 20; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n                    if (element) {\r\n                        closeingDatadaily.push(element[4]);\r\n                        valumeSum += element[5];\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                DSMA = SMA.calculate({ period: 20, values: closeingDatadaily });\r\n                this.setState({ dailyAvgValume: valumeSum / 20 });\r\n\r\n                var DSMALastValue = DSMA && DSMA[DSMA.length - 1];\r\n                console.log(token, \"DSMA\", DSMALastValue);\r\n\r\n                if (DSMALastValue) {\r\n                    this.setState({ DailyBulishStatus: DSMALastValue, todayCurrentVolume: candleDatad[candleDatad.length - 1][5] });\r\n                }\r\n\r\n                if (candleDatad[candleDatad.length - 1][5] > valumeSum / 20) {\r\n                    console.log(\"crosssed voliue\", element);\r\n                    //   this.setState({ volumeCrossedList: [...this.state.volumeCrossedList, element] })\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n    showCandleChartPopUp = (symbol) => {\r\n\r\n\r\n        // //  candleData  = candleData && candleData.reverse();\r\n\r\n        // // localStorage.setItem('candleChartData', JSON.stringify(candleData));\r\n        // localStorage.setItem('cadleChartSymbol', symbol);\r\n        // // localStorage.setItem('candlePriceShow', price);\r\n        // // localStorage.setItem('candleChangeShow', change);\r\n        // // localStorage.setItem('vwapDataChart', vwapDataChart);\r\n\r\n        // document.getElementById('showCandleChart').click();\r\n\r\n\r\n\r\n        var watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [];\r\n        var isThere = watchList.filter(row => row.name === symbol);\r\n        if (isThere && isThere.length) {\r\n\r\n            let stock = isThere[0];\r\n\r\n\r\n\r\n            this.dailyBasisInfoCheck(stock.token);\r\n\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n            var time = moment.duration(\"22:00:00\");  //22:00:00\" for last day  2hours \r\n            // var beginningTime = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": stock.token,\r\n                \"interval\": this.state.timeFrame,  //'FIVE_MINUTE',\r\n                \"fromdate\": moment(beginningTime).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let historyData = resolveResponse(res, 'noPop');\r\n                console.log(\"candledata\", historyData);\r\n                if (historyData && historyData.data) {\r\n\r\n                    var data = historyData.data;\r\n\r\n                    const cdata = data.map(d => {\r\n                        return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                    });\r\n\r\n\r\n\r\n                    var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                    data.forEach((element, loopindex) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                        volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                    });\r\n\r\n                    var input = {\r\n                        period: 20,\r\n                        values: bbdata,\r\n                        stdDev: 2\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    console.log(stock.symbol, \"Bolinger band\", input, bb);\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    console.log(stock.symbol, \"Bolinger band\", input, bb);\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var rsiValues = RSI.calculate(inputRSI);\r\n\r\n                    console.log(stock.symbol, \"Rsi\", inputRSI, rsiValues);\r\n                    console.log(stock.symbol, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                    var data = {\r\n                        \"exchange\": stock.exch_seg,\r\n                        \"tradingsymbol\": stock.symbol,\r\n                        \"symboltoken\": stock.token,\r\n                    }\r\n                    AdminService.getLTP(data).then(res => {\r\n                        let data = resolveResponse(res, 'noPop');\r\n                        var LtpData = data && data.data;\r\n\r\n                        LtpData.change = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n\r\n\r\n\r\n                        this.showCandleChart(candleChartData, stock.symbol, LtpData.ltp, LtpData.change);\r\n\r\n\r\n                        // this.setState({InstrumentLTP: LtpData , selectedSymbol : stock.symbol,  chartStaticData: candleChartData, bblastValue: bb[bb.length - 1], vwapvalue: vwap(vwapdata), rsiValues: rsiValues.slice(Math.max(valumeData.length - 19, 1)), valumeData: valumeData.slice(Math.max(valumeData.length - 5, 1)) }, function () {\r\n\r\n                        //     document.getElementById('showLightCandleChart').click();\r\n                        // });\r\n\r\n\r\n                    })\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    updateSocketWatch = () => {\r\n\r\n\r\n\r\n        var channel = [];\r\n        this.state.sectorList.forEach(element => {\r\n            if (element.percentChange >= 0.75) {\r\n                element.stockList && element.stockList.forEach(stock => {\r\n                    channel.push('nse_cm|' + stock.token);\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        if (channel && channel.length) {\r\n            var updateWatch = {\r\n                \"task\": \"mw\",\r\n                \"channel\": channel.join('&'),\r\n                \"token\": this.state.feedToken,\r\n                \"user\": this.state.clientcode,\r\n                \"acctid\": this.state.clientcode\r\n            }\r\n\r\n            console.log(\"update watch channel\", updateWatch);\r\n            wsClintSectorUpdate.send(JSON.stringify(updateWatch));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n    get2DecimalNumber = (number) => {\r\n\r\n        if (number) {\r\n            return number.toFixed(2);\r\n        } else {\r\n            return number;\r\n        }\r\n    }\r\n    switchToListView = () => {\r\n        this.setState({ switchToListViewFlag: !this.state.switchToListViewFlag });\r\n    }\r\n\r\n    get5DaysMoveCount = (symbol) => {\r\n        var isThere = this.state.slowMotionStockList.filter(row => row.name === symbol);\r\n        if (isThere.length) {\r\n            return \"SM: \" + isThere[0].bigCandleCount;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    getDeliveryInfo = (symbol) => {\r\n\r\n        AdminService.getDeliveryData(symbol).then(resd => {\r\n            if (resd && resd.data && resd.data.length)\r\n                return \"D2T%: \" + resd.data[0].deliveryToTradedQuantity;\r\n        });\r\n\r\n    }\r\n    showDeliveryData=(indexName)=>{\r\n     //  window.open('#/delivery?indexName='+indexName,'_blank');\r\n       \r\n      // this.setState({clickedIndexName : indexName})\r\n       localStorage.setItem('clickedIndexName', indexName); \r\n       localStorage.setItem('clickedIndexType', \"Depth\"); \r\n       document.getElementById('fullModelId').click();\r\n    }\r\n    showAllChart =(indexName)=> {\r\n        localStorage.setItem('clickedIndexName', indexName); \r\n        localStorage.setItem('clickedIndexType', \"Charts\"); \r\n        document.getElementById('fullModelId').click();\r\n        //window.open('#/index-charts?indexName='+indexName,'_blank');\r\n    }\r\n    render() {\r\n\r\n        // this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n        //     outerEelement.stockList && outerEelement.stockList.sort(function (a, b) {\r\n        //         return b.nc - a.nc;\r\n        //     });\r\n        // });\r\n\r\n\r\n        let sqrOffbeginningTime = moment('9:15am', 'h:mma');\r\n        let sqrOffendTime = moment('03:30pm', 'h:mma');\r\n        let sqrOffcurrentTime = moment(new Date(), \"h:mma\");\r\n        if (sqrOffcurrentTime.isBetween(sqrOffbeginningTime, sqrOffendTime)) {\r\n            this.state.sectorList && this.state.sectorList.forEach((outerEelement, index) => {\r\n                if (outerEelement.percentChange > 0.75 && outerEelement.isStocksLtpUpdted) {\r\n                    outerEelement.stockList && outerEelement.stockList.forEach((element, index2) => {\r\n                        if (index2 < 2) {\r\n                            var autoTradeTopList = localStorage.getItem('autoTradeTopList') && JSON.parse(localStorage.getItem('autoTradeTopList')) || [];\r\n                            var isThere = autoTradeTopList.filter(row => row.token === element.token);\r\n                            if (!isThere.length) {\r\n                                element.foundAt = new Date().toLocaleString();\r\n                                autoTradeTopList.push(element);\r\n                                localStorage.setItem('autoTradeTopList', JSON.stringify(autoTradeTopList));\r\n                                console.log(element.name + \" is on top  \" + (index2 + 1) + new Date().toLocaleString());\r\n                                this.speckIt(element.name + \" is on top  \" + (index2 + 1));\r\n                                //  this.historyWiseOrderPlace(element , 'BUY', \"Automatic\"); \r\n                            }\r\n                        }\r\n\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n\r\n                <ChartDialog />\r\n                <FullModel indexName={this.state.clickedIndexName} />\r\n                <LightChartDialog LightChartData={{ InstrumentLTP: this.state.InstrumentLTP, DailyBulishStatus: this.state.DailyBulishStatus, todayCurrentVolume: this.state.todayCurrentVolume, selectedSymbol: this.state.selectedSymbol, chartStaticData: this.state.chartStaticData, bblastValue: this.state.bblastValue, vwapvalue: this.state.vwapvalue, rsiValues: this.state.rsiValues, valumeData: this.state.valumeData }} />\r\n\r\n                <Grid direction=\"row\" container className=\"flexGrow\" spacing={1} style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n                    <Grid item xs={12} sm={6} >\r\n                        <Typography component=\"h3\" variant=\"h6\" color=\"primary\" >\r\n                            Sectors HitMap ({Object.keys(this.state.sluglist).length}) at {this.state.indexTimeStamp}\r\n                            &nbsp;\r\n                            <Button variant=\"contained\" onClick={() => this.loadIndexesList()}>Refresh</Button>\r\n\r\n                            &nbsp;\r\n\r\n                            {/* {this.state.refreshFlagCandle ? <Button variant=\"contained\" onClick={() => this.refreshSectorCandle()}>Refresh Candle</Button> : <> <Button> <Spinner /> &nbsp; {this.state.stockCandleUpdate}  </Button> </>}\r\n                            &nbsp; */}\r\n\r\n                            {/* <Button variant=\"contained\" onClick={() => this.makeConnection()}> WS Refresh</Button> */}\r\n\r\n\r\n\r\n                            <Button onClick={() => this.switchToListView()}>switch to list view</Button>\r\n                        </Typography>\r\n\r\n                        {/* {localStorage.getItem('autoTradeTopList')} */}\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={{ minWidth: '100%' }} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChange} >\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n\r\n                    {!this.state.switchToListViewFlag && this.state.sectorList ? this.state.sectorList.map((indexdata, index) => (\r\n\r\n                        //this.state.topGLCount <= 2 ? 6 : this.state.topGLCount == 3 ? 4 : 3\r\n                        indexdata.stockList ? <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ padding: '10px', background: \"lightgray\", textAlign: \"center\" }}>\r\n\r\n\r\n                                {/* <Button size=\"small\" variant=\"contained\" title=\"update ltp\" onClick={() => this.updateLTPMannually(indexdata.index)}>\r\n                                <b> {index + 1}. {indexdata.index || indexdata.indexName + \" \" + indexdata.last}({indexdata.percentChange || indexdata.percChange}%)</b> &nbsp; {indexdata.time.substr(13,8)}\r\n                            </Button>\r\n                            &nbsp;\r\n\r\n                            <Button size=\"small\" variant=\"contained\" title=\"Candle refresh\" onClick={() => this.refreshSectorCandleManually(indexdata.index)}>\r\n                                <ShowChartIcon />\r\n                            </Button> */}\r\n\r\n                                <Typography variant=\"body1\" >\r\n                                    <b> {index + 1}. {indexdata.index || indexdata.indexName + \" \" + indexdata.last}({indexdata.percentChange || indexdata.percChange}%)</b> &nbsp; {indexdata.time.substr(13, 8)}\r\n                                </Typography>\r\n\r\n                                <Grid direction=\"row\" container className=\"flexGrow\" spacing={1} >\r\n\r\n                                    {indexdata.stockList && indexdata.stockList.map((sectorItem, i) => (\r\n                                        <Grid item xs={12} sm={6} >\r\n                                            <Paper style={{ textAlign: \"center\" }} >\r\n                                                {/* {sectorItem.cng} */}\r\n                                                <Typography style={{ background: this.getPercentageColor(sectorItem.iislPercChange), fontSize: '14px' }}>\r\n                                                    {i + 1}. {sectorItem.symbol} {sectorItem.ltP} ({sectorItem.iislPercChange}%)\r\n                                                </Typography>\r\n\r\n\r\n                                                {sectorItem.candleChartData ? <span style={{ cursor: 'pointer' }} onClick={() => this.showCandleChart(sectorItem.candleChartData, sectorItem.name, sectorItem.ltp, sectorItem.nc, sectorItem.vwapDataChart)} >\r\n                                                    <LineChart candleChartData={sectorItem.candleChartData} percentChange={sectorItem.nc} vwapDataChart={sectorItem.vwapDataChart} />\r\n                                                </span> : \"\"}\r\n\r\n                                                {sectorItem.vwapValue ?\r\n                                                    <Typography >\r\n                                                        {sectorItem.vwapValue ? <span style={{ background: sectorItem.ltp > sectorItem.vwapValue ? \"#00ff00\" : \"red\", fontSize: '14px' }}>VWAP:<b>{sectorItem.vwapValue && sectorItem.vwapValue.toFixed(2)}</b> </span> : \"\"}\r\n                                                        &nbsp;\r\n                                                        {sectorItem.lastRsiValue ? <span title=\"OB means 'Overbought'\" style={{ background: sectorItem.lastRsiValue >= 60 ? \"#00ff00\" : sectorItem.lastRsiValue >= 40 && sectorItem.lastRsiValue < 60 ? \"lightgray\" : \"red\", fontSize: '14px' }}>RSI:<b>{sectorItem.lastRsiValue}</b> {sectorItem.lastRsiValue > 80 ? \"OB\" : sectorItem.lastRsiValue >= 60 && sectorItem.lastRsiValue <= 80 ? \"Buy\" : sectorItem.lastRsiValue >= 40 && sectorItem.lastRsiValue < 60 ? \"NoTrade\" : \"Sell\"} </span> : \"\"}\r\n                                                    </Typography>\r\n                                                    : \"\"}\r\n\r\n                                                {/* {sectorItem.candleChartData ? <ReactApexChart\r\n                                                options={{\r\n                                                    chart: {\r\n                                                        type: 'candlestick',\r\n                                                        //  height: 40\r\n\r\n                                                    },\r\n                                                    title: {\r\n                                                        text: '',\r\n                                                        align: 'left'\r\n                                                    },\r\n                                                    xaxis: {\r\n                                                        type: 'datetime',\r\n                                                    },\r\n                                                    yaxis: {\r\n                                                        tooltip: {\r\n                                                            enabled: true\r\n                                                        }\r\n                                                    }\r\n                                                }}\r\n                                                series={[{\r\n                                                    data: sectorItem.candleChartData\r\n\r\n                                                }]}\r\n                                                type=\"candlestick\"\r\n                                    \r\n                                            /> : \"\"} */}\r\n\r\n\r\n                                                {/* <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n                                                <Grid item>\r\n                                                    {!this.state['buyButtonClicked' + indexdata.index + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.historyWiseOrderPlace(sectorItem, 'BUY', \"\", 'buyButtonClicked' + indexdata.index + i)}>Buy</Button> : <Spinner />}\r\n                                                </Grid>\r\n\r\n                                                <Grid item >\r\n                                                    {sectorItem.ltt && new Date(sectorItem.ltt).toLocaleTimeString()}\r\n                                                </Grid>\r\n\r\n                                                <Grid item >\r\n                                                    {!this.state['sellButtonClicked' + indexdata.index + i] ? <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={() => this.historyWiseOrderPlace(sectorItem, 'SELL', \"\", 'sellButtonClicked' + indexdata.index + i)}>Sell</Button> : <Spinner />}\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                            */}\r\n\r\n\r\n                                            </Paper>\r\n\r\n\r\n                                        </Grid>\r\n                                    ))\r\n                                    }\r\n                                </Grid>\r\n\r\n                            </Paper>\r\n                        </Grid> : \"\"\r\n\r\n                    )) : \"\"}\r\n\r\n\r\n                    <Table id=\"tabledata\" aria-label=\"a dense table\" stickyHeader size=\"small\" >\r\n                        <TableBody hover style={{ whiteSpace: \"nowrap\" }} >\r\n\r\n\r\n                            {this.state.switchToListViewFlag && this.state.sectorList ? this.state.sectorList.map((indexdata, index) => (\r\n\r\n                                indexdata.stockList ? <TableRow hover={true} key={index}>\r\n                                    <TableCell style={{ background: '#0068ff45' }} >\r\n                                           <Button style={{ background: this.getPercentageColor(indexdata.percChange) }} variant=\"contained\"   onClick={() => this.showAllChart(indexdata.indexName )}>\r\n                                            {indexdata.indexName + \" \" + indexdata.last}({indexdata.percChange}%)<EqualizerIcon />\r\n                                          </Button>\r\n                                          &nbsp;\r\n                                          <Button variant=\"contained\"   onClick={() => this.showDeliveryData(indexdata.indexName )}>\r\n                                            Depth\r\n                                          </Button>\r\n                                    </TableCell>\r\n\r\n                                    {indexdata.stockList && indexdata.stockList.map((sectorItem, i) => (\r\n                                        <TableCell style={{ textAlign: \"left\", }}  >\r\n                                              <Button  onClick={() => this.showCandleChartPopUp(sectorItem.symbol)}>\r\n                                                    <span style={{ background: this.getPercentageColor(sectorItem.iislPercChange) }}>  <b>{i + 1}.</b> {sectorItem.symbol} {sectorItem.ltP} ({sectorItem.iislPercChange}%) </span>\r\n                                                    <span title=\"last 5 days 5min big movement  maximum count\">&nbsp;{this.get5DaysMoveCount(sectorItem.symbol)}  </span>\r\n\r\n                                                    {/* <span title=\"Delivery Info\">&nbsp;{this.getDeliveryInfo(sectorItem.symbol)}  </span>  */}\r\n                                                    \r\n                                                </Button>\r\n\r\n\r\n                                        </TableCell>\r\n                                    ))\r\n                                    }\r\n\r\n                                </TableRow>\r\n                                    : \"\"\r\n\r\n                            )) : ''}\r\n\r\n\r\n                        </TableBody>\r\n                    </Table>\r\n\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n// const styles = {\r\n//     tableStyle : {\r\n//         display: 'flex',\r\n//         justifyContent: 'center'\r\n//     }, \r\n//     selectStyle:{\r\n//         marginBottom: '0px',\r\n//         minWidth: 240,\r\n//         maxWidth: 240\r\n\r\n//     }\r\n\r\n// }\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { packs: state.packs.packs.data };\r\n}\r\nexport default connect(mapStateToProps, { setPackLoaded })(MyView);\r\n","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Parser from 'html-react-parser';\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist: \"NIFTY 50\",\r\n            totalStockToWatch: 0,\r\n            timeFrame: \"TEN_MINUTE\",\r\n            chartStaticData: [],\r\n            qtyToTake:'',\r\n            BBBlastType : \"BBBlastOnly\",\r\n            fastMovementList:  localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n\r\n\r\n        };\r\n        this.findlast5minMovement = this.findlast5minMovement.bind(this);\r\n        this.startSearching = this.startSearching.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"Fast Movement\";\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ totalStockToWatch: watchList.length });\r\n\r\n        // this.findlast5minMovement(); //one time only\r\n        //   this.startSearching();\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n\r\n        var tostartInteral = setInterval(() => {\r\n            var time = new Date();\r\n            console.log(\"set interval 1sec min/10==0 \", time.toLocaleTimeString());\r\n            if (time.getMinutes() % 5 === 0) {\r\n                console.log(\"search method call in with setTimeout 70sec\", time.toLocaleTimeString());\r\n\r\n                setTimeout(() => {\r\n                    this.find10MinBBBlast();\r\n                }, 70000);\r\n                this.setState({\r\n                    stop10bbSearch:\r\n                        setInterval(() => {\r\n                            console.log(\"search method call in with setInterval in 10min\", time.toLocaleTimeString());\r\n                            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                                this.find10MinBBBlast();\r\n                            }\r\n                        }, 60000 * 5 + 70000)\r\n                });\r\n\r\n                clearInterval(tostartInteral);\r\n            }\r\n        }, 1000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    stopSearching = () => {\r\n        console.log(\"stop the search\")\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n\r\n    }\r\n    onChangeQty = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    showCandleChart = (candleData, symbol, ltp, perChange) => {\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n        localStorage.setItem('candlePriceShow', ltp);\r\n        localStorage.setItem('candleChangeShow', perChange.toFixed(2));\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            //this.startSearching();\r\n            this.find10MinBBBlast();\r\n\r\n        });\r\n    }\r\n\r\n    startSearching = () => {\r\n\r\n        console.log(\"Starting the search\");\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            var intervaltime = 60000;\r\n            if (this.state.totalStockToWatch > 180) {\r\n                intervaltime = this.state.totalStockToWatch * 333;\r\n            }\r\n            this.setState({ findlast5minMovementInterval: setInterval(() => { this.findlast5minMovement(); }, intervaltime) });\r\n        }\r\n    }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n        \r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n                    return \"18:21:00\";\r\n                else\r\n                    return \"00:21:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n                    return \"19:41:00\";\r\n                else\r\n                    return \"01:41:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n                    return \"21:21:00\";\r\n                else\r\n                    return \"03:21:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n                    return \"23:01:00\";\r\n                else\r\n                    return \"05:01:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"84:01:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"168:01:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"744:01:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateToLocalStorage =(row)=>{\r\n\r\n        let foundAt = new Date(row.foundAt).toLocaleString();\r\n      \r\n       var isfound = this.state.fastMovementList.filter(element => (element.token == row.token && element.foundAt == foundAt));\r\n       console.log(\"isfound\", isfound); \r\n\r\n        if(!isfound.length){\r\n\r\n            var updateData = {\r\n                token: row.token, \r\n                foundAt: foundAt, \r\n                ltp: row.ltp, \r\n                symbol: row.symbol, \r\n                nc:  row.perChange.toFixed(2),\r\n                orderType: row.orderType\r\n            }\r\n            this.state.fastMovementList.push(updateData); \r\n            //this.setState({ fastMovementList: [..., updateData] });\r\n            localStorage.setItem(\"fastMovementList\", JSON.stringify(this.state.fastMovementList)  ); \r\n        }\r\n\r\n    }\r\n\r\n    find10MinBBBlast = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '', findlast5minMovement: [] });\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        for (let index = 0; index < watchList.length; index++) {\r\n\r\n            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() });\r\n\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n            let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n            var time = moment.duration(\"100:00:00\");  //22:00:00\" for last day  2hours  timeDuration\r\n            var startDate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": watchList[index].exch_seg,\r\n                \"symboltoken\": watchList[index].token,\r\n                \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                // console.log(\"candle history\", histdata);\r\n\r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [],lightcandleChartData=[], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [];\r\n                    candleData.forEach((element, loopindex) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n\r\n                        var time = { year: new Date(element[0]).getFullYear() ,month: new Date(element[0]).getMonth() ,day: new Date(element[0]).getDate() }\r\n                      \r\n                    //    { time: '2018-10-24', open: 178.58, high: 182.37, low: 176.31, close: 176.97 },\r\n                        lightcandleChartData.push({\r\n                            x: new Date(element[0]).getTime(),\r\n                            y:  (element[2] + element[3] + element[4]) / 3\r\n                          });\r\n                           \r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n\r\n                    });\r\n\r\n                   // { time: '2018-10-19', value: 19103293.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n\r\n                    var sma = SMA.calculate({ period: 20, values: closeingData });\r\n                    console.log(watchList[index].symbol, \"SMA\", sma);\r\n\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var lastRsiValue = RSI.calculate(inputRSI);\r\n\r\n                    console.log(watchList[index].symbol, \"Rsi\", inputRSI, lastRsiValue);\r\n                    console.log(watchList[index].symbol, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                    var inputVWAP = {\r\n                        open: openData,\r\n                        high: highData,\r\n                        low: lowData,\r\n                        close: closeingData,\r\n                        volume: valumeData\r\n                    };\r\n\r\n                    var input = {\r\n                        period: 20,\r\n                        values: bbdata,\r\n                        stdDev: 2\r\n\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    console.log(watchList[index].symbol, \"Bolinger band\", input, bb);\r\n\r\n\r\n                    var bbvlastvalue = bb[bb.length - 1];\r\n                    if (bbvlastvalue) {\r\n                        bbvlastvalue.upper = bbvlastvalue.upper.toFixed(2);\r\n                        bbvlastvalue.middle = bbvlastvalue.middle.toFixed(2);\r\n                        bbvlastvalue.lower = bbvlastvalue.lower.toFixed(2);\r\n\r\n                    }\r\n                    var dataltp = {\r\n                        \"exchange\": \"NSE\",\r\n                        \"tradingsymbol\": watchList[index].symbol,\r\n                        \"symboltoken\": watchList[index].token,\r\n                    }\r\n\r\n                    AdminService.getLTP(dataltp).then(res => {\r\n                        let data = resolveResponse(res, 'noPop');\r\n                        var LtpData = data && data.data;\r\n                        //console.log(LtpData);\r\n                        if (LtpData && LtpData.ltp) {\r\n\r\n\r\n                            lastRsiValue = lastRsiValue.slice((lastRsiValue.length - 6), lastRsiValue.length);\r\n\r\n                            var upsidecount = 0, downsidecount = 0, startingRsiupside = lastRsiValue[2], startingRsiDownside = lastRsiValue[2];\r\n                            lastRsiValue.forEach((element, i) => {\r\n                                if (i > 2 && element >= 55 && element <= 65) {\r\n                                    if (startingRsiupside <= element) {\r\n                                        startingRsiupside = element;\r\n                                        upsidecount += 1;\r\n                                    }\r\n                                }\r\n\r\n                                if (i > 2 && element >= 35 && element <= 45) {\r\n                                    if (element <= startingRsiDownside) {\r\n                                        startingRsiDownside = element;\r\n                                        downsidecount += 1;\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            var volumeUpside = valumeData[2], volUpCount =0;                          \r\n                            valumeData.forEach((element, i) => {\r\n                                if (i > 2 && volumeUpside < element) {\r\n                                    volumeUpside = element;\r\n                                    volUpCount += 1;\r\n                                }\r\n                            });\r\n\r\n                            console.log(watchList[index].symbol, \"valumeData\", valumeData, );\r\n\r\n                            console.log(watchList[index].symbol, \"last continue rsi\", upsidecount);\r\n                            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" RSI rising :\" + upsidecount });\r\n                        \r\n\r\n                            if (upsidecount >= 2 || downsidecount >= 2) {\r\n                                if (this.state.BBBlastType == 'BBBlastOnly') {\r\n                                    if (bbvlastvalue && LtpData.ltp >= bbvlastvalue.upper) {\r\n                                        var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                        let data = {\r\n                                            symbol: watchList[index].symbol,\r\n                                            token: watchList[index].token,\r\n                                            ltp: LtpData.ltp,\r\n                                            perChange: perChange,\r\n                                            RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                            RSI: lastRsiValue,\r\n                                            VWAP: vwap(vwapdata),\r\n                                            BB: bbvlastvalue,\r\n                                            candleChartData: candleChartData,\r\n                                            lightcandleChartData: lightcandleChartData,\r\n                                            foundAt : candleData && candleData[candleData.length-1][0],\r\n                                            orderType: \"BUY\",\r\n                                            name: watchList[index].name,\r\n                                        }\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.updateToLocalStorage(data); \r\n\r\n                                        this.speckIt(watchList[index].symbol + ' BB  buy');\r\n                                        window.document.title = \"FM: Buy \" + watchList[index].symbol;\r\n                                    }\r\n                                    if (bbvlastvalue && LtpData.ltp <= bbvlastvalue.lower) {\r\n                                        var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                       let data = {\r\n                                            symbol: watchList[index].symbol,\r\n                                            token: watchList[index].token,\r\n                                            ltp: LtpData.ltp,\r\n                                            perChange: perChange,\r\n                                            RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                            RSI: lastRsiValue,\r\n                                            VWAP: vwap(vwapdata),\r\n                                            BB: bbvlastvalue,\r\n                                            candleChartData: candleChartData,\r\n                                            lightcandleChartData: lightcandleChartData,\r\n                                            foundAt : candleData && candleData[candleData.length-1][0],\r\n                                            orderType: \"SELL\",\r\n                                            name: watchList[index].name,\r\n                                        }\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.updateToLocalStorage(data); \r\n\r\n                                        this.speckIt(watchList[index].symbol + ' BB sell');\r\n                                        window.document.title = \"FM: Sell \" + watchList[index].symbol;\r\n                                    }\r\n                                } else {\r\n\r\n                                    let timeDuration = this.getTimeFrameValue('ONE_DAY');\r\n                                    var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n                                    var startDateforDaily = moment(new Date()).subtract(time);\r\n                                    var dataDay = {\r\n                                        \"exchange\": watchList[index].exch_seg,\r\n                                        \"symboltoken\": watchList[index].token,\r\n                                        \"interval\": 'ONE_DAY',\r\n                                        \"fromdate\": moment(startDateforDaily).format(format1),\r\n                                        \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                                    }\r\n                                    AdminService.getHistoryData(dataDay).then(resd => {\r\n                                        let histdatad = resolveResponse(resd, 'noPop');\r\n                                        var DSMA = '';\r\n                                        if (histdatad && histdatad.data && histdatad.data.length) {\r\n                                            var candleDatad = histdatad.data;\r\n                                            var closeingDatadaily = [];\r\n                                            candleDatad.forEach((element, loopindex) => {\r\n                                                closeingDatadaily.push(element[4]);\r\n                                            });\r\n\r\n                                            DSMA = SMA.calculate({ period: 20, values: closeingDatadaily });\r\n\r\n                                            var DSMALastValue = DSMA && DSMA[DSMA.length - 1];\r\n                                            console.log(watchList[index].symbol, \"DSMA\", DSMALastValue);\r\n\r\n                                            if (LtpData.ltp > DSMALastValue && bbvlastvalue && LtpData.ltp >= bbvlastvalue.upper) {\r\n                                                var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                                \r\n                                                let data = {\r\n                                                    symbol: watchList[index].symbol,\r\n                                                    token: watchList[index].token,\r\n                                                    ltp: LtpData.ltp,\r\n                                                    perChange: perChange,\r\n                                                    RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                                    RSI: lastRsiValue,\r\n                                                    VWAP: vwap(vwapdata),\r\n                                                    BB: bbvlastvalue,\r\n                                                    DSMALastValue: DSMALastValue,\r\n                                                    candleChartData: candleChartData,\r\n                                                    lightcandleChartData: lightcandleChartData,\r\n                                                    foundAt : candleData && candleData[candleData.length-1][0],\r\n                                                    orderType: \"BUY\",\r\n                                                    name: watchList[index].name,\r\n                                                    \r\n                                                }; \r\n                                                \r\n                                                foundData.push(data)\r\n                                                this.setState({ findlast5minMovement: foundData });\r\n                                                this.updateToLocalStorage(data); \r\n\r\n                                                this.speckIt(watchList[index].symbol + ' BB  buy');\r\n                                                window.document.title = \"FM: Buy \" + watchList[index].symbol;\r\n\r\n                                            }\r\n                                            if (LtpData.ltp < DSMALastValue && bbvlastvalue && LtpData.ltp <= bbvlastvalue.lower) {\r\n                                                var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                                let data = {\r\n                                                    symbol: watchList[index].symbol,\r\n                                                    token: watchList[index].token,\r\n                                                    ltp: LtpData.ltp,\r\n                                                    perChange: perChange,\r\n                                                    RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                                    RSI: lastRsiValue,\r\n                                                    VWAP: vwap(vwapdata),\r\n                                                    BB: bbvlastvalue,\r\n                                                    DSMALastValue: DSMALastValue,\r\n                                                    candleChartData: candleChartData,\r\n                                                    lightcandleChartData: lightcandleChartData,\r\n                                                    foundAt : candleData && candleData[candleData.length-1][0],\r\n                                                    orderType: \"SELL\",\r\n                                                    name: watchList[index].name,\r\n                                                }\r\n                                                foundData.push(data)\r\n                                                this.setState({ findlast5minMovement: foundData });\r\n                                                this.updateToLocalStorage(data); \r\n\r\n                                                this.speckIt(watchList[index].symbol + ' BB sell');\r\n                                                window.document.title = \"FM: Sell \" + watchList[index].symbol;\r\n                                            }\r\n                                        }\r\n\r\n\r\n                                    });\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n\r\n                        }\r\n\r\n                    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(watchList[index].symbol, \"  emply candle found\");\r\n                }\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 600));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    findlast5minMovement = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '' });\r\n\r\n        var timediff = moment.duration(\"00:05:00\");\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var startdate = moment(new Date()).subtract(timediff);\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n        console.log(\"watchList\", this.state.selectedWatchlist, watchList);\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        if (watchList && watchList.length) {\r\n            for (let index = 0; index < watchList.length; index++) {\r\n                const element = watchList[index];\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": element.token,\r\n                    \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE    FIFTEEN_MINUTE\r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                var updateMsg = index + 1 + \". \" + element.symbol;\r\n                this.setState({ findlast5minMovementUpdate: updateMsg });\r\n\r\n                window.document.title = \"FM: \" + updateMsg;\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    //console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var percentChangeList = []; var foundCount = 0;\r\n                        histdata.data.forEach(element => {\r\n                            var changePer = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                            if (changePer >= 0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:green'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n                            if (changePer <= -0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:red'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n                        var ttophistCandle = [];\r\n                        histdata.data.forEach(element => {\r\n                            ttophistCandle.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n\r\n                        if (percentChangeList.length) {\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": watchList[index].symbol,\r\n                                \"symboltoken\": watchList[index].token,\r\n                            }\r\n                            AdminService.getLTP(data).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                //console.log(LtpData);\r\n                                if (LtpData && LtpData.ltp) {\r\n\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    foundData.push({\r\n                                        symbol: watchList[index].symbol,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        percentChangeList: percentChangeList.join(\" | \"),\r\n                                        candleChartData: ttophistCandle,\r\n                                    })\r\n                                    console.log(\"foundData\", foundData);\r\n                                    this.setState({ findlast5minMovement: foundData })\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        console.log(\" candle data emply\");\r\n                    }\r\n                })\r\n                await new Promise(r => setTimeout(r, 333));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    callbackAfterOrderDone = (order) => {\r\n        // setValues({ ...values, ['buyFlag']: order.status });\r\n        // setValues({ ...values, ['sellFlag']:  order.status  });\r\n        //  this.setState({ [spineerId]: order.status}); \r\n\r\n\r\n        console.log(\"order executed\", order);\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClick = (row, type, spinnerIndex) => {\r\n\r\n\r\n        console.log(row);\r\n        if (row.token && row.symbol) {\r\n            if (type == 'BUY') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake : this.state.qtyToTake\r\n                }\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake : this.state.qtyToTake\r\n                }\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n            }\r\n        } else {\r\n            Notify.showError(\" Symbol Not found!!!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container spacing={1}>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            &nbsp;BB Blast ({this.state.findlast5minMovement && this.state.findlast5minMovement.length})\r\n                            <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.findlast5minMovementUpdate} </span>\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                            <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                    <MenuItem value={element}>{element}</MenuItem>\r\n                                ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.BBBlastType} name=\"BBBlastType\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'BBBlastOnly'}>{'BB Blast'}</MenuItem>\r\n                                <MenuItem value={'BBBlastDaily'}>{'BB Blast Daily'}</MenuItem>\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.find10MinBBBlast()}>Start</Button>\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.stopSearching()}>Stop</Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n                {/* <Table  size=\"small\"   aria-label=\"sticky table\" >\r\n                    <TableHead  style={{whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                        <TableRow key=\"1\"  variant=\"head\" style={{fontWeight: 'bold'}}>\r\n                            <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol</TableCell>        \r\n                            <TableCell className=\"TableHeadFormat\"  align=\"left\">Time/PerChnage</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n                        {this.state.findlast5minMovement ? this.state.findlast5minMovement.map(row => (\r\n                            <TableRow hover key={row.symbol}>\r\n                                <TableCell align=\"left\"> <Button  style={{ color: row.perChange > 0 ? \"green\" : \"red\" }} variant=\"contained\"  onClick={() => this.showCandleChart(row.candleChartData, row.symbol, row.ltp, row.perChange )}>{row.symbol} {row.ltp} ({row.perChange.toFixed(2)}) <EqualizerIcon /> </Button></TableCell>\r\n                                <TableCell align=\"left\">{row.percentChangeList}\r\n                            </TableCell>\r\n                            </TableRow>\r\n                        )):''}\r\n                    </TableBody>\r\n                </Table> */}\r\n                <Grid container spacing={2} >\r\n\r\n\r\n                    {this.state.findlast5minMovement ? this.state.findlast5minMovement.map((row, i) => (\r\n\r\n                        <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ overflow: \"auto\", padding: '10px' }} >\r\n                                <Typography style={{ color: row.perChange > 0 ? \"green\" : \"red\" }}> {row.symbol} {row.ltp} <b>({row.perChange.toFixed(2)}%) </b></Typography>\r\n\r\n                                {/* <LightChart candleData={row.candleChartData.length} />  */}\r\n                                \r\n\r\n                                {/* {row.lightcandleChartData.length > 0 ?  <div id=\"showchart\"> \r\n                                    <LightChartCom ChartData={{lightcandleChartData: row.lightcandleChartData.slice(Math.max(row.candleChartData.length - 10, 1)), volumeData : this.state.volumeData}}/>\r\n                                </div>\r\n                                : \"\"} */}\r\n\r\n                                {row.candleChartData.length > 0 ?  <ReactApexChart\r\n                                    options={{\r\n                                        chart: {\r\n                                            type: 'candlestick',\r\n                                            height: 250\r\n                                        },\r\n                                        title: {\r\n                                            text: \"\",\r\n                                            align: 'left'\r\n                                        },\r\n                                        xaxis: {\r\n                                            type: 'datetime',\r\n                                        },\r\n                                        yaxis: {\r\n                                            tooltip: {\r\n                                                enabled: true\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    series={[{\r\n                                        data: row.candleChartData.slice(Math.max(row.candleChartData.length - 10, 1))\r\n                                    }, \r\n                                    // {\r\n                                    //     name: 'line',\r\n                                    //     type: 'line',\r\n                                    //     data: [\r\n                                    //         row.lightcandleChartData\r\n                                    //     ]\r\n                                    //   }\r\n                                \r\n                                    ]}\r\n                                   \r\n                                    type=\"candlestick\"\r\n                                    width={350}\r\n                                    height={250}\r\n\r\n                                    \r\n\r\n                                /> : \"\"}\r\n\r\n                                {/* <div> {Parser(row.percentChangeList)}</div> */}\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n\r\n\r\n                                    {row.DSMALastValue ? <Grid item xs={12} sm={12} style={{ color: row.ltp > row.DSMALastValue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        Daily SMA: {row.DSMALastValue} {row.ltp > row.DSMALastValue ? \"BUY\" : \"SELL\"}\r\n                                    </Grid> : \"\"}\r\n                                    <Grid item xs={12} sm={12} style={{ color: row.ltp > row.VWAP ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        VWAP:  {row.VWAP}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n\r\n                                        RSI: {row.RSI.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n                                        ))}\r\n\r\n\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} >\r\n                                        BB\r\n                                        &nbsp; <span style={{ color: row.ltp >= row.BB.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>Upper: {row.BB.upper}</span>\r\n                                        &nbsp; Middle: {row.BB.middle}\r\n                                        &nbsp; <span style={{ color: row.ltp <= row.BB.lower ? \"red\" : \"\", fontWeight: \"bold\" }}> Lower: {row.BB.lower}</span>\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n                                    <Grid item>\r\n                                        {!this.state['buyButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' + row.symbol + i)}>BUY</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                    \r\n                                    <Grid item>\r\n                                    <TextField label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={this.state.qtyToTake} onChange={this.onChangeQty} />\r\n                                    </Grid>\r\n\r\n\r\n                                    <Grid item >\r\n                                        {/* onClick={() => this.historyWiseOrderPlace(row, 'SELL', \"\", 'sellButtonClicked' + row.symbol + i)} */}\r\n                                        {!this.state['sellButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked' + row.symbol + i)}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n\r\n                            </Paper>\r\n\r\n                        </Grid>\r\n\r\n                    )) : ''}\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Parser from 'html-react-parser';\r\nimport Spinner from \"react-spinner-material\";\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands, MACD } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist: \"NIFTY 50\",\r\n            totalStockToWatch: 0,\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            chartStaticData: [],\r\n            BBBlastType: \"BBStrongBreakout\",\r\n            qtyToTake: '',\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n\r\n\r\n        };\r\n        this.findlast5minMovement = this.findlast5minMovement.bind(this);\r\n        this.startSearching = this.startSearching.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"FM2\";\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ totalStockToWatch: watchList.length });\r\n\r\n        // this.findlast5minMovement(); //one time only\r\n        //   this.startSearching();\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n\r\n        var tostartInteral = setInterval(() => {\r\n            var time = new Date();\r\n            console.log(\"set interval 1sec min/10==0 \", time.toLocaleTimeString());\r\n            if (time.getMinutes() % 2 === 0) {\r\n                console.log(\"search method call in with setTimeout 70sec\", time.toLocaleTimeString());\r\n\r\n                setTimeout(() => {\r\n                    this.find10MinBBBlast();\r\n                }, 70000);\r\n                this.setState({\r\n                    stop10bbSearch:\r\n                        setInterval(() => {\r\n                            console.log(\"search method call in with setInterval in 10min\", time.toLocaleTimeString());\r\n                            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                                this.find10MinBBBlast();\r\n                            }\r\n                        }, 60000 * 2 + 70000)\r\n                });\r\n\r\n                clearInterval(tostartInteral);\r\n            }\r\n        }, 1000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    stopSearching = () => {\r\n        console.log(\"stop the search\")\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n\r\n    }\r\n\r\n\r\n    showCandleChart = (candleData, symbol, ltp, perChange) => {\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n        localStorage.setItem('candlePriceShow', ltp);\r\n        localStorage.setItem('candleChangeShow', perChange.toFixed(2));\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            //this.startSearching();\r\n            this.find10MinBBBlast();\r\n\r\n        });\r\n    }\r\n    onChangeQty = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    startSearching = () => {\r\n\r\n        console.log(\"Starting the search\");\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            var intervaltime = 60000;\r\n            if (this.state.totalStockToWatch > 180) {\r\n                intervaltime = this.state.totalStockToWatch * 333;\r\n            }\r\n            this.setState({ findlast5minMovementInterval: setInterval(() => { this.findlast5minMovement(); }, intervaltime) });\r\n        }\r\n    }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n                    return \"18:21:00\";\r\n                else\r\n                    return \"00:21:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n                    return \"19:41:00\";\r\n                else\r\n                    return \"01:41:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n                    return \"21:21:00\";\r\n                else\r\n                    return \"03:21:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n                    return \"23:01:00\";\r\n                else\r\n                    return \"05:01:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"84:01:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"168:01:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"744:01:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateToLocalStorage = (row) => {\r\n\r\n        let foundAt = new Date(row.foundAt).toLocaleString();\r\n        var isfound = this.state.fastMovementList.filter(element => (element.token == row.token && element.foundAt == foundAt));\r\n        console.log(\"isfound\", isfound);\r\n        if (!isfound.length) {\r\n            var updateData = {\r\n                token: row.token,\r\n                foundAt: foundAt,\r\n                ltp: row.ltp,\r\n                symbol: row.symbol,\r\n                nc: row.perChange.toFixed(2),\r\n                orderType: row.orderType\r\n            }\r\n            this.state.fastMovementList.push(updateData);\r\n            //this.setState({ fastMovementList: [..., updateData] });\r\n            localStorage.setItem(\"fastMovementList\", JSON.stringify(this.state.fastMovementList));\r\n            return true;\r\n\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    find10MinBBBlast = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '', findlast5minMovement: [] });\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        for (let index = 0; index < watchList.length; index++) {\r\n\r\n            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Scaning\" });\r\n\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n            let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n            var time = moment.duration(\"100:00:00\");  //22:00:00\" for last day  2hours  timeDuration\r\n            var startDate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": watchList[index].exch_seg,\r\n                \"symboltoken\": watchList[index].token,\r\n                \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                // console.log(\"candle history\", histdata);\r\n\r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], lightcandleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [];\r\n                    candleData.forEach((element, loopindex) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n\r\n                        var time = { year: new Date(element[0]).getFullYear(), month: new Date(element[0]).getMonth(), day: new Date(element[0]).getDate() }\r\n\r\n                        //    { time: '2018-10-24', open: 178.58, high: 182.37, low: 176.31, close: 176.97 },\r\n                        lightcandleChartData.push({\r\n                            x: new Date(element[0]).getTime(),\r\n                            y: (element[2] + element[3] + element[4]) / 3\r\n                        });\r\n\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n\r\n                    });\r\n\r\n                    // { time: '2018-10-19', value: 19103293.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n\r\n                    var sma = SMA.calculate({ period: 20, values: closeingData });\r\n                    //   console.log(watchList[index].symbol, \"SMA\", sma);\r\n\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var lastRsiValue = RSI.calculate(inputRSI);\r\n\r\n                    // console.log(watchList[index].symbol, \"Rsi\", inputRSI, lastRsiValue);\r\n                    // console.log(watchList[index].symbol, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                    var inputVWAP = {\r\n                        open: openData,\r\n                        high: highData,\r\n                        low: lowData,\r\n                        close: closeingData,\r\n                        volume: valumeData\r\n                    };\r\n\r\n                    var input = {\r\n                        period: 20,\r\n                        values: bbdata,\r\n                        stdDev: 2\r\n\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    //   console.log(watchList[index].symbol, \"Bolinger band\", input, bb);\r\n\r\n\r\n                    var bbvlastvalue = bb[bb.length - 1];\r\n                    if (bbvlastvalue) {\r\n                        bbvlastvalue.upper = bbvlastvalue.upper.toFixed(2);\r\n                        bbvlastvalue.middle = bbvlastvalue.middle.toFixed(2);\r\n                        bbvlastvalue.lower = bbvlastvalue.lower.toFixed(2);\r\n\r\n                    }\r\n\r\n                    var macdInput = {\r\n                        values: closeingData,\r\n                        fastPeriod: 12,\r\n                        slowPeriod: 26,\r\n                        signalPeriod: 9,\r\n                        SimpleMAOscillator: false,\r\n                        SimpleMASignal: false\r\n                    }\r\n\r\n                    let macd = MACD.calculate(macdInput);\r\n                    let macdLastValue = macd[macd.length - 1];\r\n\r\n\r\n                    // MACD: -3.5573380320065553\r\n                    // histogram: -0.7420963576240767\r\n                    // signal: -2.8152416743824786\r\n\r\n                    if (macdLastValue && macdLastValue.MACD >= macdLastValue.signal) {\r\n                        console.log(\"macd\", watchList[index].symbol, macdLastValue);\r\n                    }\r\n\r\n                    var dataltp = {\r\n                        \"exchange\": \"NSE\",\r\n                        \"tradingsymbol\": watchList[index].symbol,\r\n                        \"symboltoken\": watchList[index].token,\r\n                    }\r\n\r\n                    AdminService.getLTP(dataltp).then(res => {\r\n                        let data = resolveResponse(res, 'noPop');\r\n                        var LtpData = data && data.data;\r\n                        //console.log(LtpData);\r\n                        if (LtpData && LtpData.ltp) {\r\n\r\n\r\n                            lastRsiValue = lastRsiValue.slice((lastRsiValue.length - 6), lastRsiValue.length);\r\n\r\n                            // var volumeUpside = valumeData[2], volUpCount =0;                          \r\n                            // valumeData.forEach((element, i) => {\r\n                            //     if (i > 2 && volumeUpside < element) {\r\n                            //         volumeUpside = element;\r\n                            //         volUpCount += 1;\r\n                            //     }\r\n                            // });\r\n\r\n                            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Searching\" });\r\n\r\n                            let isFound = false;\r\n\r\n                            if (this.state.BBBlastType == 'BBStrongBreakout') {\r\n                                if (bbvlastvalue && LtpData.ltp >= bbvlastvalue.upper && candleData[candleData.length - 1][2] == candleData[candleData.length - 1][4]) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"BUY\",\r\n                                        name: watchList[index].name,\r\n                                    }\r\n\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' BB  buy');\r\n                                        window.document.title = \"FM2: Buy \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" BUY Eligible\" });\r\n                                    }\r\n\r\n                                } else if (bbvlastvalue && LtpData.ltp <= bbvlastvalue.lower && candleData[candleData.length - 1][3] == candleData[candleData.length - 1][4]) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"SELL\",\r\n                                        name: watchList[index].name,\r\n                                    }\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' BB sell');\r\n                                        window.document.title = \"FM2: Sell \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" SELL Eligible\" });\r\n                                    }\r\n\r\n                                } else {\r\n                                    this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Not Eligible\" });\r\n                                }\r\n                            }\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(watchList[index].symbol, \"  emply candle found\");\r\n                }\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 600));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    findlast5minMovement = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '' });\r\n\r\n        var timediff = moment.duration(\"00:05:00\");\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var startdate = moment(new Date()).subtract(timediff);\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n        console.log(\"watchList\", this.state.selectedWatchlist, watchList);\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        if (watchList && watchList.length) {\r\n            for (let index = 0; index < watchList.length; index++) {\r\n                const element = watchList[index];\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": element.token,\r\n                    \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE    FIFTEEN_MINUTE\r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                var updateMsg = index + 1 + \". \" + element.symbol;\r\n                this.setState({ findlast5minMovementUpdate: updateMsg });\r\n\r\n                window.document.title = \"FM: \" + updateMsg;\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    //console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var percentChangeList = []; var foundCount = 0;\r\n                        histdata.data.forEach(element => {\r\n                            var changePer = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                            if (changePer >= 0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:green'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n                            if (changePer <= -0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:red'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n                        var ttophistCandle = [];\r\n                        histdata.data.forEach(element => {\r\n                            ttophistCandle.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n\r\n                        if (percentChangeList.length) {\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": watchList[index].symbol,\r\n                                \"symboltoken\": watchList[index].token,\r\n                            }\r\n                            AdminService.getLTP(data).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                //console.log(LtpData);\r\n                                if (LtpData && LtpData.ltp) {\r\n\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    foundData.push({\r\n                                        symbol: watchList[index].symbol,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        percentChangeList: percentChangeList.join(\" | \"),\r\n                                        candleChartData: ttophistCandle,\r\n                                    })\r\n                                    console.log(\"foundData\", foundData);\r\n                                    this.setState({ findlast5minMovement: foundData })\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        console.log(\" candle data emply\");\r\n                    }\r\n                })\r\n                await new Promise(r => setTimeout(r, 333));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    callbackAfterOrderDone = (order) => {\r\n        // setValues({ ...values, ['buyFlag']: order.status });\r\n        // setValues({ ...values, ['sellFlag']:  order.status  });\r\n        //  this.setState({ [spineerId]: order.status}); \r\n\r\n\r\n        console.log(\"order executed\", order);\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClick = (row, type, spinnerIndex) => {\r\n\r\n\r\n        console.log(row);\r\n        if (row.token && row.symbol) {\r\n            if (type == 'BUY') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n            }\r\n        } else {\r\n            Notify.showError(\" Symbol Not found!!!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container spacing={1}>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            &nbsp;BB Blast ({this.state.findlast5minMovement && this.state.findlast5minMovement.length})\r\n                            <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.findlast5minMovementUpdate} </span>\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                            <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                    <MenuItem value={element}>{element}</MenuItem>\r\n                                ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.BBBlastType} name=\"BBBlastType\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'BBBlastOnly'}>{'BB Blast'}</MenuItem>\r\n                                <MenuItem value={'BBBlastDaily'}>{'BB Blast Daily'}</MenuItem>\r\n                                <MenuItem value={'BBStrongBreakout'}>{'BB Strong Breakout'}</MenuItem>\r\n\r\n\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.find10MinBBBlast()}>Start</Button>\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.stopSearching()}>Stop</Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n                {/* <Table  size=\"small\"   aria-label=\"sticky table\" >\r\n                    <TableHead  style={{whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                        <TableRow key=\"1\"  variant=\"head\" style={{fontWeight: 'bold'}}>\r\n                            <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol</TableCell>        \r\n                            <TableCell className=\"TableHeadFormat\"  align=\"left\">Time/PerChnage</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n                        {this.state.findlast5minMovement ? this.state.findlast5minMovement.map(row => (\r\n                            <TableRow hover key={row.symbol}>\r\n                                <TableCell align=\"left\"> <Button  style={{ color: row.perChange > 0 ? \"green\" : \"red\" }} variant=\"contained\"  onClick={() => this.showCandleChart(row.candleChartData, row.symbol, row.ltp, row.perChange )}>{row.symbol} {row.ltp} ({row.perChange.toFixed(2)}) <EqualizerIcon /> </Button></TableCell>\r\n                                <TableCell align=\"left\">{row.percentChangeList}\r\n                            </TableCell>\r\n                            </TableRow>\r\n                        )):''}\r\n                    </TableBody>\r\n                </Table> */}\r\n                <Grid container spacing={2} >\r\n\r\n\r\n                    {this.state.findlast5minMovement ? this.state.findlast5minMovement.map((row, i) => (\r\n\r\n                        <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ overflow: \"auto\", padding: '10px' }} >\r\n                                <Typography style={{ color: row.perChange > 0 ? \"green\" : \"red\" }}> {row.symbol} {row.ltp} <b>({row.perChange.toFixed(2)}%) </b></Typography>\r\n\r\n                                {/* <LightChart candleData={row.candleChartData.length} />  */}\r\n\r\n\r\n                                {/* {row.lightcandleChartData.length > 0 ?  <div id=\"showchart\"> \r\n                                    <LightChartCom ChartData={{lightcandleChartData: row.lightcandleChartData.slice(Math.max(row.candleChartData.length - 10, 1)), volumeData : this.state.volumeData}}/>\r\n                                </div>\r\n                                : \"\"} */}\r\n\r\n                                {row.candleChartData.length > 0 ? <ReactApexChart\r\n                                    options={{\r\n                                        chart: {\r\n                                            type: 'candlestick',\r\n                                            height: 250\r\n                                        },\r\n                                        title: {\r\n                                            text: \"\",\r\n                                            align: 'left'\r\n                                        },\r\n                                        xaxis: {\r\n                                            type: 'datetime',\r\n                                        },\r\n                                        yaxis: {\r\n                                            tooltip: {\r\n                                                enabled: true\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    series={[{\r\n                                        data: row.candleChartData.slice(Math.max(row.candleChartData.length - 10, 1))\r\n                                    },\r\n                                        // {\r\n                                        //     name: 'line',\r\n                                        //     type: 'line',\r\n                                        //     data: [\r\n                                        //         row.lightcandleChartData\r\n                                        //     ]\r\n                                        //   }\r\n\r\n                                    ]}\r\n\r\n                                    type=\"candlestick\"\r\n                                    width={350}\r\n                                    height={250}\r\n\r\n\r\n\r\n                                /> : \"\"}\r\n\r\n                                {/* <div> {Parser(row.percentChangeList)}</div> */}\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n\r\n\r\n                                    {row.DSMALastValue ? <Grid item xs={12} sm={12} style={{ color: row.ltp > row.DSMALastValue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        Daily SMA: {row.DSMALastValue} {row.ltp > row.DSMALastValue ? \"BUY\" : \"SELL\"}\r\n                                    </Grid> : \"\"}\r\n                                    <Grid item xs={12} sm={12} style={{ color: row.ltp > row.VWAP ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        VWAP:  {row.VWAP}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n\r\n                                        RSI: {row.RSI.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n                                        ))}\r\n\r\n\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} >\r\n                                        BB\r\n                                        &nbsp; <span style={{ color: row.ltp >= row.BB.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>Upper: {row.BB.upper}</span>\r\n                                        &nbsp; Middle: {row.BB.middle}\r\n                                        &nbsp; <span style={{ color: row.ltp <= row.BB.lower ? \"red\" : \"\", fontWeight: \"bold\" }}> Lower: {row.BB.lower}</span>\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n                                    <Grid item>\r\n                                        {!this.state['buyButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' + row.symbol + i)}>BUY</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={this.state.qtyToTake} onChange={this.onChangeQty} />\r\n                                    </Grid>\r\n\r\n                                    <Grid item >\r\n                                        {/* onClick={() => this.historyWiseOrderPlace(row, 'SELL', \"\", 'sellButtonClicked' + row.symbol + i)} */}\r\n                                        {!this.state['sellButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked' + row.symbol + i)}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n\r\n                            </Paper>\r\n\r\n                        </Grid>\r\n\r\n                    )) : ''}\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport OrderBook from './Orderbook';\r\nimport TradeConfig from './TradeConfig.json';\r\nimport ChartDialog from './ChartDialog';\r\nimport ChartMultiple from './ChartMultiple';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport Notify from \"../../utils/Notify\";\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Parser from 'html-react-parser';\r\nimport Spinner from \"react-spinner-material\";\r\n\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands, MACD } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonOrderMethod from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n    super(props);\r\n        this.state = {\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist: \"NIFTY 50\",\r\n            totalStockToWatch: 0,\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            chartStaticData: [],\r\n            BBBlastType: \"selectAll\",\r\n            qtyToTake: '',\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n\r\n\r\n        };\r\n        this.findlast5minMovement = this.findlast5minMovement.bind(this);\r\n        this.startSearching = this.startSearching.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"FM2\";\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        this.setState({ totalStockToWatch: watchList.length });\r\n\r\n        // this.findlast5minMovement(); //one time only\r\n        //   this.startSearching();\r\n\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n\r\n        var tostartInteral = setInterval(() => {\r\n            var time = new Date();\r\n            console.log(\"set interval 1sec min/10==0 \", time.toLocaleTimeString());\r\n            if (time.getMinutes() % 2 === 0) {\r\n                console.log(\"search method call in with setTimeout 70sec\", time.toLocaleTimeString());\r\n\r\n                setTimeout(() => {\r\n                    this.find10MinBBBlast();\r\n                }, 70000);\r\n                this.setState({\r\n                    stop10bbSearch:\r\n                        setInterval(() => {\r\n                            console.log(\"search method call in with setInterval in 10min\", time.toLocaleTimeString());\r\n                            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                                this.find10MinBBBlast();\r\n                            }\r\n                        }, 60000 * 2 + 70000)\r\n                });\r\n\r\n                clearInterval(tostartInteral);\r\n            }\r\n        }, 1000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    stopSearching = () => {\r\n        console.log(\"stop the search\")\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n\r\n    }\r\n\r\n\r\n    showCandleChart = (candleData, symbol, ltp, perChange) => {\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n        localStorage.setItem('candlePriceShow', ltp);\r\n        localStorage.setItem('candleChangeShow', perChange.toFixed(2));\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        clearInterval(this.state.stop10bbSearch);\r\n        // clearInterval(this.state.scaninterval);\r\n        //  clearInterval(this.state.bankNiftyInterval); \r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        clearInterval(this.state.findlast5minMovementInterval);\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            //this.startSearching();\r\n            this.find10MinBBBlast();\r\n\r\n        });\r\n    }\r\n    onChangeQty = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    startSearching = () => {\r\n\r\n        console.log(\"Starting the search\");\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            var intervaltime = 60000;\r\n            if (this.state.totalStockToWatch > 180) {\r\n                intervaltime = this.state.totalStockToWatch * 333;\r\n            }\r\n            this.setState({ findlast5minMovementInterval: setInterval(() => { this.findlast5minMovement(); }, intervaltime) });\r\n        }\r\n    }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n                    return \"18:21:00\";\r\n                else\r\n                    return \"00:21:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n                    return \"19:41:00\";\r\n                else\r\n                    return \"01:41:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n                    return \"21:21:00\";\r\n                else\r\n                    return \"03:21:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n                    return \"23:01:00\";\r\n                else\r\n                    return \"05:01:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"84:01:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"168:01:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"744:01:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateToLocalStorage = (row) => {\r\n\r\n        let foundAt = new Date(row.foundAt).toLocaleString();\r\n        var isfound = this.state.fastMovementList.filter(element => (element.token == row.token && element.foundAt == foundAt));\r\n        console.log(\"isfound\", isfound);\r\n        if (!isfound.length) {\r\n            var updateData = {\r\n                token: row.token,\r\n                foundAt: foundAt,\r\n                ltp: row.ltp,\r\n                symbol: row.symbol,\r\n                nc: row.perChange.toFixed(2),\r\n                orderType: row.orderType\r\n            }\r\n            this.state.fastMovementList.push(updateData);\r\n            //this.setState({ fastMovementList: [..., updateData] });\r\n            localStorage.setItem(\"fastMovementList\", JSON.stringify(this.state.fastMovementList));\r\n            return true;\r\n\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    find10MinBBBlast = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '', findlast5minMovement: [] });\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        for (let index = 0; index < watchList.length; index++) {\r\n\r\n            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Scaning\" });\r\n\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var beginningTime = moment('9:15am', 'h:mma').format(format1);\r\n\r\n            let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n            var time = moment.duration(\"100:00:00\");  //22:00:00\" for last day  2hours  timeDuration\r\n            var startDate = moment(new Date()).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": watchList[index].exch_seg,\r\n                \"symboltoken\": watchList[index].token,\r\n                \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                // console.log(\"candle history\", histdata);\r\n\r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    var candleChartData = [], lightcandleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [];\r\n                    candleData.forEach((element, loopindex) => {\r\n                        candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n\r\n                        var time = { year: new Date(element[0]).getFullYear(), month: new Date(element[0]).getMonth(), day: new Date(element[0]).getDate() }\r\n\r\n                        //    { time: '2018-10-24', open: 178.58, high: 182.37, low: 176.31, close: 176.97 },\r\n                        lightcandleChartData.push({\r\n                            x: new Date(element[0]).getTime(),\r\n                            y: (element[2] + element[3] + element[4]) / 3\r\n                        });\r\n\r\n                        vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                        closeingData.push(element[4]);\r\n                        highData.push(element[2]);\r\n                        lowData.push(element[3]);\r\n                        openData.push(element[3]);\r\n                        valumeData.push(element[5]);\r\n                        bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n\r\n                    });\r\n\r\n                    // { time: '2018-10-19', value: 19103293.00, color: 'rgba(0, 150, 136, 0.8)' },\r\n\r\n                    var sma = SMA.calculate({ period: 20, values: closeingData });\r\n                    //   console.log(watchList[index].symbol, \"SMA\", sma);\r\n\r\n\r\n                    var inputRSI = { values: closeingData, period: 14 };\r\n                    var lastRsiValue = RSI.calculate(inputRSI);\r\n\r\n                    // console.log(watchList[index].symbol, \"Rsi\", inputRSI, lastRsiValue);\r\n                    // console.log(watchList[index].symbol, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                    var inputVWAP = {\r\n                        open: openData,\r\n                        high: highData,\r\n                        low: lowData,\r\n                        close: closeingData,\r\n                        volume: valumeData\r\n                    };\r\n\r\n                    var input = {\r\n                        period: 20,\r\n                        values: bbdata,\r\n                        stdDev: 2\r\n\r\n                    }\r\n\r\n                    var bb = BollingerBands.calculate(input);\r\n                    //   console.log(watchList[index].symbol, \"Bolinger band\", input, bb);\r\n\r\n\r\n                    var bbvlastvalue = bb[bb.length - 1];\r\n                    if (bbvlastvalue) {\r\n                        bbvlastvalue.upper = bbvlastvalue.upper.toFixed(2);\r\n                        bbvlastvalue.middle = bbvlastvalue.middle.toFixed(2);\r\n                        bbvlastvalue.lower = bbvlastvalue.lower.toFixed(2);\r\n\r\n                    }\r\n\r\n                    var macdInput = {\r\n                        values: closeingData,\r\n                        fastPeriod: 12,\r\n                        slowPeriod: 26,\r\n                        signalPeriod: 9,\r\n                        SimpleMAOscillator: false,\r\n                        SimpleMASignal: false\r\n                    }\r\n\r\n                    let macd = MACD.calculate(macdInput);\r\n                    let macdLastValue = macd[macd.length - 1];\r\n\r\n\r\n                    // MACD: -3.5573380320065553\r\n                    // histogram: -0.7420963576240767\r\n                    // signal: -2.8152416743824786\r\n\r\n                    if (macdLastValue && macdLastValue.MACD >= macdLastValue.signal) {\r\n                        console.log(\"macd\", watchList[index].symbol, macdLastValue);\r\n                    }\r\n\r\n                    var dataltp = {\r\n                        \"exchange\": \"NSE\",\r\n                        \"tradingsymbol\": watchList[index].symbol,\r\n                        \"symboltoken\": watchList[index].token,\r\n                    }\r\n\r\n                    AdminService.getLTP(dataltp).then(res => {\r\n                        let data = resolveResponse(res, 'noPop');\r\n                        var LtpData = data && data.data;\r\n                        //console.log(LtpData);\r\n                        if (LtpData && LtpData.ltp) {\r\n\r\n\r\n                            lastRsiValue = lastRsiValue.slice((lastRsiValue.length - 6), lastRsiValue.length);\r\n\r\n                            // var volumeUpside = valumeData[2], volUpCount =0;                          \r\n                            // valumeData.forEach((element, i) => {\r\n                            //     if (i > 2 && volumeUpside < element) {\r\n                            //         volumeUpside = element;\r\n                            //         volUpCount += 1;\r\n                            //     }\r\n                            // });\r\n\r\n                            this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Searching\" });\r\n\r\n                            let isFound = false;\r\n\r\n                            if (this.state.BBBlastType == 'selectAll'  || this.state.BBBlastType == 'macdCrossOver') {\r\n\r\n                                if (macdLastValue && macdLastValue.MACD >= macdLastValue.signal) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"BUY\",\r\n                                        name: watchList[index].name,\r\n                                        macdData : macd.slice(Math.max(macd.length - 6, 1)), \r\n                                        patternName: \"MACD Cossed Up\"\r\n                                    }\r\n\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' macd  buy');\r\n                                        window.document.title = \"macd: Buy \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" BUY Eligible\" });\r\n                                    }\r\n\r\n                                } else if (macdLastValue && macdLastValue.MACD <= macdLastValue.signal) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"SELL\",\r\n                                        name: watchList[index].name,\r\n                                        macdData : macd.slice(Math.max(macd.length - 6, 1)),\r\n                                        patternName: \"MACD Cossed Down\"\r\n\r\n                                    }\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' macd sell');\r\n                                        window.document.title = \"macd: Sell \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" SELL Eligible\" });\r\n                                    }\r\n\r\n                                } else {\r\n                                    this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Not Eligible\" });\r\n                                }\r\n                            }\r\n\r\n                            if (this.state.BBBlastType == 'selectAll'  || this.state.BBBlastType == 'BBStrongBreakout') {\r\n                                if (bbvlastvalue && LtpData.ltp >= bbvlastvalue.upper && candleData[candleData.length - 1][2] == candleData[candleData.length - 1][4]) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"BUY\",\r\n                                        name: watchList[index].name,\r\n                                        patternName: \"BB Strong Buy\"\r\n\r\n                                    }\r\n\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' BB  buy');\r\n                                        window.document.title = \"FM2: Buy \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" BUY Eligible\" });\r\n                                    }\r\n\r\n                                } else if (bbvlastvalue && LtpData.ltp <= bbvlastvalue.lower && candleData[candleData.length - 1][3] == candleData[candleData.length - 1][4]) {\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    let data = {\r\n                                        symbol: watchList[index].symbol,\r\n                                        token: watchList[index].token,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        RSIValue: lastRsiValue[lastRsiValue.length - 1],\r\n                                        RSI: lastRsiValue,\r\n                                        VWAP: vwap(vwapdata),\r\n                                        BB: bbvlastvalue,\r\n                                        candleChartData: candleChartData,\r\n                                        lightcandleChartData: lightcandleChartData,\r\n                                        foundAt: candleData && candleData[candleData.length - 1][0],\r\n                                        orderType: \"SELL\",\r\n                                        name: watchList[index].name,\r\n                                        patternName: \"BB Strong Sell\"\r\n\r\n                                    }\r\n                                    if (this.updateToLocalStorage(data)) {\r\n                                        foundData.push(data)\r\n                                        this.setState({ findlast5minMovement: foundData });\r\n                                        this.speckIt(watchList[index].symbol + ' BB sell');\r\n                                        window.document.title = \"FM2: Sell \" + watchList[index].symbol;\r\n                                        this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" SELL Eligible\" });\r\n                                    }\r\n\r\n                                } else {\r\n                                    this.setState({ findlast5minMovementUpdate: index + 1 + \". \" + watchList[index].symbol + \" At \" + new Date().toLocaleTimeString() + \" Not Eligible\" });\r\n                                }\r\n                            }\r\n\r\n                        }\r\n\r\n                    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(watchList[index].symbol, \"  emply candle found\");\r\n                }\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 600));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    findlast5minMovement = async () => {\r\n\r\n        this.setState({ findlast5minMovementUpdate: '' });\r\n\r\n        var timediff = moment.duration(\"00:05:00\");\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var startdate = moment(new Date()).subtract(timediff);\r\n\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n        console.log(\"watchList\", this.state.selectedWatchlist, watchList);\r\n\r\n        this.setState({ totalStockToWatch: watchList.length })\r\n\r\n\r\n        var foundData = [];\r\n\r\n        if (watchList && watchList.length) {\r\n            for (let index = 0; index < watchList.length; index++) {\r\n                const element = watchList[index];\r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": element.token,\r\n                    \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE    FIFTEEN_MINUTE\r\n                    \"fromdate\": moment(startdate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n\r\n                var updateMsg = index + 1 + \". \" + element.symbol;\r\n                this.setState({ findlast5minMovementUpdate: updateMsg });\r\n\r\n                window.document.title = \"FM: \" + updateMsg;\r\n\r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    //console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                        var percentChangeList = []; var foundCount = 0;\r\n                        histdata.data.forEach(element => {\r\n                            var changePer = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                            if (changePer >= 0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:green'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n                            if (changePer <= -0.3) {\r\n                                foundCount = foundCount + 1;\r\n                                percentChangeList.push(\"<span style='color:red'>\" + changePer.toFixed(2) + \"% At \" + new Date(element[0]).toLocaleTimeString().substr(0, 5) + \"</span>\")\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n                        var ttophistCandle = [];\r\n                        histdata.data.forEach(element => {\r\n                            ttophistCandle.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n\r\n                        if (percentChangeList.length) {\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"tradingsymbol\": watchList[index].symbol,\r\n                                \"symboltoken\": watchList[index].token,\r\n                            }\r\n                            AdminService.getLTP(data).then(res => {\r\n                                let data = resolveResponse(res, 'noPop');\r\n                                var LtpData = data && data.data;\r\n                                //console.log(LtpData);\r\n                                if (LtpData && LtpData.ltp) {\r\n\r\n                                    var perChange = (LtpData.ltp - LtpData.close) * 100 / LtpData.close;\r\n                                    foundData.push({\r\n                                        symbol: watchList[index].symbol,\r\n                                        ltp: LtpData.ltp,\r\n                                        perChange: perChange,\r\n                                        percentChangeList: percentChangeList.join(\" | \"),\r\n                                        candleChartData: ttophistCandle,\r\n                                    })\r\n                                    console.log(\"foundData\", foundData);\r\n                                    this.setState({ findlast5minMovement: foundData })\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        console.log(\" candle data emply\");\r\n                    }\r\n                })\r\n                await new Promise(r => setTimeout(r, 333));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    callbackAfterOrderDone = (order) => {\r\n        // setValues({ ...values, ['buyFlag']: order.status });\r\n        // setValues({ ...values, ['sellFlag']:  order.status  });\r\n        //  this.setState({ [spineerId]: order.status}); \r\n\r\n\r\n        console.log(\"order executed\", order);\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClick = (row, type, spinnerIndex) => {\r\n\r\n\r\n        console.log(row);\r\n        if (row.token && row.symbol) {\r\n            if (type == 'BUY') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'BUY', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n\r\n            }\r\n\r\n            if (type == 'SELL') {\r\n                this.setState({ [spinnerIndex]: true });\r\n                var symbolInfo = {\r\n                    token: row.token,\r\n                    symbol: row.symbol,\r\n                    qtyToTake: this.state.qtyToTake\r\n                }\r\n                console.log(symbolInfo);\r\n                CommonOrderMethod.historyWiseOrderPlace(symbolInfo, 'SELL', \"no\", this.callbackAfterOrderDone);\r\n                this.setState({ [spinnerIndex]: false });\r\n            }\r\n        } else {\r\n            Notify.showError(\" Symbol Not found!!!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        //var foundPatternList = localStorage.getItem('foundPatternList') && JSON.parse(localStorage.getItem('foundPatternList')).reverse(); \r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n                <br />\r\n                <ChartDialog /> <ChartMultiple />\r\n\r\n                <Grid justify=\"space-between\"\r\n                    container spacing={1}>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                            &nbsp;BB Blast ({this.state.findlast5minMovement && this.state.findlast5minMovement.length})\r\n                            <span id=\"stockTesting\" style={{ fontSize: \"18px\", color: 'gray' }}> {this.state.findlast5minMovementUpdate} </span>\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={2} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                            <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                    <MenuItem value={element}>{element}</MenuItem>\r\n                                ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onChangeWatchlist}>\r\n                                <MenuItem value={'ONE_MINUTE'}>{'1 Min'}</MenuItem>\r\n                                <MenuItem value={'FIVE_MINUTE'}>{'5 Min'}</MenuItem>\r\n                                <MenuItem value={'TEN_MINUTE'}>{'10 Min'}</MenuItem>\r\n                                <MenuItem value={'FIFTEEN_MINUTE'}>{'15 Min'}</MenuItem>\r\n                                <MenuItem value={'THIRTY_MINUTE'}>{'30 Min'}</MenuItem>\r\n                                <MenuItem value={'ONE_HOUR'}>{'1 Hour'}</MenuItem>\r\n                                <MenuItem value={'ONE_DAY'}>{'1 Day'}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={1} >\r\n                        <FormControl style={styles.selectStyle} >\r\n                            <InputLabel htmlFor=\"gender\">Select Time</InputLabel>\r\n                            <Select value={this.state.BBBlastType} name=\"BBBlastType\" onChange={this.onChangeWatchlist}>\r\n                                {/* <MenuItem value={'BBBlastOnly'}>{'BB Blast'}</MenuItem>\r\n                                <MenuItem value={'BBBlastDaily'}>{'BB Blast Daily'}</MenuItem> */}\r\n                                <MenuItem value={'selectAll'}>{'Select All'}</MenuItem>\r\n\r\n                                <MenuItem value={'BBStrongBreakout'}>{'BB Strong Breakout'}</MenuItem>\r\n                                <MenuItem value={'macdCrossOver'}>{'Macd Cross Over'}</MenuItem>\r\n\r\n\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4} >\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.find10MinBBBlast()}>Start</Button>\r\n                        <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.stopSearching()}>Stop</Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n                {/* <Table  size=\"small\"   aria-label=\"sticky table\" >\r\n                    <TableHead  style={{whiteSpace: \"nowrap\", }} variant=\"head\">\r\n                        <TableRow key=\"1\"  variant=\"head\" style={{fontWeight: 'bold'}}>\r\n                            <TableCell className=\"TableHeadFormat\" align=\"left\">Symbol</TableCell>        \r\n                            <TableCell className=\"TableHeadFormat\"  align=\"left\">Time/PerChnage</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody style={{width:\"\",whiteSpace: \"nowrap\"}}>\r\n                        {this.state.findlast5minMovement ? this.state.findlast5minMovement.map(row => (\r\n                            <TableRow hover key={row.symbol}>\r\n                                <TableCell align=\"left\"> <Button  style={{ color: row.perChange > 0 ? \"green\" : \"red\" }} variant=\"contained\"  onClick={() => this.showCandleChart(row.candleChartData, row.symbol, row.ltp, row.perChange )}>{row.symbol} {row.ltp} ({row.perChange.toFixed(2)}) <EqualizerIcon /> </Button></TableCell>\r\n                                <TableCell align=\"left\">{row.percentChangeList}\r\n                            </TableCell>\r\n                            </TableRow>\r\n                        )):''}\r\n                    </TableBody>\r\n                </Table> */}\r\n                <Grid container spacing={2} >\r\n\r\n\r\n                    {this.state.findlast5minMovement ? this.state.findlast5minMovement.map((row, i) => (\r\n\r\n                        <Grid item xs={12} sm={3}>\r\n                            <Paper style={{ overflow: \"auto\", padding: '10px' }} >\r\n                                <Typography style={{ color: row.perChange > 0 ? \"green\" : \"red\" }}> {row.symbol} {row.ltp} <b>({row.perChange.toFixed(2)}%) </b> &nbsp;&nbsp; {row.patternName}</Typography>\r\n\r\n                                {/* <LightChart candleData={row.candleChartData.length} />  */}\r\n\r\n\r\n                                {/* {row.lightcandleChartData.length > 0 ?  <div id=\"showchart\"> \r\n                                    <LightChartCom ChartData={{lightcandleChartData: row.lightcandleChartData.slice(Math.max(row.candleChartData.length - 10, 1)), volumeData : this.state.volumeData}}/>\r\n                                </div>\r\n                                : \"\"} */}\r\n\r\n                                {row.candleChartData.length > 0 ? <ReactApexChart\r\n                                    options={{\r\n                                        chart: {\r\n                                            type: 'candlestick',\r\n                                            height: 250\r\n                                        },\r\n                                        title: {\r\n                                            text: \"\",\r\n                                            align: 'left'\r\n                                        },\r\n                                        xaxis: {\r\n                                            type: 'datetime',\r\n                                        },\r\n                                        yaxis: {\r\n                                            tooltip: {\r\n                                                enabled: true\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    series={[{\r\n                                        data: row.candleChartData.slice(Math.max(row.candleChartData.length - 10, 1))\r\n                                    },\r\n                                        // {\r\n                                        //     name: 'line',\r\n                                        //     type: 'line',\r\n                                        //     data: [\r\n                                        //         row.lightcandleChartData\r\n                                        //     ]\r\n                                        //   }\r\n\r\n                                    ]}\r\n\r\n                                    type=\"candlestick\"\r\n                                    width={350}\r\n                                    height={250}\r\n\r\n\r\n\r\n                                /> : \"\"}\r\n\r\n                                {/* <div> {Parser(row.percentChangeList)}</div> */}\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n\r\n\r\n\r\n                                    {row.DSMALastValue ? <Grid item xs={12} sm={12} style={{ color: row.ltp > row.DSMALastValue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        Daily SMA: {row.DSMALastValue} {row.ltp > row.DSMALastValue ? \"BUY\" : \"SELL\"}\r\n                                    </Grid> : \"\"}\r\n                                    <Grid item xs={12} sm={12} style={{ color: row.ltp > row.VWAP ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                        VWAP:  {row.VWAP}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        RSI: {row.RSI.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n                                        ))}\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} >\r\n                                        BB\r\n                                        &nbsp; <span style={{ color: row.ltp >= row.BB.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>Upper: {row.BB.upper}</span>\r\n                                        &nbsp; Middle: {row.BB.middle}\r\n                                        &nbsp; <span style={{ color: row.ltp <= row.BB.lower ? \"red\" : \"\", fontWeight: \"bold\" }}> Lower: {row.BB.lower}</span>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12}>\r\n                                        MACD: {row.macdData.map((item, j) => (\r\n                                            <span> {item.MACD && item.MACD.toFixed(2)} &nbsp;</span>\r\n                                        ))}\r\n                                        <br />\r\n                                        MACD Signal: {row.macdData.map((item, j) => (\r\n                                            <span> {item.signal && item.signal.toFixed(2)} &nbsp;</span>\r\n                                        ))}\r\n                                        <br />\r\n                                        MACD histogram: {row.macdData.map((item, j) => (\r\n                                            <span> {item.histogram && item.histogram.toFixed(2)} &nbsp;</span>\r\n                                        ))}\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n\r\n                                <Grid direction=\"row\" style={{ padding: '5px' }} container className=\"flexGrow\" justify=\"space-between\" >\r\n                                    <Grid item>\r\n                                        {!this.state['buyButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.handleClick(row, 'BUY', 'buyButtonClicked' + row.symbol + i)}>BUY</Button> : <Spinner />}\r\n                                    </Grid>\r\n\r\n                                    <Grid item>\r\n                                        <TextField label=\"Qty\" type=\"number\" name=\"qtyToTake\" value={this.state.qtyToTake} onChange={this.onChangeQty} />\r\n                                    </Grid>\r\n\r\n                                    <Grid item >\r\n                                        {/* onClick={() => this.historyWiseOrderPlace(row, 'SELL', \"\", 'sellButtonClicked' + row.symbol + i)} */}\r\n                                        {!this.state['sellButtonClicked' + row.symbol + i] ? <Button size=\"small\" variant=\"contained\" color=\"Secondary\" onClick={() => this.handleClick(row, 'SELL', 'sellButtonClicked' + row.symbol + i)}>SELL</Button> : <Spinner />}\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n\r\n                            </Paper>\r\n\r\n                        </Grid>\r\n\r\n                    )) : ''}\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;","import React, {useEffect} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport { data } from 'jquery';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport LineChart from \"./LineChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs(props) {\r\n\r\n  var lightChartData = props.chartData.chartStaticData; //localStorage.getItem('lightChartData') && JSON.parse(localStorage.getItem('lightChartData'));\r\n \r\n  console.log('lightChartData', lightChartData); \r\n\r\n  const [open, setOpen] = React.useState(false);\r\n \r\n  var [values, setValues] = React.useState({\r\n    data : [],\r\n    candledata: {},\r\n    timeFrame: \"FIVE_MINUTE\"\r\n})\r\n\r\n\r\n  const handleTimeFrame = (e) => {\r\n    console.log(e.target.value);\r\n    props.chartData.updateTimeFrameChart(lightChartData.token,e.target.value );\r\n\r\n    setValues({timeFrame: e.target.value}); \r\n  };\r\n \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" id=\"showLightChart\" color=\"primary\" style={{display:\"none\"}} onClick={handleClickOpen}>\r\n        Chart \r\n      </Button>\r\n      <Dialog maxWidth={'lg'} onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n      \r\n\r\n{/* \r\n        <FormControl style={{minWidth: '10%', }} >\r\n            <Select value={values.timeFrame} name=\"timeFrame\" onChange={handleTimeFrame}>\r\n                <MenuItem value={'ONE_MINUTE'}>{'1M'}</MenuItem>\r\n                <MenuItem value={'FIVE_MINUTE'}>{'5M'}</MenuItem>\r\n                <MenuItem value={'TEN_MINUTE'}>{'10M'}</MenuItem>\r\n                <MenuItem value={'FIFTEEN_MINUTE'}>{'15M'}</MenuItem>\r\n                <MenuItem value={'THIRTY_MINUTE'}>{'30M'}</MenuItem>\r\n                <MenuItem value={'ONE_HOUR'}>{'1H'}</MenuItem>\r\n                <MenuItem value={'ONE_DAY'}>{'1D'}</MenuItem>\r\n            </Select>\r\n        </FormControl> */}\r\n\r\n        &nbsp;\r\n         \r\n        {lightChartData.name}   {lightChartData.ltp}  ({lightChartData.change}%)\r\n\r\n        \r\n        </DialogTitle>\r\n        <DialogContent dividers id=\"chart\">\r\n\r\n        \r\n        <LightChartCom chartData={{candleSeries:lightChartData.lightChartData, volumeSeries: lightChartData.volumeSeriesData}}/>\r\n       \r\n\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n\r\n       \r\n\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport * as moment from 'moment';\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport CommonMethods from \"../../utils/CommonMethods\";\r\nimport LightChart from \"./LightChart\";\r\nimport LightChartCom from \"./LightChartCom\";\r\nimport Parser from 'html-react-parser';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\nimport ChartDialog from './ChartDialog';\r\nimport LightChartModel from './LightChartModel';\r\n\r\n\r\n\r\nclass OrderBook extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            oderbookData: [],\r\n            listofzones: [],\r\n            selectedZone: [],\r\n            zone: '',\r\n            selectAllzone: 'Select All',\r\n            triggerprice: 0,\r\n            price: 0,\r\n            lotsize: 0,\r\n            firstTimeFlag: true,\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            selectedWatchlist: \"NIFTY BANK\",\r\n            totalStockToWatch: 0,\r\n            timeFrame: \"TEN_MINUTE\",\r\n            qtyToTake: '',\r\n            BBBlastType: \"BBBlastOnly\",\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n            sortedType: \"isActivated\",\r\n            slowMotionStockList: localStorage.getItem('slowMotionStockList') && JSON.parse(localStorage.getItem('slowMotionStockList')) || []\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n\r\n            var tostartInteral = setInterval(() => {\r\n                var time = new Date();\r\n                if (time.getMinutes() % 5 === 0) {\r\n                    setTimeout(() => {\r\n                        this.checkSlowMotionCheckLive();\r\n                    }, 70000);\r\n                    setInterval(() => {\r\n                        this.checkSlowMotionCheckLive();\r\n                        this.activationToLtpChange();\r\n                    }, 60000 * 5 + 70000);\r\n                    clearInterval(tostartInteral);\r\n                }\r\n            }, 1000);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    onChangeWatchlist = (e) => {\r\n\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            // this.findlast5minMovement(); //one time only\r\n            //this.startSearching();\r\n            this.checkSlowMotion();\r\n\r\n        });\r\n    }\r\n\r\n\r\n    checkSlowMotion = async () => {\r\n        var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n\r\n        if (this.state.selectedWatchlist == \"selectall\") {\r\n            watchList = localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList'));\r\n        }\r\n\r\n\r\n\r\n        this.setState({ scanUpdate: \"\" });\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const row = watchList[index];\r\n\r\n            var isfound = this.state.slowMotionStockList.filter(item => item.token == row.token);\r\n            if (!isfound.length) {\r\n                this.checkSlowMotionStock(row.token, row, index + 1);\r\n                await new Promise(r => setTimeout(r, 310));\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    getTimeFrameValue = (timeFrame) => {\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n        switch (timeFrame) {\r\n            case 'ONE_MINUTE':\r\n                return \"720:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                    return \"2160:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                    return \"2160:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                return \"2160:00:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"4320:00:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"4320:00:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"8760:00:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    updateTimeFrameChart=(token, timeFrame)=>{\r\n\r\n        console.log( token,timeFrame );\r\n\r\n        let time = this.getTimeFrameValue(timeFrame);\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n        var startDate = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": timeFrame,\r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0, volumeSeriesData=[];\r\n\r\n                for (let index = 0; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n                }\r\n\r\n                const lightChartData = candleDatad.map(d => {\r\n                    return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                });\r\n   \r\n\r\n                var lightChartinfo = localStorage.getItem('lightChartData') && JSON.parse(localStorage.getItem('lightChartData'));\r\n\r\n                lightChartinfo.lightChartData = lightChartData; \r\n                lightChartinfo.volumeSeriesData = volumeSeriesData; \r\n               // localStorage.setItem('lightChartData', JSON.stringify(lightChartinfo)); \r\n\r\n                this.setState({chartStaticData: lightChartinfo});\r\n            }\r\n\r\n     \r\n        });\r\n  }\r\n\r\n\r\n\r\n    checkSlowMotionStock = (token, stock, stockindex) => {\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var time = moment.duration(\"240:00:00\");  //22:00:00\" for last day  2hours \r\n        var startDate = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'FIVE_MINUTE',\r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0, volumeSeriesData=[];\r\n\r\n                var bigCandleCount = 0;\r\n\r\n                for (let index = candleDatad.length - 375; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n\r\n                    if (element) {\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                        if (per >= 0.4) {\r\n                            bigCandleCount += 1;\r\n\r\n                        }\r\n                        if (per <= -0.4) {\r\n                            bigCandleCount += 1;\r\n\r\n                        }\r\n                    }\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                }\r\n\r\n\r\n                console.log(\"Totalcount\", stock.name, bigCandleCount, volumeSeriesData);\r\n\r\n                this.setState({ scanUpdate: \"Scan: \" + stockindex + \". \" + stock.name + \" maxCount: \" + bigCandleCount })\r\n\r\n                if (bigCandleCount <= 15) {\r\n\r\n                    var isfound = this.state.slowMotionStockList.filter(item => item.token == token);\r\n                    if (!isfound.length) {\r\n                        stock.bigCandleCount = bigCandleCount;\r\n                        stock.sectorName = this.state.selectedWatchlist;\r\n\r\n                        var candleChartData = []; \r\n                        candleDatad.forEach(element => {\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n\r\n                        const lightChartData = candleDatad.map(d => {\r\n                            return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                        });\r\n        \r\n\r\n\r\n                       // stock.candleChartData = candleChartData.slice(Math.max(candleChartData.length - 10, 1));  \r\n                        stock.candleChartData = candleChartData;  \r\n                        stock.lightChartData =  lightChartData; \r\n                        stock.volumeSeriesData =  volumeSeriesData;\r\n\r\n                        this.setState({ slowMotionStockList: [...this.state.slowMotionStockList, stock] }, function () {\r\n                         //   localStorage.setItem(\"slowMotionStockList\", JSON.stringify(this.state.slowMotionStockList));\r\n                        });\r\n                    }\r\n        \r\n\r\n                   \r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    checkSlowMotionCheckLive = async () => {\r\n\r\n        for (let index = 0; index < this.state.slowMotionStockList.length; index++) {\r\n            const row = this.state.slowMotionStockList[index];\r\n\r\n            if (!row.isActivated) {\r\n                const format1 = \"YYYY-MM-DD HH:mm\";\r\n                var time = moment.duration(\"50:00:00\");  //22:00:00\" for last day  2hours \r\n                var startDate = moment(new Date()).subtract(time);\r\n                var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n                var dataDay = {\r\n                    \"exchange\": 'NSE',\r\n                    \"symboltoken\": row.token,\r\n                    \"interval\": 'FIVE_MINUTE',\r\n                    \"fromdate\": moment(startDate).format(format1),\r\n                    \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n                }\r\n                AdminService.getHistoryData(dataDay).then(resd => {\r\n                    let histdatad = resolveResponse(resd, 'noPop');\r\n                    var DSMA = '';\r\n                    if (histdatad && histdatad.data && histdatad.data.length) {\r\n                        var candleDatad = histdatad.data;\r\n                        var closeingDatadaily = [], valumeSum = 0;\r\n\r\n                        var bigCandleCount = 0, midBullishCount = 0, bullishCount = 0, activationTime = \"\", activationPrice = 0;\r\n\r\n                        for (let index = candleDatad.length - 3; index < candleDatad.length; index++) {\r\n                            const element = candleDatad[index];\r\n\r\n                            if (element) {\r\n                                var per = (element[4] - element[1]) * 100 / element[1];\r\n                                if (per >= 1) {\r\n                                    bigCandleCount += 1;\r\n                                    activationPrice = element[2];\r\n                                    activationTime = new Date(element[0]).toLocaleString();\r\n                                }\r\n                                if (per >= 0.5) {\r\n                                    midBullishCount += 1;\r\n                                    activationPrice = element[2];\r\n                                    activationTime = new Date(element[0]).toLocaleString();\r\n                                }\r\n                                if (per >= 0) {\r\n                                    bullishCount += 1;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        var candleChartData = [];\r\n                        candleDatad.forEach(element => {\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n\r\n                        //row.candleChartData = candleChartData.slice(Math.max(candleChartData.length - 10, 1)); \r\n                        row.candleChartData = candleChartData; \r\n                        \r\n                        \r\n                        let update = Parser(\"Update: \" + (index + 1) + \".\" + row.name + \" large(1%): <b>\" + bigCandleCount +\"</b> &nbsp;mid(0.5%): <b>\"+ midBullishCount+\"</b> &nbsp;small(>0%): <b>\"+ bullishCount+\"</b>\" ); \r\n                \r\n                        this.setState({ scanUpdate:  update})\r\n                        console.log(row.symbol, bigCandleCount, midBullishCount, bullishCount);\r\n\r\n                        let updatetopage = \"large(1%): <b>\" + bigCandleCount +\"</b> &nbsp;mid(0.5%): <b>\"+ midBullishCount+\"</b> &nbsp;small(>0%): <b>\"+ bullishCount+\"</b> at \" + new Date(candleDatad[candleDatad.length-1][0]).toLocaleTimeString(); \r\n\r\n                        row.update = updatetopage; \r\n\r\n                        if (bigCandleCount >= 1 || (midBullishCount >= 1 && bullishCount >= 2)) {\r\n\r\n                            row.isActivated = true;\r\n                            row.activationTime = activationTime;\r\n                            row.activationPrice = activationPrice;\r\n\r\n                            window.document.title = \"SM: \" + row.symbol;\r\n                            console.log('hey, slow motion stock' + row.symbol + \" broken\");\r\n\r\n                            this.speckIt('hey, slow motion stock' + row.symbol + \" broken\");\r\n                            this.setState({ slowMotionStockList: this.state.slowMotionStockList }, function () {\r\n                                this.sortByColumn(\"isActivated\");\r\n                                //localStorage.setItem(\"slowMotionStockList\", JSON.stringify(this.state.slowMotionStockList));\r\n                            })\r\n                            \r\n                        }\r\n\r\n                       \r\n\r\n                    }\r\n\r\n                });\r\n                await new Promise(r => setTimeout(r, 310));\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    activationToLtpChange = async() => {\r\n\r\n        for (let index = 0; index < this.state.slowMotionStockList.length; index++) {\r\n            const row = this.state.slowMotionStockList[index];\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"tradingsymbol\": row.symbol,\r\n                \"symboltoken\": row.token,\r\n            }\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                //console.log(LtpData);\r\n                if (LtpData && LtpData.ltp) {\r\n                   row.ltp = LtpData.ltp;\r\n                   row.change = ((LtpData.ltp -  LtpData.close)*100/LtpData.close).toFixed(2);\r\n\r\n                   if(row.activationPrice){\r\n                    row.AtoltpChng = ((LtpData.ltp-row.activationPrice)*100/row.activationPrice).toFixed(2); \r\n                   }\r\n              \r\n                   this.setState({ slowMotionStockList: this.state.slowMotionStockList }, function () {\r\n                        localStorage.setItem(\"slowMotionStockList\", JSON.stringify(this.state.slowMotionStockList));\r\n                    })\r\n                }\r\n\r\n            })\r\n\r\n            await new Promise(r => setTimeout(r, 125));\r\n        }\r\n    }\r\n\r\n\r\n    showLightChart = (row) => {\r\n\r\n\r\n        console.log(\"row\",row)\r\n        \r\n        if(row.lightChartData.length>0){\r\n            localStorage.setItem('lightChartData', JSON.stringify(row));\r\n            this.setState({chartStaticData: row}, function(){\r\n                document.getElementById('showLightChart').click();\r\n            });\r\n        }\r\n       \r\n    }\r\n\r\n    \r\n\r\n\r\n    deleteAllScan = () => {\r\n\r\n        if(window.confirm(\"Are you sure to delete all scan stocks?\")){\r\n            this.setState({ slowMotionStockList: []})\r\n            localStorage.setItem(\"slowMotionStockList\",[]);\r\n        }\r\n     \r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value.trim() });\r\n    }\r\n\r\n\r\n    convertToFloat = (str) => {\r\n        if (!isNaN(str)) {\r\n            return \"(\" + (str / 100000).toFixed(2) + \"L)\";\r\n        }\r\n\r\n\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n    sortByColumn = (type) => {\r\n\r\n        this.state.slowMotionStockList.sort(function (a, b) {\r\n            if (type == \"isActivated\" && a.isActivated) {\r\n                return (a.isActivated === b.isActivated) ? 0 : a ? -1 : 1;\r\n            } else {\r\n                return b[type] - a[type];\r\n            }\r\n        });\r\n\r\n        this.setState({ slowMotionStockList: this.state.slowMotionStockList, sortedType: type });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n\r\n                {window.location.hash !== \"#/position\" ? <PostLoginNavBar /> : \"\"}\r\n\r\n\r\n                <ChartDialog />\r\n\r\n                {this.state.chartStaticData ? \r\n                <LightChartModel chartData={{updateTimeFrameChart : this.updateTimeFrameChart, chartStaticData : this.state.chartStaticData}} /> \r\n                : \"\"}\r\n                <Grid direction=\"row\" alignItems=\"center\" container>\r\n                    <Grid item xs={12} sm={12} >\r\n\r\n                        <Paper style={{ padding: \"10px\" }} >\r\n\r\n                            <Grid justify=\"space-between\"\r\n                                container spacing={1}>\r\n\r\n                                <Grid item xs={12} sm={4} >\r\n                                    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                      Slow Motion ({this.state.slowMotionStockList.length})  <DeleteIcon  onClick={() => this.deleteAllScan()}/>  found at {new Date().toLocaleString()}\r\n                                    </Typography>\r\n                                    {this.state.sortedType ? <> <b> Sorted By: </b> {this.state.sortedType}  </> : \"\"}\r\n\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={4} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.checkSlowMotion()}>Scan</Button>\r\n                            \r\n                                    {this.state.scanUpdate ? <>{this.state.scanUpdate}  </> : \"\"}\r\n                                    </Grid>\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.checkSlowMotionCheckLive()}>Refresh</Button>\r\n                                </Grid>\r\n\r\n                                \r\n\r\n                            </Grid>\r\n\r\n\r\n                            <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n\r\n                                <TableHead style={{ whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                    <TableRow variant=\"head\">\r\n                                        <TableCell align=\"left\">Sr.</TableCell>\r\n\r\n                                        <TableCell align=\"left\"><Button onClick={() => this.sortByColumn(\"pchange\")}>Symbol</Button> </TableCell>\r\n                                        <TableCell align=\"center\">Sector</TableCell>\r\n\r\n                                        <TableCell align=\"center\">Max Count</TableCell>\r\n\r\n\r\n\r\n                                        <TableCell align=\"center\"><Button onClick={() => this.sortByColumn(\"isActivated\")}>Is Activated</Button></TableCell>\r\n                                        <TableCell align=\"center\">Activate Time</TableCell>\r\n                                        <TableCell align=\"center\">Activation Price</TableCell>\r\n                                        <TableCell align=\"center\">Last Update</TableCell>\r\n                                        <TableCell align=\"center\"><Button onClick={() => this.activationToLtpChange()}>A.toLtpChng</Button></TableCell>\r\n\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n\r\n\r\n\r\n                                    {this.state.slowMotionStockList ? this.state.slowMotionStockList.map((row, i) => (\r\n                                        <TableRow hover key={i} style={{ background: row.isActivated ? \"lightgray\" : \"\" }}>\r\n                                            <TableCell align=\"left\">{i + 1}</TableCell>\r\n\r\n                                            <TableCell align=\"left\"> <Button size=\"small\" variant=\"contained\" style={{ color: !row.change ? '' : row.change > 0 ? 'green' : 'red' }} onClick={() => this.showLightChart(row)}> {row.name} {row.ltp}  {row.change ? \"(\" + row.change+ \"%)\" : \"\" }  <EqualizerIcon /> </Button></TableCell>\r\n\r\n\r\n                                            \r\n                                            <TableCell align=\"center\">{row.sectorName}</TableCell>\r\n                                            <TableCell align=\"center\">{row.bigCandleCount}</TableCell>\r\n\r\n                                            <TableCell align=\"center\">{row.isActivated ? \"Yes\" : \"No\"}</TableCell>\r\n                                            <TableCell align=\"center\">{row.activationTime}</TableCell>\r\n                                            <TableCell align=\"center\">{row.activationPrice}</TableCell>\r\n                                            <TableCell align=\"center\">{row.update ? Parser(row.update): \"\"}</TableCell>\r\n                                            <TableCell align=\"center\">{row.ltp} {row.AtoltpChng ? \"(\" + row.AtoltpChng+ \"%)\" : \"\" }</TableCell>\r\n\r\n                                        </TableRow> \r\n                                    )) : <Spinner />}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Paper>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\n// const mapStateToProps=(state)=>{\r\n//     return {packs:state.packs.packs.data};\r\n// }\r\n\r\n//export default connect(mapStateToProps,{setPackLoaded})(OrderBook);\r\nexport default OrderBook;","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Spinner from \"react-spinner-material\";\r\nimport { w3cwebsocket } from 'websocket';\r\n//import ChartDialog from './ChartDialog';\r\nimport pako from 'pako';\r\nimport AdminService from \"../service/AdminService\";\r\nimport Notify from \"../../utils/Notify\";\r\nimport { createChart } from 'lightweight-charts';\r\nimport * as moment from 'moment';\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\n\r\n// import vwap from 'vwap';\r\n// import { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\n// import SimpleExpansionPanel from \"./SimpleExpansionPanel\";\r\n// import SimpleExpansionFastMovement from \"./SimpleExpansionFastMovement\";\r\n// import LiveBidsExpantion from \"./LiveBidsExpantion\";\r\n// import WatchListTab from \"./WatchListTab\"; \r\n// import OrderWatchlist from './OrderWatchlist';\r\n\r\n\r\nclass LiveBid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'NIFTY BANK', //'Securities in F&O',\r\n            symbolList :  [],\r\n            actionList : localStorage.getItem('actionList') && JSON.parse(localStorage.getItem('actionList')) || [],\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            softedIndexList:[],\r\n            cursor: '',\r\n            isSpeek: localStorage.getItem('isSpeek') === 'true' ? true : false, \r\n            sortedType: \"pChange\", \r\n            sluglist: {\r\n                'NIFTY 50': 'nifty',\r\n                'NIFTY AUTO': 'cnxAuto',\r\n                'NIFTY BANK': 'bankNifty',\r\n                'NIFTY ENERGY': 'cnxEnergy',\r\n                'NIFTY FIN SERVICE': 'cnxFinance',\r\n                'NIFTY FMCG': 'cnxFMCG',\r\n                'NIFTY IT': 'cnxit',\r\n                'NIFTY MEDIA': 'cnxMedia',\r\n                'NIFTY METAL': 'cnxMetal',\r\n                'NIFTY PHARMA': 'cnxPharma',\r\n                'NIFTY PSU BANK': 'cnxPSU',\r\n                'NIFTY REALTY': 'cnxRealty',\r\n                'NIFTY PVT BANK': 'niftyPvtBank',\r\n                'NIFTY CONSUMPTION': 'cnxConsumption',\r\n                'NIFTY CPSE': 'cpse',\r\n                'NIFTY INFRA': 'cnxInfra',\r\n                'NIFTY MNC': 'cnxMNC',\r\n                'NIFTY PSE': 'cnxPSE',\r\n\r\n                //  \"NIFTY HEALTHCARE\": \"niftyHealthcare\"\r\n                //'NIFTY CONSR DURBL':  \"niftyConsrDurbl\"\r\n                // 'NIFTY GROWSECT 15': 'ni15',H\r\n                // 'NIFTY COMMODITIES': 'cnxCommodities',\r\n                // 'NIFTY SERV SECTOR': 'cnxService',\r\n                // 'NIFTY100 LIQ 15': 'nseliquid',\r\n                // 'NIFTY MID LIQ 15': 'niftyMidcapLiq15',\r\n                // 'NIFTY DIV OPPS 50': 'cnxDividendOppt',\r\n                // 'NIFTY50 VALUE 20': 'nv20',\r\n                // 'NIFTY QUALITY 30': 'niftyQuality30',\r\n                // 'NIFTY50 EQL WGT': 'nifty50EqualWeight',\r\n                // 'NIFTY100 EQL WGT': 'nifty100EqualWeight',\r\n                // 'NIFTY ALPHA 50': 'niftyAlpha50',\r\n                 'NIFTY NEXT 50': 'juniorNifty',\r\n                 'NIFTY MIDCAP 50': 'niftyMidcap50',\r\n                 'NIFTY HEALTHCARE': \"notfound\",\r\n                 'NIFTY OIL AND GAS':\"notfound\",\r\n                 'NIFTY 100':\"notfound\", \r\n                 'NIFTY CONSR DURBL':'notfond'\r\n            },\r\n        };\r\n        this.updateSocketWatch = this.updateSocketWatch.bind(this);\r\n\r\n    }\r\n    makeConnection = (wsClint) => {\r\n        var firstTime_req = '{\"task\":\"cn\",\"channel\":\"NONLM\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n        wsClint.send(firstTime_req);\r\n        this.updateSocketWatch(wsClint);\r\n    }\r\n    decodeWebsocketData = (array) => {\r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n      //  console.log(newarray.join(''))\r\n        return newarray.join('');\r\n    }\r\n\r\n   \r\n\r\n    updateSocketWatch = (wsClint) => {\r\n        var channel = this.state.symbolList.map(element => {\r\n            return 'nse_cm|' + element.token;\r\n        });\r\n        channel = channel.join('&');\r\n        var updateSocket = {\r\n            \"task\": \"mw\",\r\n            \"channel\": channel,\r\n            \"token\": this.state.feedToken,\r\n            \"user\": this.state.clientcode,\r\n            \"acctid\": this.state.clientcode\r\n        }\r\n    \r\n        wsClint.send(JSON.stringify(updateSocket));\r\n    }\r\n\r\n    takeAction =(symbol,   action )=>{\r\n        let isfound =  this.state.actionList.length && this.state.actionList.filter(item => item.symbol === symbol); \r\n        if(!isfound.length){\r\n            let data = {symbol:symbol, action:action, updateTime: new Date().toLocaleTimeString() }; \r\n            this.setState({actionList: [...this.state.actionList , data]}, function(){\r\n                localStorage.setItem('actionList', JSON.stringify(this.state.actionList) ); \r\n                this.speckIt(symbol +\" \" + action); \r\n\r\n                console.log(data.symbol +\" \" + data.action + \" \"+data.updateTime); \r\n                this.setState({lastUpdateAction: data.symbol +\" \" + data.action + \" \"+data.updateTime }); \r\n            }); \r\n        }\r\n    }\r\n    updateSocketDetails = (wsClint) => {\r\n        wsClint.onopen = (res) => {\r\n            this.makeConnection(wsClint);\r\n            this.updateSocketWatch(wsClint);\r\n        }\r\n        wsClint.onmessage = (message) => {\r\n            var decoded = window.atob(message.data);\r\n            var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n            var liveData = JSON.parse(data);\r\n        \r\n            var symbolListArray = this.state.symbolList;\r\n            this.state.symbolList && this.state.symbolList.forEach((element, index) => {\r\n                var foundLive = liveData.filter(row => row.tk == element.token);\r\n                if (foundLive.length > 0 && foundLive[0].ltp && foundLive[0].nc) {\r\n\r\n                    console.log(foundLive[0]); \r\n\r\n                    symbolListArray[index].ltp = foundLive[0].ltp;\r\n                    symbolListArray[index].pChange = foundLive[0].nc;\r\n                    symbolListArray[index].totalBuyQuantity = foundLive[0].tbq;\r\n                    symbolListArray[index].totalSellQuantity = foundLive[0].tsq;\r\n                    symbolListArray[index].totalTradedVolume = foundLive[0].v;\r\n                    symbolListArray[index].averagePrice = foundLive[0].ap;\r\n                    symbolListArray[index].lowPrice = foundLive[0].lo;\r\n                    symbolListArray[index].highPrice = foundLive[0].h;\r\n                    symbolListArray[index].openPrice = foundLive[0].op;\r\n\r\n                    symbolListArray[index].bestbuyquantity = foundLive[0].bq;\r\n                    symbolListArray[index].bestbuyprice = foundLive[0].bp;\r\n                    symbolListArray[index].bestsellquantity = foundLive[0].bs;\r\n                    symbolListArray[index].bestsellprice = foundLive[0].sp;\r\n                   \r\n                    // symbolListArray[index].upperCircuitLimit = foundLive[0].ucl;\r\n                    // symbolListArray[index].lowerCircuitLimit = foundLive[0].lcl;\r\n\r\n                    symbolListArray[index].buytosellTime = (foundLive[0].tbq / foundLive[0].tsq).toFixed(2);\r\n                    symbolListArray[index].selltobuyTime =  (foundLive[0].tsq / foundLive[0].tbq).toFixed(2); \r\n                    \r\n                    if (foundLive[0].tbq / foundLive[0].tsq > 2) {\r\n                        symbolListArray[index].highlightbuy = true;\r\n                        this.takeAction(element.symbol, ' buying') \r\n                    }else{\r\n                        symbolListArray[index].highlightbuy = false;\r\n                    }\r\n\r\n                    if (foundLive[0].tsq / foundLive[0].tbq > 2) {\r\n                        symbolListArray[index].highlightsell = true;\r\n                        this.takeAction(element.symbol, ' selling')\r\n\r\n                    }else{\r\n                        symbolListArray[index].highlightsell = false;\r\n                    }\r\n\r\n                    //console.log(\"ws onmessage: \", foundLive);\r\n                }\r\n            });\r\n\r\n           \r\n            let shortBy = this.state.sortedType; \r\n            symbolListArray && symbolListArray.sort(function (a, b) {\r\n                return b[shortBy] - a[shortBy] ;\r\n            });\r\n            this.setState({ symbolList: symbolListArray });\r\n        }\r\n\r\n        wsClint.onerror = (e) => {\r\n            console.log(\"socket error\", e);\r\n        }\r\n\r\n        setInterval(() => {\r\n            //  this.makeConnection();\r\n            var _req = '{\"task\":\"hb\",\"channel\":\"\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n             console.log(\"Request :- \" + _req);\r\n            wsClint.send(_req);\r\n        }, 59000);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"WS Bid Live\";\r\n        this.setState({ symbolList: this.state.staticData[this.state.selectedWatchlist] });\r\n\r\n        var tokens = JSON.parse(localStorage.getItem(\"userTokens\"));\r\n        var feedToken = tokens && tokens.feedToken;\r\n        var userProfile = JSON.parse(localStorage.getItem(\"userProfile\"));\r\n        var clientcode = userProfile && userProfile.clientcode;\r\n        this.setState({ feedToken: feedToken, clientcode: clientcode }, function(){\r\n            this.wsClint = new w3cwebsocket('wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream');\r\n            this.updateSocketDetails(this.wsClint);  \r\n        });\r\n\r\n        const domElement = document.getElementById('tvchart');\r\n        document.getElementById('tvchart').innerHTML = '';\r\n        let heigh =  window.innerWidth;    \r\n        \r\n        const chart = createChart(domElement, { width: heigh/2, height: 400, timeVisible: true, secondsVisible: true, });\r\n        const candleSeries = chart.addCandlestickSeries();\r\n        var smaLineSeries = chart.addLineSeries({\r\n            color: 'rgba(4, 111, 232, 1)',\r\n            lineWidth: 2,\r\n        });\r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n        this.setState({ chart: chart, candleSeries: candleSeries, smaLineSeries: smaLineSeries, volumeSeries: volumeSeries });\r\n\r\n        this.getUpdateIndexData()\r\n\r\n        setInterval(() => {\r\n            if(this.state.token){\r\n                this.showStaticChart();\r\n            }\r\n        }, 1000);\r\n       \r\n    }\r\n\r\n    getUpdateIndexData=()=>{\r\n        this.setState({softedIndexList : []})\r\n        AdminService.allIndicesDirectJSON()\r\n        .then((res) => {\r\n\r\n            if (res.data) {\r\n\r\n                var softedData = res.data && res.data.data;\r\n                softedData.sort(function (a, b) {\r\n                    return b.percChange - a.percChange;\r\n                });\r\n\r\n                for (let index = 0; index < softedData.length; index++) {\r\n                    const element = softedData[index];\r\n                    var slugName = this.state.sluglist[element.indexName];\r\n                    if (slugName) {\r\n                        this.setState({ softedIndexList: [...this.state.softedIndexList ,element] });\r\n                    }\r\n                }\r\n              \r\n                this.makeConnection(this.wsClint)\r\n              //  this.updateSocketWatch(this.wsClint);\r\n            }\r\n        })\r\n        .catch((reject) => {\r\n         // Notify.showError(\"All Indices API Failed\");\r\n        }).finally((ok) => {\r\n        })\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        if(this.state.isSpeek){\r\n            var msg = new SpeechSynthesisUtterance();\r\n            msg.text = text.toString();\r\n            window.speechSynthesis.speak(msg);\r\n        }\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n            this.setState({ symbolList: watchList},()=> this.updateSocketWatch(this.wsClint));\r\n        });\r\n    }\r\n    sortByColumn = (type) => {\r\n        this.state.symbolList.sort(function (a, b) {\r\n            return b[type] - a[type];\r\n        });\r\n        this.setState({ symbolList: this.state.symbolList, sortedType: type });\r\n    }\r\n\r\n    // checkLiveBids = async () => {\r\n    //     var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n    //     this.setState({ symbolList: watchList});\r\n    // }\r\n    // getLTP = (symbol, token) => {\r\n    //     var data = {\r\n    //         \"exchange\": \"NSE\",\r\n    //         \"tradingsymbol\": symbol,\r\n    //         \"symboltoken\": token,\r\n    //     }\r\n    //     AdminService.getLTP(data).then(res => {\r\n    //         let data = resolveResponse(res, 'noPop');\r\n    //         var LtpData = data && data.data;\r\n\r\n    //         if (LtpData && LtpData.ltp)\r\n    //             this.setState({ InstrumentPerChange: ((LtpData.ltp - LtpData.close) * 100 / LtpData.close) });\r\n    //     })\r\n    // } \r\n    \r\n    convertToDecimal=(num)=>{\r\n        if (!isNaN(num)) {\r\n            \r\n            return num.toFixed(2);\r\n        }else{\r\n            return num; \r\n        }\r\n    }\r\n\r\n\r\n    convertToFloat = (str) => {\r\n        if (!isNaN(str)) {\r\n            return \"(\" + ((str / 100000).toFixed(2)) + \"L)\";\r\n        }\r\n    }\r\n    onInputChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            //    console.log(\"time\", this.state.timeFrame);\r\n            this.showStaticChart();\r\n        });\r\n    }\r\n    handleKeyDown = (e, token) => {\r\n\r\n        console.log(\"key\", e, token);\r\n        //38 for down and 40 for up key\r\n        if (e.keyCode === 38 && this.state.cursor > 0) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor - 1 }));\r\n        } else if (e.keyCode === 40 && this.state.cursor < this.state.symbolList.length - 1) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor + 1 }))\r\n        }  \r\n\r\n        setTimeout(() => {\r\n            this.showStaticChart();\r\n        }, 100);\r\n\r\n    }\r\n    handleChange = (event) => {\r\n\r\n        localStorage.setItem('isSpeek', event.target.checked);\r\n        this.setState({isSpeek :  event.target.checked},()=>{\r\n            console.log(\"isSpeek\", this.state.isSpeek, event.target.checked);\r\n        })\r\n      \r\n      };\r\n    calculateSMA = (data, count) => {\r\n\r\n        //  console.log(\"smarowdata\", data, count);\r\n\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n    showStaticChart = (token, symbol) => {\r\n\r\n        //console.log('token, symbol', token, symbol)\r\n\r\n        if(token)\r\n        this.setState({ chartStaticData: '' , lightChartSymbol :symbol, token : token }, function () {\r\n            console.log('reset done', token);\r\n        });\r\n        \r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        let beginningTime = moment('9:15am', 'h:mma');    \r\n\r\n        if(this.state.timeFrame == 'ONE_MINUTE'){\r\n              var time = moment.duration(\"00:60:00\");\r\n              beginningTime = moment(new Date()).subtract(time);\r\n        }\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token || this.state.token,\r\n            \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE \r\n            \"fromdate\": moment(beginningTime).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n   \r\n\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let historyData = resolveResponse(res, 'noPop');\r\n            //    console.log(data); \r\n            if (historyData && historyData.data) {\r\n\r\n                var data = historyData.data;\r\n\r\n                const cdata = data.map(d => {\r\n                    return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                });\r\n\r\n                var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                data.forEach((element, loopindex) => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                    closeingData.push(element[4]);\r\n                    highData.push(element[2]);\r\n                    lowData.push(element[3]);\r\n                    openData.push(element[3]);\r\n                    valumeData.push(element[5]);\r\n                    bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                });\r\n\r\n                var input = {\r\n                    period: 20,\r\n                    values: bbdata,\r\n                    stdDev: 2\r\n                }\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n             //   console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n              //  console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var inputRSI = { values: closeingData, period: 14 };\r\n                var rsiValues = RSI.calculate(inputRSI);\r\n\r\n                // console.log(token, \"Rsi\", inputRSI, rsiValues);\r\n                // console.log(token, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                this.setState({ chartStaticData: cdata, bblastValue: bb[bb.length - 1], vwapvalue: vwap(vwapdata), rsiValues: rsiValues.slice(Math.max(valumeData.length - 19, 1)), valumeData: valumeData.slice(Math.max(valumeData.length - 5, 1)) }, function () {\r\n                    // candleSeries.setData(this.state.chartStaticData); \r\n                    this.state.candleSeries.setData(this.state.chartStaticData);\r\n\r\n                    this.state.volumeSeries.setData(volumeSeriesData);\r\n\r\n                    var smaData = this.calculateSMA(this.state.chartStaticData, 20);\r\n\r\n                    this.state.smaLineSeries.setData(smaData);\r\n\r\n\r\n                    this.state.chart.subscribeCrosshairMove((param) => {\r\n\r\n                        var getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n                        var string = \"\";\r\n                        var change = \"\";\r\n\r\n                        for (var elem of getit) {\r\n\r\n                            if (typeof elem[1] == 'object') {\r\n                                string += \" Open: <b>\" + elem[1].open + \"</b>\";\r\n                                string += \" High: <b>\" + elem[1].high + \"</b>\";\r\n                                string += \" Low: <b>\" + elem[1].low + \"</b>\";\r\n                                string += \" Close: <b>\" + elem[1].close + \"</b>\";\r\n                                change = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n                                string += \" Chng: <b>\" + change.toFixed(2) + '%</b>';\r\n                            } else {\r\n                                string += \" &nbsp; \" + elem[1].toFixed(2) + \" \";\r\n                            }\r\n                        }\r\n\r\n                        if (param.time)\r\n                            string += \" Time: <b>\" + new Date(param.time).toLocaleString() + \"</b>\";\r\n                        else\r\n                            string += \" <b>Time: </b>\";\r\n\r\n\r\n                        const domElement = document.getElementById('showChartTitle');\r\n\r\n\r\n                        var str = \"<span style=color:green>\" + string + \"</span> \";\r\n                        if (change < 0)\r\n                            str = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n                        domElement.innerHTML = str;\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                data && data.sort(function (a, b) {\r\n                    return new Date(b[0]) - new Date(a[0]);\r\n                });\r\n                if (data.length > 0) {\r\n                    localStorage.setItem('InstrumentHistroy', JSON.stringify(data));\r\n                    this.setState({ InstrumentHistroy: data });\r\n\r\n\r\n                    var upsideMoveCount = 0, downMoveCount = 0, totalSum = 0;\r\n                    data.forEach(element => {\r\n\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n                        if (per >= 0.3) {\r\n                            upsideMoveCount += 1;\r\n                        }\r\n                        if (per <= -0.3) {\r\n                            downMoveCount += 1;\r\n                        }\r\n\r\n                        totalSum += per;\r\n\r\n                    });\r\n                    this.setState({ downMoveCount: downMoveCount, upsideMoveCount: upsideMoveCount });\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        // if(this.state.softedIndexList.length == 0)  {\r\n        //     this.setState({softedIndexList  : this.state.totalWatchlist})\r\n        // }\r\n        //console.log(\"symbolList\",this.state.symbolList)\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar LoadSymbolDetails ={this.LoadSymbolDetails} />\r\n                {/* <ChartDialog /> */}\r\n                \r\n                \r\n                <Grid direction=\"row\"  container>\r\n                     <Grid item xs={6} sm={6} >\r\n\r\n                        <Paper style={{ padding: \"10px\" }} >\r\n\r\n                            <Grid justify=\"space-between\"\r\n                                container spacing={1}>\r\n\r\n                                <Grid item xs={12} sm={4} >\r\n                                    {/* <Typography color=\"primary\" gutterBottom>\r\n                                      {this.state.selectedWatchlist} ({this.state.symbolList.length})  \r\n                                      \r\n                                      \r\n                                    </Typography> */}\r\n\r\n                                    <span>Sorted By:  {this.state.sortedType} </span> <br />\r\n                                    <span>Update: {this.state.lastUpdateAction} </span> \r\n\r\n                                   \r\n                                    \r\n                                    {/* <input onKeyDown={this.handleKeyDown} /> */}\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            {/* <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem> */}\r\n\r\n                                            {this.state.softedIndexList && this.state.softedIndexList.map(element => (\r\n                                                <MenuItem style={{color: element.percChange>0 ? \"green\": \"red\"}} value={element.indexName}>{element.indexName} ({element.percChange}%)</MenuItem>\r\n                                            )) \r\n                                            }\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            )) \r\n                                            }\r\n                                            <MenuItem value={\"Securities in F&O\"}>{\"Securities in F&O\"}</MenuItem>\r\n                                     \r\n\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n                                {/* <Grid item xs={12} sm={3} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.getUpdateIndexData()}>Refresh</Button>\r\n                                    \r\n                                       <FormGroup>\r\n                                        <FormControlLabel\r\n                                        control={<Switch checked={this.state.isSpeek} onChange={this.handleChange} aria-label=\"Speek ON/OFF\" />}\r\n                                        label={this.state.isSpeek ? 'Speak Yes'  : 'Speak No'}\r\n                                        />\r\n                                    </FormGroup>\r\n                                </Grid> */}\r\n\r\n                                {/* <Grid item xs={12} sm={1} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.backupData()}>BackUp</Button>\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={1} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Back Date</InputLabel>\r\n                                        <Select value={this.state.backDate} name=\"backDate\" onChange={this.onChangeBackDate}>\r\n                                            <MenuItem value={\"\"}>{\"Select Date\"}</MenuItem>\r\n                                            {this.state.backupDateList && this.state.backupDateList.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid> */}\r\n\r\n\r\n\r\n                            </Grid>\r\n\r\n\r\n                            <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n\r\n                                <TableHead style={{ whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                    <TableRow variant=\"head\" >\r\n\r\n                                        {/* <TableCell >US Limit</TableCell>\r\n                                        <TableCell >LS Limit</TableCell> */}\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"buytosellTime\")}>buyTosell(x)</Button>  </TableCell>\r\n                                        <TableCell  ><Button onClick={() => this.sortByColumn(\"selltobuyTime\")}>sellTobuy(x)</Button>  </TableCell> */}\r\n\r\n                                        <TableCell  ><Button onClick={() => this.sortByColumn(\"buytosellTime\")}> T B Q</Button>  </TableCell>\r\n                                        <TableCell align=\"left\"><Button onClick={() => this.sortByColumn(\"pChange\")}> Symbol</Button> </TableCell>\r\n                                        {/* <TableCell >VWAP Price</TableCell> */}\r\n\r\n                                        <TableCell ><Button onClick={() => this.sortByColumn(\"selltobuyTime\")}> T S Q</Button>  </TableCell>\r\n                                        {/* <TableCell >Other Details </TableCell>\r\n                                        <TableCell >High Price</TableCell>\r\n                                        <TableCell >Low Price</TableCell> */}\r\n\r\n                                        {/* <TableCell ><Button onClick={() => this.sortByColumn(\"quantityTraded\")}> Quantity Traded</Button>  </TableCell> */}\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"deliveryQuantity\")}> Delivery Quantity</Button>  </TableCell>\r\n                                        <TableCell  ><Button title={\"Delivery To Traded Quantity\"} onClick={() => this.sortByColumn(\"deliveryToTradedQuantity\")}> Del To Traded Qty%</Button>  </TableCell> */}\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"totalTradedVolume\")}> Total Traded Volume</Button>  </TableCell> */}\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"totalTradedValue\")}> Total Traded Value(L)</Button>  </TableCell> */}\r\n\r\n                                        {/* <TableCell  >Day Open</TableCell>\r\n                                        <TableCell  >Day High</TableCell>\r\n                                        <TableCell  >Day Low</TableCell>\r\n                                        <TableCell  >Previous Close</TableCell> */}\r\n\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.getDeliveryHistory()}>Delivery History</Button>  </TableCell> */}\r\n\r\n{/* \r\n                                        <TableCell >Best Buy Qty</TableCell>\r\n                                        <TableCell >Best Buy Price</TableCell>\r\n                                        <TableCell >Best Sell Qty</TableCell>\r\n                                        <TableCell >Best Sell Price</TableCell> */}\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n\r\n                                </Table>\r\n                                <div style={{overflow:\"auto\", maxHeight:\"720px\"}}> \r\n                                <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n                                <TableBody>\r\n                                \r\n\r\n                               \r\n\r\n\r\n                                    {this.state.symbolList ? this.state.symbolList.map((row, i) => (\r\n                                        <TableRow selected={this.state.cursor === i ? 'active' : null} \r\n                                            // onKeyDown={(e) => this.handleKeyDown(e)}\r\n                                         style={{cursor:\"pointer\"}} hover key={i} onClick={() => this.showStaticChart(row.token, row.symbol)}>\r\n\r\n                                            {/* <TableCell >{row.upperCircuitLimit}</TableCell>\r\n                                            <TableCell >{row.lowerCircuitLimit}</TableCell> */}\r\n\r\n                                            {/* <TableCell style={{ background: row.highlightbuy ? \"lightgray\" : \"\" }} >\r\n                                                {row.buytosellTime ? row.buytosellTime +\" time buy\" : \"\"}\r\n                                            </TableCell>\r\n                                            <TableCell style={{ background: row.highlightsell ? \"lightgray\" : \"\" }} >\r\n                                                {row.selltobuyTime ? row.selltobuyTime+\" time sell\" : \"\"} \r\n                                            </TableCell> */}\r\n\r\n                                            <TableCell title=\"total buying bids qty\"  style={{ background: row.highlightbuy ? \"#FFFF00\" : \"\" }}  >\r\n                                                    {/* {row.buybidHistory &&  row.buybidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))} */}\r\n                                                {row.buytosellTime ? `B: ${row.buytosellTime}` : \"\"}\r\n\r\n                                                {/* &nbsp; {row.totalBuyQuantity}  */}\r\n                                                {this.convertToFloat(row.totalBuyQuantity)}\r\n\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\" style={{ background: this.getPercentageColor(row.pChange)  }} >    {row.name} {row.ltp} {row.pChange ? `(${row.pChange}%)` : \"\"} </TableCell>\r\n                                            <TableCell title=\"Average Price\" style={{height:'25px', background: row.ltp ? row.ltp >= row.averagePrice ? \"green\" : \"red\" : \"white\"}}>AP:{row.averagePrice}</TableCell>\r\n\r\n\r\n                                            <TableCell title=\"total selling bid qty\" style={{ background: row.highlightsell ? \"#FFFF00\" : \"\" }}>\r\n                                                    {/* {row.sellbidHistory &&  row.sellbidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))} */}\r\n                                            {row.selltobuyTime ? `S: ${row.selltobuyTime}` : \"\"} \r\n\r\n                                            {/* &nbsp; {row.totalSellQuantity}  */}\r\n                                            {this.convertToFloat(row.totalSellQuantity)}\r\n                                  \r\n                                            </TableCell>\r\n                                            <TableCell  title=\"Open Price\">O:{row.openPrice}</TableCell>\r\n                                            <TableCell  title=\"High Price\">H:{row.highPrice}</TableCell>\r\n                                            <TableCell title=\"Low Price\" >L:{row.lowPrice}</TableCell>\r\n\r\n                                            {/* <TableCell >{row.quantityTraded} {this.convertToFloat(row.quantityTraded)}</TableCell> */}\r\n                                            {/* <TableCell >{row.deliveryQuantity} {this.convertToFloat(row.deliveryQuantity)}</TableCell>\r\n                                            <TableCell >{row.deliveryToTradedQuantity}%</TableCell> */}\r\n\r\n                                            {/* <TableCell >{row.totalTradedVolume} {this.convertToFloat(row.totalTradedVolume)}</TableCell> */}\r\n                                            {/* <TableCell >{row.totalTradedValue}L</TableCell> */}\r\n\r\n                                            {/* <TableCell  >{row.open}</TableCell>\r\n                                                <TableCell  >{row.dayHigh}</TableCell>\r\n                                                <TableCell  >{row.dayLow}</TableCell>\r\n                                                <TableCell  >{row.previousClose}</TableCell> */}\r\n\r\n                                            {/* <TableCell style={{ background: \"#eceff1\" }} >\r\n\r\n                                                {row.delHistory && row.delHistory.map(item => (\r\n                                                    <span> {new Date(item.datetime).toLocaleDateString()}  &nbsp;\r\n                                                        <span title={\"quantityTraded \" + item.quantityTraded}> {(item.quantityTraded / 100000)}L  </span>  &nbsp;\r\n                                                        <span title={\"deliveryToTradedQuantity\"}> {item.deliveryToTradedQuantity}%  </span>  &nbsp;\r\n                                                        <span title={\"deliveryQuantity \" + item.deliveryQuantity}> {(item.deliveryQuantity / 100000)}L  </span>  &nbsp;\r\n                                                        <span style={{ color: item.todayChange > 0 ? \"green\" : \"red\" }}> ({item.todayChange}%)   </span>\r\n                                                        &nbsp;  <br /></span>\r\n                                                ))}\r\n\r\n                                            </TableCell> */}\r\n\r\n                                            {/* <TableCell >{row.bestbuyquantity}</TableCell>\r\n                                            <TableCell >{row.bestbuyprice}</TableCell>\r\n                                            <TableCell >{row.bestsellquantity}</TableCell>\r\n                                            <TableCell >{row.bestsellprice}</TableCell> */}\r\n\r\n                                               \r\n\r\n                                        </TableRow>\r\n                                    )) : <Spinner />}\r\n                                 \r\n                                    </TableBody>\r\n\r\n                             \r\n                            </Table>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n\r\n                            <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n                                \r\n                                <Grid item xs={12} sm={12}  >\r\n\r\n                                    <Grid  spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n                                        <Grid item xs={12} sm={10} > \r\n                                         <Typography><b> {this.state.lightChartSymbol} </b></Typography>\r\n\r\n                                         </Grid>\r\n                                        \r\n\r\n                                        <Grid item xs={12} sm={2} > \r\n                                         <FormControl style={styles.selectStyle} style={{ marginTop: '10px' }} >\r\n                                        <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onInputChange}>\r\n                                            <MenuItem value={'ONE_MINUTE'}>{'1M'}</MenuItem>\r\n                                            <MenuItem value={'FIVE_MINUTE'}>{'5M'}</MenuItem>\r\n                                            <MenuItem value={'TEN_MINUTE'}>{'10M'}</MenuItem>\r\n                                            <MenuItem value={'FIFTEEN_MINUTE'}>{'15M'}</MenuItem>\r\n                                            <MenuItem value={'THIRTY_MINUTE'}>{'30M'}</MenuItem>\r\n                                            <MenuItem value={'ONE_HOUR'}>{'1H'}</MenuItem>\r\n                                            <MenuItem value={'ONE_DAY'}>{'1D'}</MenuItem>\r\n                                        </Select>\r\n                                        </FormControl>\r\n                                    \r\n\r\n                                         </Grid>\r\n                                       \r\n                                    </Grid>\r\n                                    \r\n\r\n                                        \r\n\r\n                                    <div id=\"showChartTitle\"></div>\r\n                                    <div id=\"tvchart\"></div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} style={{ overflowY: 'scroll', height: \"40vh\" }} >\r\n                                <Typography> <b> {this.state.lightChartSymbol} </b> </Typography>\r\n\r\n\r\n                                    <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                        <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                            <TableRow variant=\"head\" style={{ fontWeight: 'bold' }} >\r\n\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Symbol<b style={{ color: '#20d020' }}> UP({this.state.upsideMoveCount})</b> | <b style={{ color: 'red' }}> Down({this.state.downMoveCount})</b> </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Timestamp</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Chng% </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Open</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">High</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Low</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Close </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Volume</TableCell>\r\n\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                            {this.state.InstrumentHistroy && this.state.InstrumentHistroy ? this.state.InstrumentHistroy.map((row, i) => (\r\n                                                <TableRow key={i} style={{ background: (row[4] - row[1]) * 100 / row[1] >= 0.3 ? \"#20d020\" : (row[4] - row[1]) * 100 / row[1] <= -0.3 ? \"#e66e6e\" : \"none\" }} >\r\n\r\n                                                    <TableCell align=\"center\">{this.state.tradingsymbol}</TableCell>\r\n                                                    <TableCell align=\"center\">{new Date(row[0]).toLocaleString()}</TableCell>\r\n                                                    <TableCell align=\"center\"> <b>{(row[4] - row[1]) * 100 / row[1] && ((row[4] - row[1]) * 100 / row[1]).toFixed(2)}%</b></TableCell>\r\n                                                    <TableCell align=\"center\">{row[1]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[2]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[3]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[4]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[5]}</TableCell>\r\n\r\n                                                </TableRow>\r\n                                            )) : ''}\r\n\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </Grid>\r\n\r\n\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n\r\n                    \r\n                </Grid>\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = {\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    }\r\n};\r\n\r\nexport default LiveBid;\r\n\r\n","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Spinner from \"react-spinner-material\";\r\nimport { w3cwebsocket } from 'websocket';\r\n//import ChartDialog from './ChartDialog';\r\nimport pako from 'pako';\r\nimport AdminService from \"../service/AdminService\";\r\nimport Notify from \"../../utils/Notify\";\r\nimport { createChart } from 'lightweight-charts';\r\nimport * as moment from 'moment';\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport vwap from 'vwap';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport \"./ViewStyle.css\";\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\n// import vwap from 'vwap';\r\n// import { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\n// import SimpleExpansionPanel from \"./SimpleExpansionPanel\";\r\n// import SimpleExpansionFastMovement from \"./SimpleExpansionFastMovement\";\r\n// import LiveBidsExpantion from \"./LiveBidsExpantion\";\r\n// import WatchListTab from \"./WatchListTab\"; \r\n// import OrderWatchlist from './OrderWatchlist';\r\n\r\n\r\nclass LiveBid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'NIFTY BANK', //'Securities in F&O', 'NIFTY BANK'\r\n            symbolList: [],\r\n            actionList: localStorage.getItem('actionList') && JSON.parse(localStorage.getItem('actionList')) || [],\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            softedIndexList: [],\r\n            cursor: '',\r\n            candleHistoryFlag: false,\r\n            lightChartSymbol: \"Select Symbol for Chart\",\r\n            isSpeek: localStorage.getItem('isSpeek') === 'true' ? true : false,\r\n            sortedType: \"pChange\",\r\n            sluglist: {\r\n                'NIFTY 50': 'nifty',\r\n                'NIFTY AUTO': 'cnxAuto',\r\n                'NIFTY BANK': 'bankNifty',\r\n                'NIFTY ENERGY': 'cnxEnergy',\r\n                'NIFTY FIN SERVICE': 'cnxFinance',\r\n                'NIFTY FMCG': 'cnxFMCG',\r\n                'NIFTY IT': 'cnxit',\r\n                'NIFTY MEDIA': 'cnxMedia',\r\n                'NIFTY METAL': 'cnxMetal',\r\n                'NIFTY PHARMA': 'cnxPharma',\r\n                'NIFTY PSU BANK': 'cnxPSU',\r\n                'NIFTY REALTY': 'cnxRealty',\r\n                'NIFTY PVT BANK': 'niftyPvtBank',\r\n                'NIFTY CONSUMPTION': 'cnxConsumption',\r\n                'NIFTY CPSE': 'cpse',\r\n                'NIFTY INFRA': 'cnxInfra',\r\n                'NIFTY MNC': 'cnxMNC',\r\n                'NIFTY PSE': 'cnxPSE',\r\n\r\n                //  \"NIFTY HEALTHCARE\": \"niftyHealthcare\"\r\n                //'NIFTY CONSR DURBL':  \"niftyConsrDurbl\"\r\n                // 'NIFTY GROWSECT 15': 'ni15',H\r\n                // 'NIFTY COMMODITIES': 'cnxCommodities',\r\n                // 'NIFTY SERV SECTOR': 'cnxService',\r\n                // 'NIFTY100 LIQ 15': 'nseliquid',\r\n                // 'NIFTY MID LIQ 15': 'niftyMidcapLiq15',\r\n                // 'NIFTY DIV OPPS 50': 'cnxDividendOppt',\r\n                // 'NIFTY50 VALUE 20': 'nv20',\r\n                // 'NIFTY QUALITY 30': 'niftyQuality30',\r\n                // 'NIFTY50 EQL WGT': 'nifty50EqualWeight',\r\n                // 'NIFTY100 EQL WGT': 'nifty100EqualWeight',\r\n                // 'NIFTY ALPHA 50': 'niftyAlpha50',\r\n                'NIFTY NEXT 50': 'juniorNifty',\r\n                'NIFTY MIDCAP 50': 'niftyMidcap50',\r\n                'NIFTY HEALTHCARE': \"notfound\",\r\n                'NIFTY OIL AND GAS': \"notfound\",\r\n                'NIFTY 100': \"notfound\",\r\n                'NIFTY CONSR DURBL': 'notfond'\r\n            },\r\n        };\r\n        this.updateSocketWatch = this.updateSocketWatch.bind(this);\r\n\r\n    }\r\n    makeConnection = (wsClint) => {\r\n        var firstTime_req = '{\"task\":\"cn\",\"channel\":\"NONLM\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n        wsClint.send(firstTime_req);\r\n        this.updateSocketWatch(wsClint);\r\n    }\r\n    decodeWebsocketData = (array) => {\r\n        var newarray = [];\r\n        try {\r\n            for (var i = 0; i < array.length; i++) {\r\n                newarray.push(String.fromCharCode(array[i]));\r\n            }\r\n        } catch (e) { }\r\n        //  console.log(newarray.join(''))\r\n        return newarray.join('');\r\n    }\r\n\r\n\r\n\r\n    updateSocketWatch = (wsClint) => {\r\n        var channel = this.state.symbolList.map(element => {\r\n            return 'nse_cm|' + element.token;\r\n        });\r\n        channel = channel.join('&');\r\n        var updateSocket = {\r\n            \"task\": \"mw\",\r\n            \"channel\": channel,\r\n            \"token\": this.state.feedToken,\r\n            \"user\": this.state.clientcode,\r\n            \"acctid\": this.state.clientcode\r\n        }\r\n\r\n        wsClint.send(JSON.stringify(updateSocket));\r\n    }\r\n\r\n    takeAction = (symbol, action) => {\r\n        let isfound = this.state.actionList.length && this.state.actionList.filter(item => item.symbol === symbol);\r\n        if (!isfound.length) {\r\n            let data = { symbol: symbol, action: action, updateTime: new Date().toLocaleTimeString() };\r\n            this.setState({ actionList: [...this.state.actionList, data] }, function () {\r\n                localStorage.setItem('actionList', JSON.stringify(this.state.actionList));\r\n                this.speckIt(symbol + \" \" + action);\r\n\r\n                console.log(data.symbol + \" \" + data.action + \" \" + data.updateTime);\r\n                this.setState({ lastUpdateAction: data.symbol + \" \" + data.action + \" \" + data.updateTime });\r\n\r\n                window.document.title = data.symbol + \" \" + data.action + \" \" + data.updateTime;\r\n            });\r\n        }\r\n    }\r\n    updateSocketDetails = (wsClint) => {\r\n        wsClint.onopen = (res) => {\r\n            this.makeConnection(wsClint);\r\n            this.updateSocketWatch(wsClint);\r\n        }\r\n        wsClint.onmessage = (message) => {\r\n            var decoded = window.atob(message.data);\r\n            var data = this.decodeWebsocketData(pako.inflate(decoded));\r\n            var liveData = JSON.parse(data);\r\n\r\n            var symbolListArray = this.state.symbolList;\r\n            this.state.symbolList && this.state.symbolList.forEach((element, index) => {\r\n                var foundLive = liveData.filter(row => row.tk == element.token);\r\n                if (foundLive.length > 0 && foundLive[0].ltp && foundLive[0].nc) {\r\n\r\n                    symbolListArray[index].ltp = foundLive[0].ltp;\r\n                    symbolListArray[index].pChange = foundLive[0].nc;\r\n                    symbolListArray[index].totalBuyQuantity = foundLive[0].tbq;\r\n                    symbolListArray[index].totalSellQuantity = foundLive[0].tsq;\r\n                    symbolListArray[index].totalTradedVolume = foundLive[0].v;\r\n                    symbolListArray[index].averagePrice = foundLive[0].ap;\r\n                    symbolListArray[index].lowPrice = foundLive[0].lo;\r\n                    symbolListArray[index].highPrice = foundLive[0].h;\r\n                    symbolListArray[index].openPrice = foundLive[0].op;\r\n\r\n                    symbolListArray[index].bestbuyquantity = foundLive[0].bq;\r\n                    symbolListArray[index].bestbuyprice = foundLive[0].bp;\r\n                    symbolListArray[index].bestsellquantity = foundLive[0].bs;\r\n                    symbolListArray[index].bestsellprice = foundLive[0].sp;\r\n                    symbolListArray[index].ltt = moment(foundLive[0].ltt,'YYYY-MM-DD HH:mm:ss' );\r\n\r\n                    // symbolListArray[index].upperCircuitLimit = foundLive[0].ucl;\r\n                    // symbolListArray[index].lowerCircuitLimit = foundLive[0].lcl;\r\n\r\n                    symbolListArray[index].buytosellTime = (foundLive[0].tbq / foundLive[0].tsq).toFixed(2);\r\n                    symbolListArray[index].selltobuyTime = (foundLive[0].tsq / foundLive[0].tbq).toFixed(2);\r\n\r\n                    if (foundLive[0].tbq / foundLive[0].tsq > 2) {\r\n                        symbolListArray[index].highlightbuy = true;\r\n                        this.takeAction(element.symbol, ' buying')\r\n                    } else {\r\n                        symbolListArray[index].highlightbuy = false;\r\n                    }\r\n\r\n                    if (foundLive[0].tsq / foundLive[0].tbq > 2) {\r\n                        symbolListArray[index].highlightsell = true;\r\n                        this.takeAction(element.symbol, ' selling')\r\n\r\n                    } else {\r\n                        symbolListArray[index].highlightsell = false;\r\n                    }\r\n\r\n                    if (this.state.token == element.token) {\r\n                        this.setState({ livePrice: foundLive[0].ltp, livePChange: foundLive[0].nc })\r\n                    }\r\n                    //console.log(\"ws onmessage: \", foundLive[0]);\r\n                }\r\n            });\r\n\r\n\r\n            let shortBy = this.state.sortedType;\r\n            symbolListArray && symbolListArray.sort(function (a, b) {\r\n                return b[shortBy] - a[shortBy];\r\n            });\r\n            this.setState({ symbolList: symbolListArray });\r\n        }\r\n\r\n        wsClint.onerror = (e) => {\r\n            console.log(\"socket error\", e);\r\n        }\r\n\r\n        setInterval(() => {\r\n            //  this.makeConnection();\r\n            var _req = '{\"task\":\"hb\",\"channel\":\"\",\"token\":\"' + this.state.feedToken + '\",\"user\": \"' + this.state.clientcode + '\",\"acctid\":\"' + this.state.clientcode + '\"}';\r\n            console.log(\"Request :- \" + _req);\r\n            wsClint.send(_req);\r\n        }, 59000);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"WS Bid Live\";\r\n        this.setState({ symbolList: this.state.staticData[this.state.selectedWatchlist] });\r\n\r\n        var tokens = JSON.parse(localStorage.getItem(\"userTokens\"));\r\n        var feedToken = tokens && tokens.feedToken;\r\n        var userProfile = JSON.parse(localStorage.getItem(\"userProfile\"));\r\n        var clientcode = userProfile && userProfile.clientcode;\r\n        this.setState({ feedToken: feedToken, clientcode: clientcode }, function () {\r\n            this.wsClint = new w3cwebsocket('wss://omnefeeds.angelbroking.com/NestHtml5Mobile/socket/stream');\r\n            this.updateSocketDetails(this.wsClint);\r\n        });\r\n\r\n        const domElement = document.getElementById('tvchart');\r\n        document.getElementById('tvchart').innerHTML = '';\r\n\r\n        let width = window.screen.width / 2.1, height = window.screen.height / 2;\r\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n            width = window.screen.width ;\r\n        }\r\n\r\n\r\n        const chart = createChart(domElement, { width: width, height: height, timeVisible: true, secondsVisible: true, });\r\n        const candleSeries = chart.addCandlestickSeries();\r\n        var smaLineSeries = chart.addLineSeries({\r\n            color: 'rgba(4, 111, 232, 1)',\r\n            lineWidth: 2,\r\n        });\r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n        this.setState({ chart: chart, candleSeries: candleSeries, smaLineSeries: smaLineSeries, volumeSeries: volumeSeries });\r\n\r\n        this.getUpdateIndexData()\r\n\r\n        var beginningTime = moment('9:15am', 'h:mma');\r\n        var endTime = moment('3:30pm', 'h:mma');\r\n        const friday = 5; // for friday\r\n        var currentTime = moment(new Date(), \"h:mma\");\r\n        const today = moment().isoWeekday();\r\n        //market hours\r\n        if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n            setInterval(() => {\r\n                if (this.state.token) {\r\n                    this.showStaticChart();\r\n                }\r\n            }, 1000);\r\n\r\n            setInterval(() => {\r\n                console.log('Save in :', new Date().getSeconds())\r\n                if (new Date().getSeconds() == 0) {\r\n                    this.storeChartData();\r\n                }\r\n            },1000);\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    storeChartData =()=>{\r\n\r\n        AdminService.saveCandleHistory(this.state.symbolList)\r\n        .then((res) => {\r\n            if (res.data) {\r\n                console.log(res.data)\r\n            }\r\n        })\r\n        .catch((reject) => {\r\n        }).finally((ok) => {\r\n        })\r\n    }\r\n\r\n    getUpdateIndexData = () => {\r\n        this.setState({ softedIndexList: [] })\r\n        AdminService.allIndicesDirectJSON()\r\n            .then((res) => {\r\n\r\n                if (res.data) {\r\n\r\n                    var softedData = res.data && res.data.data;\r\n                    softedData.sort(function (a, b) {\r\n                        return b.percChange - a.percChange;\r\n                    });\r\n\r\n                    for (let index = 0; index < softedData.length; index++) {\r\n                        const element = softedData[index];\r\n                        var slugName = this.state.sluglist[element.indexName];\r\n                        if (slugName) {\r\n                            this.setState({ softedIndexList: [...this.state.softedIndexList, element] });\r\n                        }\r\n                    }\r\n\r\n                    this.makeConnection(this.wsClint)\r\n                    //  this.updateSocketWatch(this.wsClint);\r\n                }\r\n            })\r\n            .catch((reject) => {\r\n                // Notify.showError(\"All Indices API Failed\");\r\n            }).finally((ok) => {\r\n            })\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        if (this.state.isSpeek) {\r\n            var msg = new SpeechSynthesisUtterance();\r\n            msg.text = text.toString();\r\n            window.speechSynthesis.speak(msg);\r\n        }\r\n    }\r\n\r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n    onChangeWatchlist = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n            this.setState({ symbolList: watchList }, () => this.updateSocketWatch(this.wsClint));\r\n        });\r\n    }\r\n    sortByColumn = (type) => {\r\n        this.state.symbolList.sort(function (a, b) {\r\n            return b[type] - a[type];\r\n        });\r\n        this.setState({ symbolList: this.state.symbolList, sortedType: type });\r\n    }\r\n\r\n    // checkLiveBids = async () => {\r\n    //     var watchList = this.state.staticData[this.state.selectedWatchlist];\r\n    //     this.setState({ symbolList: watchList});\r\n    // }\r\n    // getLTP = (symbol, token) => {\r\n    //     var data = {\r\n    //         \"exchange\": \"NSE\",\r\n    //         \"tradingsymbol\": symbol,\r\n    //         \"symboltoken\": token,\r\n    //     }\r\n    //     AdminService.getLTP(data).then(res => {\r\n    //         let data = resolveResponse(res, 'noPop');\r\n    //         var LtpData = data && data.data;\r\n\r\n    //         if (LtpData && LtpData.ltp)\r\n    //             this.setState({ InstrumentPerChange: ((LtpData.ltp - LtpData.close) * 100 / LtpData.close) });\r\n    //     })\r\n    // } \r\n\r\n    convertToDecimal = (num) => {\r\n        if (!isNaN(num)) {\r\n\r\n            return num.toFixed(2);\r\n        } else {\r\n            return num;\r\n        }\r\n    }\r\n\r\n\r\n    convertToFloat = (str) => {\r\n        if (!isNaN(str)) {\r\n            return \"(\" + ((str / 100000).toFixed(2)) + \"L)\";\r\n        }\r\n    }\r\n    onInputChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            //    console.log(\"time\", this.state.timeFrame);\r\n            this.showStaticChart();\r\n        });\r\n    }\r\n    handleKeyDown = (e, token) => {\r\n\r\n        console.log(\"key\", e, token);\r\n        //38 for down and 40 for up key\r\n        if (e.keyCode === 38 && this.state.cursor > 0) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor - 1 }));\r\n        } else if (e.keyCode === 40 && this.state.cursor < this.state.symbolList.length - 1) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor + 1 }))\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.showStaticChart();\r\n        }, 100);\r\n\r\n    }\r\n    handleChange = (event) => {\r\n\r\n        localStorage.setItem('isSpeek', event.target.checked);\r\n        this.setState({ isSpeek: event.target.checked }, () => {\r\n            console.log(\"isSpeek\", this.state.isSpeek, event.target.checked);\r\n        })\r\n\r\n    };\r\n    calculateSMA = (data, count) => {\r\n\r\n        //  console.log(\"smarowdata\", data, count);\r\n\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n    showStaticChart = (token, symbol) => {\r\n\r\n        //console.log('token, symbol', token, symbol)\r\n\r\n        if (token)\r\n            this.setState({ chartStaticData: '', lightChartSymbol: symbol, token: token }, function () {\r\n                console.log('reset done', token);\r\n            });\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        let beginningTime = moment('9:15am', 'h:mma');\r\n\r\n        if (this.state.timeFrame == 'ONE_MINUTE') {\r\n            var time = moment.duration(\"00:60:00\");\r\n            beginningTime = moment(new Date()).subtract(time);\r\n        }\r\n\r\n        if (this.state.candleHistoryFlag) {\r\n            var time = moment.duration(\"1000:00:00\");\r\n            if (this.state.timeFrame == 'ONE_MINUTE')\r\n                time = moment.duration(\"100:00:00\");\r\n            beginningTime = moment(new Date()).subtract(time);\r\n        }\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token || this.state.token,\r\n            \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE \r\n            \"fromdate\": moment(beginningTime).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n\r\n\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let historyData = resolveResponse(res, 'noPop');\r\n            //    console.log(data); \r\n            if (historyData && historyData.data) {\r\n\r\n                var data = historyData.data;\r\n\r\n                const cdata = data.map(d => {\r\n                    return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                });\r\n\r\n                var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                data.forEach((element, loopindex) => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                    closeingData.push(element[4]);\r\n                    highData.push(element[2]);\r\n                    lowData.push(element[3]);\r\n                    openData.push(element[3]);\r\n                    valumeData.push(element[5]);\r\n                    bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                });\r\n\r\n                var input = {\r\n                    period: 20,\r\n                    values: bbdata,\r\n                    stdDev: 2\r\n                }\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                //   console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                //  console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var inputRSI = { values: closeingData, period: 14 };\r\n                var rsiValues = RSI.calculate(inputRSI);\r\n\r\n                console.log(token, \"Rsi\", inputRSI, rsiValues);\r\n                // console.log(token, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                this.setState({ chartStaticData: cdata, bblastValue: bb[bb.length - 1], vwapvalue: vwap(vwapdata), rsiValues: rsiValues.slice(Math.max(valumeData.length - 19, 1)), valumeData: valumeData.slice(Math.max(valumeData.length - 5, 1)) }, function () {\r\n                    // candleSeries.setData(this.state.chartStaticData); \r\n                    this.state.candleSeries.setData(this.state.chartStaticData);\r\n\r\n                    this.state.volumeSeries.setData(volumeSeriesData);\r\n\r\n                    var smaData = this.calculateSMA(this.state.chartStaticData, 20);\r\n\r\n                    this.state.smaLineSeries.setData(smaData);\r\n\r\n\r\n                    this.state.chart.subscribeCrosshairMove((param) => {\r\n\r\n                        var getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n                        var string = \"\";\r\n                        var change = \"\";\r\n\r\n                        for (var elem of getit) {\r\n\r\n                            if (typeof elem[1] == 'object') {\r\n                                string += \" O: <b>\" + elem[1].open + \"</b>\";\r\n                                string += \" H: <b>\" + elem[1].high + \"</b>\";\r\n                                string += \" L: <b>\" + elem[1].low + \"</b>\";\r\n                                string += \" C: <b>\" + elem[1].close + \"</b>\";\r\n                                change = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n                                string += \" Chng: <b>\" + change.toFixed(2) + '%</b>';\r\n                            } else {\r\n                                string += \" &nbsp; \" + elem[1].toFixed(2) + \" \";\r\n                            }\r\n                        }\r\n\r\n                        if (param.time)\r\n                            string += \" T: <b>\" + new Date(param.time).toLocaleString() + \"</b>\";\r\n                        else\r\n                            string += \" <b>Time: </b>\";\r\n\r\n\r\n                        const domElement = document.getElementById('showChartTitle');\r\n\r\n\r\n                        var str = \"<span style=color:green>\" + string + \"</span> \";\r\n                        if (change < 0)\r\n                            str = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n                        domElement.innerHTML = str;\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                data && data.sort(function (a, b) {\r\n                    return new Date(b[0]) - new Date(a[0]);\r\n                });\r\n                if (data.length > 0) {\r\n                    localStorage.setItem('InstrumentHistroy', JSON.stringify(data));\r\n                    this.setState({ InstrumentHistroy: data });\r\n\r\n\r\n                    var upsideMoveCount = 0, downMoveCount = 0, totalSum = 0;\r\n                    data.forEach(element => {\r\n\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n                        if (per >= 0.3) {\r\n                            upsideMoveCount += 1;\r\n                        }\r\n                        if (per <= -0.3) {\r\n                            downMoveCount += 1;\r\n                        }\r\n\r\n                        totalSum += per;\r\n\r\n                    });\r\n                    this.setState({ downMoveCount: downMoveCount, upsideMoveCount: upsideMoveCount });\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        // if(this.state.softedIndexList.length == 0)  {\r\n        //     this.setState({softedIndexList  : this.state.totalWatchlist})\r\n        // }\r\n        //console.log(\"symbolList\",this.state.symbolList)\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar LoadSymbolDetails={this.LoadSymbolDetails} />\r\n                {/* <ChartDialog /> */}\r\n                <Grid direction=\"row\" container>\r\n\r\n                    <Grid item xs={12} sm={6}>\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n\r\n                            <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n\r\n                                <Grid item xs={12} sm={12}  >\r\n\r\n                                    <Grid spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n                                        <Grid item xs={10} sm={10} >\r\n                                            <Typography> {this.state.lightChartSymbol} {this.state.livePrice} {this.state.livePChange ? `(${this.state.livePChange})` : \"\"}  </Typography>\r\n\r\n                                        </Grid>\r\n\r\n\r\n                                        <Grid item xs={2} sm={2} >\r\n                                            <FormControl style={styles.selectStyle} style={{ marginTop: '10px' }} >\r\n                                                <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onInputChange}>\r\n                                                    <MenuItem value={'ONE_MINUTE'}>{'1M'}</MenuItem>\r\n                                                    <MenuItem value={'FIVE_MINUTE'}>{'5M'}</MenuItem>\r\n                                                    <MenuItem value={'TEN_MINUTE'}>{'10M'}</MenuItem>\r\n                                                    <MenuItem value={'FIFTEEN_MINUTE'}>{'15M'}</MenuItem>\r\n                                                    <MenuItem value={'THIRTY_MINUTE'}>{'30M'}</MenuItem>\r\n                                                    <MenuItem value={'ONE_HOUR'}>{'1H'}</MenuItem>\r\n                                                    <MenuItem value={'ONE_DAY'}>{'1D'}</MenuItem>\r\n                                                </Select>\r\n                                            </FormControl>\r\n\r\n\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                    <div id=\"showChartTitle\"></div>\r\n                                    <div id=\"tvchart\"></div>\r\n                                </Grid>\r\n\r\n                                <Hidden xsDown>\r\n                                    <Paper style={{ padding: \"10px\" }} >\r\n\r\n                                        <b> Indicator Details </b> <br />\r\n\r\n                                        <b> RSI: </b>{this.state.rsiValues && this.state.rsiValues.map((item, j) => (\r\n                                            item >= 60 ? <span style={{ color: 'green', fontWeight: \"bold\" }}> {item} &nbsp;</span> : <span style={{ color: item <= 40 ? 'red' : \"\", fontWeight: \"bold\" }}> {item} &nbsp;</span>\r\n                                        ))}\r\n\r\n\r\n                                        <br />\r\n                                        <b>Vol:</b> {this.state.valumeData && this.state.valumeData.map((item, j) => (\r\n                                            <span style={{ color: item > this.state.dailyAvgValume ? \"green\" : \"\", fontWeight: item > this.state.dailyAvgValume ? \"bold\" : \"\" }}> {(item / 100000).toFixed(2)}L &nbsp;</span>\r\n                                        ))}\r\n\r\n                                        <br />\r\n                                        {this.state.bblastValue ? <span item xs={12} sm={12} >\r\n\r\n                                            <span title=\"Green color mean price running above upper bb band\" style={{ color: this.state.livePrice >= this.state.bblastValue.upper ? \"green\" : \"\", fontWeight: \"bold\" }}>BB Upper: {this.state.bblastValue.upper.toFixed(2)}</span><br />\r\n                                            BB Middle(20 SMA): {this.state.bblastValue.middle.toFixed(2)}<br />\r\n                                            <span title=\"Green red mean price running below lower bb band\" style={{ color: this.state.livePrice <= this.state.bblastValue.lower ? \"red\" : \"\", fontWeight: \"bold\" }}>BB Lower: {this.state.bblastValue.lower.toFixed(2)}</span><br />\r\n                                        </span> : \"\"}\r\n\r\n                                        <span item xs={12} sm={12} style={{ color: this.state.livePrice > this.state.vwapvalue ? \"green\" : \"red\", fontWeight: \"bold\" }}>\r\n                                            VWAP:  {this.state.vwapvalue && this.state.vwapvalue.toFixed(2)}\r\n                                        </span>\r\n\r\n\r\n                                        <br />  <br />\r\n\r\n\r\n                                    </Paper>\r\n                                </Hidden>\r\n\r\n                                {/* <Grid item xs={12} sm={12} style={{ overflowY: 'scroll', height: \"40vh\" }} >\r\n                                <Typography> <b> {this.state.lightChartSymbol} </b> </Typography>\r\n\r\n\r\n                                    <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                        <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                            <TableRow variant=\"head\" style={{ fontWeight: 'bold' }} >\r\n\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Symbol<b style={{ color: '#20d020' }}> UP({this.state.upsideMoveCount})</b> | <b style={{ color: 'red' }}> Down({this.state.downMoveCount})</b> </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Timestamp</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Chng% </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Open</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">High</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Low</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Close </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" align=\"center\">Volume</TableCell>\r\n\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                            {this.state.InstrumentHistroy && this.state.InstrumentHistroy ? this.state.InstrumentHistroy.map((row, i) => (\r\n                                                <TableRow key={i} style={{ background: (row[4] - row[1]) * 100 / row[1] >= 0.3 ? \"#20d020\" : (row[4] - row[1]) * 100 / row[1] <= -0.3 ? \"#e66e6e\" : \"none\" }} >\r\n\r\n                                                    <TableCell align=\"center\">{this.state.tradingsymbol}</TableCell>\r\n                                                    <TableCell align=\"center\">{new Date(row[0]).toLocaleString()}</TableCell>\r\n                                                    <TableCell align=\"center\"> <b>{(row[4] - row[1]) * 100 / row[1] && ((row[4] - row[1]) * 100 / row[1]).toFixed(2)}%</b></TableCell>\r\n                                                    <TableCell align=\"center\">{row[1]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[2]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[3]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[4]}</TableCell>\r\n                                                    <TableCell align=\"center\">{row[5]}</TableCell>\r\n\r\n                                                </TableRow>\r\n                                            )) : ''}\r\n\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </Grid> */}\r\n\r\n\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={6} >\r\n\r\n                        <Paper style={{ padding: \"10px\" }} >\r\n\r\n                            <Grid justify=\"space-between\"\r\n                                container spacing={1}>\r\n\r\n\r\n\r\n\r\n                                <Grid item xs={8} sm={6} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            {/* <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem> */}\r\n\r\n                                            {this.state.softedIndexList && this.state.softedIndexList.map(element => (\r\n                                                <MenuItem style={{ color: element.percChange > 0 ? \"green\" : \"red\" }} value={element.indexName}>{element.indexName} ({element.percChange}%)</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                            <MenuItem value={\"Securities in F&O\"}>{\"Securities in F&O\"}</MenuItem>\r\n\r\n\r\n                                        </Select>\r\n                                    </FormControl>\r\n\r\n                                </Grid>\r\n                                <Grid item xs={4} sm={3} >\r\n                                    <Button variant=\"\" style={{ marginRight: '20px' }} onClick={() => this.getUpdateIndexData()}>Refresh</Button>\r\n\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={4} sm={3} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"candleHistoryFlag\">Candle History</InputLabel>\r\n                                        <Select value={this.state.candleHistoryFlag} name=\"candleHistoryFlag\" onChange={this.onChangeWatchlist}>\r\n\r\n                                            <MenuItem value={true}>{\"Yes\"}</MenuItem>\r\n                                            <MenuItem value={false}>{\"No\"}</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n\r\n                                {/* <Grid item xs={12} sm={3} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.getUpdateIndexData()}>Refresh</Button>\r\n                                    \r\n                                       <FormGroup>\r\n                                        <FormControlLabel\r\n                                        control={<Switch checked={this.state.isSpeek} onChange={this.handleChange} aria-label=\"Speek ON/OFF\" />}\r\n                                        label={this.state.isSpeek ? 'Speak Yes'  : 'Speak No'}\r\n                                        />\r\n                                    </FormGroup>\r\n                                </Grid> */}\r\n\r\n                                {/* <Grid item xs={12} sm={1} >\r\n                                    <Button variant=\"contained\" style={{ marginRight: '20px' }} onClick={() => this.backupData()}>BackUp</Button>\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs={12} sm={1} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Back Date</InputLabel>\r\n                                        <Select value={this.state.backDate} name=\"backDate\" onChange={this.onChangeBackDate}>\r\n                                            <MenuItem value={\"\"}>{\"Select Date\"}</MenuItem>\r\n                                            {this.state.backupDateList && this.state.backupDateList.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid> */}\r\n\r\n\r\n\r\n                            </Grid>\r\n\r\n\r\n                            <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n\r\n                                <TableHead style={{ whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                    <TableRow variant=\"head\" >\r\n\r\n                                        {/* <TableCell >US Limit</TableCell>\r\n                                        <TableCell >LS Limit</TableCell> */}\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"buytosellTime\")}>buyTosell(x)</Button>  </TableCell>\r\n                                        <TableCell  ><Button onClick={() => this.sortByColumn(\"selltobuyTime\")}>sellTobuy(x)</Button>  </TableCell> */}\r\n\r\n                                        <TableCell  ><Button onClick={() => this.sortByColumn(\"buytosellTime\")}> T B Q</Button>  </TableCell>\r\n                                        <TableCell align=\"left\"><Button onClick={() => this.sortByColumn(\"pChange\")}> Symbol</Button> </TableCell>\r\n                                        {/* <TableCell >VWAP Price</TableCell> */}\r\n\r\n                                        <TableCell ><Button onClick={() => this.sortByColumn(\"selltobuyTime\")}> T S Q</Button>  </TableCell>\r\n                                        {/* <TableCell >Other Details </TableCell>\r\n                                        <TableCell >High Price</TableCell>\r\n                                        <TableCell >Low Price</TableCell> */}\r\n\r\n                                        {/* <TableCell ><Button onClick={() => this.sortByColumn(\"quantityTraded\")}> Quantity Traded</Button>  </TableCell> */}\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"deliveryQuantity\")}> Delivery Quantity</Button>  </TableCell>\r\n                                        <TableCell  ><Button title={\"Delivery To Traded Quantity\"} onClick={() => this.sortByColumn(\"deliveryToTradedQuantity\")}> Del To Traded Qty%</Button>  </TableCell> */}\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"totalTradedVolume\")}> Total Traded Volume</Button>  </TableCell> */}\r\n                                        {/* <TableCell  ><Button onClick={() => this.sortByColumn(\"totalTradedValue\")}> Total Traded Value(L)</Button>  </TableCell> */}\r\n\r\n                                        {/* <TableCell  >Day Open</TableCell>\r\n                                        <TableCell  >Day High</TableCell>\r\n                                        <TableCell  >Day Low</TableCell>\r\n                                        <TableCell  >Previous Close</TableCell> */}\r\n\r\n\r\n                                        {/* <TableCell  ><Button onClick={() => this.getDeliveryHistory()}>Delivery History</Button>  </TableCell> */}\r\n\r\n                                        {/* \r\n                                        <TableCell >Best Buy Qty</TableCell>\r\n                                        <TableCell >Best Buy Price</TableCell>\r\n                                        <TableCell >Best Sell Qty</TableCell>\r\n                                        <TableCell >Best Sell Price</TableCell> */}\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n\r\n                            </Table>\r\n                            <div style={{ overflow: \"auto\", maxHeight: \"350px\" }}>\r\n                                <Table size=\"small\" style={{ width: \"100%\" }} aria-label=\"sticky table\" >\r\n                                    <TableBody>\r\n\r\n\r\n\r\n\r\n\r\n                                        {this.state.symbolList ? this.state.symbolList.map((row, i) => (\r\n                                            <TableRow selected={this.state.cursor === i ? 'active' : null}\r\n                                                // onKeyDown={(e) => this.handleKeyDown(e)}\r\n                                                style={{ cursor: \"pointer\" }} hover key={i} onClick={() => this.showStaticChart(row.token, row.name)}>\r\n\r\n                                                {/* <TableCell >{row.upperCircuitLimit}</TableCell>\r\n                                            <TableCell >{row.lowerCircuitLimit}</TableCell> */}\r\n\r\n                                                {/* <TableCell style={{ background: row.highlightbuy ? \"lightgray\" : \"\" }} >\r\n                                                {row.buytosellTime ? row.buytosellTime +\" time buy\" : \"\"}\r\n                                            </TableCell>\r\n                                            <TableCell style={{ background: row.highlightsell ? \"lightgray\" : \"\" }} >\r\n                                                {row.selltobuyTime ? row.selltobuyTime+\" time sell\" : \"\"} \r\n                                            </TableCell> */}\r\n\r\n                                                <TableCell title=\"total buying bids qty\" style={{ background: row.highlightbuy ? \"#FFFF00\" : \"\" }}  >\r\n                                                    {/* {row.buybidHistory &&  row.buybidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))} */}\r\n                                                    {row.buytosellTime ? `B: ${row.buytosellTime}` : \"\"}\r\n\r\n                                                    {/* &nbsp; {row.totalBuyQuantity}  */}\r\n                                                    {this.convertToFloat(row.totalBuyQuantity)}\r\n\r\n                                                </TableCell>\r\n                                                <TableCell align=\"left\" style={{ background: this.getPercentageColor(row.pChange) }} >    {row.name} {row.ltp} {row.pChange ? `(${row.pChange}%)` : \"\"} </TableCell>\r\n                                                <TableCell title=\"Average Price\" style={{ height: '25px', background: row.ltp ? row.ltp >= row.averagePrice ? \"green\" : \"red\" : \"white\" }}>AP:{row.averagePrice}</TableCell>\r\n\r\n\r\n                                                <TableCell title=\"total selling bid qty\" style={{ background: row.highlightsell ? \"#FFFF00\" : \"\" }}>\r\n                                                    {/* {row.sellbidHistory &&  row.sellbidHistory.map(item => (\r\n                                                        <span style={{color: item>0 ? \"green\" : \"red\"}}> {item}% </span>\r\n                                                    ))} */}\r\n                                                    {row.selltobuyTime ? `S: ${row.selltobuyTime}` : \"\"}\r\n\r\n                                                    {/* &nbsp; {row.totalSellQuantity}  */}\r\n                                                    {this.convertToFloat(row.totalSellQuantity)}\r\n\r\n                                                </TableCell>\r\n                                                <TableCell title=\"Open Price\">O:{row.openPrice}</TableCell>\r\n                                                <TableCell title=\"High Price\">H:{row.highPrice}</TableCell>\r\n                                                <TableCell title=\"Low Price\" >L:{row.lowPrice}</TableCell>\r\n\r\n                                                {/* <TableCell >{row.quantityTraded} {this.convertToFloat(row.quantityTraded)}</TableCell> */}\r\n                                                {/* <TableCell >{row.deliveryQuantity} {this.convertToFloat(row.deliveryQuantity)}</TableCell>\r\n                                            <TableCell >{row.deliveryToTradedQuantity}%</TableCell> */}\r\n\r\n                                                {/* <TableCell >{row.totalTradedVolume} {this.convertToFloat(row.totalTradedVolume)}</TableCell> */}\r\n                                                {/* <TableCell >{row.totalTradedValue}L</TableCell> */}\r\n\r\n                                                {/* <TableCell  >{row.open}</TableCell>\r\n                                                <TableCell  >{row.dayHigh}</TableCell>\r\n                                                <TableCell  >{row.dayLow}</TableCell>\r\n                                                <TableCell  >{row.previousClose}</TableCell> */}\r\n\r\n                                                {/* <TableCell style={{ background: \"#eceff1\" }} >\r\n\r\n                                                {row.delHistory && row.delHistory.map(item => (\r\n                                                    <span> {new Date(item.datetime).toLocaleDateString()}  &nbsp;\r\n                                                        <span title={\"quantityTraded \" + item.quantityTraded}> {(item.quantityTraded / 100000)}L  </span>  &nbsp;\r\n                                                        <span title={\"deliveryToTradedQuantity\"}> {item.deliveryToTradedQuantity}%  </span>  &nbsp;\r\n                                                        <span title={\"deliveryQuantity \" + item.deliveryQuantity}> {(item.deliveryQuantity / 100000)}L  </span>  &nbsp;\r\n                                                        <span style={{ color: item.todayChange > 0 ? \"green\" : \"red\" }}> ({item.todayChange}%)   </span>\r\n                                                        &nbsp;  <br /></span>\r\n                                                ))}\r\n\r\n                                            </TableCell> */}\r\n\r\n                                                {/* <TableCell >{row.bestbuyquantity}</TableCell>\r\n                                            <TableCell >{row.bestbuyprice}</TableCell>\r\n                                            <TableCell >{row.bestsellquantity}</TableCell>\r\n                                            <TableCell >{row.bestsellprice}</TableCell> */}\r\n\r\n\r\n\r\n                                            </TableRow>\r\n                                        )) : <Spinner />}\r\n\r\n                                    </TableBody>\r\n\r\n\r\n                                </Table>\r\n                            </div>\r\n\r\n                            <hr />\r\n                            <Grid item xs={12} sm={12} >\r\n                                {/* <Typography color=\"primary\" gutterBottom>\r\n                                      {this.state.selectedWatchlist} ({this.state.symbolList.length})  \r\n                                      \r\n                                      \r\n                                    </Typography> */}\r\n\r\n                                <span>Sorted By:  {this.state.sortedType} </span> <br />\r\n                                <span>Update: {this.state.lastUpdateAction} </span>\r\n\r\n\r\n\r\n                                {/* <input onKeyDown={this.handleKeyDown} /> */}\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} sm={6} >\r\n\r\n                                <FormGroup>\r\n                                    <FormControlLabel\r\n                                        control={<Switch checked={this.state.isSpeek} onChange={this.handleChange} aria-label=\"Speek ON/OFF\" />}\r\n                                        label={this.state.isSpeek ? 'Speak Yes' : 'Speak No'}\r\n                                    />\r\n                                </FormGroup>\r\n                            </Grid>\r\n\r\n\r\n\r\n                        </Paper>\r\n\r\n\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = {\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    }\r\n};\r\n\r\nexport default LiveBid;\r\n\r\n","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport MaterialUIDateTimePicker from '../../utils/MaterialUIDateTimePicker';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport Notify from \"../../utils/Notify\";\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Spinner from \"react-spinner-material\";\r\nimport { createChart } from 'lightweight-charts';\r\nimport ChartDialog from './ChartDialog';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport vwap from 'vwap';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport CsvDownload from 'react-json-to-csv'\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            sumPercentage: 0,\r\n            InstrumentPerChange: \"\",\r\n            autoSearchList: [],\r\n            isDasable: false,\r\n            isError: false,\r\n            InstrumentLTP: {},\r\n            ifNotBought: true,\r\n            autoSearchTemp: [],\r\n            backTestResult: [],\r\n            backTestResultCSV: [], \r\n            backTestFlag: true,\r\n            patternType: \"NR4\",  //NR4ForNextDay  NR4_SameDay\r\n            symboltoken: \"\",\r\n            tradingsymbol: \"\",\r\n            buyPrice: 0,\r\n            quantity: 1,\r\n            producttype: \"INTRADAY\",\r\n            symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [],\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'NIFTY BANK', //'Securities in F&O',\r\n            longExitPriceType: 4,\r\n            shortExitPriceType: 4,\r\n            candleChartData: [],\r\n            stopScaningFlag: false,\r\n            backTestResultDateRange: [],\r\n            searchFailed: 0,\r\n            timeFrame: \"FIFTEEN_MINUTE\",\r\n            cursor: '',\r\n            FoundPatternList: localStorage.getItem('FoundPatternList') && JSON.parse(localStorage.getItem('FoundPatternList')) || [],\r\n            fastMovementList: localStorage.getItem('fastMovementList') && JSON.parse(localStorage.getItem('fastMovementList')) || [],\r\n \r\n        };\r\n        this.myCallback = this.myCallback.bind(this);\r\n\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            //  console.log(data);\r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n        })\r\n\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            //    console.log(\"time\", this.state.timeFrame);\r\n            if (this.state.tradingsymbol) {\r\n                this.showStaticChart(this.state.symboltoken);\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangePattern = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.value == 'NR4_Daywide_daterage') {\r\n\r\n            var backTestResultDateRange = localStorage.getItem('backTestResultDateRange') && JSON.parse(localStorage.getItem('backTestResultDateRange'));\r\n\r\n            this.setState({ dateAndTypeKeys: Object.keys(backTestResultDateRange || {}), backTestResultDateRange: backTestResultDateRange });\r\n\r\n        }\r\n    }\r\n    onChangeWatchlist = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var staticData = this.state.staticData;\r\n        this.setState({ symbolList: staticData[e.target.value] }, function () {\r\n            this.setState({ cursor: '' });\r\n        });\r\n\r\n        if (e.target.value == \"selectall\") {\r\n            this.setState({ symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) }, function () {\r\n                //      this.updateSocketWatch();\r\n                //  this.checkOpenEqualToLow();\r\n                this.setState({ cursor: '' });\r\n            });\r\n        }\r\n    }\r\n    checkOpenEqualToLow = async () => {\r\n\r\n        this.setState({\r\n            openEqualHighList: [], openEqualLowList: [], openEqualLowList: [], advanceShareCount: 0,\r\n            declineShareCount: 0, UnchangeShareCount: 0, volumeCrossedList: [], closeingEqualHighList: []\r\n        });\r\n\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const element = this.state.symbolList[index];\r\n\r\n            var data = {\r\n                \"exchange\": element.exch_seg,\r\n                \"tradingsymbol\": element.symbol,\r\n                \"symboltoken\": element.token,\r\n            }\r\n            AdminService.getLTP(data).then(res => {\r\n                let data = resolveResponse(res, 'noPop');\r\n                var LtpData = data && data.data;\r\n                if (LtpData) {\r\n\r\n                    let change = ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2);\r\n                    LtpData.nc = change;\r\n                    LtpData.symbol = element.symbol;\r\n\r\n                    this.state.symbolList[index].ltp = LtpData.ltp;\r\n                    this.state.symbolList[index].nc = change;\r\n\r\n                    if (LtpData && LtpData.open == LtpData.low) {\r\n                        console.log(\"o=l\", LtpData);\r\n                        var isfound = this.state.openEqualLowList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ openEqualLowList: [...this.state.openEqualLowList, LtpData] });\r\n                    }\r\n                    console.log(element.symbol, \"ltp=newhigh\", LtpData.ltp, (LtpData.high - LtpData.high * 0.5 / 100));\r\n\r\n                    if (LtpData && LtpData.ltp >= (LtpData.high - LtpData.high * 0.5 / 100)) {\r\n                        var isfound = this.state.closeingEqualHighList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ closeingEqualHighList: [...this.state.closeingEqualHighList, LtpData] });\r\n                    }\r\n\r\n                    if (LtpData && LtpData.open == LtpData.high) {\r\n                        console.log(\"o=h\", LtpData);\r\n                        var isfound = this.state.openEqualHighList.filter(row => row.symboltoken == element.token);\r\n                        if (!isfound.length)\r\n                            this.setState({ openEqualHighList: [...this.state.openEqualHighList, LtpData] });\r\n\r\n                    }\r\n\r\n                    if (LtpData.perChange > 0)\r\n                        this.setState({ advanceShareCount: this.state.advanceShareCount + 1 });\r\n                    else if (LtpData.perChange < 0)\r\n                        this.setState({ declineShareCount: this.state.declineShareCount + 1 });\r\n                    else\r\n                        this.setState({ UnchangeShareCount: this.state.UnchangeShareCount + 1 });\r\n\r\n\r\n                    this.state.symbolList && this.state.symbolList.sort(function (a, b) {\r\n                        return b.nc - a.nc;\r\n                    });\r\n                    this.setState({ symbolList: this.state.symbolList, tradingsymbol: element.symbol, symboltoken: element.token });\r\n\r\n                    //   this.dailyBasisInfoCheck(element.token, element);\r\n\r\n                    // this.checkSlowMotionStock(element.token, element);\r\n\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    myCallback = (date, fromDate) => {\r\n        if (fromDate === \"START_DATE\") {\r\n            this.setState({ startDate: date });\r\n        } else if (fromDate === \"END_DATE\") {\r\n            this.setState({ endDate: date });\r\n        }\r\n    };\r\n    getLTP = () => {\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"tradingsymbol\": this.state.tradingsymbol,\r\n            \"symboltoken\": this.state.symboltoken,\r\n        }\r\n        AdminService.getLTP(data).then(res => {\r\n            let data = resolveResponse(res, 'noPop');\r\n            var LtpData = data && data.data;\r\n            this.setState({ InstrumentLTP: LtpData });\r\n\r\n            if (LtpData && LtpData.ltp)\r\n                this.setState({ InstrumentPerChange: ((LtpData.ltp - LtpData.close) * 100 / LtpData.close).toFixed(2) });\r\n            //  this.dailyBasisInfoCheck(this.state.symboltoken);\r\n\r\n\r\n        })\r\n    }\r\n  \r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"Backtest\";\r\n        this.setState({ symbolList: this.state.staticData[this.state.selectedWatchlist] });\r\n\r\n        const domElement = document.getElementById('tvchart');\r\n        document.getElementById('tvchart').innerHTML = '';\r\n        const chart = createChart(domElement, { width: 550, height: 400, timeVisible: true, secondsVisible: true, });\r\n        const candleSeries = chart.addCandlestickSeries();\r\n        var smaLineSeries = chart.addLineSeries({\r\n            color: 'rgba(4, 111, 232, 1)',\r\n            lineWidth: 2,\r\n        });\r\n        var volumeSeries = chart.addHistogramSeries({\r\n            color: '#26a69a',\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            priceScaleId: '',\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0,\r\n            },\r\n        });\r\n\r\n        this.setState({ chart: chart, candleSeries: candleSeries, smaLineSeries: smaLineSeries, volumeSeries: volumeSeries });\r\n    }\r\n\r\n    stopBacktesting = () => {\r\n        this.setState({ stopScaningFlag: true });\r\n    }\r\n\r\n    backTestAnyPattern = async () => {\r\n\r\n        let filename = this.state.patternType +\" \"+ this.state.selectedWatchlist +\" \"+ moment(this.state.startDate).format(\"YYYY-MM-DD\") +\" \"+ moment(this.state.endDate).format(\"YYYY-MM-DD\") +\".csv\" ; \r\n        this.setState({ backTestResult: [], backTestFlag: false, filename: filename });\r\n\r\n\r\n        console.log('filename', filename ); \r\n\r\n        if (!this.state.patternType) {\r\n            Notify.showError(\"Select pattern type\");\r\n            return;\r\n        }\r\n\r\n        if (this.state.patternType === 'NR4') {\r\n            this.backTestNR4();\r\n            return;\r\n        }\r\n        if (this.state.patternType === 'NR4Trail') {\r\n            this.backTestNR4Trail();\r\n            return;\r\n        }\r\n\r\n        if (this.state.patternType === 'NR4ForNextDay') {\r\n            this.NR4ForNextDay();\r\n            return;\r\n        }\r\n\r\n\r\n        if (this.state.patternType === 'NR4_SameDay') {\r\n            this.backTestNR4SameDay();\r\n            return;\r\n        }\r\n\r\n        if (this.state.patternType === 'StrongCandle') {\r\n            this.backtestStrongCandle();\r\n            return;\r\n        }\r\n        \r\n\r\n\r\n        if (this.state.patternType === 'NR4_Daywide_daterage') {\r\n\r\n            var startdate = moment(this.state.startDate);\r\n            var enddate = moment(this.state.endDate);\r\n\r\n            const currentMoment = startdate;\r\n            const endMoment = enddate;\r\n\r\n\r\n            while (currentMoment.isSameOrBefore(endMoment, 'day')) {\r\n\r\n                console.log(`Loop at ${currentMoment.format('DD-MM-YYYY')}`);\r\n\r\n                this.backTestNR4DatewiseRange(currentMoment);\r\n\r\n                if (this.state.stopScaningFlag) {\r\n                    break;\r\n                }\r\n\r\n                await new Promise(r => setTimeout(r, this.state.symbolList.length * 310));\r\n\r\n\r\n                currentMoment.add(1, 'days');\r\n            }\r\n            this.setState({ backTestFlag: true, stopScaningFlag: false });\r\n\r\n\r\n            return;\r\n        }\r\n\r\n\r\n\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n\r\n        console.log(\"pattername\", this.state.patternType);\r\n\r\n        var watchList = this.state.symbolList; //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(this.state.startDate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(new Date()).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    for (let index2 = 0; index2 < candleData.length - 35; index2++) {\r\n                        // var startindex = index2 * 10; \r\n                        var last10Candle = candleData.slice(index2, index2 + 10);\r\n                        var next10Candle = candleData.slice(index2 + 10, index2 + 35);\r\n\r\n                        // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                        console.log('\\n'); //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                        if (last10Candle.length >= 10 && new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\") {\r\n                            //  console.log(element.symbol, 'findingtime', new Date(candleData[index2][0]).toLocaleTimeString()); \r\n\r\n                            switch (this.state.patternType) {\r\n                                case 'TweezerTop':\r\n                                    this.backtestTweezerTop(last10Candle, element.symbol, next10Candle);\r\n                                    break;\r\n                                case 'TweezerBottom':\r\n                                    this.backtestTweezerBottom(last10Candle, element.symbol, next10Candle);\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n\r\n                        }\r\n                        runningTest += candleData.length;\r\n                    }\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(\" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 300));\r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    NR4ForNextDay = async () => {\r\n\r\n        this.setState({ FoundPatternList: [], backTestFlag: false });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                break;\r\n            }\r\n\r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol })\r\n\r\n\r\n\r\n            var time = moment.duration(\"240:00:00\");\r\n            var startdate = moment(this.state.endDate).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    candleData.reverse();\r\n\r\n                    // var startindex = index2 * 10; \r\n                    var last4Candle = candleData.slice(0, 4);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                    //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                    if (last4Candle.length >= 4) {\r\n\r\n                        //last4Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last4Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n                        if (rgrangeCount == 4) {\r\n                            var firstCandle = last4Candle[0];\r\n                            var next5thCandle = candleData[0];\r\n\r\n\r\n                            console.log(element.symbol, last4Candle, rangeArr, rgrangeCount, next5thCandle);\r\n\r\n                            //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                            var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                            //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                            var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n\r\n                            var foundStock = {\r\n                                foundAt: new Date(firstCandle[0]).toString().substr(0, 25),\r\n                                symbol: element.symbol,\r\n                                token: element.token,\r\n                                pattenName: \"NR4\",\r\n                                SellAt: sellenty,\r\n                                high: firstCandle[2],\r\n                                low: firstCandle[3],\r\n                                BuyAt: buyentry,\r\n                                candleChartData: candleChartData,\r\n                                close: firstCandle[4]\r\n                            }\r\n\r\n                            this.nr4CheckPastPerfommance(element.token, foundStock);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            }).catch(error => {\r\n                Notify.showError(element.symbol + \" Candle data not found!\");\r\n            })\r\n            await new Promise(r => setTimeout(r, 350));\r\n\r\n        }\r\n        this.setState({ backTestFlag: true, stopScaningFlag: false });\r\n    }\r\n\r\n\r\n    findShortTraadeOnNextDay = (element, firstCandle, candleChartData, histdataInside) => {\r\n        var buyentry = (firstCandle[3] - (firstCandle[3] / 100 / 10));\r\n        // var buyentrySL = (firstCandle[2] + (firstCandle[2] / 100 / 10));\r\n        var buyentrySL = (buyentry + (buyentry * 1 / 100));   //1% SL\r\n\r\n\r\n        var resultCandle = [], buyEntryFlag = true, longTradeFound = {}, elementInside = '', buyHighest = histdataInside[0][3];\r\n\r\n        console.log(element.symbol, \"result candle\", histdataInside);\r\n\r\n        if (histdataInside && histdataInside.length) {\r\n\r\n            for (let index = 0; index < histdataInside.length; index++) {\r\n                const candle5min = histdataInside[index];\r\n                resultCandle.push([new Date(candle5min[0]).getTime(), candle5min[1], candle5min[2], candle5min[3], candle5min[4]]);\r\n                if (candle5min[2] < buyHighest) {\r\n                    buyHighest = candle5min[3];\r\n                }\r\n\r\n            }\r\n\r\n            for (let insideIndex = 0; insideIndex < histdataInside.length; insideIndex++) {\r\n                elementInside = histdataInside[insideIndex];\r\n\r\n                if (buyEntryFlag && elementInside[3] < buyentry) {\r\n                    console.log(element.symbol, \"taken short enty\", elementInside[3]);\r\n                    longTradeFound = {\r\n                        foundAt: \"Short-\" + new Date(elementInside[0]).toLocaleString(),\r\n                        symbol: element.symbol,\r\n                        sellEntyPrice: buyentry,\r\n                        stopLoss: buyentrySL,\r\n                        brokerageCharges: 0.06,\r\n                        quantity: Math.floor(100000 / buyentry),\r\n                        candleChartData: candleChartData,\r\n                    }\r\n                    buyEntryFlag = false;\r\n                }\r\n\r\n\r\n\r\n                var perChange = (buyentry - elementInside[3]) * 100 / buyentry;\r\n                console.log(element.symbol, \"perChange\", perChange);\r\n\r\n                //trailing sl  \r\n                // if(elementInside[3] > buyentry && plPerChng >= 0.5){            \r\n                // }\r\n\r\n                //flat 1% profit booking\r\n                if (!buyEntryFlag && perChange >= 1) {\r\n\r\n                    var sellEntyPrice = buyentry - buyentry * 1 / 100;\r\n                    longTradeFound.buyExitPrice = sellEntyPrice;\r\n                    longTradeFound.perChange = perChange;\r\n                    longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                    longTradeFound.exitStatus = \"Flat_1%_Booked\";\r\n                    break;\r\n                }\r\n                console.log(element.symbol, \"high\", elementInside[2]);\r\n\r\n                if (!buyEntryFlag && elementInside[2] >= buyentrySL) {\r\n                    var perChng = (buyentry - buyentrySL) * 100 / buyentry;\r\n                    longTradeFound.buyExitPrice = buyentrySL;\r\n                    longTradeFound.perChange = perChng;\r\n                    longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                    longTradeFound.exitStatus = \"SL_Hit\";\r\n                    break;\r\n                }\r\n\r\n            }\r\n\r\n            if (!buyEntryFlag && !longTradeFound.sellEntyPrice) {\r\n                var perChng = (elementInside[4] - buyentry) * 100 / buyentry;\r\n                longTradeFound.buyExitPrice = elementInside[4];\r\n                longTradeFound.perChange = perChng;\r\n                longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                longTradeFound.exitStatus = \"Market_End\";\r\n            }\r\n\r\n            if (!buyEntryFlag && Math.floor(100000 / buyentry) && longTradeFound.buyExitPrice) {\r\n                var perChngOnHigh = (buyentry - buyHighest) * 100 / buyentry;\r\n                longTradeFound.highAndLow = buyHighest;\r\n                longTradeFound.perChngOnHighLow = perChngOnHigh;\r\n                longTradeFound.candleChartDataInside = resultCandle;\r\n\r\n                this.setState({ backTestResult: [...this.state.backTestResult, longTradeFound] });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    findLongsTraadeOnNextDay = (element, firstCandle, candleChartData, histdataInside) => {\r\n        var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10));\r\n        //        var buyentrySL = (firstCandle[3] - (firstCandle[3] / 100 / 10));\r\n        //    var buyentrySL = (buyentry - (buyentry*1/100));   //1% SL\r\n        var buyentrySL = (buyentry - (buyentry * 0.3 / 100));   //0.3% SL\r\n\r\n\r\n        var resultCandle = [], buyEntryFlag = true, firstTimeTrail = true, trailCount = 0, longTradeFound = {}, elementInside = '', buyHighest = histdataInside[0][2];\r\n\r\n\r\n        if (histdataInside && histdataInside.length) {\r\n\r\n            for (let index = 0; index < histdataInside.length; index++) {\r\n                const candle5min = histdataInside[index];\r\n                resultCandle.push([new Date(candle5min[0]).getTime(), candle5min[1], candle5min[2], candle5min[3], candle5min[4]]);\r\n                if (buyHighest < histdataInside[index][2]) {\r\n                    buyHighest = histdataInside[index][2];\r\n                }\r\n            }\r\n\r\n            for (let insideIndex = 0; insideIndex < histdataInside.length; insideIndex++) {\r\n                elementInside = histdataInside[insideIndex];\r\n\r\n                if (buyEntryFlag && elementInside[2] > buyentry) {\r\n                    longTradeFound = {\r\n                        foundAt: \"Long-\" + new Date(elementInside[0]).toLocaleString(),\r\n                        symbol: element.symbol,\r\n                        buyExitPrice: buyentry,\r\n                        stopLoss: buyentrySL,\r\n                        brokerageCharges: 0.06,\r\n                        quantity: Math.floor(100000 / buyentry),\r\n                        candleChartData: candleChartData,\r\n                    }\r\n                    buyEntryFlag = false;\r\n                }\r\n\r\n\r\n\r\n                var perChange = (elementInside[2] - buyentry) * 100 / buyentry;\r\n\r\n\r\n                //flat 1% profit booking\r\n                // if(!buyEntryFlag && perChange >= 1){\r\n                //     var sellEntyPrice = buyentry + buyentry * 1/100; \r\n                //     longTradeFound.sellEntyPrice = sellEntyPrice;\r\n                //     longTradeFound.perChange = perChange;\r\n                //     longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                //     longTradeFound.exitStatus  = \"Flat_1%_Booked\"; \r\n                //     break;\r\n                // }\r\n\r\n                if (!buyEntryFlag) {\r\n\r\n                    if (firstTimeTrail && perChange >= 0.7) {\r\n                        trailCount += 1;\r\n                        var minPrice = buyentry + (buyentry * 0.1 / 100);\r\n                        longTradeFound.sellEntyPrice = minPrice;\r\n                        longTradeFound.perChange = (minPrice - buyentry) * 100 / buyentry;\r\n                        longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                        longTradeFound.exitStatus = \"Trail by 0.1% \" + trailCount + \"time\";\r\n                        firstTimeTrail = false;\r\n                    } else {\r\n                        var lastTriggerprice = longTradeFound.sellEntyPrice;\r\n                        var perchngfromTriggerPrice = ((elementInside[2] - lastTriggerprice) * 100 / lastTriggerprice).toFixed(2);\r\n\r\n                        var buyExitPricePer = longTradeFound.buyExitPrice;\r\n                        var buyExitPriceMinRange = ((elementInside[2] - buyExitPricePer) * 100 / buyExitPricePer).toFixed(2);\r\n\r\n                        if (perchngfromTriggerPrice > 0.7) {\r\n                            trailCount += 1;\r\n                            minPrice = lastTriggerprice + (lastTriggerprice * 0.25 / 100);\r\n                            longTradeFound.sellEntyPrice = minPrice;\r\n                            longTradeFound.perChange = (minPrice - buyentry) * 100 / buyentry;\r\n                            longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                            longTradeFound.exitStatus = \"Trail by 0.25% \" + trailCount + \"time\";\r\n\r\n                        } else if (buyExitPriceMinRange >= 0.3 && buyExitPriceMinRange <= 0.4) {\r\n                            trailCount += 1;\r\n                            minPrice = lastTriggerprice + (lastTriggerprice * 0.25 / 100);\r\n                            longTradeFound.sellEntyPrice = minPrice;\r\n                            longTradeFound.perChange = (minPrice - buyentry) * 100 / buyentry;\r\n                            longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                            longTradeFound.exitStatus = \"Min range 0.3 -0.4% \" + trailCount + \"time\";\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    if (elementInside[3] <= longTradeFound.sellEntyPrice) {\r\n                        console.log(element.symbol, \"trail hit elementInside[3] <= sellEntyPrice\", elementInside[3], longTradeFound.sellEntyPrice, new Date(elementInside[0]).toLocaleString());\r\n                        break;\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                if (!buyEntryFlag && elementInside[3] <= buyentrySL) {\r\n                    console.log(element.symbol, \"SL hit elementInside[3] <= buyentrySL\", elementInside[3], buyentrySL, new Date(elementInside[0]).toLocaleString());\r\n\r\n                    var perChng = (buyentrySL - buyentry) * 100 / buyentry;\r\n                    longTradeFound.sellEntyPrice = buyentrySL;\r\n                    longTradeFound.perChange = perChng;\r\n                    longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                    longTradeFound.exitStatus = \"SL_Hit\";\r\n                    break;\r\n                }\r\n\r\n            } //candle loop end\r\n\r\n            if (!buyEntryFlag && !longTradeFound.sellEntyPrice) {\r\n                var perChng = (elementInside[4] - buyentry) * 100 / buyentry;\r\n                longTradeFound.buyExitPrice = elementInside[4];\r\n                longTradeFound.perChange = perChng;\r\n                longTradeFound.squareOffAt = new Date(elementInside[0]).toLocaleString();\r\n                longTradeFound.exitStatus = \"Market_End\";\r\n            }\r\n\r\n            if (!buyEntryFlag && Math.floor(100000 / buyentry) && longTradeFound.buyExitPrice) {\r\n                var perChngOnHigh = (buyHighest - buyentry) * 100 / buyentry;\r\n                longTradeFound.highAndLow = buyHighest;\r\n                longTradeFound.perChngOnHighLow = perChngOnHigh;\r\n                longTradeFound.candleChartDataInside = resultCandle;\r\n                console.log(element.symbol, \"longTradeFound\", longTradeFound);\r\n\r\n                this.setState({ backTestResult: [...this.state.backTestResult, longTradeFound] });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    backTestNR4SameDay = async () => {\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false, searchFailed: 0 });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                break;\r\n            }\r\n\r\n\r\n\r\n            var time = moment.duration(\"240:00:00\");\r\n            var startdate = moment(this.state.endDate).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    candleData.reverse();\r\n\r\n                    // var startindex = index2 * 10; \r\n                    var last4Candle = candleData.slice(1, 5);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n                    //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                    if (last4Candle.length >= 4) {\r\n                        //last4Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last4Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n                        if (rgrangeCount == 4) {\r\n                            var firstCandle = last4Candle[0];\r\n                            var next5thCandle = candleData[0];\r\n                            candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n\r\n                            console.log(element.symbol, last4Candle, rangeArr, rgrangeCount, next5thCandle);\r\n\r\n                            var start5thdate = moment(next5thCandle[0]).set({ \"hour\": 9, \"minute\": 15 });\r\n                            var end5thdate = moment(next5thCandle[0]).set({ \"hour\": 15, \"minute\": 30 });\r\n\r\n                            var data = {\r\n                                \"exchange\": \"NSE\",\r\n                                \"symboltoken\": element.token,\r\n                                \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                                \"fromdate\": moment(start5thdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                                \"todate\": moment(end5thdate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n                            }\r\n\r\n                            AdminService.getHistoryData(data).then(insideCandleRes => {\r\n                                let histdataInside = resolveResponse(insideCandleRes, 'noPop');\r\n                                histdataInside = histdataInside && histdataInside.data;\r\n\r\n                                this.findLongsTraadeOnNextDay(element, firstCandle, candleChartData, histdataInside);\r\n                                // this.findShortTraadeOnNextDay(element, firstCandle, candleChartData, histdataInside); \r\n\r\n\r\n                            }).catch(error => {\r\n                                Notify.showError(element.symbol + \" FIVE_MINUTE Candle data not found!\");\r\n                                this.setState({ searchFailed: this.state.searchFailed + 1 })\r\n                            });\r\n\r\n\r\n\r\n                            // var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n                            // if (next5thCandle[2] > buyentry) {\r\n                            //     var perChng = (next5thCandle[4] - buyentry) * 100 / buyentry;\r\n                            //     var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                            //     sumPercentage += perChng;\r\n\r\n                            //     console.log(element.symbol, firstCandle[0], \"upside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                            //     var foundStock = {\r\n                            //         foundAt: \"Long - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                            //         symbol: element.symbol,\r\n                            //         sellEntyPrice: next5thCandle[4],\r\n                            //         highAndLow: next5thCandle[2],\r\n                            //         stopLoss: firstCandle[3],\r\n                            //         buyExitPrice: buyentry,\r\n                            //         brokerageCharges: 0.06,\r\n                            //         perChange: perChng.toFixed(2),\r\n                            //         perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                            //         squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                            //         quantity: Math.floor(10000 / firstCandle[2]),\r\n                            //         candleChartData : candleChartData,\r\n                            //     }\r\n                            //     if (Math.floor(10000 / firstCandle[2])){ \r\n                            //         this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                            //     }\r\n                            // }\r\n                            // var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n                            // if (next5thCandle[3] < sellenty) {\r\n                            //     var perChng = (sellenty - next5thCandle[4]) * 100 / firstCandle[3];\r\n                            //     var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n\r\n                            //     sumPercentage += perChng;\r\n                            //     console.log(element.symbol, firstCandle[0], \"dowside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                            //     var foundStock = {\r\n                            //         foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                            //         symbol: element.symbol,\r\n                            //         sellEntyPrice: sellenty,\r\n                            //         stopLoss: firstCandle[2],\r\n                            //         buyExitPrice: next5thCandle[4],\r\n                            //         highAndLow: next5thCandle[3],\r\n                            //         brokerageCharges: 0.06,\r\n                            //         perChange: perChng.toFixed(2),\r\n                            //         perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                            //         squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                            //         quantity: Math.floor(10000 / firstCandle[3]),\r\n                            //         candleChartData : candleChartData\r\n                            //     }\r\n                            //     if(Math.floor(10000 / firstCandle[3])){\r\n                            //         this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                            //     }\r\n\r\n\r\n                            // }\r\n\r\n                        }\r\n\r\n                    }\r\n                    runningTest = runningTest + candleData.length - 35;\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                    Notify.showError(element.symbol + \" FIVE_MINUTE candle data emply!\");\r\n                    this.setState({ searchFailed: this.state.searchFailed + 1 })\r\n\r\n                }\r\n            }).catch(error => {\r\n                Notify.showError(element.symbol + \" 1 day Candle data not found!\");\r\n                this.setState({ searchFailed: this.state.searchFailed + 1 })\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 305));\r\n            //   this.setState({ backTestResult:  this.state.backTestResult.reverse()}); \r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n        this.setState({ backTestFlag: true, stopScaningFlag: false });\r\n        console.log(\"sumPercentage\", sumPercentage)\r\n    }\r\n\r\n    backTestNR4DatewiseRange = async (date) => {\r\n\r\n        this.setState({ backTestFlag: false });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                break;\r\n            }\r\n\r\n\r\n\r\n            var time = moment.duration(\"240:00:00\");\r\n            var startdate = moment(date).subtract(time);\r\n\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(date).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    candleData.reverse();\r\n\r\n                    // var startindex = index2 * 10; \r\n                    var last4Candle = candleData.slice(1, 5);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                    //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                    if (last4Candle.length >= 4) {\r\n\r\n                        //last4Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last4Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n                        if (rgrangeCount == 4) {\r\n                            var firstCandle = last4Candle[0];\r\n                            var next5thCandle = candleData[0];\r\n                            candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n\r\n                            var currentDate = date.format('DD-MM-YYYY');\r\n\r\n                            var dateWithWlType = currentDate + ' ' + this.state.selectedWatchlist;\r\n\r\n                            var backTestResultDateRange = localStorage.getItem(\"backTestResultDateRange\") ? JSON.parse(localStorage.getItem(\"backTestResultDateRange\")) : {};\r\n                            var datewisetrades = backTestResultDateRange[dateWithWlType] ? backTestResultDateRange[dateWithWlType] : [];\r\n\r\n                            console.log(element.symbol, last4Candle, rangeArr, rgrangeCount, next5thCandle);\r\n\r\n                            //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                            var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                            if (next5thCandle[2] > buyentry) {\r\n                                var perChng = (next5thCandle[4] - buyentry) * 100 / buyentry;\r\n                                var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                                sumPercentage += perChng;\r\n\r\n                                console.log(element.symbol, firstCandle[0], \"upside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                                var foundStock = {\r\n                                    foundAt: \"Long - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                    symbol: element.symbol,\r\n                                    sellEntyPrice: next5thCandle[4],\r\n                                    highAndLow: next5thCandle[2],\r\n                                    stopLoss: firstCandle[3],\r\n                                    buyExitPrice: buyentry,\r\n                                    brokerageCharges: 0.06,\r\n                                    perChange: perChng.toFixed(2),\r\n                                    perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                                    squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                                    quantity: Math.floor(10000 / firstCandle[2]),\r\n                                    candleChartData: candleChartData\r\n                                }\r\n                                if (Math.floor(10000 / firstCandle[2])) {\r\n                                    this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n\r\n                                    datewisetrades.push(foundStock);\r\n                                    backTestResultDateRange[dateWithWlType] = datewisetrades;\r\n                                    localStorage.setItem('backTestResultDateRange', JSON.stringify(backTestResultDateRange));\r\n\r\n\r\n                                }\r\n\r\n                            }\r\n                            //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                            var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n                            if (next5thCandle[3] < sellenty) {\r\n                                var perChng = (sellenty - next5thCandle[4]) * 100 / firstCandle[3];\r\n                                var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n\r\n                                sumPercentage += perChng;\r\n                                console.log(element.symbol, firstCandle[0], \"dowside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                                var foundStock = {\r\n                                    foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                    symbol: element.symbol,\r\n                                    sellEntyPrice: sellenty,\r\n                                    stopLoss: firstCandle[2],\r\n                                    buyExitPrice: next5thCandle[4],\r\n                                    highAndLow: next5thCandle[3],\r\n                                    brokerageCharges: 0.06,\r\n                                    perChange: perChng.toFixed(2),\r\n                                    perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                                    squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                                    quantity: Math.floor(10000 / firstCandle[3]),\r\n                                    candleChartData: candleChartData\r\n                                }\r\n                                if (Math.floor(10000 / firstCandle[3])) {\r\n                                    this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n\r\n                                    datewisetrades.push(foundStock);\r\n                                    backTestResultDateRange[dateWithWlType] = datewisetrades;\r\n\r\n                                    console.log('backTestResultDateRange', backTestResultDateRange);\r\n                                    localStorage.setItem('backTestResultDateRange', JSON.stringify(backTestResultDateRange));\r\n\r\n                                    //  var backTestResultDateRange = localStorage.getItem('backTestResultDateRange') && JSON.parse(localStorage.getItem('backTestResultDateRange')) ; \r\n\r\n                                    this.setState({ dateAndTypeKeys: Object.keys(backTestResultDateRange), backTestResultDateRange: backTestResultDateRange });\r\n\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n                    runningTest = runningTest + candleData.length - 35;\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 300));\r\n            this.setState({ stockTesting: date.format('YYYY-MM-DD') + ' ' + index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n    }\r\n\r\n    backTestNR4 = async () => {\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                this.setState({stopScaningFlag : false})\r\n                break;\r\n            }\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(this.state.startDate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    //  candleData.reverse(); \r\n                    for (let index2 = 0; index2 < candleData.length - 4; index2++) {\r\n                        // var startindex = index2 * 10; \r\n                        var last4Candle = candleData.slice(index2, index2 + 4);\r\n                        // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                        // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                        //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                        if (last4Candle.length >= 4 && new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\") {\r\n\r\n                            last4Candle.reverse();\r\n\r\n                            var rangeArr = [], candleChartData = [];\r\n                            last4Candle.forEach(element => {\r\n                                rangeArr.push(element[2] - element[3]);\r\n                                candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                            });\r\n                            var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                            rangeArr.forEach(element => {\r\n                                if (firstElement <= element) {\r\n                                    firstElement = element;\r\n                                    rgrangeCount += 1;\r\n                                }\r\n                            });\r\n\r\n                            //  console.log(element.symbol, last4Candle, rangeArr, rgrangeCount); \r\n                            if (rgrangeCount == 4) {\r\n                                var firstCandle = last4Candle[0];\r\n                                var next5thCandle = candleData[index2 + 4];\r\n                                candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n\r\n                                //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                                var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n                                var stopLoss = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n\r\n                                if (next5thCandle[2] > buyentry) {\r\n\r\n                                    let exitPrice = next5thCandle[this.state.longExitPriceType], exitStatus = \"ME@3:30pm\";  \r\n                                    if(next5thCandle[this.state.longExitPriceType] <= stopLoss){\r\n                                        exitPrice = stopLoss; \r\n                                        exitStatus = \"SLHit\";\r\n                                    }\r\n\r\n\r\n                                    var perChng = (exitPrice - buyentry) * 100 / buyentry;\r\n                                    var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                                    sumPercentage += perChng;\r\n                                    console.log(element.symbol, firstCandle[0], \"upside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n                                    let slPer = ((buyentry-stopLoss)*100/buyentry).toFixed(2); \r\n\r\n\r\n                                    var monthMinusOneName =  moment(next5thCandle[0]).subtract(0, \"month\").startOf(\"month\").format('MMMM');\r\n\r\n\r\n\r\n                                    var foundStock = {\r\n                                        foundAt: \"Long - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                        monthName: monthMinusOneName, \r\n                                        symbol: element.symbol,\r\n                                        perChange: perChng.toFixed(2),\r\n                                        perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                                        brokerageCharges: 0.06,\r\n                                        sellEntyPrice: exitPrice,\r\n                                        stopLoss: `${stopLoss} (${slPer}%)`,\r\n                                        exitStatus : exitStatus,\r\n                                        quantity: Math.floor(10000 / firstCandle[2]),\r\n                                        token: element.token,\r\n                                        highAndLow: next5thCandle[2],\r\n                                        buyExitPrice: buyentry,\r\n                                        entryAt:  firstCandle[0],\r\n                                        squareOffAt: next5thCandle[0],\r\n                                        candleChartData: candleChartData,\r\n                                    }\r\n                                    if (Math.floor(10000 / firstCandle[2])) {\r\n                                        this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                        this.setState({ backTestResult: this.state.backTestResult.reverse() });\r\n                                    }\r\n\r\n                                }\r\n                                //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                                var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n                                var stopLoss = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                                if (next5thCandle[3] < sellenty) {\r\n                                    let exitPrice = next5thCandle[this.state.longExitPriceType], exitStatus = \"ME@3:30pm\";  \r\n                                    if(next5thCandle[this.state.longExitPriceType] >= stopLoss){\r\n                                        exitPrice =  stopLoss; \r\n                                        exitStatus = \"SLHit\";\r\n                                    }\r\n                                    \r\n                                    var perChng = (sellenty - exitPrice) * 100 / firstCandle[3];\r\n                                    var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n\r\n                                    sumPercentage += perChng;\r\n                                    console.log(element.symbol, firstCandle[0], \"dowside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n                                    let slPer = ((stopLoss-sellenty)*100/stopLoss).toFixed(2); \r\n                                    var monthMinusOneName =  moment(next5thCandle[0]).subtract(0, \"month\").startOf(\"month\").format('MMMM');\r\n\r\n\r\n                                    var foundStock = {\r\n                                        foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                        monthName: monthMinusOneName, \r\n                                        symbol: element.symbol,\r\n                                        perChange: perChng.toFixed(2),\r\n                                        perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                                        brokerageCharges: 0.06,\r\n                                        sellEntyPrice: sellenty,\r\n                                        stopLoss:  `${stopLoss} (${slPer}%)`,\r\n                                        exitStatus : exitStatus, \r\n                                        quantity: Math.floor(10000 / firstCandle[3]),\r\n                                        token: element.token,\r\n                                        highAndLow: next5thCandle[3],\r\n                                        buyExitPrice: exitPrice,\r\n                                        entryAt:  firstCandle[0],\r\n                                        squareOffAt: next5thCandle[0],\r\n                                        candleChartData: candleChartData,\r\n                                    }\r\n                                    if (Math.floor(10000 / firstCandle[3])) {\r\n                                        this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                    }\r\n\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n                        runningTest = runningTest + candleData.length - 35;\r\n                    }\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 300));\r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n        console.log(\"sumPercentage\", sumPercentage)\r\n    }\r\n    \r\n    \r\n    backtestStrongCandle = async () => {\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                this.setState({stopScaningFlag : false})\r\n                break;\r\n            }\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"FIFTEEN_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(this.state.startDate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    //  candleData.reverse(); \r\n                    for (let index2 = 0; index2 < candleData.length - 4; index2++) {\r\n                        // var startindex = index2 * 10; \r\n                        var last4Candle = candleData.slice(index2, index2 + 4);\r\n                        // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                        // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                        //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                        last4Candle.reverse();\r\n\r\n                        var candleChartData = [];\r\n                        last4Candle.forEach(candleElement => {\r\n                            candleChartData.push([candleElement[0], candleElement[1], candleElement[2], candleElement[3], candleElement[4]]);\r\n\r\n                            let candleChangePer = (candleElement[2] - candleElement[3]) * 100 / candleElement[1];\r\n                            if(candleElement[1] == candleElement[3] && candleElement[2] == candleElement[4] && candleChangePer >= 0.3){\r\n                          \r\n                                var firstCandle = candleElement[0];\r\n                                var next5thCandle = candleData[index2 + 1];\r\n                               // candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n    \r\n//                                var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                                var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10));\r\n                                var stopLoss = (firstCandle[3] - (firstCandle[3] / 100 / 10));\r\n    \r\n    \r\n                                let exitPrice = next5thCandle[2], exitStatus = \"Market End\";  \r\n                                if(next5thCandle[2] <= stopLoss){\r\n                                    exitPrice = stopLoss; \r\n                                    exitStatus = \"SL Hit\";\r\n                                }\r\n\r\n\r\n                                var perChng = (exitPrice - buyentry) * 100 / buyentry;\r\n                                var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                                 sumPercentage += perChng;\r\n                                // console.log(element.symbol, firstCandle[0], \"upside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n                                 let slPer = ((buyentry-stopLoss)*100/buyentry).toFixed(2); \r\n                                \r\n                                \r\n                                var foundStock = {\r\n                                    foundAt:  new Date(candleElement[0]).toLocaleString(),\r\n                                    symbol: element.symbol,\r\n                                    token: element.token,\r\n                                    sellEntyPrice: exitPrice,\r\n                                    stopLoss: `${stopLoss} (${slPer}%)`,\r\n                                    highAndLow: next5thCandle[2],\r\n                                    perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                                    buyExitPrice: buyentry,\r\n                                    brokerageCharges: 0.06,\r\n                                    perChange: perChng.toFixed(2),\r\n                                    entryAt:  firstCandle[0],\r\n                                    squareOffAt: next5thCandle[0],\r\n                                    quantity: Math.floor(10000 / firstCandle[2]),\r\n                                    candleChartData: candleChartData,\r\n                                    exitStatus : exitStatus\r\n                                }\r\n                                console.log(\"5min strong candle\", foundStock);\r\n\r\n                                this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                this.setState({ backTestResult: this.state.backTestResult.reverse() });\r\n                                //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                                // var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n                                // var stopLoss = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n    \r\n                                // if (next5thCandle[3] < sellenty) {\r\n                                //     let exitPrice = next5thCandle[this.state.longExitPriceType], exitStatus = \"Market End\";  \r\n                                //     if(next5thCandle[this.state.longExitPriceType] >= stopLoss){\r\n                                //         exitPrice =  stopLoss; \r\n                                //         exitStatus = \"SL Hit\";\r\n                                //     }\r\n                                    \r\n                                //     var perChng = (sellenty - exitPrice) * 100 / firstCandle[3];\r\n                                //     var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n    \r\n                                //     sumPercentage += perChng;\r\n                                //     console.log(element.symbol, firstCandle[0], \"dowside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n                                //     let slPer = ((stopLoss-sellenty)*100/stopLoss).toFixed(2); \r\n    \r\n                                //     var foundStock = {\r\n                                //         foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                //         symbol: element.symbol,\r\n                                //         token: element.token,\r\n                                //         sellEntyPrice: sellenty,\r\n                                //         perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                                //         stopLoss:  `${stopLoss} (${slPer}%)`,\r\n                                //         highAndLow: next5thCandle[3],\r\n                                //         buyExitPrice: exitPrice,\r\n                                //         brokerageCharges: 0.06,\r\n                                //         perChange: perChng.toFixed(2),\r\n                                //         entryAt:  firstCandle[0],\r\n                                //         squareOffAt: next5thCandle[0],\r\n                                //         quantity: Math.floor(10000 / firstCandle[3]),\r\n                                //         candleChartData: candleChartData,\r\n                                //         exitStatus : \"Market End\"\r\n                                //     }\r\n                                //     if (Math.floor(10000 / firstCandle[3])) {\r\n                                //         this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                //     }\r\n    \r\n    \r\n                                // }\r\n                            }\r\n\r\n\r\n\r\n                        });\r\n                       \r\n                       \r\n                        runningTest = runningTest + candleData.length - 35;\r\n                    }\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 300));\r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n       \r\n    }\r\n    \r\n    backTestNR4Trail = async () => {\r\n\r\n        this.setState({ backTestResult: [], backTestFlag: false });\r\n\r\n        var watchList = this.state.symbolList //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1, sumPercentage = 0;\r\n        for (let index = 0; index < watchList.length; index++) {\r\n            const element = watchList[index];\r\n\r\n            if (this.state.stopScaningFlag) {\r\n                this.setState({stopScaningFlag : false})\r\n                break;\r\n            }\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                \"fromdate\": moment(this.state.startDate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n            }\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    var candleData = histdata.data;\r\n                    //  candleData.reverse(); \r\n                    for (let index2 = 0; index2 < candleData.length - 4; index2++) {\r\n                        // var startindex = index2 * 10; \r\n                        var last4Candle = candleData.slice(index2, index2 + 4);\r\n                        // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                        // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                        //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                        if (last4Candle.length >= 4 && new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\") {\r\n\r\n                            last4Candle.reverse();\r\n\r\n                            var rangeArr = [], candleChartData = [];\r\n                            last4Candle.forEach(element => {\r\n                                rangeArr.push(element[2] - element[3]);\r\n                                candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                            });\r\n                            var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                            rangeArr.forEach(element => {\r\n                                if (firstElement <= element) {\r\n                                    firstElement = element;\r\n                                    rgrangeCount += 1;\r\n                                }\r\n                            });\r\n\r\n                            //  console.log(element.symbol, last4Candle, rangeArr, rgrangeCount); \r\n                            if (rgrangeCount == 4) {\r\n                                var firstCandle = last4Candle[0];\r\n                                var next5thCandle = candleData[index2 + 4];\r\n                                candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n\r\n                                //var buyentry = (firstCandle[2] + (firstCandle[2] - firstCandle[3])/4).toFixed(2);\r\n                                var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                                if (next5thCandle[2] > buyentry) {\r\n                                    var perChng = (next5thCandle[this.state.longExitPriceType] - buyentry) * 100 / buyentry;\r\n                                    var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                                    sumPercentage += perChng;\r\n                                    console.log(element.symbol, firstCandle[0], \"upside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                                    var foundStock = {\r\n                                        foundAt: \"Long - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                        symbol: element.symbol,\r\n                                        token: element.token,\r\n                                        sellEntyPrice: next5thCandle[this.state.longExitPriceType],\r\n                                        stopLoss: firstCandle[3],\r\n                                        highAndLow: next5thCandle[2],\r\n                                        perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                                        buyExitPrice: buyentry,\r\n                                        brokerageCharges: 0.06,\r\n                                        perChange: perChng.toFixed(2),\r\n                                        entryAt:  firstCandle[0],\r\n                                        squareOffAt: next5thCandle[0],\r\n                                        quantity: Math.floor(10000 / firstCandle[2]),\r\n                                        candleChartData: candleChartData\r\n                                    }\r\n                                    if (Math.floor(10000 / firstCandle[2])) {\r\n                                        this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                        this.setState({ backTestResult: this.state.backTestResult.reverse() });\r\n                                    }\r\n\r\n                                }\r\n                                //var sellenty = (firstCandle[3] - (firstCandle[2] - firstCandle[3])/4).toFixed(2); \r\n                                var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n                                if (next5thCandle[3] < sellenty) {\r\n                                    var perChng = (sellenty - next5thCandle[this.state.shortExitPriceType]) * 100 / firstCandle[3];\r\n                                    var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n\r\n                                    sumPercentage += perChng;\r\n                                    console.log(element.symbol, firstCandle[0], \"dowside\", \"same day high\", firstCandle[2], \"same day low\", firstCandle[3], \"nextdaylow\", next5thCandle[3], \"nextdayhigh\", next5thCandle[2], 'next day closing', next5thCandle[4], perChng + '%');\r\n\r\n                                    var foundStock = {\r\n                                        foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                        symbol: element.symbol,\r\n                                        token: element.token,\r\n                                        sellEntyPrice: sellenty,\r\n                                        perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                                        stopLoss: firstCandle[2],\r\n                                        highAndLow: next5thCandle[3],\r\n                                        buyExitPrice: next5thCandle[this.state.shortExitPriceType],\r\n                                        brokerageCharges: 0.06,\r\n                                        perChange: perChng.toFixed(2),\r\n                                        entryAt:  firstCandle[0],\r\n                                        squareOffAt: next5thCandle[0],\r\n                                        quantity: Math.floor(10000 / firstCandle[3]),\r\n                                        candleChartData: candleChartData\r\n                                    }\r\n                                    if (Math.floor(10000 / firstCandle[3])) {\r\n                                        this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n                                    }\r\n\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n                        runningTest = runningTest + candleData.length - 35;\r\n                    }\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(element.symbol, \" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 300));\r\n            this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest })\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n        console.log(\"sumPercentage\", sumPercentage)\r\n    }\r\n    \r\n\r\n\r\n    nr4CheckPastPerfommance = (token, foundStock) => {\r\n        var time = moment.duration(\"4320:00:00\");\r\n        var startdate = moment(this.state.endDate).subtract(time);\r\n        var totalLongs = 0, totalShort = 0, totalLongPer = 0, totalShortPer = 0, totalLongHighPer = 0, totalShortLowPer = 0;\r\n        var longCandles = [], shortCandles = [];\r\n\r\n        console.log('starting function foundStock', foundStock)\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token,\r\n            \"interval\": \"ONE_DAY\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n            \"fromdate\": moment(startdate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n            \"todate\": moment(this.state.endDate).format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n        }\r\n\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let histdata = resolveResponse(res, 'noPop');\r\n            console.log(\"candle history\", histdata);\r\n            if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                var candleData = histdata.data;\r\n                //  candleData.reverse(); \r\n                for (let index2 = 0; index2 < candleData.length - 4; index2++) {\r\n                    // var startindex = index2 * 10; \r\n                    var last4Candle = candleData.slice(index2, index2 + 4);\r\n                    // var next10Candle = candleData.slice(index2+5 , index2+35 );    \r\n\r\n                    // console.log(element.symbol, 'backside',  last10Candle, '\\n forntside',  next10Candle);\r\n\r\n                    //&& new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\"\r\n                    if (last4Candle.length >= 4 && new Date(candleData[index2][0]).toLocaleTimeString() < \"14:15:00\") {\r\n\r\n                        last4Candle.reverse();\r\n\r\n                        var rangeArr = [], candleChartData = [];\r\n                        last4Candle.forEach(element => {\r\n                            rangeArr.push(element[2] - element[3]);\r\n                            candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                        });\r\n                        var firstElement = rangeArr[0], rgrangeCount = 0;\r\n                        rangeArr.forEach(element => {\r\n                            if (firstElement <= element) {\r\n                                firstElement = element;\r\n                                rgrangeCount += 1;\r\n                            }\r\n                        });\r\n\r\n                        if (rgrangeCount == 4) {\r\n\r\n                            var firstCandle = last4Candle[0];\r\n                            var next5thCandle = candleData[index2 + 4];\r\n                            candleChartData.unshift([next5thCandle[0], next5thCandle[1], next5thCandle[2], next5thCandle[3], next5thCandle[4]]);\r\n\r\n                            console.log(token, last4Candle, rangeArr, rgrangeCount, firstCandle[0].toString().substr(0, 25));\r\n\r\n                            var buyentry = (firstCandle[2] + (firstCandle[2] / 100 / 10)).toFixed(2);\r\n\r\n                            if (next5thCandle[2] > buyentry) {\r\n\r\n                                var perChng = (next5thCandle[4] - buyentry) * 100 / buyentry;\r\n                                var perChngOnHigh = (next5thCandle[2] - buyentry) * 100 / buyentry;\r\n\r\n                                var longData = {\r\n                                    foundAt: \"Long - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                    sellEntyPrice: next5thCandle[4],\r\n                                    stopLoss: firstCandle[3],\r\n                                    highAndLow: next5thCandle[2],\r\n                                    perChngOnHighLow: perChngOnHigh.toFixed(2),\r\n                                    buyExitPrice: buyentry,\r\n                                    brokerageCharges: 0.06,\r\n                                    perChange: perChng.toFixed(2),\r\n                                    squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                                    quantity: Math.floor(10000 / firstCandle[2]),\r\n                                    candleChartData: candleChartData\r\n                                }\r\n                                longCandles.push(longData);\r\n\r\n                                totalLongs += 1;\r\n                                totalLongPer += perChng;\r\n                                totalLongHighPer += perChngOnHigh;\r\n\r\n                            }\r\n                            var sellenty = (firstCandle[3] - (firstCandle[3] / 100 / 10)).toFixed(2);\r\n\r\n                            if (next5thCandle[3] < sellenty) {\r\n                                var perChng = (sellenty - next5thCandle[4]) * 100 / firstCandle[3];\r\n                                var perChngOnLow = (sellenty - next5thCandle[3]) * 100 / firstCandle[3];\r\n\r\n                                var shortData = {\r\n                                    foundAt: \"Short - \" + new Date(firstCandle[0]).toLocaleString(),\r\n                                    sellEntyPrice: sellenty,\r\n                                    perChngOnHighLow: perChngOnLow.toFixed(2),\r\n                                    stopLoss: firstCandle[2],\r\n                                    highAndLow: next5thCandle[3],\r\n                                    buyExitPrice: next5thCandle[4],\r\n                                    brokerageCharges: 0.06,\r\n                                    perChange: perChng.toFixed(2),\r\n                                    squareOffAt: new Date(next5thCandle[0]).toLocaleString(),\r\n                                    quantity: Math.floor(10000 / firstCandle[3]),\r\n                                    candleChartData: candleChartData\r\n                                }\r\n                                shortCandles.push(shortData);\r\n\r\n                                totalShort += 1;\r\n                                totalShortPer += perChng;\r\n                                totalShortLowPer += perChngOnLow;\r\n\r\n                            }\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n\r\n                var pastPerferm = {\r\n                    totalLongs: totalLongs,\r\n                    totalShort: totalShort,\r\n                    totalLongPer: totalLongPer.toFixed(2),\r\n                    totalShortPer: totalShortPer.toFixed(2),\r\n                    totalLongHighPer: totalLongHighPer.toFixed(2),\r\n                    totalShortLowPer: totalShortLowPer.toFixed(2),\r\n                }\r\n                if (foundStock)\r\n                    foundStock.pastPerferm = pastPerferm;\r\n                foundStock.longCandles = longCandles;\r\n                foundStock.shortCandles = shortCandles;\r\n\r\n\r\n                console.log(\"foundStock\", foundStock);\r\n                if (Math.floor(10000 / firstCandle[4])) {\r\n                    this.setState({ FoundPatternList: [...this.state.FoundPatternList, foundStock] });\r\n\r\n                    localStorage.setItem('FoundPatternList', JSON.stringify(this.state.FoundPatternList));\r\n                }\r\n\r\n            } else {\r\n                //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                console.log(token, \" candle data emply\");\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    backtestTweezerTop = (candleHist, symbol, next10Candle) => {\r\n\r\n        if (candleHist && candleHist.length > 0) {\r\n\r\n            candleHist = candleHist.reverse();\r\n            // console.log(symbol, \"candleHist\",candleHist, new Date().toString()); \r\n\r\n\r\n            var maxHigh = candleHist[2] && candleHist[2][2], maxLow = candleHist[2] && candleHist[2][3];\r\n            for (let index = 3; index < candleHist.length; index++) {\r\n                if (maxHigh < candleHist[index][2])\r\n                    maxHigh = candleHist[index][2];\r\n                if (candleHist[index][3] < maxLow)\r\n                    maxLow = candleHist[index][3];\r\n            }\r\n\r\n\r\n            var lastTrendCandleLow = candleHist[9][3];\r\n            var firstTrendCandleHigh = candleHist[2][2];\r\n\r\n            var firstCandle = {\r\n                time: candleHist[0] && candleHist[0][0],\r\n                open: candleHist[0] && candleHist[0][1],\r\n                high: candleHist[0] && candleHist[0][2],\r\n                low: candleHist[0] && candleHist[0][3],\r\n                close: candleHist[0] && candleHist[0][4]\r\n            }\r\n            var secondCandle = {\r\n                time: candleHist[1] && candleHist[1][0],\r\n                open: candleHist[1] && candleHist[1][1],\r\n                high: candleHist[1] && candleHist[1][2],\r\n                low: candleHist[1] && candleHist[1][3],\r\n                close: candleHist[1] && candleHist[1][4]\r\n            }\r\n\r\n\r\n\r\n            var diffPer = (firstTrendCandleHigh - lastTrendCandleLow) * 100 / lastTrendCandleLow;\r\n            var lowestOfBoth = secondCandle.low < firstCandle.low ? secondCandle.low : firstCandle.low;\r\n            var highestOfBoth = secondCandle.high < firstCandle.high ? secondCandle.high : firstCandle.high;\r\n            //uptrend movement 1.5% \r\n            //    console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n\r\n\r\n            if (diffPer >= 1.5 && maxHigh < highestOfBoth && maxLow < lowestOfBoth) {\r\n                //1st candle #20d020 & 2nd candle is red check\r\n                if (secondCandle.open < secondCandle.close && firstCandle.open > firstCandle.close) {\r\n                    // console.log(symbol, \"candleHist\",candleHist); \r\n                    //  console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n                    //  console.log(symbol, 'making twisser 1st #20d020 & 2nd red' , firstCandle, secondCandle );\r\n\r\n                    if (Math.round(secondCandle.close) == Math.round(firstCandle.open) && Math.round(secondCandle.open) == Math.round(firstCandle.close)) {\r\n\r\n                        console.log('%c' + new Date(candleHist[0][0]).toString(), 'color: #20d020');\r\n                        console.log(symbol, \"last 8th candle diff% \", diffPer, \"10th Low\", lastTrendCandleLow, \"3rd high\", firstTrendCandleHigh);\r\n\r\n                        console.log(symbol, \"maxHigh\", maxHigh, \"maxLow\", maxLow);\r\n                        console.log(\"last10Candle\", candleHist);\r\n                        console.log(symbol, 'perfect twisser top done close=open || open=close',);\r\n                        console.log(\"next10Candle\", next10Candle);\r\n\r\n                        if (next10Candle && next10Candle.length) {\r\n                            // next10Candle = next10Candle.reverse(); \r\n\r\n                            var higherStopLoss = (highestOfBoth + (highestOfBoth / 100 / 10)).toFixed(2);\r\n                            var sellEntyPrice = (lowestOfBoth - (lowestOfBoth / 100 / 10)).toFixed(2);\r\n\r\n                            //flat 3:15 or SL hit squired off \r\n                            var squiredOffAt315 = 0, squareOffAt315Time = '';\r\n                            for (let indexTarget = 0; indexTarget < next10Candle.length; indexTarget++) {\r\n\r\n                                if (next10Candle[indexTarget][2] > higherStopLoss) {\r\n                                    squiredOffAt315 = higherStopLoss;\r\n                                    squareOffAt315Time = next10Candle[indexTarget][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    squiredOffAt315 = next10Candle[indexTarget][4];\r\n                                    squareOffAt315Time = next10Candle[indexTarget][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            //lowest of 3:15 profit booking\r\n                            var lowestOf315 = next10Candle[0][4], lowestSquareOffAt = '';\r\n                            for (let indexTarget2 = 1; indexTarget2 < next10Candle.length; indexTarget2++) {\r\n                                if (next10Candle[indexTarget2][4] < lowestOf315) {\r\n                                    lowestOf315 = next10Candle[indexTarget2][4];\r\n                                    lowestSquareOffAt = next10Candle[indexTarget2][0];\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget2][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            //trailing profit till of 3:15 \r\n                            var trailingSL = higherStopLoss, trailingSLAT = '';\r\n                            for (let indexTarget3 = 0; indexTarget3 < next10Candle.length; indexTarget3++) {\r\n                                if (trailingSL > next10Candle[indexTarget3][2]) {\r\n                                    trailingSL = (next10Candle[indexTarget3][2] + (next10Candle[indexTarget3][2] / 100 / 4)).toFixed(2);\r\n                                    trailingSLAT = next10Candle[indexTarget3][0];\r\n                                }\r\n                                else {\r\n                                    trailingSL = (next10Candle[indexTarget3][4]).toFixed(2);\r\n                                    trailingSLAT = next10Candle[indexTarget3][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget3][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            //flat 0.75% or SL hit profit booking\r\n                            var flatSellingPrice = 0, flatSellingPriceAt = '';\r\n                            for (let indexTarget4 = 0; indexTarget4 < next10Candle.length; indexTarget4++) {\r\n\r\n                                var priceDiff = (next10Candle[indexTarget4][3] - sellEntyPrice) * 100 / sellEntyPrice;\r\n\r\n                                if (priceDiff < -0.70) {\r\n                                    flatSellingPrice = next10Candle[indexTarget4][3];\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                                if (next10Candle[indexTarget4][2] > higherStopLoss) {\r\n                                    flatSellingPrice = higherStopLoss;\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget4][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    flatSellingPrice = next10Candle[indexTarget4][3];\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            //range based target range*1.5% or SL hit profit booking\r\n                            var rangeSellingPrice = 0, rangeSellingPriceAt = '';\r\n                            for (let indexTarget5 = 0; indexTarget5 < next10Candle.length; indexTarget5++) {\r\n\r\n                                var rangePriceDiff = (next10Candle[indexTarget5][3] - sellEntyPrice) * 100 / sellEntyPrice;\r\n\r\n                                if (rangePriceDiff <= -1.5) {\r\n                                    rangeSellingPrice = next10Candle[indexTarget5][3];\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                                if (next10Candle[indexTarget5][2] > higherStopLoss) {\r\n                                    rangeSellingPrice = higherStopLoss;\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget5][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    rangeSellingPrice = next10Candle[indexTarget5][3];\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            var backTestResult = localStorage.getItem(\"backTestResult\") ? JSON.parse(localStorage.getItem(\"backTestResult\")) : [];\r\n\r\n\r\n                            if (next10Candle[0][3] < lowestOfBoth || next10Candle[1][3] < lowestOfBoth || next10Candle[2][3] < lowestOfBoth) {\r\n                                var foundStock = {\r\n                                    foundAt: new Date(candleHist[0][0]).toLocaleString(),\r\n                                    symbol: symbol,\r\n                                    sellEntyPrice: sellEntyPrice,\r\n                                    stopLoss: higherStopLoss,\r\n                                    orderActivated: false,\r\n                                    buyExitPrice: 0,\r\n                                    brokerageCharges: 0.06,\r\n                                    quantity: Math.floor(10000 / sellEntyPrice),\r\n                                }\r\n                                foundStock.orderActivated = true;\r\n                                //sqr off at 3:15\r\n                                //   foundStock.squareOffAt = new Date( squareOffAt315Time ).toLocaleString();\r\n                                //   foundStock.buyExitPrice = squiredOffAt315; \r\n\r\n                                //  lowest of 3:15\r\n                                // foundStock.squareOffAt = new Date( lowestSquareOffAt ).toLocaleString();\r\n                                // foundStock.buyExitPrice = lowestOf315 \r\n\r\n                                //trailing till 3:15\r\n                                // foundStock.squareOffAt = new Date( trailingSLAT ).toLocaleString();\r\n                                // foundStock.buyExitPrice = trailingSL;\r\n\r\n                                //flat profit booking at 0.70%\r\n                                foundStock.squareOffAt = new Date(flatSellingPriceAt).toLocaleString();\r\n                                foundStock.buyExitPrice = flatSellingPrice;\r\n\r\n\r\n                                //range based target range*1.5%\r\n                                //    foundStock.squareOffAt = new Date( rangeSellingPriceAt ).toLocaleString();\r\n                                //    foundStock.buyExitPrice = rangeSellingPrice;\r\n\r\n                                foundStock.perChange = ((foundStock.sellEntyPrice - foundStock.buyExitPrice) * 100 / foundStock.sellEntyPrice).toFixed(2);\r\n                                backTestResult.push(foundStock);\r\n\r\n                                this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n\r\n                                //  localStorage.setItem('backTestResult', JSON.stringify(backTestResult));\r\n                            }\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        this.setState({ backTestFlag: true });\r\n    }\r\n\r\n    backtestTweezerBottom = (candleHist, symbol, next10Candle) => {\r\n        if (candleHist && candleHist.length > 0) {\r\n\r\n            candleHist = candleHist.reverse();\r\n            // console.log(symbol, \"candleHist\",candleHist, new Date().toString()); \r\n\r\n\r\n            var maxHigh = candleHist[2] && candleHist[2][2], maxLow = candleHist[2] && candleHist[2][3];\r\n            for (let index = 3; index < candleHist.length; index++) {\r\n                if (maxHigh < candleHist[index][2])\r\n                    maxHigh = candleHist[index][2];\r\n                if (candleHist[index][3] < maxLow)\r\n                    maxLow = candleHist[index][3];\r\n            }\r\n\r\n\r\n            var lastTrendCandleLow = candleHist[9][3];\r\n            var firstTrendCandleHigh = candleHist[2][2];\r\n\r\n            var firstCandle = {\r\n                time: candleHist[0] && candleHist[0][0],\r\n                open: candleHist[0] && candleHist[0][1],\r\n                high: candleHist[0] && candleHist[0][2],\r\n                low: candleHist[0] && candleHist[0][3],\r\n                close: candleHist[0] && candleHist[0][4]\r\n            }\r\n            var secondCandle = {\r\n                time: candleHist[1] && candleHist[1][0],\r\n                open: candleHist[1] && candleHist[1][1],\r\n                high: candleHist[1] && candleHist[1][2],\r\n                low: candleHist[1] && candleHist[1][3],\r\n                close: candleHist[1] && candleHist[1][4]\r\n            }\r\n\r\n\r\n\r\n            var diffPer = (firstTrendCandleHigh - lastTrendCandleLow) * 100 / lastTrendCandleLow;\r\n            var lowestOfBoth = secondCandle.low < firstCandle.low ? secondCandle.low : firstCandle.low;\r\n            var highestOfBoth = secondCandle.high < firstCandle.high ? secondCandle.high : firstCandle.high;\r\n            //uptrend movement 1.5% \r\n            //    console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n\r\n\r\n            if (diffPer <= -1.5 && highestOfBoth < maxHigh && lowestOfBoth < maxLow) {\r\n                //1st candle #20d020 & 2nd candle is red check\r\n                if (secondCandle.open > secondCandle.close && firstCandle.close > firstCandle.open) {\r\n                    // console.log(symbol, \"candleHist\",candleHist); \r\n                    //  console.log(symbol, \"last 8th candle diff% \",  diffPer, \"10th Low\", lastTrendCandleLow,\"3rd high\", firstTrendCandleHigh);\r\n                    //  console.log(symbol, 'making twisser 1st #20d020 & 2nd red' , firstCandle, secondCandle );\r\n\r\n                    if (Math.round(secondCandle.close) == Math.round(firstCandle.open) || Math.round(secondCandle.open) == Math.round(firstCandle.close)) {\r\n\r\n                        console.log('%c' + new Date(candleHist[0][0]).toString(), 'color: #20d020');\r\n                        console.log(symbol, \"last 8th candle diff% \", diffPer, \"10th Low\", lastTrendCandleLow, \"3rd high\", firstTrendCandleHigh);\r\n\r\n                        console.log(symbol, \"maxHigh\", maxHigh, \"maxLow\", maxLow);\r\n                        console.log(\"last10Candle\", candleHist);\r\n                        console.log(symbol, 'perfect twisser top done close=open || open=close',);\r\n                        console.log(\"next10Candle\", next10Candle);\r\n\r\n                        if (next10Candle && next10Candle.length) {\r\n                            // next10Candle = next10Candle.reverse(); \r\n\r\n                            var buyEntyPrice = (highestOfBoth + (highestOfBoth / 100 / 10)).toFixed(2);\r\n                            var LowerStopLoss = (lowestOfBoth - (lowestOfBoth / 100 / 10)).toFixed(2);\r\n\r\n                            //flat 3:15 or SL hit squired off \r\n                            var squiredOffAt315 = 0, squareOffAt315Time = '';\r\n                            for (let indexTarget = 0; indexTarget < next10Candle.length; indexTarget++) {\r\n\r\n                                if (next10Candle[indexTarget][2] < LowerStopLoss) {\r\n                                    squiredOffAt315 = LowerStopLoss;\r\n                                    squareOffAt315Time = next10Candle[indexTarget][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    squiredOffAt315 = next10Candle[indexTarget][4];\r\n                                    squareOffAt315Time = next10Candle[indexTarget][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            //highest of 3:15 profit booking\r\n                            var highestOf315 = next10Candle[0][4], highestSquareOffAt = '';\r\n                            for (let indexTarget2 = 1; indexTarget2 < next10Candle.length; indexTarget2++) {\r\n                                if (highestOf315 < next10Candle[indexTarget2][4]) {\r\n                                    highestOf315 = next10Candle[indexTarget2][4];\r\n                                    highestSquareOffAt = next10Candle[indexTarget2][0];\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget2][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            //trailing profit till of 3:15 \r\n                            var trailingSL = LowerStopLoss, trailingSLAT = '';\r\n                            for (let indexTarget3 = 0; indexTarget3 < next10Candle.length; indexTarget3++) {\r\n                                if (trailingSL > next10Candle[indexTarget3][2]) {\r\n                                    trailingSL = (next10Candle[indexTarget3][2] + (next10Candle[indexTarget3][2] / 100 / 4)).toFixed(2);\r\n                                    trailingSLAT = next10Candle[indexTarget3][0];\r\n                                }\r\n                                else {\r\n                                    trailingSL = (next10Candle[indexTarget3][4]).toFixed(2);\r\n                                    trailingSLAT = next10Candle[indexTarget3][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget3][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            //flat 0.75% or SL hit profit booking\r\n                            var flatSellingPrice = 0, flatSellingPriceAt = '';\r\n                            for (let indexTarget4 = 0; indexTarget4 < next10Candle.length; indexTarget4++) {\r\n\r\n                                var priceDiff = (next10Candle[indexTarget4][3] - buyEntyPrice) * 100 / buyEntyPrice;\r\n\r\n                                if (priceDiff > 0.70) {\r\n                                    flatSellingPrice = next10Candle[indexTarget4][3];\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                                if (next10Candle[indexTarget4][2] > LowerStopLoss) {\r\n                                    flatSellingPrice = LowerStopLoss;\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget4][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    flatSellingPrice = next10Candle[indexTarget4][3];\r\n                                    flatSellingPriceAt = next10Candle[indexTarget4][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            //range based target range*1.5% or SL hit profit booking\r\n                            var rangeSellingPrice = 0, rangeSellingPriceAt = '';\r\n                            for (let indexTarget5 = 0; indexTarget5 < next10Candle.length; indexTarget5++) {\r\n\r\n                                var rangePriceDiff = (next10Candle[indexTarget5][3] - buyEntyPrice) * 100 / buyEntyPrice;\r\n\r\n                                if (rangePriceDiff >= -1.5) {\r\n                                    rangeSellingPrice = next10Candle[indexTarget5][3];\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                                if (next10Candle[indexTarget5][2] > LowerStopLoss) {\r\n                                    rangeSellingPrice = LowerStopLoss;\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                                if (new Date(next10Candle[indexTarget5][0]).toLocaleTimeString() == \"15:15:00\") {\r\n                                    rangeSellingPrice = next10Candle[indexTarget5][3];\r\n                                    rangeSellingPriceAt = next10Candle[indexTarget5][0];\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            var backTestResult = localStorage.getItem(\"backTestResult\") ? JSON.parse(localStorage.getItem(\"backTestResult\")) : [];\r\n\r\n\r\n                            if (next10Candle[0][3] < lowestOfBoth || next10Candle[1][3] < lowestOfBoth || next10Candle[2][3] < lowestOfBoth) {\r\n                                var foundStock = {\r\n                                    foundAt: new Date(candleHist[0][0]).toLocaleString(),\r\n                                    symbol: symbol,\r\n                                    sellEntyPrice: 0,\r\n                                    stopLoss: LowerStopLoss,\r\n                                    orderActivated: false,\r\n                                    buyExitPrice: buyEntyPrice,\r\n                                    brokerageCharges: 0.06,\r\n                                    quantity: Math.floor(10000 / buyEntyPrice),\r\n                                }\r\n                                foundStock.orderActivated = true;\r\n                                //sqr off at 3:15\r\n                                foundStock.squareOffAt = new Date(squareOffAt315Time).toLocaleString();\r\n                                foundStock.sellEntyPrice = squiredOffAt315;\r\n\r\n                                //  lowest of 3:15\r\n                                // foundStock.squareOffAt = new Date( lowestSquareOffAt ).toLocaleString();\r\n                                // foundStock.sellEntyPrice = lowestOf315 \r\n\r\n                                //trailing till 3:15\r\n                                // foundStock.squareOffAt = new Date( trailingSLAT ).toLocaleString();\r\n                                // foundStock.sellEntyPrice = trailingSL;\r\n\r\n                                //flat profit booking at 0.70%\r\n                                // foundStock.squareOffAt = new Date( flatSellingPriceAt ).toLocaleString();\r\n                                // foundStock.sellEntyPrice = flatSellingPrice;\r\n\r\n\r\n                                //range based target range*1.5%\r\n                                //    foundStock.squareOffAt = new Date( rangeSellingPriceAt ).toLocaleString();\r\n                                //    foundStock.sellEntyPrice = rangeSellingPrice;\r\n\r\n                                foundStock.perChange = ((foundStock.sellEntyPrice - foundStock.buyExitPrice) * 100 / foundStock.sellEntyPrice).toFixed(2);\r\n                                backTestResult.push(foundStock);\r\n\r\n                                this.setState({ backTestResult: [...this.state.backTestResult, foundStock] });\r\n\r\n                                //  localStorage.setItem('backTestResult', JSON.stringify(backTestResult));\r\n                            }\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        this.setState({ backTestFlag: true });\r\n\r\n    }\r\n\r\n    getTimeFrameValue = (timeFrame) => {\r\n        //18 HOURS FOR BACK 1 DATE BACK MARKET OFF\r\n\r\n\r\n\r\n        switch (timeFrame) {\r\n            // case 'ONE_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"10:05:00\")\r\n            //         return \"19:00:00\";\r\n            //     else\r\n            //         return \"01:00:00\";\r\n            //     break;\r\n            // case 'FIVE_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"11:00:00\")\r\n            //         return \"23:00:00\";\r\n            //     else\r\n            //         return \"03:00:00\";\r\n            //     break;\r\n            // case 'TEN_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"12:35:00\")\r\n            //         return \"24:21:00\";\r\n            //     else\r\n            //         return \"07:00:00\";\r\n            //     break;\r\n            // case 'FIFTEEN_MINUTE':\r\n            //     if (new Date().toLocaleTimeString() < \"14:15:00\")\r\n            //         return \"28:01:00\";\r\n            //     else\r\n            //         return \"10:01:00\";\r\n            //     break;\r\n            // case 'THIRTY_MINUTE':\r\n            //     return \"100:01:00\";\r\n            //     break;\r\n            // case 'ONE_HOUR':\r\n            //     return \"200:01:00\";\r\n            //     break;\r\n            // case 'ONE_DAY':\r\n            //     return \"1000:01:00\";\r\n            //     break;\r\n            // default:\r\n            //     break;\r\n\r\n            case 'ONE_MINUTE':\r\n                return \"720:00:00\";\r\n                break;\r\n            case 'FIVE_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'TEN_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'FIFTEEN_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'THIRTY_MINUTE':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'ONE_HOUR':\r\n                return \"1000:00:00\";\r\n                break;\r\n            case 'ONE_DAY':\r\n                return \"1000:00:00\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    calculateSMA = (data, count) => {\r\n\r\n        //  console.log(\"smarowdata\", data, count);\r\n\r\n        var avg = function (data) {\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                sum += data[i].close;\r\n            }\r\n            return sum / data.length;\r\n        };\r\n        var result = [];\r\n        for (var i = count - 1, len = data.length; i < len; i++) {\r\n            var val = avg(data.slice(i - count + 1, i));\r\n            result.push({ time: data[i].time, value: val });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    //   calculateBBValue = (data, type ) => {\r\n\r\n    //     console.log(\"smarowdata\", data , count); \r\n\r\n    //     var result = [];\r\n    //     for (var i=count - 1, len=data.length; i < len; i++){\r\n    //       var val = avg(data.slice(i - count + 1, i));\r\n    //       result.push({ time: data[i].time, value: val});\r\n    //     }\r\n    //     return result;\r\n    //   }\r\n\r\n\r\n\r\n    showStaticChart = (token, symbol, entryAt, exitAt) => {\r\n\r\n        \r\n\r\n        console.log('token, symbol, entryAt, exitAt', token, symbol, entryAt, exitAt)\r\n\r\n        this.setState({ chartStaticData: '' , lightChartSymbol :symbol }, function () {\r\n            console.log('reset done', token);\r\n        });\r\n\r\n    //     console.log(\"time in function \", this.state.timeFrame);\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n    //     // var time = moment.duration(\"10:50:00\");\r\n    //     // var startDate = moment(new Date()).subtract(time);\r\n    //     // var startdate = moment(this.state.startDate).subtract(time);\r\n    //     var beginningTime = moment('9:15am', 'h:mma');\r\n\r\n    //     let timeDuration = this.getTimeFrameValue(this.state.timeFrame);\r\n    //     var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n    //    // var startDate = moment(new Date(foundAt)).set()\r\n     \r\n       var startDate = moment(entryAt).set(\"hour\", '09').set(\"minute\", '15');\r\n        var enddate = moment(exitAt).set(\"hour\", '15').set(\"minute\", '30');\r\n\r\n\r\n        var data = {\r\n            \"exchange\": \"NSE\",\r\n            \"symboltoken\": token,\r\n            \"interval\": this.state.timeFrame, //ONE_DAY FIVE_MINUTE \r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(enddate).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n\r\n\r\n        AdminService.getHistoryData(data).then(res => {\r\n            let historyData = resolveResponse(res, 'noPop');\r\n            //    console.log(data); \r\n            if (historyData && historyData.data) {\r\n\r\n                var data = historyData.data;\r\n\r\n                const cdata = data.map(d => {\r\n                    return { time: new Date(d[0]).getTime(), open: parseFloat(d[1]), high: parseFloat(d[2]), low: parseFloat(d[3]), close: parseFloat(d[4]) }\r\n                });\r\n\r\n                var candleChartData = [], vwapdata = [], closeingData = [], highData = [], lowData = [], openData = [], valumeData = [], bbdata = [], volumeSeriesData = [];\r\n                data.forEach((element, loopindex) => {\r\n                    candleChartData.push([element[0], element[1], element[2], element[3], element[4]]);\r\n                    vwapdata.push([element[5], (element[2] + element[3] + element[4]) / 3]);\r\n                    closeingData.push(element[4]);\r\n                    highData.push(element[2]);\r\n                    lowData.push(element[3]);\r\n                    openData.push(element[3]);\r\n                    valumeData.push(element[5]);\r\n                    bbdata.push((element[2] + element[3] + element[4]) / 3);\r\n                    volumeSeriesData.push({ time: new Date(element[0]).getTime(), value: element[5], color: 'rgba(211, 211, 211, 1)' })\r\n\r\n                });\r\n\r\n                var input = {\r\n                    period: 20,\r\n                    values: bbdata,\r\n                    stdDev: 2\r\n                }\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var bb = BollingerBands.calculate(input);\r\n                console.log(token, \"Bolinger band\", input, bb);\r\n\r\n                var inputRSI = { values: closeingData, period: 14 };\r\n                var rsiValues = RSI.calculate(inputRSI);\r\n\r\n                console.log(token, \"Rsi\", inputRSI, rsiValues);\r\n                console.log(token, \"vwap\", vwapdata, vwap(vwapdata));\r\n\r\n\r\n                this.setState({ chartStaticData: cdata, bblastValue: bb[bb.length - 1], vwapvalue: vwap(vwapdata), rsiValues: rsiValues.slice(Math.max(valumeData.length - 19, 1)), valumeData: valumeData.slice(Math.max(valumeData.length - 5, 1)) }, function () {\r\n                    // candleSeries.setData(this.state.chartStaticData); \r\n                    this.state.candleSeries.setData(this.state.chartStaticData);\r\n\r\n                    this.state.volumeSeries.setData(volumeSeriesData);\r\n\r\n                    var smaData = this.calculateSMA(this.state.chartStaticData, 20);\r\n\r\n                    this.state.smaLineSeries.setData(smaData);\r\n\r\n\r\n                    this.state.chart.subscribeCrosshairMove((param) => {\r\n\r\n                        var getit = param.seriesPrices[Symbol.iterator]();\r\n\r\n                        var string = \"\";\r\n                        var change = \"\";\r\n\r\n                        for (var elem of getit) {\r\n\r\n                            if (typeof elem[1] == 'object') {\r\n                                string += \" Open: <b>\" + elem[1].open + \"</b>\";\r\n                                string += \" High: <b>\" + elem[1].high + \"</b>\";\r\n                                string += \" Low: <b>\" + elem[1].low + \"</b>\";\r\n                                string += \" Close: <b>\" + elem[1].close + \"</b>\";\r\n                                change = (elem[1].close - elem[1].open) * 100 / elem[1].open;\r\n                                string += \" Chng: <b>\" + change.toFixed(2) + '%</b>';\r\n                            } else {\r\n                                string += \" &nbsp; \" + elem[1].toFixed(2) + \" \";\r\n                            }\r\n                        }\r\n\r\n                        if (param.time)\r\n                            string += \" Time: <b>\" + new Date(param.time).toLocaleString() + \"</b>\";\r\n                        else\r\n                            string += \" <b>Time: </b>\";\r\n\r\n\r\n                        const domElement = document.getElementById('showChartTitle');\r\n\r\n\r\n                        var str = \"<span style=color:green>\" + string + \"</span> \";\r\n                        if (change < 0)\r\n                            str = \"<span style=color:red>\" + string + \"</span> \";\r\n\r\n                        domElement.innerHTML = str;\r\n                    });\r\n\r\n\r\n                });\r\n\r\n\r\n                data && data.sort(function (a, b) {\r\n                    return new Date(b[0]) - new Date(a[0]);\r\n                });\r\n                if (data.length > 0) {\r\n                    localStorage.setItem('InstrumentHistroy', JSON.stringify(data));\r\n                    this.setState({ InstrumentHistroy: data });\r\n\r\n\r\n                    var upsideMoveCount = 0, downMoveCount = 0, totalSum = 0;\r\n                    data.forEach(element => {\r\n\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n                        if (per >= 0.3) {\r\n                            upsideMoveCount += 1;\r\n                        }\r\n                        if (per <= -0.3) {\r\n                            downMoveCount += 1;\r\n                        }\r\n\r\n                        totalSum += per;\r\n\r\n                    });\r\n\r\n\r\n                    this.setState({ downMoveCount: downMoveCount, upsideMoveCount: upsideMoveCount, totalPerchentageChange: totalSum, startingFrom: moment(startDate).format(format1) });\r\n\r\n\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    checkSlowMotionStock = (token, stock) => {\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var time = moment.duration(\"240:00:00\");  //22:00:00\" for last day  2hours \r\n        var startDate = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'FIVE_MINUTE',\r\n            \"fromdate\": moment(startDate).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0;\r\n\r\n                var bigCandleCount = 0;\r\n\r\n                for (let index = candleDatad.length - 375; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n\r\n                    if (element) {\r\n                        var per = (element[4] - element[1]) * 100 / element[1];\r\n\r\n                        if (per >= 0.4) {\r\n                            bigCandleCount += 1;\r\n                            console.log(stock.symbol, per, element[0]);\r\n\r\n                        }\r\n                        if (per <= -0.4) {\r\n                            bigCandleCount += 1;\r\n                            console.log(stock.symbol, per, element[0]);\r\n\r\n                        }\r\n                    }\r\n                }\r\n                console.log(\"Totalcount\", stock.symbol, bigCandleCount);\r\n                if (bigCandleCount <= 15) {\r\n\r\n                    stock.bigCandleCount = bigCandleCount;\r\n\r\n                    this.setState({ slowMotionStockList: [...this.state.slowMotionStockList, stock] }, function () {\r\n                        localStorage.setItem(\"slowMotionStockList\", JSON.stringify(this.state.slowMotionStockList));\r\n                    });\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    checkSlowMotionCheckLive = async () => {\r\n\r\n        for (let index = 0; index < this.state.slowMotionStockList.length; index++) {\r\n            const row = this.state.slowMotionStockList[index];\r\n            const format1 = \"YYYY-MM-DD HH:mm\";\r\n            var time = moment.duration(\"22:00:00\");  //22:00:00\" for last day  2hours \r\n            var startDate = moment(new Date()).subtract(time);\r\n            var dataDay = {\r\n                \"exchange\": 'NSE',\r\n                \"symboltoken\": row.token,\r\n                \"interval\": 'FIVE_MINUTE',\r\n                \"fromdate\": moment(startDate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n            AdminService.getHistoryData(dataDay).then(resd => {\r\n                let histdatad = resolveResponse(resd, 'noPop');\r\n                var DSMA = '';\r\n                if (histdatad && histdatad.data && histdatad.data.length) {\r\n                    var candleDatad = histdatad.data;\r\n                    var closeingDatadaily = [], valumeSum = 0;\r\n\r\n                    var bigCandleCount = 0, bullishCount = 0;\r\n\r\n                    for (let index = candleDatad.length - 3; index < candleDatad.length; index++) {\r\n                        const element = candleDatad[index];\r\n\r\n                        if (element) {\r\n\r\n                            var per = (element[4] - element[1]) * 100 / element[1];\r\n                            if (per >= 0.7) {\r\n                                bigCandleCount += 1;\r\n                            }\r\n                            if (per >= 0) {\r\n                                bullishCount += 1;\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    if (bigCandleCount >= 1) {\r\n                        row.highlisht = true;\r\n                        window.document.title = \"SM: \" + row.symbol;\r\n                        console.log('hey listen, slow motion stock' + row.symbol + \" broken\");\r\n\r\n                        this.speckIt('hey listen, slow motion stock' + row.symbol + \" broken\");\r\n\r\n                        this.setState({ slowMotionStockList: this.state.slowMotionStockList })\r\n                    }\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 310));\r\n        }\r\n\r\n    }\r\n\r\n    checkLiveBids = async () => {\r\n\r\n        for (let index = 0; index < this.state.symbolList.length; index++) {\r\n            const row = this.state.symbolList[index];\r\n\r\n            AdminService.checkLiveBids(row.name).then(resd => {\r\n                // let histdatad = resolveResponse(resd, 'noPop');\r\n\r\n                console.log(\"bid\", resd.data.data);\r\n\r\n                // adhocMargin: \"0.48\"\r\n                // applicableMargin: \"19.00\"\r\n                // averagePrice: \"705.27\"\r\n                // basePrice: \"717.15\"\r\n                // bcEndDate: \"-\"\r\n                // bcStartDate: \"-\"\r\n                // buyPrice1: \"710.60\"\r\n                // buyPrice2: \"710.55\"\r\n                // buyPrice3: \"710.50\"\r\n                // buyPrice4: \"710.45\"\r\n                // buyPrice5: \"710.40\"\r\n                // buyQuantity1: \"6\"\r\n                // buyQuantity2: \"50\"\r\n                // buyQuantity3: \"33\"\r\n                // buyQuantity4: \"153\"\r\n                // buyQuantity5: \"100\"\r\n                // change: \"-6.55\"\r\n                // closePrice: \"0.00\"\r\n                // cm_adj_high_dt: \"28-SEP-21\"\r\n                // cm_adj_low_dt: \"28-SEP-20\"\r\n                // cm_ffm: \"4,96,600.56\"\r\n                // companyName: \"ICICI Bank Limited\"\r\n                // css_status_desc: \"Listed\"\r\n                // dayHigh: \"710.95\"\r\n                // dayLow: \"701.30\"\r\n                // deliveryQuantity: \"55,54,344\"\r\n                // deliveryToTradedQuantity: \"63.08\"\r\n                // exDate: \"29-JUL-21\"\r\n                // extremeLossMargin: \"3.50\"\r\n                // faceValue: \"2.00\"\r\n                // high52: \"735.40\"\r\n                // indexVar: \"-\"\r\n                // isExDateFlag: false\r\n                // isinCode: \"INE090A01021\"\r\n                // lastPrice: \"710.60\"\r\n                // low52: \"349.10\"\r\n                // marketType: \"N\"\r\n                // ndEndDate: \"-\"\r\n                // ndStartDate: \"-\"\r\n                // open: \"707.35\"\r\n                // pChange: \"-0.91\"\r\n                // previousClose: \"717.15\"\r\n                // priceBand: \"No Band\"\r\n                // pricebandlower: \"645.45\"\r\n                // pricebandupper: \"788.85\"\r\n                // purpose: \"DIVIDEND - RS 2 PER SHARE\"\r\n                // quantityTraded: \"88,05,883\"\r\n                // recordDate: \"30-JUL-21\"\r\n                // secDate: \"29-Sep-2021 14:00:00\"\r\n                // securityVar: \"15.02\"\r\n                // sellPrice1: \"710.65\"\r\n                // sellPrice2: \"710.70\"\r\n                // sellPrice3: \"710.75\"\r\n                // sellPrice4: \"710.80\"\r\n                // sellPrice5: \"710.85\"\r\n                // sellQuantity1: \"1,382\"\r\n                // sellQuantity2: \"719\"\r\n                // sellQuantity3: \"1,217\"\r\n                // sellQuantity4: \"4,159\"\r\n                // sellQuantity5: \"793\"\r\n                // series: \"EQ\"\r\n                // surv_indicator: \"-\"\r\n                // symbol: \"ICICIBANK\"\r\n                // totalBuyQuantity: \"10,31,358\"\r\n                // totalSellQuantity: \"8,75,359\"\r\n                // totalTradedValue: \"66,963.99\"\r\n                // totalTradedVolume: \"94,94,802\"\r\n\r\n                if (resd.data && resd.data.data.length) {\r\n\r\n                    let bidlivedata = resd.data.data[0];\r\n                    let biddata = {\r\n                        totalBuyQuantity: bidlivedata.totalBuyQuantity,\r\n                        totalSellQuantity: bidlivedata.totalSellQuantity,\r\n                        deliveryToTradedQuantity: bidlivedata.deliveryToTradedQuantity,\r\n                        symbol: bidlivedata.symbol,\r\n                        orderType: bidlivedata.totalBuyQuantity + \"|\" + bidlivedata.totalSellQuantity,\r\n                        nc: bidlivedata.pChange,\r\n                        ltp: bidlivedata.lastPrice,\r\n                    }\r\n\r\n                    this.setState({ liveBidsList: [...this.state.liveBidsList, biddata] }, function () {\r\n\r\n                        localStorage.setItem(\"liveBidsList\", JSON.stringify(this.state.liveBidsList));\r\n                    });\r\n\r\n\r\n                }\r\n\r\n            });\r\n            await new Promise(r => setTimeout(r, 100));\r\n        }\r\n\r\n    }\r\n\r\n    speckIt = (text) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = text.toString();\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n\r\n    dailyBasisInfoCheck = (token, element) => {\r\n        //this.setState({DailyBulishStatus: ''}); \r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n\r\n        let timeDuration = this.getTimeFrameValue('ONE_DAY');\r\n        var time = moment.duration(timeDuration);  //22:00:00\" for last day  2hours \r\n        var startDateforDaily = moment(new Date()).subtract(time);\r\n        var dataDay = {\r\n            \"exchange\": 'NSE',\r\n            \"symboltoken\": token,\r\n            \"interval\": 'ONE_DAY',\r\n            \"fromdate\": moment(startDateforDaily).format(format1),\r\n            \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n        }\r\n        AdminService.getHistoryData(dataDay).then(resd => {\r\n            let histdatad = resolveResponse(resd, 'noPop');\r\n            var DSMA = '';\r\n            if (histdatad && histdatad.data && histdatad.data.length) {\r\n                var candleDatad = histdatad.data;\r\n                var closeingDatadaily = [], valumeSum = 0;\r\n\r\n\r\n                for (let index = candleDatad.length - 20; index < candleDatad.length; index++) {\r\n                    const element = candleDatad[index];\r\n                    if (element) {\r\n                        closeingDatadaily.push(element[4]);\r\n                        valumeSum += element[5];\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                DSMA = SMA.calculate({ period: 20, values: closeingDatadaily });\r\n                this.setState({ dailyAvgValume: valumeSum / 20 });\r\n\r\n                var DSMALastValue = DSMA && DSMA[DSMA.length - 1];\r\n                console.log(token, \"DSMA\", DSMALastValue);\r\n\r\n                if (DSMALastValue) {\r\n                    this.setState({ DailyBulishStatus: DSMALastValue, todayCurrentVolume: candleDatad[candleDatad.length - 1][5] });\r\n                }\r\n\r\n                if (candleDatad[candleDatad.length - 1][5] > valumeSum / 20) {\r\n                    console.log(\"crosssed voliue\", element);\r\n                    this.setState({ volumeCrossedList: [...this.state.volumeCrossedList, element] })\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n   \r\n   \r\n    getPercentageColor = (percent) => {\r\n        percent = percent * 100;\r\n        var r = percent < 50 ? 255 : Math.floor(255 - (percent * 2 - 100) * 255 / 100);\r\n        var g = percent > 50 ? 255 : Math.floor((percent * 2) * 255 / 100);\r\n        return 'rgb(' + r + ',' + g + ',0)';\r\n    }\r\n\r\n\r\n  \r\n\r\n    getAveragePrice = (orderId) => {\r\n\r\n        var oderbookData = localStorage.getItem('oderbookData');\r\n        var averageprice = 0;\r\n        for (let index = 0; index < oderbookData.length; index++) {\r\n            if (oderbookData[index].orderid === 'orderId') {\r\n                averageprice = oderbookData[index].averageprice\r\n                this.setState({ averageprice: averageprice });\r\n                break;\r\n            }\r\n        }\r\n        return averageprice;\r\n    }\r\n    showCandleChart = (candleData, symbol, insiderow) => {\r\n\r\n\r\n        candleData = candleData && candleData.reverse();\r\n\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleData))\r\n        localStorage.setItem('cadleChartSymbol', symbol)\r\n\r\n        if (insiderow)\r\n            localStorage.setItem('chartInfoDetails', JSON.stringify(insiderow));\r\n\r\n\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    showCandleBothChart = (row) => {\r\n        var candleChartData = row.candleChartData && row.candleChartData.reverse();\r\n        localStorage.setItem('candleChartData', JSON.stringify(candleChartData))\r\n        localStorage.setItem('cadleChartSymbol', row.symbol)\r\n\r\n        var candleChartDataInside = row.candleChartDataInside;\r\n\r\n        if (candleChartDataInside)\r\n            localStorage.setItem('candleChartDataInside', JSON.stringify(candleChartDataInside));\r\n\r\n\r\n        document.getElementById('showCandleChart').click();\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n\r\n        console.log(\"key\", e.keyCode);\r\n        //38 for down and 40 for up key\r\n        if (e.keyCode === 38 && this.state.cursor > 0) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor - 1 }));\r\n        } else if (e.keyCode === 40 && this.state.cursor < this.state.symbolList.length - 1) {\r\n            this.setState(prevState => ({ cursor: prevState.cursor + 1 }))\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.updateCandleOnkey();\r\n        }, 100);\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const dateParam = {\r\n            myCallback: this.myCallback,\r\n            startDate: '',\r\n            endDate: '',\r\n            firstLavel: \"Start Date and Time\",\r\n            secondLavel: \"End Date and Time\"\r\n        }\r\n    \r\n        console.log(\"backTestResult\", this.state.backTestResult)\r\n\r\n        var sumPerChange = 0, sumBrokeragePer = 0, netSumPerChange = 0, sumPerChangeHighLow = 0, sumPnlValue = 0, sumPnlValueOnHighLow = 0, totalInvestedValue = 0, totalLongTrade = 0, totalShortTrade = 0;\r\n        var tradetotal = 0, totalWin = 0, totalLoss = 0, totalMarketEnd = 0, totalSlHit =0;\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar  />\r\n                <ChartDialog />\r\n                <Grid direction=\"row\" container spacing={1} style={{ padding: \"5px\" }} >\r\n\r\n\r\n\r\n                    <Grid item xs={12} sm={8}>\r\n\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n                            <Typography style={{ textAlign: \"center\", background: \"lightgray\" }}>Backtest</Typography>\r\n\r\n                           \r\n\r\n                            <Grid direction=\"row\" container spacing={2}>\r\n\r\n\r\n                                <Grid item xs={12} sm={2}>\r\n                                    <FormControl style={styles.selectStyle}>\r\n                                        <InputLabel htmlFor=\"Nationality\">Pattern Type</InputLabel>\r\n                                        <Select value={this.state.patternType} name=\"patternType\" onChange={this.onChangePattern}>\r\n                                            <MenuItem value={\"TweezerTop\"}>Tweezer Top</MenuItem>\r\n                                            <MenuItem value={\"TweezerBottom\"}>Tweezer Bottom</MenuItem>\r\n                                            <MenuItem value={\"NR4\"}>NR4 @ 3:30pm </MenuItem>\r\n                                            <MenuItem value={\"NR4Trail\"}>Narrow Range 4 - Trail</MenuItem>\r\n\r\n                                            <MenuItem value={\"NR4ForNextDay\"}>NR4 For Next Day</MenuItem>\r\n\r\n                                            <MenuItem value={\"NR4_SameDay\"}>NR4 ByDate</MenuItem>\r\n                                            <MenuItem value={\"NR4_Daywide_daterage\"}>NR4 Daywise Range</MenuItem>\r\n                                            <MenuItem value={\"StrongCandle\"}>5min Strong Candle</MenuItem>\r\n\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={4}>\r\n                                    <MaterialUIDateTimePicker callbackFromParent={dateParam} />\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={4} style={{ marginTop: '5px' }}>\r\n                                    {this.state.backTestFlag ? <Button variant=\"contained\" onClick={() => this.backTestAnyPattern()}>Search</Button> : <> <Button> <Spinner /> &nbsp; <Button variant=\"contained\" onClick={() => this.stopBacktesting()}>Stop Scaning</Button> &nbsp;  {this.state.stockTesting} {this.state.runningTest}  </Button>   </>}\r\n                                    &nbsp; Failed: {this.state.searchFailed}\r\n\r\n                                </Grid>\r\n\r\n                               \r\n                            </Grid>\r\n\r\n                            <Grid direction=\"row\" container spacing={2}>\r\n\r\n                                <Grid item xs={12} sm={12}>\r\n\r\n\r\n                                <Table size=\"small\" aria-label=\"sticky table\" >\r\n\r\n                                <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                    <TableRow style={{ background: \"lightgray\" }}>\r\n\r\n                                        <TableCell style={{ color: localStorage.getItem('sumPerChange') > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.getItem('sumPerChange')}%</b></TableCell>\r\n\r\n                                        {/* <TableCell style={{ color: \"#e66e6e\" }} ><b>{localStorage.getItem('sumBrokeragePer')}%</b></TableCell>\r\n                                <TableCell style={{ color: localStorage.getItem('netSumPerChange') > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.getItem('netSumPerChange')}%</b></TableCell> */}\r\n\r\n\r\n                                        <TableCell style={{ color: localStorage.getItem('sumPnlValue') > 0 ? \"#20d020\" : \"#e66e6e\" }} >{localStorage.getItem('sumPnlValue')}</TableCell>\r\n\r\n                                        <TableCell style={{ color: localStorage.getItem('sumPerChangeHighLow') > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.getItem('sumPerChangeHighLow')}%</b></TableCell>\r\n                                        <TableCell style={{ color: localStorage.getItem('sumPnlValueOnHighLow') > 0 ? \"#20d020\" : \"#e66e6e\" }} >{localStorage.getItem('sumPnlValueOnHighLow')}</TableCell>\r\n\r\n\r\n\r\n\r\n                                        <TableCell  title='Total Trades'>T.T: {this.state.backTestResult && this.state.backTestResult.length} &nbsp; W: {localStorage.getItem('totalWin')} L: {localStorage.getItem('totalLoss')}</TableCell>\r\n\r\n\r\n                                        <TableCell  title='L:long S:short'  colSpan={2}>L: {localStorage.getItem('totalLongTrade')} S:  {this.state.backTestResult && this.state.backTestResult.length - localStorage.getItem('totalLongTrade')}</TableCell>\r\n                                        <TableCell title='ME: MarketEnd SL: Stop Loss'  colSpan={2}> ME: {localStorage.getItem('totalMarketEnd')} SL: {localStorage.getItem('totalSlHit')}</TableCell>\r\n\r\n                                        <TableCell  title='TI: Total Invested ' colSpan={2}> TI:  {localStorage.getItem('totalInvestedValue')}</TableCell>\r\n\r\n                                        <TableCell title=\" Average gross/trade PnL: \"  colSpan={4}> A.g/t PnL:  <b style={{ color: (localStorage.getItem('sumPerChange') / this.state.backTestResult.length) > 0 ? \"#20d020\" : \"#e66e6e\" }} >{(localStorage.getItem('sumPerChange') / this.state.backTestResult.length).toFixed(2)}%</b>\r\n                                        \r\n                                        &nbsp; <CsvDownload filename={this.state.filename} data={this.state.backTestResult} />\r\n                                        </TableCell>\r\n\r\n\r\n                                    </TableRow>\r\n                                    <TableRow variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >CPnl% </TableCell>\r\n\r\n                                        {/* <TableCell className=\"TableHeadFormat\" >Charges</TableCell>\r\n                                <TableCell className=\"TableHeadFormat\" >Net PnL %</TableCell> */}\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >CNetPnL </TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >HLPnL% </TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >HLNet PnL</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >Symbol</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" >Entry</TableCell>\r\n                                        {/* <TableCell className=\"TableHeadFormat\" >SquiredOffAt</TableCell> */}\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >ExitStatus</TableCell>\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >Buy</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" >Sell(Qty)</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >High/Low</TableCell>\r\n\r\n\r\n                                        <TableCell className=\"TableHeadFormat\" >StopLoss</TableCell>\r\n                                        <TableCell className=\"TableHeadFormat\" >Day Chart </TableCell>\r\n\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                </Table>\r\n\r\n                                    {this.state.patternType == 'NR4' || this.state.patternType == 'TweezerTop' || this.state.patternType == 'TweezerBottom' || this.state.patternType == 'NR4_SameDay' || this.state.patternType == 'StrongCandle'  ? \r\n                                        <div style={{overflow:\"auto\", maxHeight:\"550px\"}}> \r\n\r\n                                        <Table size=\"small\" aria-label=\"sticky table\" >\r\n\r\n                                      \r\n                                        <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n\r\n                                            {this.state.backTestResult ? this.state.backTestResult.map((row, i) => (\r\n\r\n\r\n\r\n                                                //    style={{display: row.orderActivated ? 'visible' : 'none'}} \"darkmagenta\" : \"#00cbcb\"\r\n                                                <TableRow hover key={i}  >\r\n\r\n                                                    <TableCell style={{ color: row.perChange > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...sumPerChange = sumPerChange + parseFloat(row.perChange || 0)}>{row.perChange}%</TableCell>\r\n                                                    {/* <TableCell style={{ color: \"gray\" }}  {...sumBrokeragePer = sumBrokeragePer + parseFloat(row.brokerageCharges)}>{row.brokerageCharges}%</TableCell>\r\n        <TableCell style={{ color: (row.perChange - row.brokerageCharges) > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...netSumPerChange = netSumPerChange + parseFloat(row.perChange - row.brokerageCharges)}> <b>{(row.perChange - row.brokerageCharges).toFixed(2)}%</b></TableCell>\r\n        */}\r\n                                                    <TableCell {...tradetotal = ((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity)} {...sumPnlValue = sumPnlValue + tradetotal} {...totalWin += (((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity) > 0 ? 1 : 0)} {...totalLoss += ((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity) < 0 ? 1 : 0} style={{ color: tradetotal > 0 ? \"#20d020\" : \"#e66e6e\" }}  > {tradetotal.toFixed(2)}</TableCell>\r\n\r\n                                                    <TableCell style={{ color: row.perChngOnHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...sumPerChangeHighLow = sumPerChangeHighLow + parseFloat(row.perChngOnHighLow || 0)}> {row.perChngOnHighLow}%</TableCell>\r\n                                                    <TableCell {...sumPnlValueOnHighLow = sumPnlValueOnHighLow + ((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity)} style={{ color: ((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity) > 0 ? \"#20d020\" : \"#e66e6e\" }}  >{((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity).toFixed(2)}</TableCell>\r\n\r\n\r\n\r\n                                                    <TableCell > <Button variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.showCandleBothChart(row)}>{row.symbol} <EqualizerIcon /> </Button></TableCell>\r\n\r\n                                                    <TableCell  style={{ color: row.foundAt && row.foundAt.indexOf('Long') == 0 ? \"#20d020\" : \"#e66e6e\" }} {...totalLongTrade = totalLongTrade + (row.foundAt && row.foundAt.indexOf('Long') == 0 ? 1 : 0)}>{row.foundAt.substr(0, 18)}</TableCell>\r\n                                                    {/* <TableCell >{row.squareOffAt.substr(0, 10)}</TableCell> */}\r\n\r\n                                                    <TableCell {...totalMarketEnd += row.exitStatus ==='ME@3:30pm' ? 1 : 0}{...totalSlHit += row.exitStatus ==='SLHit' ? 1 : 0} >{row.exitStatus}</TableCell>\r\n\r\n                                                    <TableCell >{row.buyExitPrice}</TableCell>\r\n\r\n                                                    <TableCell  {...totalInvestedValue = totalInvestedValue + (row.foundAt && row.foundAt.indexOf('Long') == 0 ? parseFloat(row.buyExitPrice * row.quantity) : parseFloat(row.sellEntyPrice * row.quantity))}>{row.sellEntyPrice}({row.quantity})</TableCell>\r\n                                                    <TableCell title=\"High on long side | Low in short side\" >{row.highAndLow}</TableCell>\r\n\r\n\r\n                                                    <TableCell >{row.stopLoss}</TableCell>\r\n                                                    <TableCell > <Button variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.showStaticChart(row.token, row.symbol, row.entryAt, row.squareOffAt)}>Day<ShowChartIcon /> </Button></TableCell>\r\n\r\n\r\n                                                </TableRow>\r\n\r\n\r\n\r\n                                            )) : ''}\r\n                                           \r\n\r\n                                            <TableRow style={{ background: \"lightgray\" }} >\r\n\r\n                                                <TableCell style={{ color: sumPerChange > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.setItem('sumPerChange', sumPerChange.toFixed(2))}{sumPerChange.toFixed(2)}%</b></TableCell>\r\n\r\n                                                {/* <TableCell style={{ color: \"#e66e6e\" }} ><b>-{(sumBrokeragePer).toFixed(2)}%</b>{localStorage.setItem('sumBrokeragePer', sumBrokeragePer.toFixed(2))}</TableCell>\r\n<TableCell style={{ color: netSumPerChange > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(netSumPerChange).toFixed(2)}%</b>{localStorage.setItem('netSumPerChange', netSumPerChange.toFixed(2))}</TableCell> */}\r\n\r\n                                                <TableCell style={{ color: sumPnlValue > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(sumPnlValue).toFixed(2)}</b>{localStorage.setItem('sumPnlValue', sumPnlValue.toFixed(2))}</TableCell>\r\n\r\n                                                <TableCell style={{ color: sumPerChangeHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.setItem('sumPerChangeHighLow', sumPerChangeHighLow.toFixed(2))}{sumPerChangeHighLow.toFixed(2)}%</b></TableCell>\r\n                                                <TableCell style={{ color: sumPnlValueOnHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(sumPnlValueOnHighLow).toFixed(2)}</b>{localStorage.setItem('sumPnlValueOnHighLow', sumPnlValueOnHighLow.toFixed(2))}</TableCell>\r\n\r\n\r\n                                                <TableCell  > {localStorage.setItem('totalLongTrade', totalLongTrade)} {localStorage.setItem('totalInvestedValue', totalInvestedValue.toFixed(2))} </TableCell>\r\n\r\n                                                <TableCell >{localStorage.setItem('sumPerChangeHighLow', sumPerChangeHighLow.toFixed(2))} {localStorage.setItem('sumPnlValueOnHighLow', sumPnlValueOnHighLow.toFixed(2))}</TableCell>\r\n\r\n                                                <TableCell >{localStorage.setItem('totalWin', totalWin)}{localStorage.setItem('totalLoss', totalLoss)} {localStorage.setItem('totalMarketEnd', totalMarketEnd)} {localStorage.setItem('totalSlHit', totalSlHit)} </TableCell>\r\n\r\n\r\n                                                <TableCell  > </TableCell>\r\n                                                <TableCell > </TableCell>\r\n\r\n                                                <TableCell > </TableCell>\r\n                                                <TableCell > </TableCell>\r\n                                                <TableCell > </TableCell>\r\n                                                <TableCell > </TableCell>\r\n\r\n\r\n\r\n\r\n                                            </TableRow>\r\n                                        </TableBody>\r\n\r\n\r\n                                        </Table>\r\n                                        </div>\r\n                                    \r\n\r\n                                        : \"\"}\r\n\r\n                                    {this.state.patternType == 'NR4_Daywide_daterage' ? <>\r\n\r\n                                        {this.state.dateAndTypeKeys ? this.state.dateAndTypeKeys.map(key => (\r\n\r\n                                            <Table size=\"small\" aria-label=\"sticky table\" style={{ padding: \"5px\" }}>\r\n                                                <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n\r\n                                                    <TableRow style={{ background: \"lightgray\" }} key={key}>\r\n                                                        <TableCell colSpan={11} className=\"TableHeadFormat\" > {key}  {sumPerChange = 0, sumBrokeragePer = 0, netSumPerChange = 0, sumPerChangeHighLow = 0, sumPnlValue = 0, sumPnlValueOnHighLow = 0, totalInvestedValue = 0, totalLongTrade = 0, totalShortTrade = 0}</TableCell>\r\n                                                    </TableRow>\r\n\r\n                                                    <TableRow key={key + 1} variant=\"head\" style={{ fontWeight: 'bold', background: \"lightgray\" }}>\r\n\r\n\r\n                                                        <TableCell className=\"TableHeadFormat\" > CPnL% </TableCell>\r\n\r\n                                                        {/* <TableCell className=\"TableHeadFormat\" >Charges</TableCell>\r\n                        <TableCell className=\"TableHeadFormat\" >Net PnL %</TableCell> */}\r\n\r\n                                                        <TableCell className=\"TableHeadFormat\" >CNetPnL </TableCell>\r\n\r\n                                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >HLPnL% </TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >HLNet PnL</TableCell>\r\n\r\n                                                        <TableCell className=\"TableHeadFormat\" >Symbol</TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" >FoundAt</TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" >Buy</TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" >Sell(Qty)</TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" title=\"High on long side | Low in short side\" >High/Low</TableCell>\r\n\r\n\r\n                                                        <TableCell className=\"TableHeadFormat\" >SquiredOffAt</TableCell>\r\n                                                        <TableCell className=\"TableHeadFormat\" >StopLoss</TableCell>\r\n                                                        {/* <TableCell className=\"TableHeadFormat\" >Sr. </TableCell> */}\r\n\r\n\r\n                                                    </TableRow>\r\n\r\n                                                </TableHead>\r\n                                                <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n\r\n\r\n                                                    {this.state.backTestResultDateRange[key].map((row, i) => (\r\n\r\n\r\n                                                        //    style={{display: row.orderActivated ? 'visible' : 'none'}} \"darkmagenta\" : \"#00cbcb\"\r\n\r\n                                                        <TableRow hover key={i}  >\r\n\r\n                                                            <TableCell style={{ color: row.perChange > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...sumPerChange = sumPerChange + parseFloat(row.perChange || 0)}>{row.perChange}%</TableCell>\r\n                                                            {/* <TableCell style={{ color: \"gray\" }}  {...sumBrokeragePer = sumBrokeragePer + parseFloat(row.brokerageCharges)}>{row.brokerageCharges}%</TableCell>\r\n                            <TableCell style={{ color: (row.perChange - row.brokerageCharges) > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...netSumPerChange = netSumPerChange + parseFloat(row.perChange - row.brokerageCharges)}> <b>{(row.perChange - row.brokerageCharges).toFixed(2)}%</b></TableCell>\r\n                        */}\r\n                                                            <TableCell {...sumPnlValue = sumPnlValue + ((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity)} style={{ color: ((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity) > 0 ? \"#20d020\" : \"#e66e6e\" }}  > {((row.sellEntyPrice * (row.perChange - row.brokerageCharges) / 100) * row.quantity).toFixed(2)}</TableCell>\r\n\r\n                                                            <TableCell style={{ color: row.perChngOnHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }}  {...sumPerChangeHighLow = sumPerChangeHighLow + parseFloat(row.perChngOnHighLow || 0)}> <b>{row.perChngOnHighLow}%</b></TableCell>\r\n                                                            <TableCell {...sumPnlValueOnHighLow = sumPnlValueOnHighLow + ((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity)} style={{ color: ((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity) > 0 ? \"#20d020\" : \"#e66e6e\" }}  >{((row.sellEntyPrice * (row.perChngOnHighLow - row.brokerageCharges) / 100) * row.quantity).toFixed(2)}</TableCell>\r\n\r\n\r\n\r\n                                                            <TableCell > <Button variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.showCandleChart(row.candleChartData, row.symbol)}>{row.symbol} <EqualizerIcon /> </Button></TableCell>\r\n\r\n                                                            <TableCell  style={{ color: row.foundAt.indexOf('Long') == 0 ? \"#20d020\" : \"#e66e6e\" }} {...totalLongTrade = totalLongTrade + (row.foundAt.indexOf('Long') == 0 ? 1 : 0)}>{row.foundAt}</TableCell>\r\n                                                            <TableCell >{row.buyExitPrice}</TableCell>\r\n\r\n                                                            <TableCell  {...totalInvestedValue = totalInvestedValue + (row.foundAt.indexOf('Long') == 0 ? parseFloat(row.buyExitPrice * row.quantity) : parseFloat(row.sellEntyPrice * row.quantity))}>{row.sellEntyPrice}({row.quantity})</TableCell>\r\n                                                            <TableCell title=\"High on long side | Low in short side\" >{row.highAndLow}</TableCell>\r\n\r\n                                                            <TableCell >{row.squareOffAt}</TableCell>\r\n\r\n                                                            <TableCell >{row.stopLoss}</TableCell>\r\n                                                            {/* <TableCell >{i + 1}</TableCell> */}\r\n\r\n                                                        </TableRow>\r\n\r\n\r\n                                                    ))}\r\n\r\n\r\n\r\n                                                    <TableRow style={{ background: \"lightgray\" }} >\r\n\r\n                                                        <TableCell style={{ color: sumPerChange > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.setItem('sumPerChange', sumPerChange.toFixed(2))}{sumPerChange.toFixed(2)}%</b></TableCell>\r\n\r\n                                                        {/* <TableCell style={{ color: \"#e66e6e\" }} ><b>-{(sumBrokeragePer).toFixed(2)}%</b>{localStorage.setItem('sumBrokeragePer', sumBrokeragePer.toFixed(2))}</TableCell>\r\n            <TableCell style={{ color: netSumPerChange > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(netSumPerChange).toFixed(2)}%</b>{localStorage.setItem('netSumPerChange', netSumPerChange.toFixed(2))}</TableCell> */}\r\n\r\n                                                        <TableCell style={{ color: sumPnlValue > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(sumPnlValue).toFixed(2)}</b>{localStorage.setItem('sumPnlValue', sumPnlValue.toFixed(2))}</TableCell>\r\n\r\n                                                        <TableCell style={{ color: sumPerChangeHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{localStorage.setItem('sumPerChangeHighLow', sumPerChangeHighLow.toFixed(2))}{sumPerChangeHighLow.toFixed(2)}%</b></TableCell>\r\n                                                        <TableCell style={{ color: sumPnlValueOnHighLow > 0 ? \"#20d020\" : \"#e66e6e\" }} ><b>{(sumPnlValueOnHighLow).toFixed(2)}</b>{localStorage.setItem('sumPnlValueOnHighLow', sumPnlValueOnHighLow.toFixed(2))}</TableCell>\r\n\r\n\r\n                                                        <TableCell  > {localStorage.setItem('totalLongTrade', totalLongTrade)} {localStorage.setItem('totalInvestedValue', totalInvestedValue.toFixed(2))} </TableCell>\r\n\r\n                                                        <TableCell >{localStorage.setItem('sumPerChangeHighLow', sumPerChangeHighLow.toFixed(2))} {localStorage.setItem('sumPnlValueOnHighLow', sumPnlValueOnHighLow.toFixed(2))}</TableCell>\r\n\r\n                                                        <TableCell ></TableCell>\r\n\r\n\r\n                                                        <TableCell  > </TableCell>\r\n                                                        <TableCell > </TableCell>\r\n\r\n                                                        <TableCell > </TableCell>\r\n                                                        <TableCell > </TableCell>\r\n\r\n\r\n\r\n\r\n                                                    </TableRow>\r\n\r\n                                                </TableBody>\r\n                                            </Table>\r\n\r\n\r\n\r\n                                        )) : ''}\r\n\r\n                                    </>\r\n\r\n                                        : \"\"}\r\n\r\n\r\n                                    {this.state.patternType == 'NR4ForNextDay' ?\r\n\r\n                                        <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                                            NR4 For Next Day  ({this.state.FoundPatternList.length})  at {this.state.endDate && this.state.endDate ? this.state.endDate.toString().substr(0, 16) : new Date().toString().substr(0, 16)}\r\n                                        </Typography>\r\n                                        : \"\"}\r\n\r\n                                    {this.state.patternType == 'NR4ForNextDay' ?\r\n                                        <Table size=\"small\" aria-label=\"sticky table\" >\r\n\r\n                                            <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n\r\n                                                <TableRow variant=\"head\" style={{ fontWeight: 'bold' }}>\r\n\r\n                                                    <TableCell className=\"TableHeadFormat\" >Sr </TableCell>\r\n\r\n                                                    <TableCell className=\"TableHeadFormat\" >Symbol </TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >FoundAt </TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >Past Performance </TableCell>\r\n\r\n                                                    <TableCell className=\"TableHeadFormat\" >BuyAt</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >SellAt</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >High</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >Low</TableCell>\r\n                                                    <TableCell className=\"TableHeadFormat\" >Close</TableCell>\r\n\r\n\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n\r\n\r\n\r\n                                                {this.state.FoundPatternList ? this.state.FoundPatternList.map((row, i) => (\r\n\r\n\r\n\r\n                                                    //    style={{display: row.orderActivated ? 'visible' : 'none'}} \"darkmagenta\" : \"#00cbcb\"\r\n                                                    <TableRow hover key={i}  >\r\n                                                        <TableCell >{i + 1}</TableCell>\r\n                                                        <TableCell > <Button variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.showCandleChart(row.candleChartData, row.symbol)}>{row.symbol} <EqualizerIcon /> </Button></TableCell>\r\n\r\n                                                        <TableCell >{row.foundAt.substr(0, 16)}</TableCell>\r\n                                                        <TableCell  title=\"based on last one 6 month\">\r\n\r\n                                                            <span style={{ background: row.pastPerferm.totalLongPer / row.pastPerferm.totalLongs >= 1 ? \"#92f192\" : \"\" }}><b>{row.pastPerferm.totalLongs}</b>  Longs:  {row.pastPerferm.totalLongPer}% ({(row.pastPerferm.totalLongPer / row.pastPerferm.totalLongs).toFixed(2)}% per trade)  </span> <br />\r\n                                                            Longs on High%: {row.pastPerferm.totalLongHighPer}%  ({(row.pastPerferm.totalLongHighPer / row.pastPerferm.totalLongs).toFixed(2)}% per trade)<br />\r\n                                                            {row.longCandles && row.longCandles.map((insiderow, i) => (\r\n                                                                <>\r\n                                                                    {/* <Button size=\"small\"  variant=\"contained\" style={{ marginLeft: '20px' }} onClick={() => this.showCandleChart(insiderow.candleChartData, row.symbol, insiderow)}> <EqualizerIcon /></Button> */}\r\n\r\n                                                                    <a style={{ textDecoration: 'underline', background: 'lightgray', cursor: 'pointer' }} onClick={() => this.showCandleChart(insiderow.candleChartData, row.symbol, insiderow)}> {insiderow.foundAt.substr(7, 10)} </a>  &nbsp;\r\n                                                                </>\r\n                                                            ))}\r\n\r\n                                                            <br />\r\n\r\n                                                            <span style={{ background: row.pastPerferm.totalShortPer / row.pastPerferm.totalShort >= 1 ? \"#e87b7b\" : \"\" }}><b>{row.pastPerferm.totalShort}</b> Short: {row.pastPerferm.totalShortPer}% ({(row.pastPerferm.totalShortPer / row.pastPerferm.totalShort).toFixed(2)}% per trade) </span> <br />\r\n                                                            Short on Low%: {row.pastPerferm.totalShortLowPer}% ({(row.pastPerferm.totalShortLowPer / row.pastPerferm.totalShort).toFixed(2)}% per trade)<br />\r\n                                                            {row.shortCandles && row.shortCandles.map((insiderow, i) => (\r\n                                                                <>\r\n                                                                    <a style={{ textDecoration: 'underline', background: 'lightgray', cursor: 'pointer' }} onClick={() => this.showCandleChart(insiderow.candleChartData, row.symbol, insiderow)}> {insiderow.foundAt.substr(7, 10)}  </a> &nbsp;\r\n\r\n\r\n                                                                </>\r\n                                                            ))}\r\n\r\n                                                        </TableCell>\r\n\r\n\r\n                                                        <TableCell >{row.BuyAt}</TableCell>\r\n                                                        <TableCell >{row.SellAt}</TableCell>\r\n                                                        <TableCell >{row.high}</TableCell>\r\n                                                        <TableCell >{row.low}</TableCell>\r\n                                                        <TableCell >{row.close}</TableCell>\r\n\r\n\r\n                                                    </TableRow>\r\n\r\n\r\n\r\n                                                )) : ''}\r\n\r\n                                            </TableBody>\r\n\r\n                                        </Table>\r\n\r\n                                        : \"\"}\r\n                                </Grid>\r\n\r\n\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={4}>\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n\r\n                            <Grid style={{ display: \"visible\" }} spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n\r\n                                \r\n                                <Grid item xs={12} sm={12}  >\r\n                                    <Grid  spacing={1} direction=\"row\" alignItems=\"center\" container>\r\n                                        <Grid item xs={12} sm={2} > \r\n                                         <FormControl style={styles.selectStyle} style={{ marginTop: '10px' }} >\r\n                                        <Select value={this.state.timeFrame} name=\"timeFrame\" onChange={this.onInputChange}>\r\n                                            <MenuItem value={'ONE_MINUTE'}>{'1M'}</MenuItem>\r\n                                            <MenuItem value={'FIVE_MINUTE'}>{'5M'}</MenuItem>\r\n                                            <MenuItem value={'TEN_MINUTE'}>{'10M'}</MenuItem>\r\n                                            <MenuItem value={'FIFTEEN_MINUTE'}>{'15M'}</MenuItem>\r\n                                            <MenuItem value={'THIRTY_MINUTE'}>{'30M'}</MenuItem>\r\n                                            <MenuItem value={'ONE_HOUR'}>{'1H'}</MenuItem>\r\n                                            <MenuItem value={'ONE_DAY'}>{'1D'}</MenuItem>\r\n                                        </Select>\r\n                                        </FormControl>\r\n                                    \r\n\r\n                                         </Grid>\r\n                                         <Grid item xs={12} sm={10} > \r\n                                         <Typography>Same Day Chart:  {this.state.lightChartSymbol}</Typography>\r\n\r\n                                         </Grid>\r\n                                        \r\n                                    </Grid>\r\n                                    \r\n\r\n                                        \r\n\r\n                                    <div id=\"showChartTitle\"></div>\r\n                                    <div id=\"tvchart\"></div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} style={{ overflowY: 'scroll', height: \"40vh\" }} >\r\n                                <Typography> Candle Data </Typography>\r\n\r\n                                    <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                        <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                            <TableRow variant=\"head\" style={{ fontWeight: 'bold' }} >\r\n\r\n                                                <TableCell className=\"TableHeadFormat\" >Symbol</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Timestamp</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Chng% <b style={{ color: '#20d020' }}> UP({this.state.upsideMoveCount})</b> | <b style={{ color: 'red' }}> Down({this.state.downMoveCount})</b> </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Open</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >High</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Low</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Close </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Volume</TableCell>\r\n\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                            {/* this.getPercentageColor((row[4] - row[1])*100/row[1] >= 0.3)  */}\r\n                                            {this.state.InstrumentHistroy && this.state.InstrumentHistroy ? this.state.InstrumentHistroy.map((row, i) => (\r\n                                                <TableRow key={i} style={{ background: (row[4] - row[1]) * 100 / row[1] >= 0.3 ? \"#20d020\" : (row[4] - row[1]) * 100 / row[1] <= -0.3 ? \"#e66e6e\" : \"none\" }} >\r\n\r\n                                                    <TableCell >{this.state.tradingsymbol}</TableCell>\r\n                                                    <TableCell >{new Date(row[0]).toLocaleString()}</TableCell>\r\n                                                    <TableCell > <b>{(row[4] - row[1]) * 100 / row[1] && ((row[4] - row[1]) * 100 / row[1]).toFixed(2)}%</b></TableCell>\r\n                                                    <TableCell >{row[1]}</TableCell>\r\n                                                    <TableCell >{row[2]}</TableCell>\r\n                                                    <TableCell >{row[3]}</TableCell>\r\n                                                    <TableCell >{row[4]}</TableCell>\r\n                                                    <TableCell >{row[5]}</TableCell>\r\n\r\n                                                </TableRow>\r\n                                            )) : ''}\r\n\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </Grid>\r\n\r\n\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;\r\n\r\n","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AdminService from \"../service/AdminService\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PostLoginNavBar from \"../PostLoginNavbar\";\r\nimport { resolveResponse } from \"../../utils/ResponseHandler\";\r\nimport MaterialUIDateTimePicker from '../../utils/MaterialUIDateTimePicker';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport * as moment from 'moment';\r\nimport Notify from \"../../utils/Notify\";\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Spinner from \"react-spinner-material\";\r\nimport { createChart } from 'lightweight-charts';\r\nimport ChartDialog from './ChartDialog';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport vwap from 'vwap';\r\nimport { SMA, RSI, VWAP, BollingerBands } from 'technicalindicators';\r\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\r\nimport CsvDownload from 'react-json-to-csv'\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n       \r\n            symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) || [],\r\n            totalWatchlist: localStorage.getItem('totalWatchlist') && JSON.parse(localStorage.getItem('totalWatchlist')) || [],\r\n            staticData: localStorage.getItem('staticData') && JSON.parse(localStorage.getItem('staticData')) || {},\r\n            selectedWatchlist: 'NIFTY BANK', //'Securities in F&O',\r\n            stopScaningFlag: false,\r\n            backTestResultDateRange: [],\r\n            searchFailed: 0,\r\n       \r\n            backTestFlag: true,\r\n            backupHistoryStatus : []\r\n        };\r\n        this.myCallback = this.myCallback.bind(this);\r\n\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var data = e.target.value;\r\n        AdminService.autoCompleteSearch(data).then(res => {\r\n            let data = res.data;\r\n            //  console.log(data);\r\n            localStorage.setItem('autoSearchTemp', JSON.stringify(data));\r\n            this.setState({ autoSearchList: data });\r\n        })\r\n\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, function () {\r\n            //    console.log(\"time\", this.state.timeFrame);\r\n            if (this.state.tradingsymbol) {\r\n                this.showStaticChart(this.state.symboltoken);\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangePattern = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.value == 'NR4_Daywide_daterage') {\r\n\r\n            var backTestResultDateRange = localStorage.getItem('backTestResultDateRange') && JSON.parse(localStorage.getItem('backTestResultDateRange'));\r\n\r\n            this.setState({ dateAndTypeKeys: Object.keys(backTestResultDateRange || {}), backTestResultDateRange: backTestResultDateRange });\r\n\r\n        }\r\n    }\r\n    onChangeWatchlist = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        var staticData = this.state.staticData;\r\n        this.setState({ symbolList: staticData[e.target.value] }, function () {\r\n            this.setState({ cursor: '' });\r\n        });\r\n\r\n        if (e.target.value == \"selectall\") {\r\n            this.setState({ symbolList: localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')) }, function () {\r\n                //      this.updateSocketWatch();\r\n                //  this.checkOpenEqualToLow();\r\n                this.setState({ cursor: '' });\r\n            });\r\n        }\r\n    }\r\n\r\n    myCallback = (date, fromDate) => {\r\n        if (fromDate === \"START_DATE\") {\r\n            this.setState({ startDate: date });\r\n        } else if (fromDate === \"END_DATE\") {\r\n            this.setState({ endDate: date });\r\n        }\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        window.document.title = \"Backtest\";\r\n        this.setState({ symbolList: this.state.staticData[this.state.selectedWatchlist] }, function(){            \r\n\r\n\r\n            this.getCandleHistoryAndStore(); \r\n\r\n            const friday = 5; // for friday\r\n            var currentTime = moment(new Date(), \"h:mma\");\r\n            const today = moment().isoWeekday();\r\n            var beginningTime = moment('9:15am', 'h:mma');\r\n            var endTime = moment('3:30pm', 'h:mma');\r\n    \r\n            if (today <= friday && currentTime.isBetween(beginningTime, endTime)) {\r\n                var tostartInteral =   setInterval(() => {\r\n                    var time = new Date(); \r\n                    if(time.getSeconds() === 0){\r\n                        setTimeout(() => {\r\n                            this.getCandleHistoryAndStore(); \r\n                        }, 10000);\r\n                        setInterval(() => {\r\n                            this.getCandleHistoryAndStore(); \r\n                         }, 60000 * 1 + 10000 );  \r\n                         clearInterval(tostartInteral); \r\n                    } \r\n                }, 1000);\r\n            }\r\n        });\r\n      \r\n    }\r\n\r\n    \r\n    getCandleHistoryAndStore = async () => {\r\n\r\n        console.log(\"last candle called time\", new Date().toLocaleTimeString());\r\n        var stop = new Date().toLocaleTimeString() > \"15:00:00\" ? clearInterval(this.state.candleHistoryInterval) : \"\";\r\n        var timediff = moment.duration(\"57:01:00\");\r\n        this.setState({ backupHistoryStatus: [] });\r\n\r\n        const format1 = \"YYYY-MM-DD HH:mm\";\r\n        var startdate = moment(new Date()).subtract(timediff);\r\n\r\n        let symbolList  = this.state.symbolList; \r\n\r\n    //    console.log(\"watchlist to backup\", symbolList)\r\n        for (let index = 0; index < symbolList.length; index++) {\r\n            const element = symbolList[index];\r\n            var data = {\r\n                \"exchange\": \"NSE\",\r\n                \"symboltoken\": element.token,\r\n                \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE    FIFTEEN_MINUTE\r\n                \"fromdate\": moment(startdate).format(format1),\r\n                \"todate\": moment(new Date()).format(format1) //moment(this.state.endDate).format(format1) /\r\n            }\r\n\r\n            let status = {\r\n                symbol: element.name,\r\n                startDate: moment(startdate).format(format1),\r\n                endDate:  moment(new Date()).format(format1) ,\r\n                downloadStatus: false,\r\n                noOfRows : 0, \r\n                backStatus : false,\r\n                hugeVol: false\r\n            }\r\n\r\n\r\n            AdminService.getHistoryData(data).then(res => {\r\n                let histdata = resolveResponse(res, 'noPop');\r\n                //console.log(\"candle history\", histdata); \r\n                if (histdata && histdata.data && histdata.data.length) {\r\n\r\n                    let requestInfo = {\r\n                        symbol: element.symbol,\r\n                        token: element.token,\r\n                        candleData: histdata.data,\r\n                        analysis: true\r\n                    }\r\n                    status.downloadStatus = true; \r\n                    AdminService.backupHistoryData(requestInfo).then(res => {\r\n                        status.backStatus = true ;\r\n                      //  console.log(\"test\", res.data);\r\n                        status.noOfRows =  res.data && res.data.result; \r\n                        status.hugeVol =  res.data && res.data.hugeVol\r\n\r\n                        if(res.data && res.data.hugeVol){\r\n                            console.log( ' huge Volume in '+ element.symbol)\r\n                                var msg = new SpeechSynthesisUtterance();\r\n                                msg.text = ' huge Volume in '+ element.symbol;\r\n                                window.speechSynthesis.speak(msg);\r\n                        }\r\n\r\n                    })\r\n\r\n                } else {\r\n                    //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                    console.log(\" candle data emply\");\r\n                }\r\n            })\r\n            await new Promise(r => setTimeout(r, 310));\r\n            this.setState({backupHistoryStatus: [...this.state.backupHistoryStatus, status]  }); \r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    stopBacktesting = () => {\r\n        this.setState({ stopScaningFlag: true });\r\n    }\r\n\r\n    storyHistoryData = async () => {\r\n\r\n        let filename = this.state.patternType + \" \" + this.state.selectedWatchlist + \" \" + moment(this.state.startDate).format(\"YYYY-MM-DD\") + \" \" + moment(this.state.endDate).format(\"YYYY-MM-DD\") + \".csv\";\r\n        this.setState({ backupHistoryStatus: [], backTestFlag: false, filename: filename, stopScaningFlag: false });\r\n\r\n      //  console.log('filename', filename);\r\n        \r\n        var watchList = this.state.symbolList; //localStorage.getItem('watchList') && JSON.parse(localStorage.getItem('watchList')); \r\n        var runningTest = 1;\r\n\r\n        var date1 = moment(this.state.startDate);\r\n        var date2 = moment(this.state.endDate);\r\n        let nod = date2.diff(date1, 'days'); \r\n        let looptime = Math.ceil(nod/30); \r\n        console.log(\"nod\", looptime); \r\n\r\n        //  currentDate = moment(this.state.startDate).set('9:15am', 'h:mma'); \r\n        // var endDate =  moment(currentDate).add(29, 'days');\r\n//        endDate = moment(endDate).set('3:30pm', 'h:mma') ; \r\n\r\n        let loopStartDate =  moment(this.state.startDate).set('9:15am', 'h:mma'); \r\n\r\n        for (let outterIndex = 0; outterIndex < looptime; outterIndex++) {\r\n\r\n            let loopEndDate = moment(loopStartDate).add(29, 'days');\r\n            console.log(\"nod\", looptime); \r\n\r\n            \r\n            for (let index = 0; index < watchList.length; index++) {\r\n                const element = watchList[index];\r\n    \r\n                if (this.state.stopScaningFlag) {\r\n                    break;\r\n                }              \r\n    \r\n                var data = {\r\n                    \"exchange\": \"NSE\",\r\n                    \"symboltoken\": element.token,\r\n                    \"interval\": \"ONE_MINUTE\", //ONE_DAY FIVE_MINUTE FIFTEEN_MINUTE THIRTY_MINUTE\r\n                    \"fromdate\":moment(loopStartDate).format(\"YYYY-MM-DD HH:mm\"), //moment(\"2021-07-20 09:15\").format(\"YYYY-MM-DD HH:mm\") , \r\n                    \"todate\": loopEndDate.format(\"YYYY-MM-DD HH:mm\") // moment(\"2020-06-30 14:00\").format(\"YYYY-MM-DD HH:mm\") \r\n                }\r\n    \r\n                let status = {\r\n                    symbol: element.name,\r\n                    startDate: moment(loopStartDate).format(\"DD-MM-YYYY\"),\r\n                    endDate:  moment(loopEndDate).format(\"DD-MM-YYYY\"),\r\n                    downloadStatus: false,\r\n                    noOfRows : 0, \r\n                    backStatus : false\r\n                }\r\n    \r\n    \r\n                AdminService.getHistoryData(data).then(res => {\r\n                    let histdata = resolveResponse(res, 'noPop');\r\n                    //console.log(\"candle history\", histdata); \r\n                    if (histdata && histdata.data && histdata.data.length) {\r\n    \r\n                        histdata.data.pop(); \r\n    \r\n                        let requestInfo = {\r\n                            symbol: element.symbol,\r\n                            token: element.token,\r\n                            candleData: histdata.data\r\n                        }\r\n                        status.downloadStatus = true; \r\n                      \r\n                        AdminService.backupHistoryData(requestInfo).then(res => {\r\n                            status.backStatus = true ;\r\n    \r\n                            console.log(\"test\", res.data);\r\n                            status.noOfRows =  res.data && res.data.result; \r\n    \r\n                        })\r\n    \r\n                    } else {\r\n                        //localStorage.setItem('NseStock_' + symbol, \"\");\r\n                        console.log(\" candle data emply\");\r\n                    }\r\n                })\r\n                await new Promise(r => setTimeout(r, 400));\r\n                this.setState({ stockTesting: index + 1 + \". \" + element.symbol, runningTest: runningTest }); \r\n           \r\n                this.setState({backupHistoryStatus: [...this.state.backupHistoryStatus, status]  }); \r\n    \r\n                this.setState({done: true  })\r\n    \r\n                console.log(\"status\", status)\r\n\r\n                          \r\n                \r\n            }\r\n\r\n            loopStartDate = loopEndDate; \r\n            await new Promise(r => setTimeout(r, 400 * watchList.length));\r\n        \r\n            \r\n        }\r\n\r\n      \r\n\r\n        this.setState({ backTestFlag: true });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const dateParam = {\r\n            myCallback: this.myCallback,\r\n            startDate: '',\r\n            endDate: '',\r\n            firstLavel: \"Start Date and Time\",\r\n            secondLavel: \"End Date and Time\"\r\n        }\r\n\r\n        var sumPerChange = 0, sumBrokeragePer = 0, netSumPerChange = 0, sumPerChangeHighLow = 0, sumPnlValue = 0, sumPnlValueOnHighLow = 0, totalInvestedValue = 0, totalLongTrade = 0, totalShortTrade = 0;\r\n        var tradetotal = 0, totalWin = 0, totalLoss = 0, totalMarketEnd = 0, totalSlHit = 0;\r\n        return (\r\n            <React.Fragment>\r\n                <PostLoginNavBar />\r\n                <ChartDialog />\r\n                <Grid direction=\"row\" container spacing={1} style={{ padding: \"5px\" }} >\r\n\r\n\r\n\r\n                    <Grid item xs={12} sm={12}>\r\n\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n                            <Typography style={{ textAlign: \"center\", background: \"lightgray\" }}>History Backup</Typography>\r\n\r\n\r\n\r\n                            <Grid direction=\"row\" container spacing={2}>\r\n\r\n\r\n                                {/* <Grid item xs={12} sm={2}>\r\n                                    <FormControl style={styles.selectStyle}>\r\n                                        <InputLabel htmlFor=\"Nationality\">Pattern Type</InputLabel>\r\n                                        <Select value={this.state.patternType} name=\"patternType\" onChange={this.onChangePattern}>\r\n                                            <MenuItem value={\"TweezerTop\"}>Tweezer Top</MenuItem>\r\n                                            <MenuItem value={\"TweezerBottom\"}>Tweezer Bottom</MenuItem>\r\n                                            <MenuItem value={\"NR4\"}>NR4 @ 3:30pm </MenuItem>\r\n                                            <MenuItem value={\"NR4Trail\"}>Narrow Range 4 - Trail</MenuItem>\r\n\r\n                                            <MenuItem value={\"NR4ForNextDay\"}>NR4 For Next Day</MenuItem>\r\n\r\n                                            <MenuItem value={\"NR4_SameDay\"}>NR4 ByDate</MenuItem>\r\n                                            <MenuItem value={\"NR4_Daywide_daterage\"}>NR4 Daywise Range</MenuItem>\r\n                                            <MenuItem value={\"StrongCandle\"}>5min Strong Candle</MenuItem>\r\n\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid> */}\r\n\r\n                                <Grid item xs={12} sm={2} >\r\n                                    <FormControl style={styles.selectStyle} >\r\n                                        <InputLabel htmlFor=\"gender\">Select Watchlist</InputLabel>\r\n                                        <Select value={this.state.selectedWatchlist} name=\"selectedWatchlist\" onChange={this.onChangeWatchlist}>\r\n                                            <MenuItem value={\"selectall\"}>{\"Select All\"}</MenuItem>\r\n                                            {this.state.totalWatchlist && this.state.totalWatchlist.map(element => (\r\n                                                <MenuItem value={element}>{element}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={4}>\r\n                                    <MaterialUIDateTimePicker callbackFromParent={dateParam} />\r\n                                </Grid>\r\n\r\n\r\n\r\n                                <Grid item xs={12} sm={4} style={{ marginTop: '5px' }}>\r\n                                    {this.state.backTestFlag ? <Button variant=\"contained\" onClick={() => this.storyHistoryData()}>Backup</Button> : <> <Button> <Spinner /> &nbsp; <Button variant=\"contained\" onClick={() => this.stopBacktesting()}>Stop Scaning</Button> &nbsp;  {this.state.stockTesting} {this.state.runningTest}  </Button>   </>}\r\n                                    &nbsp; Failed: {this.state.searchFailed}\r\n\r\n                                </Grid>\r\n\r\n\r\n                            </Grid>\r\n\r\n\r\n                        </Paper>\r\n\r\n                        <Paper style={{ padding: \"10px\" }}>\r\n\r\n                        <Table size=\"small\" aria-label=\"sticky table\" >\r\n                                        <TableHead style={{ width: \"\", whiteSpace: \"nowrap\" }} variant=\"head\">\r\n                                            <TableRow variant=\"head\" style={{ fontWeight: 'bold' }} >\r\n                                            <TableCell className=\"TableHeadFormat\" >Sr. No.</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Symbol</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >From date</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >To date  </TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Download Status</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Backup Status</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >No of Rows</TableCell>\r\n                                                <TableCell className=\"TableHeadFormat\" >Huge Volume(last 100min)</TableCell>\r\n\r\n                         \r\n\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody style={{ width: \"\", whiteSpace: \"nowrap\" }}>\r\n                                            {/* this.getPercentageColor((row[4] - row[1])*100/row[1] >= 0.3)  */}\r\n                                            {this.state.backupHistoryStatus && this.state.backupHistoryStatus ? this.state.backupHistoryStatus.map((row, i) => (\r\n                                                <TableRow key={i}  >\r\n                                                    <TableCell >{i+1}</TableCell>\r\n                                                    <TableCell >{row.symbol}</TableCell>\r\n                                                    <TableCell >{row.startDate}</TableCell>\r\n                                                    <TableCell >{row.endDate}</TableCell>\r\n                                                    <TableCell >{row.downloadStatus ? \"Yes\": \"No\"}</TableCell>\r\n                                                    <TableCell >{row.backStatus ? \"Yes\": \"No\"}</TableCell>\r\n                                                    <TableCell >{row.noOfRows}</TableCell>\r\n                                                    <TableCell >{row.hugeVol ? \"Yes\" : \"-\"}</TableCell>\r\n\r\n                                                 \r\n                                                </TableRow>\r\n                                            )) : ''}\r\n\r\n                                        </TableBody>\r\n                                    </Table>\r\n                        </Paper>\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = {\r\n    formContainer: {\r\n        display: 'flex',\r\n        flexFlow: 'row wrap'\r\n    },\r\n\r\n    textStyle: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n\r\n    },\r\n    imgStyle: {\r\n        display: 'flex'\r\n    },\r\n\r\n    selectStyle: {\r\n        minWidth: '100%',\r\n        marginBottom: '10px'\r\n    },\r\n    MuiTextField: {\r\n        overflowY: 'scroll',\r\n        fontSize: \"12px\",\r\n        maxHeight: \"50px\",\r\n\r\n    },\r\n    footerButton: {\r\n        position: 'fixed',\r\n        left: 0,\r\n        bottom: '20px',\r\n        width: '100%',\r\n        textAlign: 'right'\r\n    }\r\n\r\n};\r\n\r\nexport default Home;\r\n\r\n","import { HashRouter as Router, Route, Switch} from 'react-router-dom'\r\nimport React from \"react\";\r\nimport LoginComponent from \"./login/LoginComponent\";\r\n\r\nimport Home from './MyTrade/Home';\r\n\r\nimport NiftyView from \"./MyTrade/NiftyView\";\r\nimport BankNiftyView from \"./MyTrade/BankNiftyView\";\r\n\r\nimport MySectorTop from \"./MyTrade/MySectorTop\";\r\n\r\nimport Chart from \"./MyTrade/Chart\";\r\nimport CandleChart from \"./MyTrade/CandleChart\";\r\n\r\n\r\nimport Funds from \"./MyTrade/Funds\";\r\nimport Orderbook from \"./MyTrade/Orderbook\";\r\nimport Tradebook from \"./MyTrade/Tradebook\";\r\n// import LiveFeed from \"./MyTrade/LiveFeed\";\r\nimport OrderStatusLive from \"./MyTrade/OrderStatusLive\";\r\nimport Position from \"./MyTrade/Position\";\r\nimport Test from \"./MyTrade/Test\";\r\n\r\n\r\nimport AddToWatchlist from \"./MyTrade/AddToWatchlist\";\r\nimport SectorHeatMap from \"./MyTrade/SectorHeatMap\";\r\nimport SectorHeatMap2 from \"./MyTrade/SectorHeatMap2\";\r\n\r\nimport FindFastMovement from \"./MyTrade/FindFastMovement\";\r\nimport FindFastMovement2 from \"./MyTrade/FindFastMovement2\";\r\nimport FindFastMovement3 from \"./MyTrade/FindFastMovement3\";\r\n\r\nimport OrderWatchlist from \"./MyTrade/OrderWatchlist\";\r\nimport DeliveryData from \"./MyTrade/DeliveryData\";\r\nimport SlowMotion from \"./MyTrade/SlowMotion\";\r\nimport IndexCharts from \"./MyTrade/IndexCharts\";\r\nimport MarketDepth from \"./MyTrade/MarketDepth\";\r\nimport MarketDepthMobile from \"./MyTrade/MarketDepthMobile\";\r\nimport Backtest from \"./MyTrade/Backtest\";\r\nimport StrongCharts from \"./MyTrade/StrongCharts\";\r\nimport BackupHistory from \"./MyTrade/BackupHistory\";\r\n\r\n\r\n\r\nconst AppRouter = () => {\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={LoginComponent}/>\r\n                    <Route path=\"/login\" component={LoginComponent}/>\r\n                    <Route path=\"/nifty-view\" component={NiftyView}/>\r\n                    <Route path=\"/bn-view\" component={BankNiftyView}/>\r\n                    <Route path=\"/sector\" component={MySectorTop}/>\r\n                    <Route path=\"/chart\" component={Chart}/>\r\n                    <Route path=\"/candle-chart\" component={CandleChart}/>\r\n\r\n                    <Route path=\"/home\" component={Home}/>\r\n                    <Route path=\"/funds\" component={Funds}/>\r\n                    <Route path=\"/order\" component={Orderbook}/>\r\n                    <Route path=\"/trade\" component={Tradebook}/>\r\n                    {/* <Route path=\"/livefeed\" component={LiveFeed}/> */}\r\n                    <Route path=\"/order-status-live\" component={OrderStatusLive}/>\r\n                    <Route path=\"/position\" component={Position}/>\r\n                    <Route path=\"/addtowatchlist\" component={AddToWatchlist}/>\r\n                    <Route path=\"/sector-heat-map\" component={SectorHeatMap}/>\r\n                    <Route path=\"/sector-heat-map2\" component={SectorHeatMap2}/>\r\n\r\n\r\n                    \r\n                    <Route path=\"/find-fast-movement\" component={FindFastMovement}/>\r\n                    <Route path=\"/find-fast-movement2\" component={FindFastMovement2}/>\r\n                    <Route path=\"/find-fast-movement3\" component={FindFastMovement3}/>\r\n\r\n                    <Route path=\"/order-watchlist\" component={OrderWatchlist}/>\r\n                    <Route path=\"/delivery\" component={DeliveryData}/>\r\n                    <Route path=\"/slow-motion\" component={SlowMotion}/>\r\n\r\n                    <Route path=\"/index-charts\" component={IndexCharts}/>\r\n                    <Route path=\"/strong-charts\" component={StrongCharts}/>\r\n                    <Route path=\"/market-depth\" component={MarketDepth}/>\r\n                    <Route path=\"/market-depth-mobile\" component={MarketDepthMobile}/>\r\n\r\n                    <Route path=\"/backtest\" component={Backtest}/>\r\n                    <Route path=\"/backup-history\" component={BackupHistory}/>\r\n\r\n                      \r\n                    <Route path=\"/test\" component={Test}/>\r\n                    \r\n           \r\n                    <Route path=\"*\" component={LoginComponent} />\r\n                    \r\n                </Switch>\r\n            </Router>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import React from 'react';\r\nimport './App.css';\r\nimport AppRouter from \"./components/RouterComponent\";\r\nimport {ToastContainer} from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <React.Fragment>\r\n        <AppRouter/>\r\n        <ToastContainer/>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./createStore\";\r\nimport App from \"./App\";\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);"],"sourceRoot":""}